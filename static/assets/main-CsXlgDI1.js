var V1=Object.defineProperty;var G1=(e,t,r)=>t in e?V1(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Ws=(e,t,r)=>G1(e,typeof t!="symbol"?t+"":t,r);import{r as y,a as Y1,g as rr,b as J1,R as D,u as Ee,j as p,C as ns,c as Xu,d as X1,e as Z1,L as Q1}from"./ChatWidget-XsGiIBEd.js";/**
 * react-router v7.9.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Zf="popstate";function e_(e={}){function t(n,i){let{pathname:a,search:o,hash:s}=n.location;return Uc("",{pathname:a,search:o,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:qi(i)}return r_(t,r,null,e)}function be(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Rt(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function t_(){return Math.random().toString(36).substring(2,10)}function Qf(e,t){return{usr:e.state,key:e.key,idx:t}}function Uc(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Zn(t):t,state:r,key:t&&t.key||n||t_()}}function qi({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Zn(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function r_(e,t,r,n={}){let{window:i=document.defaultView,v5Compat:a=!1}=n,o=i.history,s="POP",l=null,u=c();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function c(){return(o.state||{idx:null}).idx}function d(){s="POP";let v=c(),b=v==null?null:v-u;u=v,l&&l({action:s,location:g.location,delta:b})}function f(v,b){s="PUSH";let x=Uc(g.location,v,b);u=c()+1;let w=Qf(x,u),_=g.createHref(x);try{o.pushState(w,"",_)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(_)}a&&l&&l({action:s,location:g.location,delta:1})}function h(v,b){s="REPLACE";let x=Uc(g.location,v,b);u=c();let w=Qf(x,u),_=g.createHref(x);o.replaceState(w,"",_),a&&l&&l({action:s,location:g.location,delta:0})}function m(v){return n_(v)}let g={get action(){return s},get location(){return e(i,o)},listen(v){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Zf,d),l=v,()=>{i.removeEventListener(Zf,d),l=null}},createHref(v){return t(i,v)},createURL:m,encodeLocation(v){let b=m(v);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:f,replace:h,go(v){return o.go(v)}};return g}function n_(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),be(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:qi(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function ty(e,t,r="/"){return i_(e,t,r,!1)}function i_(e,t,r,n){let i=typeof t=="string"?Zn(t):t,a=gr(i.pathname||"/",r);if(a==null)return null;let o=ry(e);a_(o);let s=null;for(let l=0;s==null&&l<o.length;++l){let u=g_(a);s=p_(o[l],u,n)}return s}function ry(e,t=[],r=[],n="",i=!1){let a=(o,s,l=i,u)=>{let c={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};if(c.relativePath.startsWith("/")){if(!c.relativePath.startsWith(n)&&l)return;be(c.relativePath.startsWith(n),`Absolute route path "${c.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(n.length)}let d=hr([n,c.relativePath]),f=r.concat(c);o.children&&o.children.length>0&&(be(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),ry(o.children,t,f,d,l)),!(o.path==null&&!o.index)&&t.push({path:d,score:f_(d,o.index),routesMeta:f})};return e.forEach((o,s)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))a(o,s);else for(let u of ny(o.path))a(o,s,!0,u)}),t}function ny(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let o=ny(n.join("/")),s=[];return s.push(...o.map(l=>l===""?a:[a,l].join("/"))),i&&s.push(...o),s.map(l=>e.startsWith("/")&&l===""?"/":l)}function a_(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:h_(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var o_=/^:[\w-]+$/,s_=3,l_=2,c_=1,u_=10,d_=-2,eh=e=>e==="*";function f_(e,t){let r=e.split("/"),n=r.length;return r.some(eh)&&(n+=d_),t&&(n+=l_),r.filter(i=>!eh(i)).reduce((i,a)=>i+(o_.test(a)?s_:a===""?c_:u_),n)}function h_(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function p_(e,t,r=!1){let{routesMeta:n}=e,i={},a="/",o=[];for(let s=0;s<n.length;++s){let l=n[s],u=s===n.length-1,c=a==="/"?t:t.slice(a.length)||"/",d=fo({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),f=l.route;if(!d&&u&&r&&!n[n.length-1].route.index&&(d=fo({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:hr([a,d.pathname]),pathnameBase:w_(hr([a,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(a=hr([a,d.pathnameBase]))}return o}function fo(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=m_(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:n.reduce((u,{paramName:c,isOptional:d},f)=>{if(c==="*"){let m=s[f]||"";o=a.slice(0,a.length-m.length).replace(/(.)\/+$/,"$1")}const h=s[f];return d&&!h?u[c]=void 0:u[c]=(h||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:e}}function m_(e,t=!1,r=!0){Rt(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,s,l)=>(n.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function g_(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Rt(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function gr(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function v_(e,t="/"){let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?Zn(e):e;return{pathname:r?r.startsWith("/")?r:y_(r,t):t,search:x_(n),hash:__(i)}}function y_(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Hs(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function b_(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Zu(e){let t=b_(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function Qu(e,t,r,n=!1){let i;typeof e=="string"?i=Zn(e):(i={...e},be(!i.pathname||!i.pathname.includes("?"),Hs("?","pathname","search",i)),be(!i.pathname||!i.pathname.includes("#"),Hs("#","pathname","hash",i)),be(!i.search||!i.search.includes("#"),Hs("#","search","hash",i)));let a=e===""||i.pathname==="",o=a?"/":i.pathname,s;if(o==null)s=r;else{let d=t.length-1;if(!n&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}s=d>=0?t[d]:"/"}let l=v_(i,s),u=o&&o!=="/"&&o.endsWith("/"),c=(a||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}var hr=e=>e.join("/").replace(/\/\/+/g,"/"),w_=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),x_=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,__=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function S_(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var iy=["POST","PUT","PATCH","DELETE"];new Set(iy);var E_=["GET",...iy];new Set(E_);var Qn=y.createContext(null);Qn.displayName="DataRouter";var is=y.createContext(null);is.displayName="DataRouterState";y.createContext(!1);var ay=y.createContext({isTransitioning:!1});ay.displayName="ViewTransition";var j_=y.createContext(new Map);j_.displayName="Fetchers";var P_=y.createContext(null);P_.displayName="Await";var Ht=y.createContext(null);Ht.displayName="Navigation";var ta=y.createContext(null);ta.displayName="Location";var nr=y.createContext({outlet:null,matches:[],isDataRoute:!1});nr.displayName="Route";var ed=y.createContext(null);ed.displayName="RouteError";function O_(e,{relative:t}={}){be(ei(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=y.useContext(Ht),{hash:i,pathname:a,search:o}=ra(e,{relative:t}),s=a;return r!=="/"&&(s=a==="/"?r:hr([r,a])),n.createHref({pathname:s,search:o,hash:i})}function ei(){return y.useContext(ta)!=null}function St(){return be(ei(),"useLocation() may be used only in the context of a <Router> component."),y.useContext(ta).location}var oy="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function sy(e){y.useContext(Ht).static||y.useLayoutEffect(e)}function Dt(){let{isDataRoute:e}=y.useContext(nr);return e?U_():k_()}function k_(){be(ei(),"useNavigate() may be used only in the context of a <Router> component.");let e=y.useContext(Qn),{basename:t,navigator:r}=y.useContext(Ht),{matches:n}=y.useContext(nr),{pathname:i}=St(),a=JSON.stringify(Zu(n)),o=y.useRef(!1);return sy(()=>{o.current=!0}),y.useCallback((l,u={})=>{if(Rt(o.current,oy),!o.current)return;if(typeof l=="number"){r.go(l);return}let c=Qu(l,JSON.parse(a),i,u.relative==="path");e==null&&t!=="/"&&(c.pathname=c.pathname==="/"?t:hr([t,c.pathname])),(u.replace?r.replace:r.push)(c,u.state,u)},[t,r,a,i,e])}y.createContext(null);function ra(e,{relative:t}={}){let{matches:r}=y.useContext(nr),{pathname:n}=St(),i=JSON.stringify(Zu(r));return y.useMemo(()=>Qu(e,JSON.parse(i),n,t==="path"),[e,i,n,t])}function A_(e,t){return ly(e,t)}function ly(e,t,r,n,i){var x;be(ei(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=y.useContext(Ht),{matches:o}=y.useContext(nr),s=o[o.length-1],l=s?s.params:{},u=s?s.pathname:"/",c=s?s.pathnameBase:"/",d=s&&s.route;{let w=d&&d.path||"";cy(u,!d||w.endsWith("*")||w.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${w}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${w}"> to <Route path="${w==="/"?"*":`${w}/*`}">.`)}let f=St(),h;if(t){let w=typeof t=="string"?Zn(t):t;be(c==="/"||((x=w.pathname)==null?void 0:x.startsWith(c)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${c}" but pathname "${w.pathname}" was given in the \`location\` prop.`),h=w}else h=f;let m=h.pathname||"/",g=m;if(c!=="/"){let w=c.replace(/^\//,"").split("/");g="/"+m.replace(/^\//,"").split("/").slice(w.length).join("/")}let v=ty(e,{pathname:g});Rt(d||v!=null,`No routes matched location "${h.pathname}${h.search}${h.hash}" `),Rt(v==null||v[v.length-1].route.element!==void 0||v[v.length-1].route.Component!==void 0||v[v.length-1].route.lazy!==void 0,`Matched leaf route at location "${h.pathname}${h.search}${h.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let b=$_(v&&v.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:hr([c,a.encodeLocation?a.encodeLocation(w.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:hr([c,a.encodeLocation?a.encodeLocation(w.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:w.pathnameBase])})),o,r,n,i);return t&&b?y.createElement(ta.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...h},navigationType:"POP"}},b):b}function C_(){let e=B_(),t=S_(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},a={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=y.createElement(y.Fragment,null,y.createElement("p",null,"💿 Hey developer 👋"),y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",y.createElement("code",{style:a},"ErrorBoundary")," or"," ",y.createElement("code",{style:a},"errorElement")," prop on your route.")),y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},t),r?y.createElement("pre",{style:i},r):null,o)}var T_=y.createElement(C_,null),R_=class extends y.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?y.createElement(nr.Provider,{value:this.props.routeContext},y.createElement(ed.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function I_({routeContext:e,match:t,children:r}){let n=y.useContext(Qn);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),y.createElement(nr.Provider,{value:e},r)}function $_(e,t=[],r=null,n=null,i=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let a=e,o=r==null?void 0:r.errors;if(o!=null){let u=a.findIndex(c=>c.route.id&&(o==null?void 0:o[c.route.id])!==void 0);be(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,u+1))}let s=!1,l=-1;if(r)for(let u=0;u<a.length;u++){let c=a[u];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(l=u),c.route.id){let{loaderData:d,errors:f}=r,h=c.route.loader&&!d.hasOwnProperty(c.route.id)&&(!f||f[c.route.id]===void 0);if(c.route.lazy||h){s=!0,l>=0?a=a.slice(0,l+1):a=[a[0]];break}}}return a.reduceRight((u,c,d)=>{let f,h=!1,m=null,g=null;r&&(f=o&&c.route.id?o[c.route.id]:void 0,m=c.route.errorElement||T_,s&&(l<0&&d===0?(cy("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,g=null):l===d&&(h=!0,g=c.route.hydrateFallbackElement||null)));let v=t.concat(a.slice(0,d+1)),b=()=>{let x;return f?x=m:h?x=g:c.route.Component?x=y.createElement(c.route.Component,null):c.route.element?x=c.route.element:x=u,y.createElement(I_,{match:c,routeContext:{outlet:u,matches:v,isDataRoute:r!=null},children:x})};return r&&(c.route.ErrorBoundary||c.route.errorElement||d===0)?y.createElement(R_,{location:r.location,revalidation:r.revalidation,component:m,error:f,children:b(),routeContext:{outlet:null,matches:v,isDataRoute:!0},unstable_onError:n}):b()},null)}function td(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function D_(e){let t=y.useContext(Qn);return be(t,td(e)),t}function M_(e){let t=y.useContext(is);return be(t,td(e)),t}function N_(e){let t=y.useContext(nr);return be(t,td(e)),t}function rd(e){let t=N_(e),r=t.matches[t.matches.length-1];return be(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function L_(){return rd("useRouteId")}function B_(){var n;let e=y.useContext(ed),t=M_("useRouteError"),r=rd("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function U_(){let{router:e}=D_("useNavigate"),t=rd("useNavigate"),r=y.useRef(!1);return sy(()=>{r.current=!0}),y.useCallback(async(i,a={})=>{Rt(r.current,oy),r.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...a}))},[e,t])}var th={};function cy(e,t,r){!t&&!th[e]&&(th[e]=!0,Rt(!1,r))}y.memo(F_);function F_({routes:e,future:t,state:r,unstable_onError:n}){return ly(e,void 0,r,n,t)}function uy({to:e,replace:t,state:r,relative:n}){be(ei(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=y.useContext(Ht);Rt(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=y.useContext(nr),{pathname:o}=St(),s=Dt(),l=Qu(e,Zu(a),o,n==="path"),u=JSON.stringify(l);return y.useEffect(()=>{s(JSON.parse(u),{replace:t,state:r,relative:n})},[s,u,n,t,r]),null}function ve(e){be(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function z_({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:i,static:a=!1}){be(!ei(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),s=y.useMemo(()=>({basename:o,navigator:i,static:a,future:{}}),[o,i,a]);typeof r=="string"&&(r=Zn(r));let{pathname:l="/",search:u="",hash:c="",state:d=null,key:f="default"}=r,h=y.useMemo(()=>{let m=gr(l,o);return m==null?null:{location:{pathname:m,search:u,hash:c,state:d,key:f},navigationType:n}},[o,l,u,c,d,f,n]);return Rt(h!=null,`<Router basename="${o}"> is not able to match the URL "${l}${u}${c}" because it does not start with the basename, so the <Router> won't render anything.`),h==null?null:y.createElement(Ht.Provider,{value:s},y.createElement(ta.Provider,{children:t,value:h}))}function q_({children:e,location:t}){return A_(Fc(e),t)}function Fc(e,t=[]){let r=[];return y.Children.forEach(e,(n,i)=>{if(!y.isValidElement(n))return;let a=[...t,i];if(n.type===y.Fragment){r.push.apply(r,Fc(n.props.children,a));return}be(n.type===ve,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),be(!n.props.index||!n.props.children,"An index route cannot have child routes.");let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Fc(n.props.children,a)),r.push(o)}),r}var io="get",ao="application/x-www-form-urlencoded";function as(e){return e!=null&&typeof e.tagName=="string"}function W_(e){return as(e)&&e.tagName.toLowerCase()==="button"}function H_(e){return as(e)&&e.tagName.toLowerCase()==="form"}function K_(e){return as(e)&&e.tagName.toLowerCase()==="input"}function V_(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function G_(e,t){return e.button===0&&(!t||t==="_self")&&!V_(e)}function zc(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function Y_(e,t){let r=zc(e);return t&&t.forEach((n,i)=>{r.has(i)||t.getAll(i).forEach(a=>{r.append(i,a)})}),r}var Oa=null;function J_(){if(Oa===null)try{new FormData(document.createElement("form"),0),Oa=!1}catch{Oa=!0}return Oa}var X_=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ks(e){return e!=null&&!X_.has(e)?(Rt(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ao}"`),null):e}function Z_(e,t){let r,n,i,a,o;if(H_(e)){let s=e.getAttribute("action");n=s?gr(s,t):null,r=e.getAttribute("method")||io,i=Ks(e.getAttribute("enctype"))||ao,a=new FormData(e)}else if(W_(e)||K_(e)&&(e.type==="submit"||e.type==="image")){let s=e.form;if(s==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||s.getAttribute("action");if(n=l?gr(l,t):null,r=e.getAttribute("formmethod")||s.getAttribute("method")||io,i=Ks(e.getAttribute("formenctype"))||Ks(s.getAttribute("enctype"))||ao,a=new FormData(s,e),!J_()){let{name:u,type:c,value:d}=e;if(c==="image"){let f=u?`${u}.`:"";a.append(`${f}x`,"0"),a.append(`${f}y`,"0")}else u&&a.append(u,d)}}else{if(as(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=io,n=null,i=ao,o=e}return a&&i==="text/plain"&&(o=a,a=void 0),{action:n,method:r.toLowerCase(),encType:i,formData:a,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function nd(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Q_(e,t,r){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${r}`:t&&gr(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function eS(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function tS(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function rS(e,t,r){let n=await Promise.all(e.map(async i=>{let a=t.routes[i.route.id];if(a){let o=await eS(a,r);return o.links?o.links():[]}return[]}));return oS(n.flat(1).filter(tS).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function rh(e,t,r,n,i,a){let o=(l,u)=>r[u]?l.route.id!==r[u].route.id:!0,s=(l,u)=>{var c;return r[u].pathname!==l.pathname||((c=r[u].route.path)==null?void 0:c.endsWith("*"))&&r[u].params["*"]!==l.params["*"]};return a==="assets"?t.filter((l,u)=>o(l,u)||s(l,u)):a==="data"?t.filter((l,u)=>{var d;let c=n.routes[l.route.id];if(!c||!c.hasLoader)return!1;if(o(l,u)||s(l,u))return!0;if(l.route.shouldRevalidate){let f=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((d=r[0])==null?void 0:d.params)||{},nextUrl:new URL(e,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function nS(e,t,{includeHydrateFallback:r}={}){return iS(e.map(n=>{let i=t.routes[n.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function iS(e){return[...new Set(e)]}function aS(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function oS(e,t){let r=new Set;return new Set(t),e.reduce((n,i)=>{let a=JSON.stringify(aS(i));return r.has(a)||(r.add(a),n.push({key:a,link:i})),n},[])}function dy(){let e=y.useContext(Qn);return nd(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function sS(){let e=y.useContext(is);return nd(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var id=y.createContext(void 0);id.displayName="FrameworkContext";function fy(){let e=y.useContext(id);return nd(e,"You must render this element inside a <HydratedRouter> element"),e}function lS(e,t){let r=y.useContext(id),[n,i]=y.useState(!1),[a,o]=y.useState(!1),{onFocus:s,onBlur:l,onMouseEnter:u,onMouseLeave:c,onTouchStart:d}=t,f=y.useRef(null);y.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let g=b=>{b.forEach(x=>{o(x.isIntersecting)})},v=new IntersectionObserver(g,{threshold:.5});return f.current&&v.observe(f.current),()=>{v.disconnect()}}},[e]),y.useEffect(()=>{if(n){let g=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(g)}}},[n]);let h=()=>{i(!0)},m=()=>{i(!1),o(!1)};return r?e!=="intent"?[a,f,{}]:[a,f,{onFocus:mi(s,h),onBlur:mi(l,m),onMouseEnter:mi(u,h),onMouseLeave:mi(c,m),onTouchStart:mi(d,h)}]:[!1,f,{}]}function mi(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function cS({page:e,...t}){let{router:r}=dy(),n=y.useMemo(()=>ty(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?y.createElement(dS,{page:e,matches:n,...t}):null}function uS(e){let{manifest:t,routeModules:r}=fy(),[n,i]=y.useState([]);return y.useEffect(()=>{let a=!1;return rS(e,t,r).then(o=>{a||i(o)}),()=>{a=!0}},[e,t,r]),n}function dS({page:e,matches:t,...r}){let n=St(),{manifest:i,routeModules:a}=fy(),{basename:o}=dy(),{loaderData:s,matches:l}=sS(),u=y.useMemo(()=>rh(e,t,l,i,n,"data"),[e,t,l,i,n]),c=y.useMemo(()=>rh(e,t,l,i,n,"assets"),[e,t,l,i,n]),d=y.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let m=new Set,g=!1;if(t.forEach(b=>{var w;let x=i.routes[b.route.id];!x||!x.hasLoader||(!u.some(_=>_.route.id===b.route.id)&&b.route.id in s&&((w=a[b.route.id])!=null&&w.shouldRevalidate)||x.hasClientLoader?g=!0:m.add(b.route.id))}),m.size===0)return[];let v=Q_(e,o,"data");return g&&m.size>0&&v.searchParams.set("_routes",t.filter(b=>m.has(b.route.id)).map(b=>b.route.id).join(",")),[v.pathname+v.search]},[o,s,n,i,u,t,e,a]),f=y.useMemo(()=>nS(c,i),[c,i]),h=uS(c);return y.createElement(y.Fragment,null,d.map(m=>y.createElement("link",{key:m,rel:"prefetch",as:"fetch",href:m,...r})),f.map(m=>y.createElement("link",{key:m,rel:"modulepreload",href:m,...r})),h.map(({key:m,link:g})=>y.createElement("link",{key:m,nonce:r.nonce,...g})))}function fS(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var hy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{hy&&(window.__reactRouterVersion="7.9.3")}catch{}function hS({basename:e,children:t,window:r}){let n=y.useRef();n.current==null&&(n.current=e_({window:r,v5Compat:!0}));let i=n.current,[a,o]=y.useState({action:i.action,location:i.location}),s=y.useCallback(l=>{y.startTransition(()=>o(l))},[o]);return y.useLayoutEffect(()=>i.listen(s),[i,s]),y.createElement(z_,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:i})}var py=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Mr=y.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:i,reloadDocument:a,replace:o,state:s,target:l,to:u,preventScrollReset:c,viewTransition:d,...f},h){let{basename:m}=y.useContext(Ht),g=typeof u=="string"&&py.test(u),v,b=!1;if(typeof u=="string"&&g&&(v=u,hy))try{let A=new URL(window.location.href),I=u.startsWith("//")?new URL(A.protocol+u):new URL(u),C=gr(I.pathname,m);I.origin===A.origin&&C!=null?u=C+I.search+I.hash:b=!0}catch{Rt(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let x=O_(u,{relative:i}),[w,_,S]=lS(n,f),E=vS(u,{replace:o,state:s,target:l,preventScrollReset:c,relative:i,viewTransition:d});function j(A){t&&t(A),A.defaultPrevented||E(A)}let k=y.createElement("a",{...f,...S,href:v||x,onClick:b||a?t:j,ref:fS(h,_),target:l,"data-discover":!g&&r==="render"?"true":void 0});return w&&!g?y.createElement(y.Fragment,null,k,y.createElement(cS,{page:x})):k});Mr.displayName="Link";var pS=y.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:i=!1,style:a,to:o,viewTransition:s,children:l,...u},c){let d=ra(o,{relative:u.relative}),f=St(),h=y.useContext(is),{navigator:m,basename:g}=y.useContext(Ht),v=h!=null&&_S(d)&&s===!0,b=m.encodeLocation?m.encodeLocation(d).pathname:d.pathname,x=f.pathname,w=h&&h.navigation&&h.navigation.location?h.navigation.location.pathname:null;r||(x=x.toLowerCase(),w=w?w.toLowerCase():null,b=b.toLowerCase()),w&&g&&(w=gr(w,g)||w);const _=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let S=x===b||!i&&x.startsWith(b)&&x.charAt(_)==="/",E=w!=null&&(w===b||!i&&w.startsWith(b)&&w.charAt(b.length)==="/"),j={isActive:S,isPending:E,isTransitioning:v},k=S?t:void 0,A;typeof n=="function"?A=n(j):A=[n,S?"active":null,E?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let I=typeof a=="function"?a(j):a;return y.createElement(Mr,{...u,"aria-current":k,className:A,ref:c,style:I,to:o,viewTransition:s},typeof l=="function"?l(j):l)});pS.displayName="NavLink";var mS=y.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:i,state:a,method:o=io,action:s,onSubmit:l,relative:u,preventScrollReset:c,viewTransition:d,...f},h)=>{let m=wS(),g=xS(s,{relative:u}),v=o.toLowerCase()==="get"?"get":"post",b=typeof s=="string"&&py.test(s),x=w=>{if(l&&l(w),w.defaultPrevented)return;w.preventDefault();let _=w.nativeEvent.submitter,S=(_==null?void 0:_.getAttribute("formmethod"))||o;m(_||w.currentTarget,{fetcherKey:t,method:S,navigate:r,replace:i,state:a,relative:u,preventScrollReset:c,viewTransition:d})};return y.createElement("form",{ref:h,method:v,action:g,onSubmit:n?l:x,...f,"data-discover":!b&&e==="render"?"true":void 0})});mS.displayName="Form";function gS(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function my(e){let t=y.useContext(Qn);return be(t,gS(e)),t}function vS(e,{target:t,replace:r,state:n,preventScrollReset:i,relative:a,viewTransition:o}={}){let s=Dt(),l=St(),u=ra(e,{relative:a});return y.useCallback(c=>{if(G_(c,t)){c.preventDefault();let d=r!==void 0?r:qi(l)===qi(u);s(e,{replace:d,state:n,preventScrollReset:i,relative:a,viewTransition:o})}},[l,s,u,r,n,t,e,i,a,o])}function gy(e){Rt(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=y.useRef(zc(e)),r=y.useRef(!1),n=St(),i=y.useMemo(()=>Y_(n.search,r.current?null:t.current),[n.search]),a=Dt(),o=y.useCallback((s,l)=>{const u=zc(typeof s=="function"?s(new URLSearchParams(i)):s);r.current=!0,a("?"+u,l)},[a,i]);return[i,o]}var yS=0,bS=()=>`__${String(++yS)}__`;function wS(){let{router:e}=my("useSubmit"),{basename:t}=y.useContext(Ht),r=L_();return y.useCallback(async(n,i={})=>{let{action:a,method:o,encType:s,formData:l,body:u}=Z_(n,t);if(i.navigate===!1){let c=i.fetcherKey||bS();await e.fetch(c,r,i.action||a,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||o,formEncType:i.encType||s,flushSync:i.flushSync})}else await e.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||o,formEncType:i.encType||s,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,r])}function xS(e,{relative:t}={}){let{basename:r}=y.useContext(Ht),n=y.useContext(nr);be(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),a={...ra(e||".",{relative:t})},o=St();if(e==null){a.search=o.search;let s=new URLSearchParams(a.search),l=s.getAll("index");if(l.some(c=>c==="")){s.delete("index"),l.filter(d=>d).forEach(d=>s.append("index",d));let c=s.toString();a.search=c?`?${c}`:""}}return(!e||e===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(a.pathname=a.pathname==="/"?r:hr([r,a.pathname])),qi(a)}function _S(e,{relative:t}={}){let r=y.useContext(ay);be(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=my("useViewTransitionState"),i=ra(e,{relative:t});if(!r.isTransitioning)return!1;let a=gr(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=gr(r.nextLocation.pathname,n)||r.nextLocation.pathname;return fo(i.pathname,o)!=null||fo(i.pathname,a)!=null}var vy=Y1();const SS=rr(vy),ES="modulepreload",jS=function(e,t){return new URL(e,t).href},nh={},na=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){let o=function(c){return Promise.all(c.map(d=>Promise.resolve(d).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};const s=document.getElementsByTagName("link"),l=document.querySelector("meta[property=csp-nonce]"),u=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));i=o(r.map(c=>{if(c=jS(c,n),c in nh)return;nh[c]=!0;const d=c.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(!!n)for(let g=s.length-1;g>=0;g--){const v=s[g];if(v.href===c&&(!d||v.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${c}"]${f}`))return;const m=document.createElement("link");if(m.rel=d?"stylesheet":ES,d||(m.as="script"),m.crossOrigin="",m.href=c,u&&m.setAttribute("nonce",u),document.head.appendChild(m),d)return new Promise((g,v)=>{m.addEventListener("load",g),m.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(o){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o}return i.then(o=>{for(const s of o||[])s.status==="rejected"&&a(s.reason);return t().catch(a)})},PS=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>na(async()=>{const{default:n}=await Promise.resolve().then(()=>ti);return{default:n}},[],import.meta.url).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class ad extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class ih extends ad{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class ah extends ad{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class oh extends ad{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var qc;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(qc||(qc={}));var OS=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(c){try{u(n.next(c))}catch(d){o(d)}}function l(c){try{u(n.throw(c))}catch(d){o(d)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((n=n.apply(e,t||[])).next())})};class kS{constructor(t,{headers:r={},customFetch:n,region:i=qc.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=PS(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return OS(this,void 0,void 0,function*(){try{const{headers:i,method:a,body:o,signal:s}=r;let l={},{region:u}=r;u||(u=this.region);const c=new URL(`${this.url}/${t}`);u&&u!=="any"&&(l["x-region"]=u,c.searchParams.set("forceFunctionRegion",u));let d;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(l["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(l["Content-Type"]="application/json",d=JSON.stringify(o)));const f=yield this.fetch(c.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),i),body:d,signal:s}).catch(v=>{throw v.name==="AbortError"?v:new ih(v)}),h=f.headers.get("x-relay-error");if(h&&h==="true")throw new ah(f);if(!f.ok)throw new oh(f);let m=((n=f.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),g;return m==="application/json"?g=yield f.json():m==="application/octet-stream"?g=yield f.blob():m==="text/event-stream"?g=f:m==="multipart/form-data"?g=yield f.formData():g=yield f.text(),{data:g,error:null,response:f}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new ih(i)}:{data:null,error:i,response:i instanceof oh||i instanceof ah?i.context:void 0}}})}}var Te={},_n={},Sn={},En={},jn={},Pn={},AS=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Bn=AS();const CS=Bn.fetch,yy=Bn.fetch.bind(Bn),by=Bn.Headers,TS=Bn.Request,RS=Bn.Response,ti=Object.freeze(Object.defineProperty({__proto__:null,Headers:by,Request:TS,Response:RS,default:yy,fetch:CS},Symbol.toStringTag,{value:"Module"})),IS=J1(ti);var ka={},sh;function wy(){if(sh)return ka;sh=1,Object.defineProperty(ka,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return ka.default=e,ka}var lh;function xy(){if(lh)return Pn;lh=1;var e=Pn&&Pn.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Pn,"__esModule",{value:!0});const t=e(IS),r=e(wy());class n{constructor(a){var o,s;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=(o=a.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=a.signal,this.isMaybeSingle=(s=a.isMaybeSingle)!==null&&s!==void 0?s:!1,a.fetch?this.fetch=a.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,o){return this.headers=new Headers(this.headers),this.headers.set(a,o),this}then(a,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let l=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var c,d,f,h;let m=null,g=null,v=null,b=u.status,x=u.statusText;if(u.ok){if(this.method!=="HEAD"){const E=await u.text();E===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((c=this.headers.get("Accept"))===null||c===void 0)&&c.includes("application/vnd.pgrst.plan+text"))?g=E:g=JSON.parse(E))}const _=(d=this.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),S=(f=u.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");_&&S&&S.length>1&&(v=parseInt(S[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(g)&&(g.length>1?(m={code:"PGRST116",details:`Results contain ${g.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},g=null,v=null,b=406,x="Not Acceptable"):g.length===1?g=g[0]:g=null)}else{const _=await u.text();try{m=JSON.parse(_),Array.isArray(m)&&u.status===404&&(g=[],m=null,b=200,x="OK")}catch{u.status===404&&_===""?(b=204,x="No Content"):m={message:_}}if(m&&this.isMaybeSingle&&(!((h=m==null?void 0:m.details)===null||h===void 0)&&h.includes("0 rows"))&&(m=null,b=200,x="OK"),m&&this.shouldThrowOnError)throw new r.default(m)}return{error:m,data:g,count:v,status:b,statusText:x}});return this.shouldThrowOnError||(l=l.catch(u=>{var c,d,f;return{error:{message:`${(c=u==null?void 0:u.name)!==null&&c!==void 0?c:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(d=u==null?void 0:u.stack)!==null&&d!==void 0?d:""}`,hint:"",code:`${(f=u==null?void 0:u.code)!==null&&f!==void 0?f:""}`},data:null,count:null,status:0,statusText:""}})),l.then(a,o)}returns(){return this}overrideTypes(){return this}}return Pn.default=n,Pn}var ch;function _y(){if(ch)return jn;ch=1;var e=jn&&jn.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(jn,"__esModule",{value:!0});const t=e(xy());class r extends t.default{select(i){let a=!1;const o=(i??"*").split("").map(s=>/\s/.test(s)&&!a?"":(s==='"'&&(a=!a),s)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:a=!0,nullsFirst:o,foreignTable:s,referencedTable:l=s}={}){const u=l?`${l}.order`:"order",c=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${c?`${c},`:""}${i}.${a?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:a,referencedTable:o=a}={}){const s=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(s,`${i}`),this}range(i,a,{foreignTable:o,referencedTable:s=o}={}){const l=typeof s>"u"?"offset":`${s}.offset`,u=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(l,`${i}`),this.url.searchParams.set(u,`${a-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:a=!1,settings:o=!1,buffers:s=!1,wal:l=!1,format:u="text"}={}){var c;const d=[i?"analyze":null,a?"verbose":null,o?"settings":null,s?"buffers":null,l?"wal":null].filter(Boolean).join("|"),f=(c=this.headers.get("Accept"))!==null&&c!==void 0?c:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${f}"; options=${d};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return jn.default=r,jn}var uh;function od(){if(uh)return En;uh=1;var e=En&&En.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(En,"__esModule",{value:!0});const t=e(_y());class r extends t.default{eq(i,a){return this.url.searchParams.append(i,`eq.${a}`),this}neq(i,a){return this.url.searchParams.append(i,`neq.${a}`),this}gt(i,a){return this.url.searchParams.append(i,`gt.${a}`),this}gte(i,a){return this.url.searchParams.append(i,`gte.${a}`),this}lt(i,a){return this.url.searchParams.append(i,`lt.${a}`),this}lte(i,a){return this.url.searchParams.append(i,`lte.${a}`),this}like(i,a){return this.url.searchParams.append(i,`like.${a}`),this}likeAllOf(i,a){return this.url.searchParams.append(i,`like(all).{${a.join(",")}}`),this}likeAnyOf(i,a){return this.url.searchParams.append(i,`like(any).{${a.join(",")}}`),this}ilike(i,a){return this.url.searchParams.append(i,`ilike.${a}`),this}ilikeAllOf(i,a){return this.url.searchParams.append(i,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(i,a){return this.url.searchParams.append(i,`ilike(any).{${a.join(",")}}`),this}is(i,a){return this.url.searchParams.append(i,`is.${a}`),this}in(i,a){const o=Array.from(new Set(a)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(i,`in.(${o})`),this}contains(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cs.{${a.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(a)}`),this}containedBy(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cd.{${a.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(a)}`),this}rangeGt(i,a){return this.url.searchParams.append(i,`sr.${a}`),this}rangeGte(i,a){return this.url.searchParams.append(i,`nxl.${a}`),this}rangeLt(i,a){return this.url.searchParams.append(i,`sl.${a}`),this}rangeLte(i,a){return this.url.searchParams.append(i,`nxr.${a}`),this}rangeAdjacent(i,a){return this.url.searchParams.append(i,`adj.${a}`),this}overlaps(i,a){return typeof a=="string"?this.url.searchParams.append(i,`ov.${a}`):this.url.searchParams.append(i,`ov.{${a.join(",")}}`),this}textSearch(i,a,{config:o,type:s}={}){let l="";s==="plain"?l="pl":s==="phrase"?l="ph":s==="websearch"&&(l="w");const u=o===void 0?"":`(${o})`;return this.url.searchParams.append(i,`${l}fts${u}.${a}`),this}match(i){return Object.entries(i).forEach(([a,o])=>{this.url.searchParams.append(a,`eq.${o}`)}),this}not(i,a,o){return this.url.searchParams.append(i,`not.${a}.${o}`),this}or(i,{foreignTable:a,referencedTable:o=a}={}){const s=o?`${o}.or`:"or";return this.url.searchParams.append(s,`(${i})`),this}filter(i,a,o){return this.url.searchParams.append(i,`${a}.${o}`),this}}return En.default=r,En}var dh;function Sy(){if(dh)return Sn;dh=1;var e=Sn&&Sn.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Sn,"__esModule",{value:!0});const t=e(od());class r{constructor(i,{headers:a={},schema:o,fetch:s}){this.url=i,this.headers=new Headers(a),this.schema=o,this.fetch=s}select(i,{head:a=!1,count:o}={}){const s=a?"HEAD":"GET";let l=!1;const u=(i??"*").split("").map(c=>/\s/.test(c)&&!l?"":(c==='"'&&(l=!l),c)).join("");return this.url.searchParams.set("select",u),o&&this.headers.append("Prefer",`count=${o}`),new t.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:a,defaultToNull:o=!0}={}){var s;const l="POST";if(a&&this.headers.append("Prefer",`count=${a}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const u=i.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(u.length>0){const c=[...new Set(u)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(i,{onConflict:a,ignoreDuplicates:o=!1,count:s,defaultToNull:l=!0}={}){var u;const c="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),s&&this.headers.append("Prefer",`count=${s}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const d=i.reduce((f,h)=>f.concat(Object.keys(h)),[]);if(d.length>0){const f=[...new Set(d)].map(h=>`"${h}"`);this.url.searchParams.set("columns",f.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(i,{count:a}={}){var o;const s="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:i}={}){var a;const o="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}}return Sn.default=r,Sn}var fh;function $S(){if(fh)return _n;fh=1;var e=_n&&_n.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(_n,"__esModule",{value:!0});const t=e(Sy()),r=e(od());class n{constructor(a,{headers:o={},schema:s,fetch:l}={}){this.url=a,this.headers=new Headers(o),this.schemaName=s,this.fetch=l}from(a){const o=new URL(`${this.url}/${a}`);return new t.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new n(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,o={},{head:s=!1,get:l=!1,count:u}={}){var c;let d;const f=new URL(`${this.url}/rpc/${a}`);let h;s||l?(d=s?"HEAD":"GET",Object.entries(o).filter(([g,v])=>v!==void 0).map(([g,v])=>[g,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([g,v])=>{f.searchParams.append(g,v)})):(d="POST",h=o);const m=new Headers(this.headers);return u&&m.set("Prefer",`count=${u}`),new r.default({method:d,url:f,headers:m,schema:this.schemaName,body:h,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}}return _n.default=n,_n}var hh;function DS(){if(hh)return Te;hh=1;var e=Te&&Te.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Te,"__esModule",{value:!0}),Te.PostgrestError=Te.PostgrestBuilder=Te.PostgrestTransformBuilder=Te.PostgrestFilterBuilder=Te.PostgrestQueryBuilder=Te.PostgrestClient=void 0;const t=e($S());Te.PostgrestClient=t.default;const r=e(Sy());Te.PostgrestQueryBuilder=r.default;const n=e(od());Te.PostgrestFilterBuilder=n.default;const i=e(_y());Te.PostgrestTransformBuilder=i.default;const a=e(xy());Te.PostgrestBuilder=a.default;const o=e(wy());return Te.PostgrestError=o.default,Te.default={PostgrestClient:t.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:a.default,PostgrestError:o.default},Te}var MS=DS();const NS=rr(MS),{PostgrestClient:LS,PostgrestQueryBuilder:jz,PostgrestFilterBuilder:Pz,PostgrestTransformBuilder:Oz,PostgrestBuilder:kz,PostgrestError:Az}=NS;class BS{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const US="2.15.5",FS=`realtime-js/${US}`,zS="1.0.0",Wc=1e4,qS=1e3,WS=100;var Li;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Li||(Li={}));var Pe;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Pe||(Pe={}));var Ft;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ft||(Ft={}));var Hc;(function(e){e.websocket="websocket"})(Hc||(Hc={}));var Xr;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Xr||(Xr={}));class HS{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const i=r.getUint8(1),a=r.getUint8(2);let o=this.HEADER_LENGTH+2;const s=n.decode(t.slice(o,o+i));o=o+i;const l=n.decode(t.slice(o,o+a));o=o+a;const u=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:s,event:l,payload:u}}}class Ey{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var fe;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(fe||(fe={}));const ph=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((a,o)=>(a[o]=KS(o,e,t,i),a),{})},KS=(e,t,r,n)=>{const i=t.find(s=>s.name===e),a=i==null?void 0:i.type,o=r[e];return a&&!n.includes(a)?jy(a,o):Kc(o)},jy=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return JS(t,r)}switch(e){case fe.bool:return VS(t);case fe.float4:case fe.float8:case fe.int2:case fe.int4:case fe.int8:case fe.numeric:case fe.oid:return GS(t);case fe.json:case fe.jsonb:return YS(t);case fe.timestamp:return XS(t);case fe.abstime:case fe.date:case fe.daterange:case fe.int4range:case fe.int8range:case fe.money:case fe.reltime:case fe.text:case fe.time:case fe.timestamptz:case fe.timetz:case fe.tsrange:case fe.tstzrange:return Kc(t);default:return Kc(t)}},Kc=e=>e,VS=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},GS=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},YS=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},JS=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const o=e.slice(1,r);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(s=>jy(t,s))}return e},XS=e=>typeof e=="string"?e.replace(" ","T"):e,Py=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class Vs{constructor(t,r,n={},i=Wc){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var mh;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(mh||(mh={}));class Bi{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:a,onLeave:o,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Bi.syncState(this.state,i,a,o),this.pendingDiffs.forEach(l=>{this.state=Bi.syncDiff(this.state,l,a,o)}),this.pendingDiffs=[],s()}),this.channel._on(n.diff,{},i=>{const{onJoin:a,onLeave:o,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Bi.syncDiff(this.state,i,a,o),s())}),this.onJoin((i,a,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:o})}),this.onLeave((i,a,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const a=this.cloneDeep(t),o=this.transformState(r),s={},l={};return this.map(a,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const d=a[u];if(d){const f=c.map(v=>v.presence_ref),h=d.map(v=>v.presence_ref),m=c.filter(v=>h.indexOf(v.presence_ref)<0),g=d.filter(v=>f.indexOf(v.presence_ref)<0);m.length>0&&(s[u]=m),g.length>0&&(l[u]=g)}else s[u]=c}),this.syncDiff(a,{joins:s,leaves:l},n,i)}static syncDiff(t,r,n,i){const{joins:a,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(a,(s,l)=>{var u;const c=(u=t[s])!==null&&u!==void 0?u:[];if(t[s]=this.cloneDeep(l),c.length>0){const d=t[s].map(h=>h.presence_ref),f=c.filter(h=>d.indexOf(h.presence_ref)<0);t[s].unshift(...f)}n(s,c,l)}),this.map(o,(s,l)=>{let u=t[s];if(!u)return;const c=l.map(d=>d.presence_ref);u=u.filter(d=>c.indexOf(d.presence_ref)<0),t[s]=u,i(s,u,l),u.length===0&&delete t[s]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var gh;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(gh||(gh={}));var Ui;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Ui||(Ui={}));var lr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(lr||(lr={}));class sd{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Pe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Vs(this,Ft.join,this.params,this.timeout),this.rejoinTimer=new Ey(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Pe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Pe.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Pe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Pe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Pe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ft.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new Bi(this),this.broadcastEndpointURL=Py(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Pe.closed){const{config:{broadcast:o,presence:s,private:l}}=this.params,u=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(h=>h.filter))!==null&&i!==void 0?i:[],c=!!this.bindings[Ui.PRESENCE]&&this.bindings[Ui.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,d={},f={broadcast:o,presence:Object.assign(Object.assign({},s),{enabled:c}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(h=>t==null?void 0:t(lr.CHANNEL_ERROR,h)),this._onClose(()=>t==null?void 0:t(lr.CLOSED)),this.updateJoinPayload(Object.assign({config:f},d)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:h})=>{var m;if(this.socket.setAuth(),h===void 0){t==null||t(lr.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,v=(m=g==null?void 0:g.length)!==null&&m!==void 0?m:0,b=[];for(let x=0;x<v;x++){const w=g[x],{filter:{event:_,schema:S,table:E,filter:j}}=w,k=h&&h[x];if(k&&k.event===_&&k.schema===S&&k.table===E&&k.filter===j)b.push(Object.assign(Object.assign({},w),{id:k.id}));else{this.unsubscribe(),this.state=Pe.errored,t==null||t(lr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,t&&t(lr.SUBSCRIBED);return}}).receive("error",h=>{this.state=Pe.errored,t==null||t(lr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(lr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Pe.joined&&t===Ui.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){const{event:a,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,s,l;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(s=(o=this.params)===null||o===void 0?void 0:o.config)===null||s===void 0?void 0:s.broadcast)===null||l===void 0)&&l.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Pe.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ft.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new Vs(this,Ft.leave,{},t),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Pe.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const i=new AbortController,a=setTimeout(()=>i.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(a),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Vs(this,t,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>WS){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,a;const o=t.toLocaleLowerCase(),{close:s,error:l,leave:u,join:c}=Ft;if(n&&[s,l,u,c].indexOf(o)>=0&&n!==this._joinRef())return;let f=this._onMessage(o,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(h=>{var m,g,v;return((m=h.filter)===null||m===void 0?void 0:m.event)==="*"||((v=(g=h.filter)===null||g===void 0?void 0:g.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===o}).map(h=>h.callback(f,n)):(a=this.bindings[o])===null||a===void 0||a.filter(h=>{var m,g,v,b,x,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in h){const _=h.id,S=(m=h.filter)===null||m===void 0?void 0:m.event;return _&&((g=r.ids)===null||g===void 0?void 0:g.includes(_))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((v=r.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const _=(x=(b=h==null?void 0:h.filter)===null||b===void 0?void 0:b.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return _==="*"||_===((w=r==null?void 0:r.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===o}).map(h=>{if(typeof f=="object"&&"ids"in f){const m=f.data,{schema:g,table:v,commit_timestamp:b,type:x,errors:w}=m;f=Object.assign(Object.assign({},{schema:g,table:v,commit_timestamp:b,eventType:x,new:{},old:{},errors:w}),this._getPayloadRecords(m))}h.callback(f,n)})}_isClosed(){return this.state===Pe.closed}_isJoined(){return this.state===Pe.joined}_isJoining(){return this.state===Pe.joining}_isLeaving(){return this.state===Pe.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),a={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&sd.isEqual(i.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ft.close,{},t)}_onError(t){this._on(Ft.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Pe.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=ph(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=ph(t.columns,t.old_record)),r}}const Gs=()=>{},Aa={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},ZS=[1e3,2e3,5e3,1e4],QS=1e4,eE=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class tE{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Wc,this.transport=null,this.heartbeatIntervalMs=Aa.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Gs,this.ref=0,this.reconnectTimer=null,this.logger=Gs,this.conn=null,this.sendBuffer=[],this.serializer=new HS,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...o)=>na(async()=>{const{default:s}=await Promise.resolve().then(()=>ti);return{default:s}},void 0,import.meta.url).then(({default:s})=>s(...o)).catch(s=>{throw new Error(`Failed to load @supabase/node-fetch: ${s.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):a=fetch,(...o)=>a(...o)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Hc.websocket}`,this.httpEndpoint=Py(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=BS.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:zS}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Li.connecting:return Xr.Connecting;case Li.open:return Xr.Open;case Li.closing:return Xr.Closing;default:return Xr.Closed}}isConnected(){return this.connectionState()===Xr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===n);if(i)return i;{const a=new sd(`realtime:${t}`,r,this);return this.channels.push(a),a}}push(t){const{topic:r,event:n,payload:i,ref:a}=t,o=()=>{this.encode(t,s=>{var l;(l=this.conn)===null||l===void 0||l.send(s)})};this.log("push",`${r} ${n} (${a})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(qS,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Aa.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:a,ref:o}=r,s=o?`(${o})`:"",l=a.status||"";this.log("receive",`${l} ${n} ${i} ${s}`.trim(),a),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(i,a,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ft.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([eE],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:FS};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(Ft.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Ey(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Aa.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,i,a,o,s,l,u,c;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:Wc,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:Aa.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(s=t==null?void 0:t.heartbeatCallback)!==null&&s!==void 0?s:Gs,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=t==null?void 0:t.reconnectAfterMs)!==null&&l!==void 0?l:(d=>ZS[d-1]||QS),this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:((d,f)=>f(JSON.stringify(d))),this.decode=(c=t==null?void 0:t.decode)!==null&&c!==void 0?c:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class ld extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function _e(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class rE extends ld{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Vc extends ld{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var nE=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(c){try{u(n.next(c))}catch(d){o(d)}}function l(c){try{u(n.throw(c))}catch(d){o(d)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((n=n.apply(e,t||[])).next())})};const Oy=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>na(async()=>{const{default:n}=await Promise.resolve().then(()=>ti);return{default:n}},void 0,import.meta.url).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},iE=()=>nE(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield na(()=>Promise.resolve().then(()=>ti),void 0,import.meta.url)).Response:Response}),Gc=e=>{if(Array.isArray(e))return e.map(r=>Gc(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=Gc(n)}),t},aE=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var pn=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(c){try{u(n.next(c))}catch(d){o(d)}}function l(c){try{u(n.throw(c))}catch(d){o(d)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((n=n.apply(e,t||[])).next())})};const Ys=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),oE=(e,t,r)=>pn(void 0,void 0,void 0,function*(){const n=yield iE();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(i=>{const a=e.status||500,o=(i==null?void 0:i.statusCode)||a+"";t(new rE(Ys(i),a,o))}).catch(i=>{t(new Vc(Ys(i),i))}):t(new Vc(Ys(e),e))}),sE=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?i:(aE(n)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,t!=null&&t.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),r))};function ia(e,t,r,n,i,a){return pn(this,void 0,void 0,function*(){return new Promise((o,s)=>{e(r,sE(t,n,i,a)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>oE(l,s,n))})})}function ho(e,t,r,n){return pn(this,void 0,void 0,function*(){return ia(e,"GET",t,r,n)})}function Xt(e,t,r,n,i){return pn(this,void 0,void 0,function*(){return ia(e,"POST",t,n,i,r)})}function Yc(e,t,r,n,i){return pn(this,void 0,void 0,function*(){return ia(e,"PUT",t,n,i,r)})}function lE(e,t,r,n){return pn(this,void 0,void 0,function*(){return ia(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function ky(e,t,r,n,i){return pn(this,void 0,void 0,function*(){return ia(e,"DELETE",t,n,i,r)})}var cE=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(c){try{u(n.next(c))}catch(d){o(d)}}function l(c){try{u(n.throw(c))}catch(d){o(d)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((n=n.apply(e,t||[])).next())})};class uE{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return cE(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(_e(t))return{data:null,error:t};throw t}})}}var dE=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(c){try{u(n.next(c))}catch(d){o(d)}}function l(c){try{u(n.throw(c))}catch(d){o(d)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((n=n.apply(e,t||[])).next())})};class fE{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}asStream(){return new uE(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.execute().then(t,r)}execute(){return dE(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(_e(t))return{data:null,error:t};throw t}})}}var nt=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(c){try{u(n.next(c))}catch(d){o(d)}}function l(c){try{u(n.throw(c))}catch(d){o(d)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((n=n.apply(e,t||[])).next())})};const hE={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},vh={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class pE{constructor(t,r={},n,i){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=Oy(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,i){return nt(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},vh),i);let s=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),l&&a.append("metadata",this.encodeMetadata(l)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.append("cacheControl",o.cacheControl),l&&a.append("metadata",this.encodeMetadata(l))):(a=n,s["cache-control"]=`max-age=${o.cacheControl}`,s["content-type"]=o.contentType,l&&(s["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(s=Object.assign(Object.assign({},s),i.headers));const u=this._removeEmptyFolders(r),c=this._getFinalPath(u),d=yield(t=="PUT"?Yc:Xt)(this.fetch,`${this.url}/object/${c}`,a,Object.assign({headers:s},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:d.Id,fullPath:d.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(_e(a))return{data:null,error:a};throw a}})}upload(t,r,n){return nt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,i){return nt(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),o=this._getFinalPath(a),s=new URL(this.url+`/object/upload/sign/${o}`);s.searchParams.set("token",r);try{let l;const u=Object.assign({upsert:vh.upsert},i),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const d=yield Yc(this.fetch,s.toString(),l,{headers:c});return{data:{path:a,fullPath:d.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(_e(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,r){return nt(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const a=yield Xt(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),o=new URL(this.url+a.url),s=o.searchParams.get("token");if(!s)throw new ld("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:s},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_e(n))return{data:null,error:n};throw n}})}update(t,r,n){return nt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return nt(this,void 0,void 0,function*(){try{return{data:yield Xt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(_e(i))return{data:null,error:i};throw i}})}copy(t,r,n){return nt(this,void 0,void 0,function*(){try{return{data:{path:(yield Xt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(_e(i))return{data:null,error:i};throw i}})}createSignedUrl(t,r,n){return nt(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),a=yield Xt(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(_e(i))return{data:null,error:i};throw i}})}createSignedUrls(t,r,n){return nt(this,void 0,void 0,function*(){try{const i=yield Xt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(_e(i))return{data:null,error:i};throw i}})}download(t,r){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=a?`?${a}`:"",s=this._getFinalPath(t),l=()=>ho(this.fetch,`${this.url}/${i}/${s}${o}`,{headers:this.headers,noResolveJson:!0});return new fE(l,this.shouldThrowOnError)}info(t){return nt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield ho(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Gc(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_e(n))return{data:null,error:n};throw n}})}exists(t){return nt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield lE(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_e(n)&&n instanceof Vc){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),i=[],a=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&i.push(a);const s=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&i.push(l);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${n}${u}`)}}}remove(t){return nt(this,void 0,void 0,function*(){try{return{data:yield ky(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(_e(r))return{data:null,error:r};throw r}})}list(t,r,n){return nt(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},hE),r),{prefix:t||""});return{data:yield Xt(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(_e(i))return{data:null,error:i};throw i}})}listV2(t,r){return nt(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield Xt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_e(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const mE="2.12.2",gE={"X-Client-Info":`storage-js/${mE}`};var On=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(c){try{u(n.next(c))}catch(d){o(d)}}function l(c){try{u(n.throw(c))}catch(d){o(d)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((n=n.apply(e,t||[])).next())})};class vE{constructor(t,r={},n,i){this.shouldThrowOnError=!1;const a=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href,this.headers=Object.assign(Object.assign({},gE),r),this.fetch=Oy(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return On(this,void 0,void 0,function*(){try{return{data:yield ho(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(_e(t))return{data:null,error:t};throw t}})}getBucket(t){return On(this,void 0,void 0,function*(){try{return{data:yield ho(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(_e(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return On(this,void 0,void 0,function*(){try{return{data:yield Xt(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_e(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return On(this,void 0,void 0,function*(){try{return{data:yield Yc(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_e(n))return{data:null,error:n};throw n}})}emptyBucket(t){return On(this,void 0,void 0,function*(){try{return{data:yield Xt(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(_e(r))return{data:null,error:r};throw r}})}deleteBucket(t){return On(this,void 0,void 0,function*(){try{return{data:yield ky(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(_e(r))return{data:null,error:r};throw r}})}}class yE extends vE{constructor(t,r={},n,i){super(t,r,n,i)}from(t){return new pE(this.url,this.headers,t,this.fetch)}}const bE="2.58.0";let Di="";typeof Deno<"u"?Di="deno":typeof document<"u"?Di="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Di="react-native":Di="node";const wE={"X-Client-Info":`supabase-js-${Di}/${bE}`},xE={headers:wE},_E={schema:"public"},SE={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},EE={};var jE=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(c){try{u(n.next(c))}catch(d){o(d)}}function l(c){try{u(n.throw(c))}catch(d){o(d)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((n=n.apply(e,t||[])).next())})};const PE=e=>{let t;return e?t=e:typeof fetch>"u"?t=yy:t=fetch,(...r)=>t(...r)},OE=()=>typeof Headers>"u"?by:Headers,kE=(e,t,r)=>{const n=PE(r),i=OE();return(a,o)=>jE(void 0,void 0,void 0,function*(){var s;const l=(s=yield t())!==null&&s!==void 0?s:e;let u=new i(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(a,Object.assign(Object.assign({},o),{headers:u}))})};var AE=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(c){try{u(n.next(c))}catch(d){o(d)}}function l(c){try{u(n.throw(c))}catch(d){o(d)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((n=n.apply(e,t||[])).next())})};function CE(e){return e.endsWith("/")?e:e+"/"}function TE(e,t){var r,n;const{db:i,auth:a,realtime:o,global:s}=e,{db:l,auth:u,realtime:c,global:d}=t,f={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},u),a),realtime:Object.assign(Object.assign({},c),o),storage:{},global:Object.assign(Object.assign(Object.assign({},d),s),{headers:Object.assign(Object.assign({},(r=d==null?void 0:d.headers)!==null&&r!==void 0?r:{}),(n=s==null?void 0:s.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>AE(this,void 0,void 0,function*(){return""})};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}function RE(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(CE(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Ay="2.72.0",$n=30*1e3,Jc=3,Js=Jc*$n,IE="http://localhost:9999",$E="supabase.auth.token",DE={"X-Client-Info":`gotrue-js/${Ay}`},Xc="X-Supabase-Api-Version",Cy={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},ME=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,NE=600*1e3;class cd extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function H(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class LE extends cd{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function BE(e){return H(e)&&e.name==="AuthApiError"}class Ty extends cd{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Br extends cd{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}}class Cr extends Br{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function UE(e){return H(e)&&e.name==="AuthSessionMissingError"}class gi extends Br{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ca extends Br{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Ta extends Br{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function FE(e){return H(e)&&e.name==="AuthImplicitGrantRedirectError"}class yh extends Br{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Zc extends Br{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Xs(e){return H(e)&&e.name==="AuthRetryableFetchError"}class bh extends Br{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Qc extends Br{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const po="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),wh=` 	
\r=`.split(""),zE=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<wh.length;t+=1)e[wh[t].charCodeAt(0)]=-2;for(let t=0;t<po.length;t+=1)e[po[t].charCodeAt(0)]=t;return e})();function xh(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(po[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(po[n]),t.queuedBits-=6}}function Ry(e,t,r){const n=zE[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function _h(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=o=>{HE(o,n,r)};for(let o=0;o<e.length;o+=1)Ry(e.charCodeAt(o),i,a);return t.join("")}function qE(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function WE(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}qE(n,t)}}function HE(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if((e>>7-n&1)===0){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function KE(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)Ry(e.charCodeAt(i),r,n);return new Uint8Array(t)}function VE(e){const t=[];return WE(e,r=>t.push(r)),new Uint8Array(t)}function GE(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>xh(i,r,n)),xh(null,r,n),t.join("")}function YE(e){return Math.round(Date.now()/1e3)+e}function JE(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const kt=()=>typeof window<"u"&&typeof document<"u",Wr={tested:!1,writable:!1},Iy=()=>{if(!kt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Wr.tested)return Wr.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Wr.tested=!0,Wr.writable=!0}catch{Wr.tested=!0,Wr.writable=!1}return Wr.writable};function XE(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const $y=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>na(async()=>{const{default:n}=await Promise.resolve().then(()=>ti);return{default:n}},void 0,import.meta.url).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},ZE=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Dn=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Hr=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Ar=async(e,t)=>{await e.removeItem(t)};class os{constructor(){this.promise=new os.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}os.promiseConstructor=Promise;function Zs(e){const t=e.split(".");if(t.length!==3)throw new Qc("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!ME.test(t[n]))throw new Qc("JWT not in base64url format");return{header:JSON.parse(_h(t[0])),payload:JSON.parse(_h(t[1])),signature:KE(t[2]),raw:{header:t[0],payload:t[1]}}}async function QE(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function ej(e,t){return new Promise((n,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await e(a);if(!t(a,null,o)){n(o);return}}catch(o){if(!t(a,o)){i(o);return}}})()})}function tj(e){return("0"+e.toString(16)).substr(-2)}function rj(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let a=0;a<56;a++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,tj).join("")}async function nj(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function ij(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await nj(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function kn(e,t,r=!1){const n=rj();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await Dn(e,`${t}-code-verifier`,i);const a=await ij(n);return[a,n===a?"plain":"s256"]}const aj=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function oj(e){const t=e.headers.get(Xc);if(!t||!t.match(aj))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function sj(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function lj(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const cj=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function An(e){if(!cj.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Qs(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Sh(e){return JSON.parse(JSON.stringify(e))}var uj=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};const Vr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),dj=[502,503,504];async function Eh(e){var t;if(!ZE(e))throw new Zc(Vr(e),0);if(dj.includes(e.status))throw new Zc(Vr(e),e.status);let r;try{r=await e.json()}catch(a){throw new Ty(Vr(a),a)}let n;const i=oj(e);if(i&&i.getTime()>=Cy["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new bh(Vr(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Cr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new bh(Vr(r),e.status,r.weak_password.reasons);throw new LE(Vr(r),e.status||500,n)}const fj=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function te(e,t,r,n){var i;const a=Object.assign({},n==null?void 0:n.headers);a[Xc]||(a[Xc]=Cy["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const o=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const s=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await hj(e,t,r+s,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function hj(e,t,r,n,i,a){const o=fj(t,n,i,a);let s;try{s=await e(r,Object.assign({},o))}catch(l){throw console.error(l),new Zc(Vr(l),0)}if(s.ok||await Eh(s),n!=null&&n.noResolveJson)return s;try{return await s.json()}catch(l){await Eh(l)}}function Jt(e){var t;let r=null;vj(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=YE(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function jh(e){const t=Jt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ir(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function pj(e){return{data:e,error:null}}function mj(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a}=e,o=uj(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),s={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a},l=Object.assign({},o);return{data:{properties:s,user:l},error:null}}function gj(e){return e}function vj(e){return e.access_token&&e.refresh_token&&e.expires_in}const el=["global","local","others"];var yj=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};class bj{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=$y(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=el[0]){if(el.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${el.join(", ")}`);try{return await te(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(H(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await te(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Ir})}catch(n){if(H(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=yj(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await te(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:mj,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(H(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await te(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ir})}catch(r){if(H(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,a,o,s,l;try{const u={nextPage:null,lastPage:0,total:0},c=await te(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:gj});if(c.error)throw c.error;const d=await c.json(),f=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,h=(l=(s=c.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return h.length>0&&(h.forEach(m=>{const g=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(m.split(";")[1].split("=")[1]);u[`${v}Page`]=g}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(H(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){An(t);try{return await te(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ir})}catch(r){if(H(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){An(t);try{return await te(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Ir})}catch(n){if(H(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){An(t);try{return await te(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Ir})}catch(n){if(H(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){An(t.userId);try{const{data:r,error:n}=await te(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(H(r))return{data:null,error:r};throw r}}async _deleteFactor(t){An(t.userId),An(t.id);try{return{data:await te(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(H(r))return{data:null,error:r};throw r}}}function Ph(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function wj(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Cn={debug:!!(globalThis&&Iy()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Dy extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class xj extends Dy{}async function _j(e,t,r){Cn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Cn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){Cn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{Cn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Cn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new xj(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Cn.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function My(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function Sj(e){return parseInt(e,16)}function Ej(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function jj(e){var t;const{chainId:r,domain:n,expirationTime:i,issuedAt:a=new Date,nonce:o,notBefore:s,requestId:l,resources:u,scheme:c,uri:d,version:f}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const h=My(e.address),m=c?`${c}://${n}`:n,g=e.statement?`${e.statement}
`:"",v=`${m} wants you to sign in with your Ethereum account:
${h}

${g}`;let b=`URI: ${d}
Version: ${f}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${a.toISOString()}`;if(i&&(b+=`
Expiration Time: ${i.toISOString()}`),s&&(b+=`
Not Before: ${s.toISOString()}`),l&&(b+=`
Request ID: ${l}`),u){let x=`
Resources:`;for(const w of u){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);x+=`
- ${w}`}b+=x}return`${v}
${b}`}wj();const Pj={url:IE,storageKey:$E,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:DE,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Oh(e,t,r){return await r()}const Tn={};class Wi{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Wi.nextInstanceID,Wi.nextInstanceID+=1,this.instanceID>0&&kt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},Pj),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new bj({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=$y(i.fetch),this.lock=i.lock||Oh,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:kt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=_j:this.lock=Oh,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:Iy()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Ph(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Ph(this.memoryStorage)),kt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=Tn[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Tn[this.storageKey]=Object.assign(Object.assign({},Tn[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Tn[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Tn[this.storageKey]=Object.assign(Object.assign({},Tn[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Ay}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=XE(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),kt()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),FE(a)){const l=(t=a.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:s}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",s),await this._saveSession(o),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return H(r)?{error:r}:{error:new Ty("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const a=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:Jt}),{data:o,error:s}=a;if(s||!o)return{data:{user:null,session:null},error:s};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(a){if(H(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var r,n,i;try{let a;if("email"in t){const{email:c,password:d,options:f}=t;let h=null,m=null;this.flowType==="pkce"&&([h,m]=await kn(this.storage,this.storageKey)),a=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:c,password:d,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:h,code_challenge_method:m},xform:Jt})}else if("phone"in t){const{phone:c,password:d,options:f}=t;a=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:d,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(i=f==null?void 0:f.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Jt})}else throw new Ca("You must provide either an email or phone number and a password");const{data:o,error:s}=a;if(s||!o)return{data:{user:null,session:null},error:s};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(a){if(H(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:o,options:s}=t;r=await te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:jh})}else if("phone"in t){const{phone:a,password:o,options:s}=t;r=await te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:jh})}else throw new Ca("You must provide either an email or phone number and a password");const{data:n,error:i}=r;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new gi}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(H(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,i,a,o,s,l,u,c,d,f;let h,m;if("message"in t)h=t.message,m=t.signature;else{const{chain:g,wallet:v,statement:b,options:x}=t;let w;if(kt())if(typeof v=="object")w=v;else{const A=window;if("ethereum"in A&&typeof A.ethereum=="object"&&"request"in A.ethereum&&typeof A.ethereum.request=="function")w=A.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=v}const _=new URL((r=x==null?void 0:x.url)!==null&&r!==void 0?r:window.location.href),S=await w.request({method:"eth_requestAccounts"}).then(A=>A).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const E=My(S[0]);let j=(n=x==null?void 0:x.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!j){const A=await w.request({method:"eth_chainId"});j=Sj(A)}const k={domain:_.host,address:E,statement:b,uri:_.href,version:"1",chainId:j,nonce:(i=x==null?void 0:x.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(a=x==null?void 0:x.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(s=x==null?void 0:x.signInWithEthereum)===null||s===void 0?void 0:s.expirationTime,notBefore:(l=x==null?void 0:x.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=x==null?void 0:x.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(c=x==null?void 0:x.signInWithEthereum)===null||c===void 0?void 0:c.resources};h=jj(k),m=await w.request({method:"personal_sign",params:[Ej(h),E]})}try{const{data:g,error:v}=await te(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:h,signature:m},!((d=t.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Jt});if(v)throw v;return!g||!g.session||!g.user?{data:{user:null,session:null},error:new gi}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:Object.assign({},g),error:v})}catch(g){if(H(g))return{data:{user:null,session:null},error:g};throw g}}async signInWithSolana(t){var r,n,i,a,o,s,l,u,c,d,f,h;let m,g;if("message"in t)m=t.message,g=t.signature;else{const{chain:v,wallet:b,statement:x,options:w}=t;let _;if(kt())if(typeof b=="object")_=b;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))_=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=b}const S=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const E=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),x?{statement:x}:null));let j;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")j=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)j=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in j&&"signature"in j&&(typeof j.signedMessage=="string"||j.signedMessage instanceof Uint8Array)&&j.signature instanceof Uint8Array)m=typeof j.signedMessage=="string"?j.signedMessage:new TextDecoder().decode(j.signedMessage),g=j.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${S.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(i=(n=w==null?void 0:w.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=w==null?void 0:w.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((s=w==null?void 0:w.signInWithSolana)===null||s===void 0)&&s.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((d=(c=w==null?void 0:w.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||d===void 0)&&d.length?["Resources",...w.signInWithSolana.resources.map(j=>`- ${j}`)]:[]].join(`
`);const E=await _.signMessage(new TextEncoder().encode(m),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=E}}try{const{data:v,error:b}=await te(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:GE(g)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Jt});if(b)throw b;return!v||!v.session||!v.user?{data:{user:null,session:null},error:new gi}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:Object.assign({},v),error:b})}catch(v){if(H(v))return{data:{user:null,session:null},error:v};throw v}}async _exchangeCodeForSession(t){const r=await Hr(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:a,error:o}=await te(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Jt});if(await Ar(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new gi}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:o})}catch(a){if(H(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:a,nonce:o}=t,s=await te(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Jt}),{data:l,error:u}=s;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new gi}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(r){if(H(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,i,a,o;try{if("email"in t){const{email:s,options:l}=t;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await kn(this.storage,this.storageKey));const{error:d}=await te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:s,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in t){const{phone:s,options:l}=t,{data:u,error:c}=await te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:s,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(a=l==null?void 0:l.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new Ca("You must provide either an email or phone number.")}catch(s){if(H(s))return{data:{user:null,session:null},error:s};throw s}}async verifyOtp(t){var r,n;try{let i,a;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:s}=await te(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Jt});if(s)throw s;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(H(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var r,n,i;try{let a=null,o=null;return this.flowType==="pkce"&&([a,o]=await kn(this.storage,this.storageKey)),await te(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:o}),headers:this.headers,xform:pj})}catch(a){if(H(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Cr;const{error:i}=await te(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(H(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:a}=t,{error:o}=await te(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:i,options:a}=t,{data:o,error:s}=await te(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:s}}throw new Ca("You must provide either an email or phone number and a type")}catch(r){if(H(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Hr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Js:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await Hr(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=Qs()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,u,c)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,c))})}return{data:{session:t},error:null}}const{session:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ir}):await this._useSession(async r=>{var n,i,a;const{data:o,error:s}=r;if(s)throw s;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Cr}:await te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Ir})})}catch(r){if(H(r))return UE(r)&&(await this._removeSession(),await Ar(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:a}=n;if(a)throw a;if(!i.session)throw new Cr;const o=i.session;let s=null,l=null;this.flowType==="pkce"&&t.email!=null&&([s,l]=await kn(this.storage,this.storageKey));const{data:u,error:c}=await te(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:s,code_challenge_method:l}),jwt:o.access_token,xform:Ir});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(H(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Cr;const r=Date.now()/1e3;let n=r,i=!0,a=null;const{payload:o}=Zs(t.access_token);if(o.exp&&(n=o.exp,i=n<=r),i){const{session:s,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!s)return{data:{user:null,session:null},error:null};a=s}else{const{data:s,error:l}=await this._getUser(t.access_token);if(l)throw l;a={access_token:t.access_token,refresh_token:t.refresh_token,user:s.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(r){if(H(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:s}=r;if(s)throw s;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Cr;const{session:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(H(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!kt())throw new Ta("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Ta(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new yh("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ta("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new yh("No code detected.");const{data:x,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:a,refresh_token:o,expires_in:s,expires_at:l,token_type:u}=t;if(!a||!s||!o||!u)throw new Ta("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(s);let f=c+d;l&&(f=parseInt(l));const h=f-c;h*1e3<=$n&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${d}s`);const m=f-d;c-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,f,c):c-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,f,c);const{data:g,error:v}=await this._getUser(a);if(v)throw v;const b={provider_token:n,provider_refresh_token:i,access_token:a,expires_in:d,expires_at:f,refresh_token:o,token_type:u,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:b,redirectType:t.type},error:null}}catch(n){if(H(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Hr(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return{error:a};const o=(n=i.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:s}=await this.admin.signOut(o,t);if(s&&!(BE(s)&&(s.status===404||s.status===401||s.status===403)))return{error:s}}return t!=="others"&&(await this._removeSession(),await Ar(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=JE(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:a},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await kn(this.storage,this.storageKey,!0));try{return await te(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(H(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(H(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:i}=await this._useSession(async a=>{var o,s,l,u,c;const{data:d,error:f}=a;if(f)throw f;const h=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await te(this.fetch,"GET",h,{headers:this.headers,jwt:(c=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(i)throw i;return kt()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(H(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:o}=r;if(o)throw o;return await te(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(H(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await ej(async i=>(i>0&&await QE(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await te(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Jt})),(i,a)=>{const o=200*Math.pow(2,i);return a&&Xs(a)&&Date.now()+o-n<$n})}catch(n){if(this._debug(r,"error",n),H(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),kt()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await Hr(this.storage,this.storageKey);if(i&&this.userStorage){let o=await Hr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await Dn(this.userStorage,this.storageKey+"-user",o)),i.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:Qs()}else if(i&&!i.user&&!i.user){const o=await Hr(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(i.user=o.user,await Ar(this.storage,this.storageKey+"-user"),await Dn(this.storage,this.storageKey,i)):i.user=Qs()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const a=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Js;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${Js}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),Xs(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:s}=await this._getUser(i.access_token);!s&&(o!=null&&o.user)?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Cr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new os;const{data:a,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!a.session)throw new Cr;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const s={session:a.session,error:null};return this.refreshingDeferred.resolve(s),s}catch(a){if(this._debug(i,"error",a),H(a)){const o={session:null,error:a};return Xs(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async s=>{try{await s.callback(t,r)}catch(l){a.push(l)}});if(await Promise.all(o),a.length>0){for(let s=0;s<a.length;s+=1)console.error(a[s]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Dn(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const a=Sh(i);await Dn(this.storage,this.storageKey,a)}else{const i=Sh(r);await Dn(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Ar(this.storage,this.storageKey),await Ar(this.storage,this.storageKey+"-code-verifier"),await Ar(this.storage,this.storageKey+"-user"),this.userStorage&&await Ar(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&kt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),$n);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/$n);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${$n}ms, refresh threshold is ${Jc} ticks`),i<=Jc&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Dy)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!kt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,o]=await kn(this.storage,this.storageKey),s=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(s.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);i.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?{data:null,error:a}:await te(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(H(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:o}=r;if(o)return{data:null,error:o};const s=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:u}=await te(this.fetch,"POST",`${this.url}/factors`,{body:s,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(H(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return{data:null,error:a};const{data:o,error:s}=await te(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return s?{data:null,error:s}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:s})})}catch(r){if(H(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?{data:null,error:a}:await te(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(H(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],i=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),a=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:i,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:i},error:a}=t;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Zs(i.access_token);let s=null;o.aal&&(s=o.aal);let l=s;((n=(r=i.user.factors)===null||r===void 0?void 0:r.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const c=o.amr||[];return{data:{currentLevel:s,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(s=>s.kid===t);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(s=>s.kid===t),n&&this.jwks_cached_at+NE>i)return n;const{data:a,error:o}=await te(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,n=a.keys.find(s=>s.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:h,error:m}=await this.getSession();if(m||!h.session)return{data:null,error:m};n=h.session.access_token}const{header:i,payload:a,signature:o,raw:{header:s,payload:l}}=Zs(n);r!=null&&r.allowExpired||sj(a.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:h}=await this.getUser(n);if(h)throw h;return{data:{claims:a,header:i,signature:o},error:null}}const c=lj(i.alg),d=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,d,o,VE(`${s}.${l}`)))throw new Qc("Invalid JWT signature");return{data:{claims:a,header:i,signature:o},error:null}}catch(n){if(H(n))return{data:null,error:n};throw n}}}Wi.nextInstanceID=0;const Oj=Wi;class kj extends Oj{constructor(t){super(t)}}var Aj=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(c){try{u(n.next(c))}catch(d){o(d)}}function l(c){try{u(n.throw(c))}catch(d){o(d)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((n=n.apply(e,t||[])).next())})};class Cj{constructor(t,r,n){var i,a,o;this.supabaseUrl=t,this.supabaseKey=r;const s=RE(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const l=`sb-${s.hostname.split(".")[0]}-auth-token`,u={db:_E,realtime:EE,auth:Object.assign(Object.assign({},SE),{storageKey:l}),global:xE},c=TE(n??{},u);this.storageKey=(i=c.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=c.global.headers)!==null&&a!==void 0?a:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=c.auth)!==null&&o!==void 0?o:{},this.headers,c.global.fetch),this.fetch=kE(r,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.rest=new LS(new URL("rest/v1",s).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new yE(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new kS(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return Aj(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:a,storageKey:o,flowType:s,lock:l,debug:u},c,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new kj({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),c),storageKey:o,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:a,flowType:s,lock:l,debug:u,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(h=>h.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new tE(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Tj=(e,t,r)=>new Cj(e,t,r);function Rj(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}Rj()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Ij="https://rjbgomsmplhldxnojkyz.supabase.co",$j="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJqYmdvbXNtcGxobGR4bm9qa3l6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDQ0OTUwOTAsImV4cCI6MjA2MDA3MTA5MH0.FGoxQunc7nWaIwb1F9FdrmFgCSJ3ut34VwVg2w0g4l0",Je=Tj(Ij,$j);var Ny={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},kh=D.createContext&&D.createContext(Ny),Dj=["attr","size","title"];function Mj(e,t){if(e==null)return{};var r=Nj(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Nj(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function mo(){return mo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mo.apply(this,arguments)}function Ah(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function go(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ah(Object(r),!0).forEach(function(n){Lj(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ah(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lj(e,t,r){return t=Bj(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bj(e){var t=Uj(e,"string");return typeof t=="symbol"?t:t+""}function Uj(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ly(e){return e&&e.map((t,r)=>D.createElement(t.tag,go({key:r},t.attr),Ly(t.child)))}function ud(e){return t=>D.createElement(Fj,mo({attr:go({},e.attr)},t),Ly(e.child))}function Fj(e){var t=r=>{var{attr:n,size:i,title:a}=e,o=Mj(e,Dj),s=i||r.size||"1em",l;return r.className&&(l=r.className),e.className&&(l=(l?l+" ":"")+e.className),D.createElement("svg",mo({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,o,{className:l,style:go(go({color:e.color||r.color},r.style),e.style),height:s,width:s,xmlns:"http://www.w3.org/2000/svg"}),a&&D.createElement("title",null,a),e.children)};return kh!==void 0?D.createElement(kh.Consumer,null,r=>t(r)):t(Ny)}function zj(e){return ud({attr:{viewBox:"0 0 488 512"},child:[{tag:"path",attr:{d:"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"},child:[]}]})(e)}function dd(e){return ud({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"},child:[]}]})(e)}function fd(e){return ud({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(e)}function qj(){const{t:e}=Ee(),[t,r]=y.useState(""),[n,i]=y.useState(""),[a,o]=y.useState(!1),[s,l]=y.useState(""),[u,c]=y.useState(!0),d=Dt();y.useEffect(()=>{(async()=>{const{data:v}=await Je.auth.getSession();v!=null&&v.session&&(console.log("✅ Sesión detectada, redirigiendo..."),d("/dashboard")),c(!1)})()},[]);const f=async g=>{g.preventDefault(),l("");const{data:v,error:b}=await Je.auth.signInWithPassword({email:t,password:n});if(b){console.error("❌ Error de login:",b.message),l(e("wrong_credentials"));return}if(!v.session){l(e("email_not_confirmed"));return}await m(v.session.user)},h=async()=>{l("");const g=`${window.location.origin}/dashboard`;console.log("🌐 Redirigiendo login con Google a:",g);const{data:v,error:b}=await Je.auth.signInWithOAuth({provider:"google",options:{redirectTo:g}});b?(console.error("❌ Error al iniciar con Google:",b.message),l("Error al conectar con Google.")):console.log("📡 Redirección iniciada con Google:",v)},m=async g=>{const v="http://127.0.0.1:8001/initialize_user";console.log("📡 Llamando a:",v);try{const b=await fetch(v,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({auth_user_id:g.id,email:g.email})});if(!b.ok)throw new Error("❌ Error al inicializar usuario");const x=await b.json();console.log("✅ Datos de /initialize_user:",x),localStorage.setItem("client_id",x.client_id),localStorage.setItem("public_client_id",x.public_client_id),localStorage.setItem("user_id",g.id),d("/dashboard")}catch(b){console.error(b),l("Hubo un problema al iniciar sesión. Intenta de nuevo.")}};return u?p.jsx("div",{style:Ch,children:p.jsx("p",{style:{color:"#ededed",fontSize:"1.1rem"},children:"Cargando sesión..."})}):p.jsx("div",{style:Ch,children:p.jsxs("div",{style:Wj,children:[p.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[p.jsx("img",{src:"/logo-evolvian.svg",alt:"Logo Evolvian",style:{width:"64px",margin:"0 auto 1rem"}}),p.jsx("h1",{style:{fontSize:"1.75rem",fontWeight:"bold"},children:"Evolvian"})]}),p.jsxs("form",{onSubmit:f,style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[p.jsx("div",{style:Rh,children:p.jsx("input",{type:"email",placeholder:e("email"),value:t,onChange:g=>r(g.target.value),required:!0,style:{...Th,border:"none",flex:1},autoComplete:"email"})}),p.jsxs("div",{style:Rh,children:[p.jsx("input",{type:a?"text":"password",placeholder:e("password"),value:n,onChange:g=>i(g.target.value),required:!0,style:{...Th,border:"none",flex:1},autoComplete:"current-password"}),p.jsx("div",{style:Hj,onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:a?p.jsx(dd,{}):p.jsx(fd,{})})]}),s&&p.jsx("p",{style:{color:"#f87171",textAlign:"center",fontSize:"0.875rem"},children:s}),p.jsx("button",{type:"submit",style:Kj,children:e("login")}),p.jsxs("div",{style:Vj,children:[p.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.4rem"},children:[p.jsx("input",{type:"checkbox"}),e("remember_me")]}),p.jsx(Mr,{to:"/forgot-password",style:Gj,children:e("forgot_password")})]})]}),p.jsxs("p",{style:Yj,children:[e("no_account")||"¿No tienes cuenta?"," ",p.jsx(Mr,{to:"/register",style:Jj,children:e("register_here")||"Regístrate aquí"})]}),p.jsxs("div",{style:Xj,children:[p.jsx("div",{style:Ih}),p.jsx("span",{children:e("or")}),p.jsx("div",{style:Ih})]}),p.jsxs("button",{onClick:h,style:Zj,children:[p.jsx(zj,{}),e("login_with_google")]})]})})}const Ch={height:"100vh",width:"100vw",backgroundColor:"#0f1c2e",display:"flex",alignItems:"center",justifyContent:"center",padding:"1rem",fontFamily:"system-ui, Avenir, Helvetica, Arial, sans-serif"},Wj={width:"100%",maxWidth:"400px",backgroundColor:"#1b2a41",color:"white",borderRadius:"1.5rem",padding:"2rem",boxShadow:"0 15px 40px rgba(0,0,0,0.3)",border:"1px solid #274472"},Th={width:"100%",padding:"0.6rem 1rem",backgroundColor:"transparent",borderRadius:"8px",color:"white",fontSize:"1rem"},Rh={display:"flex",alignItems:"center",border:"1px solid #274472",borderRadius:"8px",backgroundColor:"transparent",height:"40px",paddingRight:"0.75rem"},Hj={color:"#ccc",cursor:"pointer",fontSize:"1.1rem"},Kj={backgroundColor:"#2eb39a",padding:"0.7rem",color:"white",borderRadius:"8px",fontWeight:"bold",border:"none",cursor:"pointer",fontSize:"1rem"},Vj={display:"flex",justifyContent:"space-between",fontSize:"0.875rem",color:"#ccc",marginTop:"0.5rem"},Gj={color:"#a3d9b1",textDecoration:"underline"},Yj={textAlign:"center",fontSize:"0.875rem",color:"#bbb",marginTop:"2rem"},Jj={color:"#f5a623",fontWeight:"bold",textDecoration:"underline"},Xj={display:"flex",alignItems:"center",gap:"1rem",margin:"2rem 0",color:"#888"},Ih={flex:1,height:"1px",backgroundColor:"#555"},Zj={width:"100%",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",padding:"0.7rem",border:"1px solid white",borderRadius:"8px",backgroundColor:"transparent",color:"white",cursor:"pointer",fontSize:"1rem"};function Qj(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}const eP=e=>{switch(e){case"success":return nP;case"info":return aP;case"warning":return iP;case"error":return oP;default:return null}},tP=Array(12).fill(0),rP=({visible:e,className:t})=>D.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},D.createElement("div",{className:"sonner-spinner"},tP.map((r,n)=>D.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),nP=D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},D.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),iP=D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},D.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),aP=D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},D.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),oP=D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},D.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),sP=D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},D.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),D.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),lP=()=>{const[e,t]=D.useState(document.hidden);return D.useEffect(()=>{const r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e};let eu=1;class cP{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const r=this.subscribers.indexOf(t);this.subscribers.splice(r,1)}),this.publish=t=>{this.subscribers.forEach(r=>r(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var r;const{message:n,...i}=t,a=typeof(t==null?void 0:t.id)=="number"||((r=t.id)==null?void 0:r.length)>0?t.id:eu++,o=this.toasts.find(l=>l.id===a),s=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),o?this.toasts=this.toasts.map(l=>l.id===a?(this.publish({...l,...t,id:a,title:n}),{...l,...t,id:a,dismissible:s,title:n}):l):this.addToast({title:n,...i,dismissible:s,id:a}),a},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:t,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),t),this.message=(t,r)=>this.create({...r,message:t}),this.error=(t,r)=>this.create({...r,message:t,type:"error"}),this.success=(t,r)=>this.create({...r,type:"success",message:t}),this.info=(t,r)=>this.create({...r,type:"info",message:t}),this.warning=(t,r)=>this.create({...r,type:"warning",message:t}),this.loading=(t,r)=>this.create({...r,type:"loading",message:t}),this.promise=(t,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:t,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const i=Promise.resolve(t instanceof Function?t():t);let a=n!==void 0,o;const s=i.then(async u=>{if(o=["resolve",u],D.isValidElement(u))a=!1,this.create({id:n,type:"default",message:u});else if(dP(u)&&!u.ok){a=!1;const d=typeof r.error=="function"?await r.error(`HTTP error! status: ${u.status}`):r.error,f=typeof r.description=="function"?await r.description(`HTTP error! status: ${u.status}`):r.description,m=typeof d=="object"&&!D.isValidElement(d)?d:{message:d};this.create({id:n,type:"error",description:f,...m})}else if(u instanceof Error){a=!1;const d=typeof r.error=="function"?await r.error(u):r.error,f=typeof r.description=="function"?await r.description(u):r.description,m=typeof d=="object"&&!D.isValidElement(d)?d:{message:d};this.create({id:n,type:"error",description:f,...m})}else if(r.success!==void 0){a=!1;const d=typeof r.success=="function"?await r.success(u):r.success,f=typeof r.description=="function"?await r.description(u):r.description,m=typeof d=="object"&&!D.isValidElement(d)?d:{message:d};this.create({id:n,type:"success",description:f,...m})}}).catch(async u=>{if(o=["reject",u],r.error!==void 0){a=!1;const c=typeof r.error=="function"?await r.error(u):r.error,d=typeof r.description=="function"?await r.description(u):r.description,h=typeof c=="object"&&!D.isValidElement(c)?c:{message:c};this.create({id:n,type:"error",description:d,...h})}}).finally(()=>{a&&(this.dismiss(n),n=void 0),r.finally==null||r.finally.call(r)}),l=()=>new Promise((u,c)=>s.then(()=>o[0]==="reject"?c(o[1]):u(o[1])).catch(c));return typeof n!="string"&&typeof n!="number"?{unwrap:l}:Object.assign(n,{unwrap:l})},this.custom=(t,r)=>{const n=(r==null?void 0:r.id)||eu++;return this.create({jsx:t(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const it=new cP,uP=(e,t)=>{const r=(t==null?void 0:t.id)||eu++;return it.addToast({title:e,...t,id:r}),r},dP=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",fP=uP,hP=()=>it.toasts,pP=()=>it.getActiveToasts(),Ve=Object.assign(fP,{success:it.success,info:it.info,warning:it.warning,error:it.error,custom:it.custom,message:it.message,promise:it.promise,dismiss:it.dismiss,loading:it.loading},{getHistory:hP,getToasts:pP});Qj("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Ra(e){return e.label!==void 0}const mP=3,gP="24px",vP="16px",$h=4e3,yP=356,bP=14,wP=45,xP=200;function Gt(...e){return e.filter(Boolean).join(" ")}function _P(e){const[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}const SP=e=>{var t,r,n,i,a,o,s,l,u;const{invert:c,toast:d,unstyled:f,interacting:h,setHeights:m,visibleToasts:g,heights:v,index:b,toasts:x,expanded:w,removeToast:_,defaultRichColors:S,closeButton:E,style:j,cancelButtonStyle:k,actionButtonStyle:A,className:I="",descriptionClassName:C="",duration:$,position:U,gap:T,expandByDefault:L,classNames:M,icons:W,closeButtonAriaLabel:J="Close toast"}=e,[X,pe]=D.useState(null),[ne,F]=D.useState(null),[V,ae]=D.useState(!1),[ee,rt]=D.useState(!1),[Or,de]=D.useState(!1),[N,G]=D.useState(!1),[re,R]=D.useState(!1),[qe,oe]=D.useState(0),[Xe,We]=D.useState(0),ft=D.useRef(d.duration||$||$h),pi=D.useRef(null),ar=D.useRef(null),N1=b===0,L1=b+1<=g,ht=d.type,bn=d.dismissible!==!1,B1=d.className||"",U1=d.descriptionClassName||"",Ea=D.useMemo(()=>v.findIndex(Y=>Y.toastId===d.id)||0,[v,d.id]),F1=D.useMemo(()=>{var Y;return(Y=d.closeButton)!=null?Y:E},[d.closeButton,E]),Hf=D.useMemo(()=>d.duration||$||$h,[d.duration,$]),zs=D.useRef(0),wn=D.useRef(0),Kf=D.useRef(0),xn=D.useRef(null),[z1,q1]=U.split("-"),Vf=D.useMemo(()=>v.reduce((Y,Ce,He)=>He>=Ea?Y:Y+Ce.height,0),[v,Ea]),Gf=lP(),W1=d.invert||c,qs=ht==="loading";wn.current=D.useMemo(()=>Ea*T+Vf,[Ea,Vf]),D.useEffect(()=>{ft.current=Hf},[Hf]),D.useEffect(()=>{ae(!0)},[]),D.useEffect(()=>{const Y=ar.current;if(Y){const Ce=Y.getBoundingClientRect().height;return We(Ce),m(He=>[{toastId:d.id,height:Ce,position:d.position},...He]),()=>m(He=>He.filter(pt=>pt.toastId!==d.id))}},[m,d.id]),D.useLayoutEffect(()=>{if(!V)return;const Y=ar.current,Ce=Y.style.height;Y.style.height="auto";const He=Y.getBoundingClientRect().height;Y.style.height=Ce,We(He),m(pt=>pt.find(Le=>Le.toastId===d.id)?pt.map(Le=>Le.toastId===d.id?{...Le,height:He}:Le):[{toastId:d.id,height:He,position:d.position},...pt])},[V,d.title,d.description,m,d.id,d.jsx,d.action,d.cancel]);const kr=D.useCallback(()=>{rt(!0),oe(wn.current),m(Y=>Y.filter(Ce=>Ce.toastId!==d.id)),setTimeout(()=>{_(d)},xP)},[d,_,m,wn]);D.useEffect(()=>{if(d.promise&&ht==="loading"||d.duration===1/0||d.type==="loading")return;let Y;return w||h||Gf?(()=>{if(Kf.current<zs.current){const pt=new Date().getTime()-zs.current;ft.current=ft.current-pt}Kf.current=new Date().getTime()})():(()=>{ft.current!==1/0&&(zs.current=new Date().getTime(),Y=setTimeout(()=>{d.onAutoClose==null||d.onAutoClose.call(d,d),kr()},ft.current))})(),()=>clearTimeout(Y)},[w,h,d,ht,Gf,kr]),D.useEffect(()=>{d.delete&&(kr(),d.onDismiss==null||d.onDismiss.call(d,d))},[kr,d.delete]);function H1(){var Y;if(W!=null&&W.loading){var Ce;return D.createElement("div",{className:Gt(M==null?void 0:M.loader,d==null||(Ce=d.classNames)==null?void 0:Ce.loader,"sonner-loader"),"data-visible":ht==="loading"},W.loading)}return D.createElement(rP,{className:Gt(M==null?void 0:M.loader,d==null||(Y=d.classNames)==null?void 0:Y.loader),visible:ht==="loading"})}const K1=d.icon||(W==null?void 0:W[ht])||eP(ht);var Yf,Jf;return D.createElement("li",{tabIndex:0,ref:ar,className:Gt(I,B1,M==null?void 0:M.toast,d==null||(t=d.classNames)==null?void 0:t.toast,M==null?void 0:M.default,M==null?void 0:M[ht],d==null||(r=d.classNames)==null?void 0:r[ht]),"data-sonner-toast":"","data-rich-colors":(Yf=d.richColors)!=null?Yf:S,"data-styled":!(d.jsx||d.unstyled||f),"data-mounted":V,"data-promise":!!d.promise,"data-swiped":re,"data-removed":ee,"data-visible":L1,"data-y-position":z1,"data-x-position":q1,"data-index":b,"data-front":N1,"data-swiping":Or,"data-dismissible":bn,"data-type":ht,"data-invert":W1,"data-swipe-out":N,"data-swipe-direction":ne,"data-expanded":!!(w||L&&V),"data-testid":d.testId,style:{"--index":b,"--toasts-before":b,"--z-index":x.length-b,"--offset":`${ee?qe:wn.current}px`,"--initial-height":L?"auto":`${Xe}px`,...j,...d.style},onDragEnd:()=>{de(!1),pe(null),xn.current=null},onPointerDown:Y=>{Y.button!==2&&(qs||!bn||(pi.current=new Date,oe(wn.current),Y.target.setPointerCapture(Y.pointerId),Y.target.tagName!=="BUTTON"&&(de(!0),xn.current={x:Y.clientX,y:Y.clientY})))},onPointerUp:()=>{var Y,Ce,He;if(N||!bn)return;xn.current=null;const pt=Number(((Y=ar.current)==null?void 0:Y.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),ja=Number(((Ce=ar.current)==null?void 0:Ce.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Le=new Date().getTime()-((He=pi.current)==null?void 0:He.getTime()),jt=X==="x"?pt:ja,Pa=Math.abs(jt)/Le;if(Math.abs(jt)>=wP||Pa>.11){oe(wn.current),d.onDismiss==null||d.onDismiss.call(d,d),F(X==="x"?pt>0?"right":"left":ja>0?"down":"up"),kr(),G(!0);return}else{var Bt,Ut;(Bt=ar.current)==null||Bt.style.setProperty("--swipe-amount-x","0px"),(Ut=ar.current)==null||Ut.style.setProperty("--swipe-amount-y","0px")}R(!1),de(!1),pe(null)},onPointerMove:Y=>{var Ce,He,pt;if(!xn.current||!bn||((Ce=window.getSelection())==null?void 0:Ce.toString().length)>0)return;const Le=Y.clientY-xn.current.y,jt=Y.clientX-xn.current.x;var Pa;const Bt=(Pa=e.swipeDirections)!=null?Pa:_P(U);!X&&(Math.abs(jt)>1||Math.abs(Le)>1)&&pe(Math.abs(jt)>Math.abs(Le)?"x":"y");let Ut={x:0,y:0};const Xf=qr=>1/(1.5+Math.abs(qr)/20);if(X==="y"){if(Bt.includes("top")||Bt.includes("bottom"))if(Bt.includes("top")&&Le<0||Bt.includes("bottom")&&Le>0)Ut.y=Le;else{const qr=Le*Xf(Le);Ut.y=Math.abs(qr)<Math.abs(Le)?qr:Le}}else if(X==="x"&&(Bt.includes("left")||Bt.includes("right")))if(Bt.includes("left")&&jt<0||Bt.includes("right")&&jt>0)Ut.x=jt;else{const qr=jt*Xf(jt);Ut.x=Math.abs(qr)<Math.abs(jt)?qr:jt}(Math.abs(Ut.x)>0||Math.abs(Ut.y)>0)&&R(!0),(He=ar.current)==null||He.style.setProperty("--swipe-amount-x",`${Ut.x}px`),(pt=ar.current)==null||pt.style.setProperty("--swipe-amount-y",`${Ut.y}px`)}},F1&&!d.jsx&&ht!=="loading"?D.createElement("button",{"aria-label":J,"data-disabled":qs,"data-close-button":!0,onClick:qs||!bn?()=>{}:()=>{kr(),d.onDismiss==null||d.onDismiss.call(d,d)},className:Gt(M==null?void 0:M.closeButton,d==null||(n=d.classNames)==null?void 0:n.closeButton)},(Jf=W==null?void 0:W.close)!=null?Jf:sP):null,(ht||d.icon||d.promise)&&d.icon!==null&&((W==null?void 0:W[ht])!==null||d.icon)?D.createElement("div",{"data-icon":"",className:Gt(M==null?void 0:M.icon,d==null||(i=d.classNames)==null?void 0:i.icon)},d.promise||d.type==="loading"&&!d.icon?d.icon||H1():null,d.type!=="loading"?K1:null):null,D.createElement("div",{"data-content":"",className:Gt(M==null?void 0:M.content,d==null||(a=d.classNames)==null?void 0:a.content)},D.createElement("div",{"data-title":"",className:Gt(M==null?void 0:M.title,d==null||(o=d.classNames)==null?void 0:o.title)},d.jsx?d.jsx:typeof d.title=="function"?d.title():d.title),d.description?D.createElement("div",{"data-description":"",className:Gt(C,U1,M==null?void 0:M.description,d==null||(s=d.classNames)==null?void 0:s.description)},typeof d.description=="function"?d.description():d.description):null),D.isValidElement(d.cancel)?d.cancel:d.cancel&&Ra(d.cancel)?D.createElement("button",{"data-button":!0,"data-cancel":!0,style:d.cancelButtonStyle||k,onClick:Y=>{Ra(d.cancel)&&bn&&(d.cancel.onClick==null||d.cancel.onClick.call(d.cancel,Y),kr())},className:Gt(M==null?void 0:M.cancelButton,d==null||(l=d.classNames)==null?void 0:l.cancelButton)},d.cancel.label):null,D.isValidElement(d.action)?d.action:d.action&&Ra(d.action)?D.createElement("button",{"data-button":!0,"data-action":!0,style:d.actionButtonStyle||A,onClick:Y=>{Ra(d.action)&&(d.action.onClick==null||d.action.onClick.call(d.action,Y),!Y.defaultPrevented&&kr())},className:Gt(M==null?void 0:M.actionButton,d==null||(u=d.classNames)==null?void 0:u.actionButton)},d.action.label):null)};function Dh(){if(typeof window>"u"||typeof document>"u")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function EP(e,t){const r={};return[e,t].forEach((n,i)=>{const a=i===1,o=a?"--mobile-offset":"--offset",s=a?vP:gP;function l(u){["top","right","bottom","left"].forEach(c=>{r[`${o}-${c}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?l(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${o}-${u}`]=s:r[`${o}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):l(s)}),r}const jP=D.forwardRef(function(t,r){const{id:n,invert:i,position:a="bottom-right",hotkey:o=["altKey","KeyT"],expand:s,closeButton:l,className:u,offset:c,mobileOffset:d,theme:f="light",richColors:h,duration:m,style:g,visibleToasts:v=mP,toastOptions:b,dir:x=Dh(),gap:w=bP,icons:_,containerAriaLabel:S="Notifications"}=t,[E,j]=D.useState([]),k=D.useMemo(()=>n?E.filter(V=>V.toasterId===n):E.filter(V=>!V.toasterId),[E,n]),A=D.useMemo(()=>Array.from(new Set([a].concat(k.filter(V=>V.position).map(V=>V.position)))),[k,a]),[I,C]=D.useState([]),[$,U]=D.useState(!1),[T,L]=D.useState(!1),[M,W]=D.useState(f!=="system"?f:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),J=D.useRef(null),X=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),pe=D.useRef(null),ne=D.useRef(!1),F=D.useCallback(V=>{j(ae=>{var ee;return(ee=ae.find(rt=>rt.id===V.id))!=null&&ee.delete||it.dismiss(V.id),ae.filter(({id:rt})=>rt!==V.id)})},[]);return D.useEffect(()=>it.subscribe(V=>{if(V.dismiss){requestAnimationFrame(()=>{j(ae=>ae.map(ee=>ee.id===V.id?{...ee,delete:!0}:ee))});return}setTimeout(()=>{SS.flushSync(()=>{j(ae=>{const ee=ae.findIndex(rt=>rt.id===V.id);return ee!==-1?[...ae.slice(0,ee),{...ae[ee],...V},...ae.slice(ee+1)]:[V,...ae]})})})}),[E]),D.useEffect(()=>{if(f!=="system"){W(f);return}if(f==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?W("dark"):W("light")),typeof window>"u")return;const V=window.matchMedia("(prefers-color-scheme: dark)");try{V.addEventListener("change",({matches:ae})=>{W(ae?"dark":"light")})}catch{V.addListener(({matches:ee})=>{try{W(ee?"dark":"light")}catch(rt){console.error(rt)}})}},[f]),D.useEffect(()=>{E.length<=1&&U(!1)},[E]),D.useEffect(()=>{const V=ae=>{var ee;if(o.every(de=>ae[de]||ae.code===de)){var Or;U(!0),(Or=J.current)==null||Or.focus()}ae.code==="Escape"&&(document.activeElement===J.current||(ee=J.current)!=null&&ee.contains(document.activeElement))&&U(!1)};return document.addEventListener("keydown",V),()=>document.removeEventListener("keydown",V)},[o]),D.useEffect(()=>{if(J.current)return()=>{pe.current&&(pe.current.focus({preventScroll:!0}),pe.current=null,ne.current=!1)}},[J.current]),D.createElement("section",{ref:r,"aria-label":`${S} ${X}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},A.map((V,ae)=>{var ee;const[rt,Or]=V.split("-");return k.length?D.createElement("ol",{key:V,dir:x==="auto"?Dh():x,tabIndex:-1,ref:J,className:u,"data-sonner-toaster":!0,"data-sonner-theme":M,"data-y-position":rt,"data-x-position":Or,style:{"--front-toast-height":`${((ee=I[0])==null?void 0:ee.height)||0}px`,"--width":`${yP}px`,"--gap":`${w}px`,...g,...EP(c,d)},onBlur:de=>{ne.current&&!de.currentTarget.contains(de.relatedTarget)&&(ne.current=!1,pe.current&&(pe.current.focus({preventScroll:!0}),pe.current=null))},onFocus:de=>{de.target instanceof HTMLElement&&de.target.dataset.dismissible==="false"||ne.current||(ne.current=!0,pe.current=de.relatedTarget)},onMouseEnter:()=>U(!0),onMouseMove:()=>U(!0),onMouseLeave:()=>{T||U(!1)},onDragEnd:()=>U(!1),onPointerDown:de=>{de.target instanceof HTMLElement&&de.target.dataset.dismissible==="false"||L(!0)},onPointerUp:()=>L(!1)},k.filter(de=>!de.position&&ae===0||de.position===V).map((de,N)=>{var G,re;return D.createElement(SP,{key:de.id,icons:_,index:N,toast:de,defaultRichColors:h,duration:(G=b==null?void 0:b.duration)!=null?G:m,className:b==null?void 0:b.className,descriptionClassName:b==null?void 0:b.descriptionClassName,invert:i,visibleToasts:v,closeButton:(re=b==null?void 0:b.closeButton)!=null?re:l,interacting:T,position:V,style:b==null?void 0:b.style,unstyled:b==null?void 0:b.unstyled,classNames:b==null?void 0:b.classNames,cancelButtonStyle:b==null?void 0:b.cancelButtonStyle,actionButtonStyle:b==null?void 0:b.actionButtonStyle,closeButtonAriaLabel:b==null?void 0:b.closeButtonAriaLabel,removeToast:F,toasts:k.filter(R=>R.position==de.position),heights:I.filter(R=>R.position==de.position),setHeights:C,expandByDefault:s,gap:w,expanded:$,swipeDirections:t.swipeDirections})})):null}))});function PP(){const{t:e}=Ee(),[t,r]=y.useState(""),[n,i]=y.useState(""),[a,o]=y.useState(""),[s,l]=y.useState(!1),u=Dt(),c=async d=>{if(d.preventDefault(),n!==a){Ve.error(e("passwords_do_not_match")||"Las contraseñas no coinciden");return}if(!/^[A-Za-z0-9]{8,}$/.test(n)){Ve.error(`${e("invalid_password_format")} ${e("password_hint")}`);return}try{const m=await(await fetch("http://127.0.0.1:8001/check_email_exists",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t})})).json();if(m.exists){Ve.error(`${e("email_already_registered")} ${m.provider}`);return}const{data:g,error:v}=await Je.auth.signUp({email:t,password:n});if(v){Ve.error(e("error_creating_account")+": "+v.message);return}if(!g.session){Ve.success(e("account_created_check_email")),setTimeout(()=>u("/login"),3e3);return}if(!(await fetch("http://127.0.0.1:8001/initialize_user",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({auth_user_id:g.user.id,email:g.user.email})})).ok){Ve.error(e("error_initializing_account"));return}Ve.success(e("account_created_redirecting")),setTimeout(()=>u("/dashboard"),2e3)}catch(h){console.error(h),Ve.error(e("unexpected_error"))}};return p.jsx("div",{style:OP,children:p.jsxs("div",{style:kP,children:[p.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[p.jsx("img",{src:"/logo-evolvian.svg",alt:"Logo Evolvian",style:{width:"64px",margin:"0 auto 1rem"}}),p.jsx("h1",{style:{fontSize:"1.75rem",fontWeight:"bold"},children:e("create_account")})]}),p.jsxs("form",{onSubmit:c,style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[p.jsx("div",{style:rl,children:p.jsx("input",{type:"email",placeholder:e("email"),value:t,onChange:d=>r(d.target.value),required:!0,style:{...tl,border:"none",flex:1}})}),p.jsxs("div",{style:rl,children:[p.jsx("input",{type:s?"text":"password",placeholder:e("password"),value:n,onChange:d=>i(d.target.value),required:!0,style:{...tl,border:"none",flex:1}}),p.jsx("div",{style:AP,onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),children:s?p.jsx(dd,{}):p.jsx(fd,{})})]}),p.jsx("p",{style:CP,children:e("password_hint")}),p.jsx("div",{style:rl,children:p.jsx("input",{type:"password",placeholder:e("confirm_password")||"Confirmar contraseña",value:a,onChange:d=>o(d.target.value),required:!0,style:{...tl,border:"none",flex:1}})}),p.jsx("button",{type:"submit",style:TP,children:e("create_account")})]}),p.jsxs("p",{style:RP,children:[e("already_have_account")," ",p.jsx(Mr,{to:"/login",style:IP,children:e("login_here")})]})]})})}const OP={height:"100vh",width:"100vw",backgroundColor:"#0f1c2e",display:"flex",alignItems:"center",justifyContent:"center",padding:"1rem",fontFamily:"system-ui, Avenir, Helvetica, Arial, sans-serif"},kP={width:"100%",maxWidth:"400px",backgroundColor:"#1b2a41",color:"white",borderRadius:"1.5rem",padding:"2rem",boxShadow:"0 15px 40px rgba(0,0,0,0.3)",border:"1px solid #274472"},tl={width:"100%",padding:"0.6rem 1rem",background:"transparent",borderRadius:"8px",color:"white",fontSize:"1rem"},rl={display:"flex",alignItems:"center",border:"1px solid #274472",borderRadius:"8px",backgroundColor:"transparent",height:"40px",paddingRight:"0.75rem"},AP={color:"#ccc",cursor:"pointer",fontSize:"1.1rem"},CP={fontSize:"0.75rem",color:"#ccc",marginTop:"-0.5rem",marginBottom:"0.5rem",paddingLeft:"0.25rem"},TP={backgroundColor:"#2eb39a",padding:"0.7rem",color:"white",borderRadius:"8px",fontWeight:"bold",border:"none",cursor:"pointer",fontSize:"1rem"},RP={textAlign:"center",fontSize:"0.875rem",color:"#bbb",marginTop:"2rem"},IP={color:"#f5a623",fontWeight:"bold",textDecoration:"underline"};function $P(){const{t:e}=Ee(),t=Dt();return y.useEffect(()=>{const r=setTimeout(()=>{t("/login")},4e3);return()=>clearTimeout(r)},[t]),p.jsx("div",{style:DP,children:p.jsxs("div",{style:MP,children:[p.jsxs("h2",{style:NP,children:["✅ ",e("email_confirmed_successfully")]}),p.jsx("p",{style:LP,children:e("redirecting_to_login")})]})})}const DP={height:"100vh",width:"100vw",backgroundColor:"#0f1c2e",display:"flex",alignItems:"center",justifyContent:"center",padding:"1rem",fontFamily:"system-ui, Avenir, Helvetica, Arial, sans-serif"},MP={backgroundColor:"#1b2a41",color:"#ffffff",padding:"2rem",borderRadius:"1.5rem",boxShadow:"0 15px 40px rgba(0,0,0,0.3)",textAlign:"center",maxWidth:"400px",width:"100%",border:"1px solid #274472"},NP={fontSize:"1.25rem",fontWeight:"600",marginBottom:"0.75rem",color:"#a3d9b1"},LP={fontSize:"0.95rem",color:"#ededed"};function BP(){const{t:e}=Ee(),[t,r]=y.useState(""),n=async i=>{i.preventDefault();const{error:a}=await Je.auth.resetPasswordForEmail(t,{redirectTo:`${window.location.origin}/reset-password`});a?(console.error("❌ Error al enviar reset:",a.message),Ve.error(e("error_sending_reset_email"))):Ve.success(e("check_your_email"))};return p.jsx("div",{style:UP,children:p.jsxs("div",{style:FP,children:[p.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[p.jsx("img",{src:"/logo-evolvian.svg",alt:"Logo Evolvian",style:{width:"64px",margin:"0 auto 1rem"}}),p.jsx("h1",{style:zP,children:e("recover_password")}),p.jsx("p",{style:qP,children:e("enter_your_email")})]}),p.jsxs("form",{onSubmit:n,style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[p.jsx("div",{style:WP,children:p.jsx("input",{type:"email",placeholder:e("email"),value:t,onChange:i=>r(i.target.value),required:!0,style:{...HP,border:"none",flex:1}})}),p.jsx("button",{type:"submit",style:KP,children:e("send_email")})]}),p.jsxs("p",{style:VP,children:[e("already_have_access")," ",p.jsx(Mr,{to:"/login",style:GP,children:e("login")})]})]})})}const UP={height:"100vh",width:"100vw",backgroundColor:"#0f1c2e",display:"flex",alignItems:"center",justifyContent:"center",padding:"1rem",fontFamily:"system-ui, Avenir, Helvetica, Arial, sans-serif"},FP={width:"100%",maxWidth:"400px",backgroundColor:"#1b2a41",borderRadius:"1.5rem",padding:"2rem",color:"white",boxShadow:"0 15px 40px rgba(0,0,0,0.3)",border:"1px solid #274472"},zP={fontSize:"1.5rem",fontWeight:"bold"},qP={fontSize:"0.9rem",color:"#ccc"},WP={display:"flex",alignItems:"center",border:"1px solid #274472",borderRadius:"8px",backgroundColor:"transparent",height:"40px",paddingRight:"0.75rem"},HP={width:"100%",padding:"0.6rem 1rem",background:"transparent",borderRadius:"8px",color:"white",fontSize:"1rem"},KP={backgroundColor:"#2eb39a",padding:"0.7rem",color:"white",borderRadius:"8px",fontWeight:"bold",border:"none",cursor:"pointer",fontSize:"1rem"},VP={textAlign:"center",fontSize:"0.875rem",color:"#bbb",marginTop:"2rem"},GP={color:"#f5a623",fontWeight:"bold",textDecoration:"underline"};function YP(){const{t:e}=Ee(),t=Dt(),[r,n]=y.useState(""),[i,a]=y.useState(!1),[o,s]=y.useState(!1),[l,u]=y.useState(!1);y.useEffect(()=>{window.location.hash.includes("access_token")?u(!0):(Ve.error(e("invalid_token")),t("/forgot-password"))},[t,e]);const c=async d=>{d.preventDefault(),s(!0);const{error:f}=await Je.auth.updateUser({password:r});f?Ve.error(`❌ ${e("error_updating_password")}: ${f.message}`):(Ve.success(`🔒 ${e("password_updated_successfully")}`),t("/login")),s(!1)};return l?p.jsx("div",{style:JP,children:p.jsxs("div",{style:XP,children:[p.jsxs("div",{style:{textAlign:"center",marginBottom:"1.5rem"},children:[p.jsx("img",{src:"/logo-evolvian.svg",alt:"Logo Evolvian",style:{width:"64px",margin:"0 auto 1rem"}}),p.jsx("h1",{style:ZP,children:e("new_password")}),p.jsx("p",{style:QP,children:e("enter_new_password")})]}),p.jsxs("form",{onSubmit:c,style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[p.jsxs("div",{style:eO,children:[p.jsx("input",{type:i?"text":"password",placeholder:e("new_password_placeholder"),value:r,onChange:d=>n(d.target.value),required:!0,style:{...tO,border:"none",flex:1}}),p.jsx("div",{style:rO,onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),children:i?p.jsx(dd,{}):p.jsx(fd,{})})]}),p.jsx("button",{type:"submit",disabled:o,style:{...nO,opacity:o?.7:1,cursor:o?"not-allowed":"pointer"},children:e(o?"updating":"update_password")})]})]})}):null}const JP={height:"100vh",width:"100vw",backgroundColor:"#0f1c2e",display:"flex",alignItems:"center",justifyContent:"center",padding:"1rem",fontFamily:"system-ui, Avenir, Helvetica, Arial, sans-serif"},XP={width:"100%",maxWidth:"400px",backgroundColor:"#1b2a41",borderRadius:"1.5rem",padding:"2rem",color:"white",boxShadow:"0 15px 40px rgba(0,0,0,0.3)",border:"1px solid #274472"},ZP={fontSize:"1.5rem",fontWeight:"bold"},QP={fontSize:"0.9rem",color:"#ccc"},eO={display:"flex",alignItems:"center",border:"1px solid #274472",borderRadius:"8px",backgroundColor:"transparent",height:"40px",paddingRight:"0.75rem"},tO={width:"100%",padding:"0.6rem 1rem",background:"transparent",borderRadius:"8px",color:"white",fontSize:"1rem"},rO={color:"#ccc",cursor:"pointer",fontSize:"1.1rem"},nO={backgroundColor:"#2eb39a",padding:"0.7rem",color:"white",borderRadius:"8px",fontWeight:"bold",border:"none",fontSize:"1rem"};function iO(){const{t:e}=Ee(),[t,r]=y.useState(""),[n,i]=y.useState(!1),[a,o]=y.useState(!1),s=async l=>{l.preventDefault(),i(!0);const{error:u}=await Je.auth.signInWithOtp({email:t,options:{redirectTo:`${window.location.origin}/dashboard`}});u?Ve.error(e("error_sending_login_link")):(Ve.success(e("check_your_email_login_link")),o(!0)),i(!1)};return p.jsx("div",{style:aO,children:p.jsxs("div",{style:oO,children:[p.jsxs("div",{style:{textAlign:"center",marginBottom:"1.5rem"},children:[p.jsx("img",{src:"/logo-evolvian.svg",alt:"Logo Evolvian",style:{width:"64px",margin:"0 auto 1rem"}}),p.jsx("h1",{style:sO,children:e("access_verification")}),p.jsx("p",{style:lO,children:e("confirm_email_to_continue")})]}),a?p.jsx("p",{style:{textAlign:"center",color:"#ededed"},children:e("email_link_sent")}):p.jsxs("form",{onSubmit:s,style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[p.jsx("input",{type:"email",placeholder:e("email"),value:t,onChange:l=>r(l.target.value),required:!0,style:cO}),p.jsx("button",{type:"submit",disabled:n,style:{...uO,opacity:n?.7:1,cursor:n?"not-allowed":"pointer"},children:e(n?"sending":"send_login_link")})]})]})})}const aO={height:"100vh",width:"100vw",backgroundColor:"#0f1c2e",display:"flex",alignItems:"center",justifyContent:"center",padding:"1rem",fontFamily:"system-ui, Avenir, Helvetica, Arial, sans-serif"},oO={width:"100%",maxWidth:"400px",backgroundColor:"#1b2a41",borderRadius:"1.5rem",padding:"2rem",color:"white",boxShadow:"0 15px 40px rgba(0,0,0,0.3)",border:"1px solid #274472"},sO={fontSize:"1.5rem",fontWeight:"bold"},lO={fontSize:"0.9rem",color:"#ccc"},cO={padding:"0.6rem 1rem",background:"transparent",border:"1px solid #274472",borderRadius:"8px",color:"white",fontSize:"1rem"},uO={backgroundColor:"#2eb39a",padding:"0.7rem",color:"white",borderRadius:"8px",fontWeight:"bold",border:"none",fontSize:"1rem"};function dO(e){const[t,r]=y.useState(null);return y.useEffect(()=>{if(!e)return;(async()=>{try{const o=await(await fetch(`http://127.0.0.1:8001/accepted_terms?client_id=${e}`)).json();r(o.has_accepted)}catch(a){console.error("❌ Error al verificar aceptación de términos:",a),r(!1)}})()},[e]),{hasAccepted:t,acceptTerms:async()=>{try{if(!(await fetch("http://127.0.0.1:8001/accept_terms",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:e})})).ok)throw new Error("Error al registrar aceptación");r(!0)}catch(i){console.error("❌ Error al aceptar términos:",i)}}}}function ir(){const[e,t]=y.useState(()=>{const r=localStorage.getItem("client_id");return r&&r!=="undefined"&&r!=="null"?r:null});return y.useEffect(()=>{const r=n=>{if(n.key==="client_id"){const i=n.newValue;i&&i!=="undefined"&&i!=="null"&&t(i)}};return window.addEventListener("storage",r),()=>window.removeEventListener("storage",r)},[]),e}function fO(){const e=Dt(),[t,r]=y.useState(!1),n=ir(),{hasAccepted:i,acceptTerms:a}=dO(n),o=async()=>{r(!0);const s=localStorage.getItem("user_id");console.log("🧠 Obtenido user_id desde localStorage:",s);try{if(s){const u=await(await fetch(`http://127.0.0.1:8001/clear_new_user_flag?user_id=${s}`,{method:"POST"})).json();console.log("✅ Respuesta de clear_new_user_flag:",u),console.log("🔄 Refrescando sesión después de limpiar bandera..."),await Je.auth.refreshSession(),sessionStorage.removeItem("alreadyRedirected")}else console.warn("⚠️ user_id no está disponible en localStorage");!i&&n&&(console.log("📩 Aceptando términos con client_id:",n),await a()),console.log("➡️ Redirigiendo a /dashboard..."),e("/dashboard",{replace:!0})}catch(l){console.error("❌ Error en Welcome:",l),e("/dashboard",{replace:!0})}finally{r(!1)}};return i===null?p.jsx("div",{style:{color:"white",padding:"2rem"},children:"Cargando..."}):p.jsx("div",{style:{height:"100vh",backgroundColor:"#0f1c2e",display:"flex",alignItems:"center",justifyContent:"center",fontFamily:"system-ui, sans-serif",padding:"2rem",color:"white"},children:p.jsxs("div",{style:{backgroundColor:"#1b2a41",padding:"3rem",borderRadius:"1.5rem",maxWidth:"600px",width:"100%",textAlign:"center",boxShadow:"0 0 30px rgba(0,0,0,0.2)",border:"1px solid #274472"},children:[p.jsx("img",{src:"/logo-evolvian.svg",alt:"Evolvian",style:{width:"60px",marginBottom:"1.5rem"}}),p.jsx("h1",{style:{fontSize:"1.8rem",color:"#a3d9b1",marginBottom:"1rem"},children:"Bienvenido a Evolvian, tu nuevo copiloto de conocimiento."}),p.jsxs("p",{style:{fontSize:"1rem",color:"#ededed",marginBottom:"1.5rem"},children:["Has dado el primer paso hacia una forma más rápida, segura y precisa de resolver tus dudas, compartir respuestas y empoderar a tus usuarios.",p.jsx("br",{}),p.jsx("br",{}),"Evolvian es un asistente de inteligencia artificial que entiende tus documentos y responde como si fueras tú. Aquí empieza todo."]}),p.jsx("button",{onClick:o,disabled:t,style:{backgroundColor:"#2eb39a",color:"white",fontSize:"1rem",padding:"0.8rem 1.6rem",border:"none",borderRadius:"8px",fontWeight:"bold",cursor:t?"not-allowed":"pointer"},children:t?"Cargando...":"Ir al panel"})]})})}function hO(){return p.jsxs("div",{style:{padding:"2rem"},children:[p.jsx("h2",{children:"404 – Página no encontrada"}),p.jsx("p",{children:"La ruta que intentaste no existe."})]})}function pO(){const[e]=gy(),t=e.get("public_client_id");return t?p.jsx("div",{style:{margin:0,padding:0,width:"100vw",height:"100vh",backgroundColor:"#ededed",fontFamily:"system-ui, sans-serif",display:"flex",justifyContent:"center",alignItems:"center"},children:p.jsxs("div",{style:{width:"360px",height:"520px",backgroundColor:"#ffffff",border:"2px solid #4a90e2",borderRadius:"16px",boxShadow:"0 6px 24px rgba(0,0,0,0.15)",overflow:"hidden"},children:[p.jsx(ns,{clientId:t})," "]})}):p.jsx("div",{style:{padding:"2rem",fontFamily:"system-ui, sans-serif",color:"#e74c3c",textAlign:"center"},children:"⚠️ No se proporcionó un public_client_id."})}function mO(){const[e,t]=y.useState("");return y.useEffect(()=>{const r=new URLSearchParams(window.location.search),n=r.get("client_id")||r.get("public_client_id");n&&t(n)},[]),e?p.jsx("div",{style:{width:"100%",height:"100%",backgroundColor:"#ffffff"},children:p.jsx(ns,{clientId:e})}):p.jsx("p",{style:{padding:"1rem"},children:"❌ Client ID no encontrado."})}const gO=["Afghanistan","Albania","Germany","Andorra","Angola","Saudi Arabia","Algeria","Argentina","Armenia","Australia","Austria","Azerbaijan","Bahamas","Bangladesh","Bahrain","Belgium","Belize","Benin","Belarus","Bolivia","Bosnia and Herzegovina","Botswana","Brazil","Brunei","Bulgaria","Burkina Faso","Burundi","Cape Verde","Cambodia","Cameroon","Canada","Chile","China","Cyprus","Colombia","Comoros","South Korea","Ivory Coast","Costa Rica","Croatia","Denmark","Djibouti","Dominica","Ecuador","Egypt","El Salvador","United Arab Emirates","Slovakia","Slovenia","Spain","United States","Estonia","Ethiopia","Philippines","Finland","France","Gabon","Gambia","Georgia","Ghana","Greece","Guatemala","Guyana","Honduras","Hungary","India","Indonesia","Iraq","Iran","Ireland","Iceland","Marshall Islands","Israel","Italy","Jamaica","Japan","Jordan","Kazakhstan","Kenya","Kyrgyzstan","Kuwait","Laos","Latvia","Lebanon","Liberia","Libya","Liechtenstein","Lithuania","Luxembourg","North Macedonia","Madagascar","Malaysia","Malawi","Maldives","Mali","Malta","Morocco","Mauritius","Mauritania","Mexico","Moldova","Monaco","Mongolia","Montenegro","Mozambique","Namibia","Nepal","Nicaragua","Niger","Nigeria","Norway","New Zealand","Oman","Netherlands","Pakistan","Panama","Papua New Guinea","Paraguay","Peru","Poland","Portugal","Qatar","United Kingdom","Central African Republic","Czech Republic","Democratic Republic of the Congo","Dominican Republic","Rwanda","Romania","Russia","Samoa","San Marino","Saint Lucia","Senegal","Serbia","Seychelles","Singapore","Syria","Somalia","Sri Lanka","South Africa","Sudan","Sweden","Switzerland","Suriname","Thailand","Tanzania","Tajikistan","East Timor","Togo","Tonga","Trinidad and Tobago","Tunisia","Turkey","Turkmenistan","Ukraine","Uganda","Uruguay","Uzbekistan","Vanuatu","Vatican City","Venezuela","Vietnam","Yemen","Zambia","Zimbabwe"],vO=["Software","Education","Healthcare","Finance","Retail","Manufacturing","Consulting","Other"],yO=["Founder / CEO","CMO / Marketing Manager","Customer Support","Operations Manager","Sales Executive","IT Manager","Product Manager","Developer / Engineer","HR / People","Other"],bO=["Chat Widget","WhatsApp","Email","Others"],wO=["1-10 employees","11-50 employees","51-200 employees","201-500 employees","501-1000 employees","More than 1000 employees"],nl=["welcome_intro","personalization","terms","plan"];function xO({onClose:e}){const{t}=Ee(),[r,n]=y.useState(1),[i,a]=y.useState(!1),[o,s]=y.useState({industry:"",role:"",country:"",channels:[],companySize:""}),[l,u]=y.useState(null),[c,d]=y.useState(null);y.useEffect(()=>{async function x(){try{const w=localStorage.getItem("client_id");if(!w)throw new Error("client_id not found in localStorage");const _=await fetch(`http://127.0.0.1:8001/client_settings?client_id=${w}`);if(!_.ok)throw new Error(`HTTP ${_.status}: ${await _.text()}`);const S=await _.json();u(S)}catch(w){console.error("❌ Error loading settings:",w)}}x()},[]);const f=async()=>{try{a(!0),sessionStorage.setItem("alreadyRedirected","true"),e()}catch(x){console.error("❌ Error in handleContinue:",x)}finally{a(!1)}},h=async()=>{if(d(null),r===3)try{const x=localStorage.getItem("client_id");if(!x)throw new Error("client_id not found");if(console.log("📝 Saving client profile..."),!(await fetch("http://127.0.0.1:8001/save_client_profile",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:x,industry:o.industry,role:o.role,country:o.country,channels:o.channels,company_size:o.companySize})})).ok)throw new Error("Error saving client profile");if(console.log("✅ Profile saved. Accepting terms..."),!(await fetch("http://127.0.0.1:8001/accept_terms",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:x})})).ok)throw new Error("Error accepting terms and conditions");console.log("✅ Consent complete. Proceeding..."),n(S=>Math.min(S+1,nl.length))}catch(x){console.error("❌ Error in step 3:",x),d("There was an issue saving your consent. Please try again.")}else n(x=>Math.min(x+1,nl.length))},m=()=>n(x=>Math.max(x-1,1)),g=x=>{const{name:w,value:_}=x.target;s(S=>({...S,[w]:_}))},v=x=>{s(w=>{const S=w.channels.includes(x)?w.channels.filter(E=>E!==x):[...w.channels,x];return{...w,channels:S}})},b=()=>{var x;switch(r){case 1:return p.jsxs(p.Fragment,{children:[p.jsx("img",{src:"/logo-evolvian.svg",alt:"Evolvian Logo",style:EO}),p.jsx("h1",{style:Ia,children:"Welcome to Evolvian"}),p.jsx("p",{style:vi,children:"Let's personalize your assistant experience in a few quick steps."})]});case 2:return p.jsxs(p.Fragment,{children:[p.jsx("h2",{style:Ia,children:"Personalize Your Experience"}),p.jsx("p",{style:vi,children:"Tell us a bit about your company so we can better tailor your assistant."}),p.jsxs("div",{style:jO,children:[p.jsxs("select",{name:"industry",value:o.industry,onChange:g,style:$a,children:[p.jsx("option",{value:"",children:"Select your industry"}),vO.map(w=>p.jsx("option",{value:w,children:w},w))]}),p.jsxs("select",{name:"role",value:o.role,onChange:g,style:$a,children:[p.jsx("option",{value:"",children:"Select your role"}),yO.map(w=>p.jsx("option",{value:w,children:w},w))]}),p.jsxs("select",{name:"country",value:o.country,onChange:g,style:$a,children:[p.jsx("option",{value:"",children:"Select your country"}),gO.map(w=>p.jsx("option",{value:w,children:w},w))]}),p.jsxs("div",{style:{textAlign:"left",marginTop:"1rem"},children:[p.jsx("p",{style:{...vi,marginBottom:"0.5rem",color:"#ededed"},children:"Which channels are you interested in?"}),bO.map(w=>p.jsxs("label",{style:{color:"#ededed",fontSize:"0.9rem",display:"block",marginBottom:"0.3rem"},children:[p.jsx("input",{type:"checkbox",checked:o.channels.includes(w),onChange:()=>v(w),style:{marginRight:"0.5rem"}}),w]},w))]}),p.jsxs("select",{name:"companySize",value:o.companySize,onChange:g,style:$a,children:[p.jsx("option",{value:"",children:"Select company size"}),wO.map(w=>p.jsx("option",{value:w,children:w},w))]})]})]});case 3:return p.jsxs(p.Fragment,{children:[p.jsx("h2",{style:Ia,children:"Terms and Conditions"}),p.jsxs("p",{style:vi,children:["Please review our"," ",p.jsx("a",{href:"/terms",target:"_blank",rel:"noopener noreferrer",style:Mh,children:"Terms and Conditions"})," ","and"," ",p.jsx("a",{href:"/privacy",target:"_blank",rel:"noopener noreferrer",style:Mh,children:"Privacy Policy"})," ","before continuing."]}),c&&p.jsx("p",{style:{color:"red",marginTop:"1rem"},children:c})]});case 4:return l&&p.jsxs(p.Fragment,{children:[p.jsx("h2",{style:Ia,children:"Your Current Plan"}),p.jsxs("p",{style:vi,children:["You are currently on the"," ",p.jsx("strong",{children:((x=l.plan)==null?void 0:x.name)||"Free"})," plan."]})]});default:return null}};return p.jsx("div",{style:_O,children:p.jsxs("div",{style:SO,children:[b(),p.jsxs("div",{style:{marginTop:"2rem",display:"flex",justifyContent:"center"},children:[r>1&&p.jsx("button",{onClick:m,style:PO,children:"Back"}),r<nl.length?p.jsx("button",{onClick:h,style:Nh,children:"Next"}):p.jsx("button",{onClick:f,style:Nh,disabled:i,children:i?"Loading...":"Start"})]})]})})}const _O={position:"fixed",inset:0,background:"rgba(15, 28, 46, 0.6)",backdropFilter:"blur(6px)",WebkitBackdropFilter:"blur(6px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999,animation:"fadeIn 0.3s ease-in-out"},SO={background:"#1b2a41",border:"2px solid #274472",borderRadius:"20px",padding:"2.5rem 3rem",width:"95%",maxWidth:"780px",color:"#fff",textAlign:"center",boxShadow:"0 8px 28px rgba(0,0,0,0.35)",animation:"scaleIn 0.25s ease-in-out"},Ia={fontSize:"1.8rem",color:"#a3d9b1",marginBottom:"1rem"},vi={fontSize:"1rem",color:"#ededed",marginBottom:"1.5rem",lineHeight:1.6},EO={width:"80px",marginBottom:"1.5rem",opacity:.95},$a={padding:"0.8rem",borderRadius:"8px",border:"1px solid #4a90e2",backgroundColor:"#0f1c2e",color:"white",outline:"none"},Mh={color:"#4a90e2",textDecoration:"underline"},jO={display:"flex",flexDirection:"column",gap:"1rem",marginTop:"1rem"},Nh={background:"#2eb39a",color:"#fff",padding:"10px 24px",borderRadius:"8px",fontWeight:600,border:"none",cursor:"pointer",marginLeft:"1rem"},PO={background:"#4b5563",color:"#fff",padding:"10px 24px",borderRadius:"8px",fontWeight:500,border:"none",cursor:"pointer"},By=document.createElement("style");By.innerHTML=`
@keyframes fadeIn {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}
@keyframes scaleIn {
  from { opacity: 0; transform: scale(0.95); }
  to { opacity: 1; transform: scale(1); }
}`;document.head.appendChild(By);const at=Ve;function Uy(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=Uy(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function ge(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=Uy(e))&&(n&&(n+=" "),n+=t);return n}var il={},al={},Lh;function OO(){return Lh||(Lh=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(al)),al}var ol={},Bh;function Fy(){return Bh||(Bh=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(ol)),ol}var sl={},Uh;function zy(){return Uh||(Uh=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(sl)),sl}var ll={},Fh;function hd(){return Fh||(Fh=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){const n=[],i=r.length;if(i===0)return n;let a=0,o="",s="",l=!1;for(r.charCodeAt(0)===46&&(n.push(""),a++);a<i;){const u=r[a];s?u==="\\"&&a+1<i?(a++,o+=r[a]):u===s?s="":o+=u:l?u==='"'||u==="'"?s=u:u==="]"?(l=!1,n.push(o),o=""):o+=u:u==="["?(l=!0,o&&(n.push(o),o="")):u==="."?o&&(n.push(o),o=""):o+=u,a++}return o&&n.push(o),n}e.toPath=t})(ll)),ll}var zh;function pd(){return zh||(zh=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=OO(),r=Fy(),n=zy(),i=hd();function a(s,l,u){if(s==null)return u;switch(typeof l){case"string":{if(t.isUnsafeProperty(l))return u;const c=s[l];return c===void 0?r.isDeepKey(l)?a(s,i.toPath(l),u):u:c}case"number":case"symbol":{typeof l=="number"&&(l=n.toKey(l));const c=s[l];return c===void 0?u:c}default:{if(Array.isArray(l))return o(s,l,u);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),t.isUnsafeProperty(l))return u;const c=s[l];return c===void 0?u:c}}}function o(s,l,u){if(l.length===0)return u;let c=s;for(let d=0;d<l.length;d++){if(c==null||t.isUnsafeProperty(l[d]))return u;c=c[l[d]]}return c===void 0?u:c}e.get=a})(il)),il}var cl,qh;function kO(){return qh||(qh=1,cl=pd().get),cl}var AO=kO();const Un=rr(AO);var ul={exports:{}},ce={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wh;function CO(){if(Wh)return ce;Wh=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),s=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),c=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.for("react.view_transition"),h=Symbol.for("react.client.reference");function m(g){if(typeof g=="object"&&g!==null){var v=g.$$typeof;switch(v){case e:switch(g=g.type,g){case r:case i:case n:case l:case u:case f:return g;default:switch(g=g&&g.$$typeof,g){case o:case s:case d:case c:return g;case a:return g;default:return v}}case t:return v}}}return ce.ContextConsumer=a,ce.ContextProvider=o,ce.Element=e,ce.ForwardRef=s,ce.Fragment=r,ce.Lazy=d,ce.Memo=c,ce.Portal=t,ce.Profiler=i,ce.StrictMode=n,ce.Suspense=l,ce.SuspenseList=u,ce.isContextConsumer=function(g){return m(g)===a},ce.isContextProvider=function(g){return m(g)===o},ce.isElement=function(g){return typeof g=="object"&&g!==null&&g.$$typeof===e},ce.isForwardRef=function(g){return m(g)===s},ce.isFragment=function(g){return m(g)===r},ce.isLazy=function(g){return m(g)===d},ce.isMemo=function(g){return m(g)===c},ce.isPortal=function(g){return m(g)===t},ce.isProfiler=function(g){return m(g)===i},ce.isStrictMode=function(g){return m(g)===n},ce.isSuspense=function(g){return m(g)===l},ce.isSuspenseList=function(g){return m(g)===u},ce.isValidElementType=function(g){return typeof g=="string"||typeof g=="function"||g===r||g===i||g===n||g===l||g===u||typeof g=="object"&&g!==null&&(g.$$typeof===d||g.$$typeof===c||g.$$typeof===o||g.$$typeof===a||g.$$typeof===s||g.$$typeof===h||g.getModuleId!==void 0)},ce.typeOf=m,ce}var Hh;function TO(){return Hh||(Hh=1,ul.exports=CO()),ul.exports}var RO=TO(),st=e=>e===0?0:e>0?1:-1,wt=e=>typeof e=="number"&&e!=+e,Zr=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,z=e=>(typeof e=="number"||e instanceof Number)&&!wt(e),er=e=>z(e)||typeof e=="string",IO=0,Hi=e=>{var t=++IO;return"".concat(e||"").concat(t)},Wt=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!z(t)&&typeof t!="string")return n;var a;if(Zr(t)){if(r==null)return n;var o=t.indexOf("%");a=r*parseFloat(t.slice(0,o))/100}else a=+t;return wt(a)&&(a=n),i&&r!=null&&a>r&&(a=r),a},qy=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1};function Ze(e,t,r){return z(e)&&z(t)?e+r*(t-e):t}function $O(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):Un(n,t))===r)}var Ie=e=>e===null||typeof e>"u",aa=e=>Ie(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),DO=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function md(e){if(typeof e!="string")return!1;var t=DO;return t.includes(e)}var MO=["viewBox","children"],Kh=["points","pathLength"],dl={svg:MO,polygon:Kh,polyline:Kh},NO=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(y.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{md(i)&&(n[i]=(a=>r[i](r,a)))}),n},LO=(e,t,r)=>n=>(e(t,r,n),null),gd=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(i=>{var a=e[i];md(i)&&typeof a=="function"&&(n||(n={}),n[i]=LO(a,t,r))}),n},BO=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function Wy(e){if(typeof e!="string")return!1;var t=BO;return t.includes(e)}function ri(e){var t=Object.entries(e).filter(r=>{var[n]=r;return Wy(n)});return Object.fromEntries(t)}var Vh=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",Gh=null,fl=null,Hy=e=>{if(e===Gh&&Array.isArray(fl))return fl;var t=[];return y.Children.forEach(e,r=>{Ie(r)||(RO.isFragment(r)?t=t.concat(Hy(r.props.children)):t.push(r))}),fl=t,Gh=e,t};function UO(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(i=>Vh(i)):n=[Vh(t)],Hy(e).forEach(i=>{var a=Un(i,"type.displayName")||Un(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}var FO=(e,t,r,n)=>{var i;if(typeof t=="symbol"||typeof t=="number")return!0;var a=(i=n&&(dl==null?void 0:dl[n]))!==null&&i!==void 0?i:[],o=t.startsWith("data-"),s=typeof e!="function"&&(!!n&&a.includes(t)||Wy(t)),l=!!r&&md(t);return o||s||l},ze=(e,t,r)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(y.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var i={};return Object.keys(n).forEach(a=>{var o;FO((o=n)===null||o===void 0?void 0:o[a],a,t,r)&&(i[a]=n[a])}),i},zO=["children","width","height","viewBox","className","style","title","desc"];function tu(){return tu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tu.apply(null,arguments)}function qO(e,t){if(e==null)return{};var r,n,i=WO(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function WO(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Ky=y.forwardRef((e,t)=>{var{children:r,width:n,height:i,viewBox:a,className:o,style:s,title:l,desc:u}=e,c=qO(e,zO),d=a||{width:n,height:i,x:0,y:0},f=ge("recharts-surface",o);return y.createElement("svg",tu({},ze(c,!0,"svg"),{className:f,width:n,height:i,style:s,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height),ref:t}),y.createElement("title",null,l),y.createElement("desc",null,u),r)}),HO=["children","className"];function ru(){return ru=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ru.apply(null,arguments)}function KO(e,t){if(e==null)return{};var r,n,i=VO(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function VO(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Nr=y.forwardRef((e,t)=>{var{children:r,className:n}=e,i=KO(e,HO),a=ge("recharts-layer",n);return y.createElement("g",ru({className:a},ze(i,!0),{ref:t}),r)}),GO=y.createContext(null);function he(e){return function(){return e}}const Vy=Math.cos,vo=Math.sin,Kt=Math.sqrt,yo=Math.PI,ss=2*yo,nu=Math.PI,iu=2*nu,Gr=1e-6,YO=iu-Gr;function Gy(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function JO(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Gy;const r=10**t;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class XO{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Gy:JO(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,a,o){this._append`C${+t},${+r},${+n},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(t,r,n,i,a){if(t=+t,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,l=n-t,u=i-r,c=o-t,d=s-r,f=c*c+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(f>Gr)if(!(Math.abs(d*l-u*c)>Gr)||!a)this._append`L${this._x1=t},${this._y1=r}`;else{let h=n-o,m=i-s,g=l*l+u*u,v=h*h+m*m,b=Math.sqrt(g),x=Math.sqrt(f),w=a*Math.tan((nu-Math.acos((g+f-v)/(2*b*x)))/2),_=w/x,S=w/b;Math.abs(_-1)>Gr&&this._append`L${t+_*c},${r+_*d}`,this._append`A${a},${a},0,0,${+(d*h>c*m)},${this._x1=t+S*l},${this._y1=r+S*u}`}}arc(t,r,n,i,a,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(i),l=n*Math.sin(i),u=t+s,c=r+l,d=1^o,f=o?i-a:a-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>Gr||Math.abs(this._y1-c)>Gr)&&this._append`L${u},${c}`,n&&(f<0&&(f=f%iu+iu),f>YO?this._append`A${n},${n},0,1,${d},${t-s},${r-l}A${n},${n},0,1,${d},${this._x1=u},${this._y1=c}`:f>Gr&&this._append`A${n},${n},0,${+(f>=nu)},${d},${this._x1=t+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function vd(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new XO(t)}function yd(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Yy(e){this._context=e}Yy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function ls(e){return new Yy(e)}function Jy(e){return e[0]}function Xy(e){return e[1]}function Zy(e,t){var r=he(!0),n=null,i=ls,a=null,o=vd(s);e=typeof e=="function"?e:e===void 0?Jy:he(e),t=typeof t=="function"?t:t===void 0?Xy:he(t);function s(l){var u,c=(l=yd(l)).length,d,f=!1,h;for(n==null&&(a=i(h=o())),u=0;u<=c;++u)!(u<c&&r(d=l[u],u,l))===f&&((f=!f)?a.lineStart():a.lineEnd()),f&&a.point(+e(d,u,l),+t(d,u,l));if(h)return a=null,h+""||null}return s.x=function(l){return arguments.length?(e=typeof l=="function"?l:he(+l),s):e},s.y=function(l){return arguments.length?(t=typeof l=="function"?l:he(+l),s):t},s.defined=function(l){return arguments.length?(r=typeof l=="function"?l:he(!!l),s):r},s.curve=function(l){return arguments.length?(i=l,n!=null&&(a=i(n)),s):i},s.context=function(l){return arguments.length?(l==null?n=a=null:a=i(n=l),s):n},s}function Da(e,t,r){var n=null,i=he(!0),a=null,o=ls,s=null,l=vd(u);e=typeof e=="function"?e:e===void 0?Jy:he(+e),t=typeof t=="function"?t:he(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?Xy:he(+r);function u(d){var f,h,m,g=(d=yd(d)).length,v,b=!1,x,w=new Array(g),_=new Array(g);for(a==null&&(s=o(x=l())),f=0;f<=g;++f){if(!(f<g&&i(v=d[f],f,d))===b)if(b=!b)h=f,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),m=f-1;m>=h;--m)s.point(w[m],_[m]);s.lineEnd(),s.areaEnd()}b&&(w[f]=+e(v,f,d),_[f]=+t(v,f,d),s.point(n?+n(v,f,d):w[f],r?+r(v,f,d):_[f]))}if(x)return s=null,x+""||null}function c(){return Zy().defined(i).curve(o).context(a)}return u.x=function(d){return arguments.length?(e=typeof d=="function"?d:he(+d),n=null,u):e},u.x0=function(d){return arguments.length?(e=typeof d=="function"?d:he(+d),u):e},u.x1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:he(+d),u):n},u.y=function(d){return arguments.length?(t=typeof d=="function"?d:he(+d),r=null,u):t},u.y0=function(d){return arguments.length?(t=typeof d=="function"?d:he(+d),u):t},u.y1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:he(+d),u):r},u.lineX0=u.lineY0=function(){return c().x(e).y(t)},u.lineY1=function(){return c().x(e).y(r)},u.lineX1=function(){return c().x(n).y(t)},u.defined=function(d){return arguments.length?(i=typeof d=="function"?d:he(!!d),u):i},u.curve=function(d){return arguments.length?(o=d,a!=null&&(s=o(a)),u):o},u.context=function(d){return arguments.length?(d==null?a=s=null:s=o(a=d),u):a},u}class Qy{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function ZO(e){return new Qy(e,!0)}function QO(e){return new Qy(e,!1)}const bd={draw(e,t){const r=Kt(t/yo);e.moveTo(r,0),e.arc(0,0,r,0,ss)}},ek={draw(e,t){const r=Kt(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},e0=Kt(1/3),tk=e0*2,rk={draw(e,t){const r=Kt(t/tk),n=r*e0;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},nk={draw(e,t){const r=Kt(t),n=-r/2;e.rect(n,n,r,r)}},ik=.8908130915292852,t0=vo(yo/10)/vo(7*yo/10),ak=vo(ss/10)*t0,ok=-Vy(ss/10)*t0,sk={draw(e,t){const r=Kt(t*ik),n=ak*r,i=ok*r;e.moveTo(0,-r),e.lineTo(n,i);for(let a=1;a<5;++a){const o=ss*a/5,s=Vy(o),l=vo(o);e.lineTo(l*r,-s*r),e.lineTo(s*n-l*i,l*n+s*i)}e.closePath()}},hl=Kt(3),lk={draw(e,t){const r=-Kt(t/(hl*3));e.moveTo(0,r*2),e.lineTo(-hl*r,-r),e.lineTo(hl*r,-r),e.closePath()}},Pt=-.5,Ot=Kt(3)/2,au=1/Kt(12),ck=(au/2+1)*3,uk={draw(e,t){const r=Kt(t/ck),n=r/2,i=r*au,a=n,o=r*au+r,s=-a,l=o;e.moveTo(n,i),e.lineTo(a,o),e.lineTo(s,l),e.lineTo(Pt*n-Ot*i,Ot*n+Pt*i),e.lineTo(Pt*a-Ot*o,Ot*a+Pt*o),e.lineTo(Pt*s-Ot*l,Ot*s+Pt*l),e.lineTo(Pt*n+Ot*i,Pt*i-Ot*n),e.lineTo(Pt*a+Ot*o,Pt*o-Ot*a),e.lineTo(Pt*s+Ot*l,Pt*l-Ot*s),e.closePath()}};function dk(e,t){let r=null,n=vd(i);e=typeof e=="function"?e:he(e||bd),t=typeof t=="function"?t:he(t===void 0?64:+t);function i(){let a;if(r||(r=a=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:he(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:he(+a),i):t},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function bo(){}function wo(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function r0(e){this._context=e}r0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:wo(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:wo(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function fk(e){return new r0(e)}function n0(e){this._context=e}n0.prototype={areaStart:bo,areaEnd:bo,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:wo(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function hk(e){return new n0(e)}function i0(e){this._context=e}i0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:wo(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function pk(e){return new i0(e)}function a0(e){this._context=e}a0.prototype={areaStart:bo,areaEnd:bo,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function mk(e){return new a0(e)}function Yh(e){return e<0?-1:1}function Jh(e,t,r){var n=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(n||i<0&&-0),o=(r-e._y1)/(i||n<0&&-0),s=(a*i+o*n)/(n+i);return(Yh(a)+Yh(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function Xh(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function pl(e,t,r){var n=e._x0,i=e._y0,a=e._x1,o=e._y1,s=(a-n)/3;e._context.bezierCurveTo(n+s,i+s*t,a-s,o-s*r,a,o)}function xo(e){this._context=e}xo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:pl(this,this._t0,Xh(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,pl(this,Xh(this,r=Jh(this,e,t)),r);break;default:pl(this,this._t0,r=Jh(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function o0(e){this._context=new s0(e)}(o0.prototype=Object.create(xo.prototype)).point=function(e,t){xo.prototype.point.call(this,t,e)};function s0(e){this._context=e}s0.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,a){this._context.bezierCurveTo(t,e,n,r,a,i)}};function gk(e){return new xo(e)}function vk(e){return new o0(e)}function l0(e){this._context=e}l0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=Zh(e),i=Zh(t),a=0,o=1;o<r;++a,++o)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Zh(e){var t,r=e.length-1,n,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,o[t]-=n*o[t-1];for(i[r-1]=o[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function yk(e){return new l0(e)}function cs(e,t){this._context=e,this._t=t}cs.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function bk(e){return new cs(e,.5)}function wk(e){return new cs(e,0)}function xk(e){return new cs(e,1)}function Fn(e,t){if((o=e.length)>1)for(var r=1,n,i,a=e[t[0]],o,s=a.length;r<o;++r)for(i=a,a=e[t[r]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function ou(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function _k(e,t){return e[t]}function Sk(e){const t=[];return t.key=e,t}function Ek(){var e=he([]),t=ou,r=Fn,n=_k;function i(a){var o=Array.from(e.apply(this,arguments),Sk),s,l=o.length,u=-1,c;for(const d of a)for(s=0,++u;s<l;++s)(o[s][u]=[0,+n(d,o[s].key,u,a)]).data=d;for(s=0,c=yd(t(o));s<l;++s)o[c[s]].index=s;return r(o,c),o}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:he(Array.from(a)),i):e},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:he(+a),i):n},i.order=function(a){return arguments.length?(t=a==null?ou:typeof a=="function"?a:he(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(r=a??Fn,i):r},i}function jk(e,t){if((n=e.length)>0){for(var r,n,i=0,a=e[0].length,o;i<a;++i){for(o=r=0;r<n;++r)o+=e[r][i][1]||0;if(o)for(r=0;r<n;++r)e[r][i][1]/=o}Fn(e,t)}}function Pk(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,a=n.length;r<a;++r){for(var o=0,s=0;o<i;++o)s+=e[o][r][1]||0;n[r][1]+=n[r][0]=-s/2}Fn(e,t)}}function Ok(e,t){if(!(!((o=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,a,o;n<a;++n){for(var s=0,l=0,u=0;s<o;++s){for(var c=e[t[s]],d=c[n][1]||0,f=c[n-1][1]||0,h=(d-f)/2,m=0;m<s;++m){var g=e[t[m]],v=g[n][1]||0,b=g[n-1][1]||0;h+=v-b}l+=d,u+=h*d}i[n-1][1]+=i[n-1][0]=r,l&&(r-=u/l)}i[n-1][1]+=i[n-1][0]=r,Fn(e,t)}}var kk=["type","size","sizeType"];function su(){return su=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},su.apply(null,arguments)}function Qh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ep(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Qh(Object(r),!0).forEach(function(n){Ak(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qh(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ak(e,t,r){return(t=Ck(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ck(e){var t=Tk(e,"string");return typeof t=="symbol"?t:t+""}function Tk(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rk(e,t){if(e==null)return{};var r,n,i=Ik(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Ik(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var c0={symbolCircle:bd,symbolCross:ek,symbolDiamond:rk,symbolSquare:nk,symbolStar:sk,symbolTriangle:lk,symbolWye:uk},$k=Math.PI/180,Dk=e=>{var t="symbol".concat(aa(e));return c0[t]||bd},Mk=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*$k;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Nk=(e,t)=>{c0["symbol".concat(aa(e))]=t},u0=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,i=Rk(e,kk),a=ep(ep({},i),{},{type:t,size:r,sizeType:n}),o="circle";typeof t=="string"&&(o=t);var s=()=>{var f=Dk(o),h=dk().type(f).size(Mk(r,n,o));return h()},{className:l,cx:u,cy:c}=a,d=ze(a,!0);return u===+u&&c===+c&&r===+r?y.createElement("path",su({},d,{className:ge("recharts-symbols",l),transform:"translate(".concat(u,", ").concat(c,")"),d:s()})):null};u0.registerSymbol=Nk;var ml={},gl={},tp;function Lk(){return tp||(tp=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const i=new Map;for(let a=0;a<r.length;a++){const o=r[a],s=n(o);i.has(s)||i.set(s,o)}return Array.from(i.values())}e.uniqBy=t})(gl)),gl}var vl={},rp;function d0(){return rp||(rp=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(vl)),vl}var yl={},bl={},wl={},np;function Bk(){return np||(np=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(wl)),wl}var ip;function wd(){return ip||(ip=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Bk();function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(bl)),bl}var xl={},ap;function Uk(){return ap||(ap=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(xl)),xl}var op;function Fk(){return op||(op=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wd(),r=Uk();function n(i){return r.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=n})(yl)),yl}var _l={},Sl={},sp;function zk(){return sp||(sp=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pd();function r(n){return function(i){return t.get(i,n)}}e.property=r})(Sl)),Sl}var El={},jl={},Pl={},Ol={},lp;function f0(){return lp||(lp=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(Ol)),Ol}var kl={},cp;function h0(){return cp||(cp=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(kl)),kl}var Al={},up;function p0(){return up||(up=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(Al)),Al}var dp;function qk(){return dp||(dp=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xd(),r=f0(),n=h0(),i=p0();function a(d,f,h){return typeof h!="function"?t.isMatch(d,f):o(d,f,function m(g,v,b,x,w,_){const S=h(g,v,b,x,w,_);return S!==void 0?!!S:o(g,v,m,_)},new Map)}function o(d,f,h,m){if(f===d)return!0;switch(typeof f){case"object":return s(d,f,h,m);case"function":return Object.keys(f).length>0?o(d,{...f},h,m):i.eq(d,f);default:return r.isObject(d)?typeof f=="string"?f==="":!0:i.eq(d,f)}}function s(d,f,h,m){if(f==null)return!0;if(Array.isArray(f))return u(d,f,h,m);if(f instanceof Map)return l(d,f,h,m);if(f instanceof Set)return c(d,f,h,m);const g=Object.keys(f);if(d==null)return g.length===0;if(g.length===0)return!0;if(m&&m.has(f))return m.get(f)===d;m&&m.set(f,d);try{for(let v=0;v<g.length;v++){const b=g[v];if(!n.isPrimitive(d)&&!(b in d)||f[b]===void 0&&d[b]!==void 0||f[b]===null&&d[b]!==null||!h(d[b],f[b],b,d,f,m))return!1}return!0}finally{m&&m.delete(f)}}function l(d,f,h,m){if(f.size===0)return!0;if(!(d instanceof Map))return!1;for(const[g,v]of f.entries()){const b=d.get(g);if(h(b,v,g,d,f,m)===!1)return!1}return!0}function u(d,f,h,m){if(f.length===0)return!0;if(!Array.isArray(d))return!1;const g=new Set;for(let v=0;v<f.length;v++){const b=f[v];let x=!1;for(let w=0;w<d.length;w++){if(g.has(w))continue;const _=d[w];let S=!1;if(h(_,b,v,d,f,m)&&(S=!0),S){g.add(w),x=!0;break}}if(!x)return!1}return!0}function c(d,f,h,m){return f.size===0?!0:d instanceof Set?u([...d],[...f],h,m):!1}e.isMatchWith=a,e.isSetMatch=c})(Pl)),Pl}var fp;function xd(){return fp||(fp=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qk();function r(n,i){return t.isMatchWith(n,i,()=>{})}e.isMatch=r})(jl)),jl}var Cl={},Tl={},Rl={},hp;function Wk(){return hp||(hp=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(Rl)),Rl}var Il={},pp;function m0(){return pp||(pp=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(Il)),Il}var $l={},mp;function g0(){return mp||(mp=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",a="[object Arguments]",o="[object Symbol]",s="[object Date]",l="[object Map]",u="[object Set]",c="[object Array]",d="[object Function]",f="[object ArrayBuffer]",h="[object Object]",m="[object Error]",g="[object DataView]",v="[object Uint8Array]",b="[object Uint8ClampedArray]",x="[object Uint16Array]",w="[object Uint32Array]",_="[object BigUint64Array]",S="[object Int8Array]",E="[object Int16Array]",j="[object Int32Array]",k="[object BigInt64Array]",A="[object Float32Array]",I="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=f,e.arrayTag=c,e.bigInt64ArrayTag=k,e.bigUint64ArrayTag=_,e.booleanTag=i,e.dataViewTag=g,e.dateTag=s,e.errorTag=m,e.float32ArrayTag=A,e.float64ArrayTag=I,e.functionTag=d,e.int16ArrayTag=E,e.int32ArrayTag=j,e.int8ArrayTag=S,e.mapTag=l,e.numberTag=n,e.objectTag=h,e.regexpTag=t,e.setTag=u,e.stringTag=r,e.symbolTag=o,e.uint16ArrayTag=x,e.uint32ArrayTag=w,e.uint8ArrayTag=v,e.uint8ClampedArrayTag=b})($l)),$l}var Dl={},gp;function Hk(){return gp||(gp=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(Dl)),Dl}var vp;function v0(){return vp||(vp=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Wk(),r=m0(),n=g0(),i=h0(),a=Hk();function o(c,d){return s(c,void 0,c,new Map,d)}function s(c,d,f,h=new Map,m=void 0){const g=m==null?void 0:m(c,d,f,h);if(g!==void 0)return g;if(i.isPrimitive(c))return c;if(h.has(c))return h.get(c);if(Array.isArray(c)){const v=new Array(c.length);h.set(c,v);for(let b=0;b<c.length;b++)v[b]=s(c[b],b,f,h,m);return Object.hasOwn(c,"index")&&(v.index=c.index),Object.hasOwn(c,"input")&&(v.input=c.input),v}if(c instanceof Date)return new Date(c.getTime());if(c instanceof RegExp){const v=new RegExp(c.source,c.flags);return v.lastIndex=c.lastIndex,v}if(c instanceof Map){const v=new Map;h.set(c,v);for(const[b,x]of c)v.set(b,s(x,b,f,h,m));return v}if(c instanceof Set){const v=new Set;h.set(c,v);for(const b of c)v.add(s(b,void 0,f,h,m));return v}if(typeof Buffer<"u"&&Buffer.isBuffer(c))return c.subarray();if(a.isTypedArray(c)){const v=new(Object.getPrototypeOf(c)).constructor(c.length);h.set(c,v);for(let b=0;b<c.length;b++)v[b]=s(c[b],b,f,h,m);return v}if(c instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&c instanceof SharedArrayBuffer)return c.slice(0);if(c instanceof DataView){const v=new DataView(c.buffer.slice(0),c.byteOffset,c.byteLength);return h.set(c,v),l(v,c,f,h,m),v}if(typeof File<"u"&&c instanceof File){const v=new File([c],c.name,{type:c.type});return h.set(c,v),l(v,c,f,h,m),v}if(c instanceof Blob){const v=new Blob([c],{type:c.type});return h.set(c,v),l(v,c,f,h,m),v}if(c instanceof Error){const v=new c.constructor;return h.set(c,v),v.message=c.message,v.name=c.name,v.stack=c.stack,v.cause=c.cause,l(v,c,f,h,m),v}if(typeof c=="object"&&u(c)){const v=Object.create(Object.getPrototypeOf(c));return h.set(c,v),l(v,c,f,h,m),v}return c}function l(c,d,f=c,h,m){const g=[...Object.keys(d),...t.getSymbols(d)];for(let v=0;v<g.length;v++){const b=g[v],x=Object.getOwnPropertyDescriptor(c,b);(x==null||x.writable)&&(c[b]=s(d[b],b,f,h,m))}}function u(c){switch(r.getTag(c)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=s,e.copyProperties=l})(Tl)),Tl}var yp;function Kk(){return yp||(yp=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=v0();function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(Cl)),Cl}var bp;function Vk(){return bp||(bp=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xd(),r=Kk();function n(i){return i=r.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=n})(El)),El}var Ml={},Nl={},Ll={},wp;function Gk(){return wp||(wp=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=v0(),r=g0();function n(i,a){return t.cloneDeepWith(i,(o,s,l,u)=>{const c=a==null?void 0:a(o,s,l,u);if(c!==void 0)return c;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case r.numberTag:case r.stringTag:case r.booleanTag:{const d=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(d,i),d}case r.argumentsTag:{const d={};return t.copyProperties(d,i),d.length=i.length,d[Symbol.iterator]=i[Symbol.iterator],d}default:return}})}e.cloneDeepWith=n})(Ll)),Ll}var xp;function Yk(){return xp||(xp=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Gk();function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(Nl)),Nl}var Bl={},Ul={},_p;function y0(){return _p||(_p=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(Ul)),Ul}var Fl={},Sp;function Jk(){return Sp||(Sp=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=m0();function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(Fl)),Fl}var Ep;function Xk(){return Ep||(Ep=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Fy(),r=y0(),n=Jk(),i=hd();function a(o,s){let l;if(Array.isArray(s)?l=s:typeof s=="string"&&t.isDeepKey(s)&&(o==null?void 0:o[s])==null?l=i.toPath(s):l=[s],l.length===0)return!1;let u=o;for(let c=0;c<l.length;c++){const d=l[c];if((u==null||!Object.hasOwn(u,d))&&!((Array.isArray(u)||n.isArguments(u))&&r.isIndex(d)&&d<u.length))return!1;u=u[d]}return!0}e.has=a})(Bl)),Bl}var jp;function Zk(){return jp||(jp=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xd(),r=zy(),n=Yk(),i=pd(),a=Xk();function o(s,l){switch(typeof s){case"object":{Object.is(s==null?void 0:s.valueOf(),-0)&&(s="-0");break}case"number":{s=r.toKey(s);break}}return l=n.cloneDeep(l),function(u){const c=i.get(u,s);return c===void 0?a.has(u,s):l===void 0?c===void 0:t.isMatch(c,l)}}e.matchesProperty=o})(Ml)),Ml}var Pp;function Qk(){return Pp||(Pp=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=d0(),r=zk(),n=Vk(),i=Zk();function a(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?i.matchesProperty(o[0],o[1]):n.matches(o);case"string":case"symbol":case"number":return r.property(o)}}e.iteratee=a})(_l)),_l}var Op;function eA(){return Op||(Op=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Lk(),r=d0(),n=Fk(),i=Qk();function a(o,s=r.identity){return n.isArrayLikeObject(o)?t.uniqBy(Array.from(o),i.iteratee(s)):[]}e.uniqBy=a})(ml)),ml}var zl,kp;function tA(){return kp||(kp=1,zl=eA().uniqBy),zl}var rA=tA();const Ap=rr(rA);function nA(e,t,r){return t===!0?Ap(e,r):typeof t=="function"?Ap(e,t):e}var ql={exports:{}},Wl={},Hl={exports:{}},Kl={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cp;function iA(){if(Cp)return Kl;Cp=1;var e=Xu();function t(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,i=e.useEffect,a=e.useLayoutEffect,o=e.useDebugValue;function s(d,f){var h=f(),m=n({inst:{value:h,getSnapshot:f}}),g=m[0].inst,v=m[1];return a(function(){g.value=h,g.getSnapshot=f,l(g)&&v({inst:g})},[d,h,f]),i(function(){return l(g)&&v({inst:g}),d(function(){l(g)&&v({inst:g})})},[d]),o(h),h}function l(d){var f=d.getSnapshot;d=d.value;try{var h=f();return!r(d,h)}catch{return!0}}function u(d,f){return f()}var c=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:s;return Kl.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:c,Kl}var Tp;function aA(){return Tp||(Tp=1,Hl.exports=iA()),Hl.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rp;function oA(){if(Rp)return Wl;Rp=1;var e=Xu(),t=aA();function r(u,c){return u===c&&(u!==0||1/u===1/c)||u!==u&&c!==c}var n=typeof Object.is=="function"?Object.is:r,i=t.useSyncExternalStore,a=e.useRef,o=e.useEffect,s=e.useMemo,l=e.useDebugValue;return Wl.useSyncExternalStoreWithSelector=function(u,c,d,f,h){var m=a(null);if(m.current===null){var g={hasValue:!1,value:null};m.current=g}else g=m.current;m=s(function(){function b(E){if(!x){if(x=!0,w=E,E=f(E),h!==void 0&&g.hasValue){var j=g.value;if(h(j,E))return _=j}return _=E}if(j=_,n(w,E))return j;var k=f(E);return h!==void 0&&h(j,k)?(w=E,j):(w=E,_=k)}var x=!1,w,_,S=d===void 0?null:d;return[function(){return b(c())},S===null?void 0:function(){return b(S())}]},[c,d,f,h]);var v=i(u,m[0],m[1]);return o(function(){g.hasValue=!0,g.value=v},[v]),l(v),v},Wl}var Ip;function sA(){return Ip||(Ip=1,ql.exports=oA()),ql.exports}var lA=sA(),_d=y.createContext(null),cA=e=>e,$e=()=>{var e=y.useContext(_d);return e?e.store.dispatch:cA},oo=()=>{},uA=()=>oo,dA=(e,t)=>e===t;function q(e){var t=y.useContext(_d);return lA.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:uA,t?t.store.getState:oo,t?t.store.getState:oo,t?e:oo,dA)}function fA(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function hA(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function pA(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var $p=e=>Array.isArray(e)?e:[e];function mA(e){const t=Array.isArray(e[0])?e[0]:e;return pA(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function gA(e,t){const r=[],{length:n}=e;for(let i=0;i<n;i++)r.push(e[i].apply(null,t));return r}var vA=class{constructor(e){this.value=e}deref(){return this.value}},yA=typeof WeakRef<"u"?WeakRef:vA,bA=0,Dp=1;function Ma(){return{s:bA,v:void 0,o:null,p:null}}function b0(e,t={}){let r=Ma();const{resultEqualityCheck:n}=t;let i,a=0;function o(){var d;let s=r;const{length:l}=arguments;for(let f=0,h=l;f<h;f++){const m=arguments[f];if(typeof m=="function"||typeof m=="object"&&m!==null){let g=s.o;g===null&&(s.o=g=new WeakMap);const v=g.get(m);v===void 0?(s=Ma(),g.set(m,s)):s=v}else{let g=s.p;g===null&&(s.p=g=new Map);const v=g.get(m);v===void 0?(s=Ma(),g.set(m,s)):s=v}}const u=s;let c;if(s.s===Dp)c=s.v;else if(c=e.apply(null,arguments),a++,n){const f=((d=i==null?void 0:i.deref)==null?void 0:d.call(i))??i;f!=null&&n(f,c)&&(c=f,a!==0&&a--),i=typeof c=="object"&&c!==null||typeof c=="function"?new yA(c):c}return u.s=Dp,u.v=c,c}return o.clearCache=()=>{r=Ma(),o.resetResultsCount()},o.resultsCount=()=>a,o.resetResultsCount=()=>{a=0},o}function wA(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...i)=>{let a=0,o=0,s,l={},u=i.pop();typeof u=="object"&&(l=u,u=i.pop()),fA(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const c={...r,...l},{memoize:d,memoizeOptions:f=[],argsMemoize:h=b0,argsMemoizeOptions:m=[]}=c,g=$p(f),v=$p(m),b=mA(i),x=d(function(){return a++,u.apply(null,arguments)},...g),w=h(function(){o++;const S=gA(b,arguments);return s=x.apply(null,S),s},...v);return Object.assign(w,{resultFunc:u,memoizedResultFunc:x,dependencies:b,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>s,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:d,argsMemoize:h})};return Object.assign(n,{withTypes:()=>n}),n}var O=wA(b0),xA=Object.assign((e,t=O)=>{hA(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(a=>e[a]);return t(n,(...a)=>a.reduce((o,s,l)=>(o[r[l]]=s,o),{}))},{withTypes:()=>xA}),Vl={},Gl={},Yl={},Mp;function _A(){return Mp||(Mp=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,a)=>{if(n!==i){const o=t(n),s=t(i);if(o===s&&o===0){if(n<i)return a==="desc"?1:-1;if(n>i)return a==="desc"?-1:1}return a==="desc"?s-o:o-s}return 0};e.compareValues=r})(Yl)),Yl}var Jl={},Xl={},Np;function w0(){return Np||(Np=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(Xl)),Xl}var Lp;function SA(){return Lp||(Lp=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=w0(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,o){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(n.test(a)||!r.test(a))||o!=null&&Object.hasOwn(o,a)}e.isKey=i})(Jl)),Jl}var Bp;function EA(){return Bp||(Bp=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_A(),r=SA(),n=hd();function i(a,o,s,l){if(a==null)return[];s=l?void 0:s,Array.isArray(a)||(a=Object.values(a)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(s)||(s=s==null?[]:[s]),s=s.map(h=>String(h));const u=(h,m)=>{let g=h;for(let v=0;v<m.length&&g!=null;++v)g=g[m[v]];return g},c=(h,m)=>m==null||h==null?m:typeof h=="object"&&"key"in h?Object.hasOwn(m,h.key)?m[h.key]:u(m,h.path):typeof h=="function"?h(m):Array.isArray(h)?u(m,h):typeof m=="object"?m[h]:m,d=o.map(h=>(Array.isArray(h)&&h.length===1&&(h=h[0]),h==null||typeof h=="function"||Array.isArray(h)||r.isKey(h)?h:{key:h,path:n.toPath(h)}));return a.map(h=>({original:h,criteria:d.map(m=>c(m,h))})).slice().sort((h,m)=>{for(let g=0;g<d.length;g++){const v=t.compareValues(h.criteria[g],m.criteria[g],s[g]);if(v!==0)return v}return 0}).map(h=>h.original)}e.orderBy=i})(Gl)),Gl}var Zl={},Up;function jA(){return Up||(Up=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const i=[],a=Math.floor(n),o=(s,l)=>{for(let u=0;u<s.length;u++){const c=s[u];Array.isArray(c)&&l<a?o(c,l+1):i.push(c)}};return o(r,0),i}e.flatten=t})(Zl)),Zl}var Ql={},Fp;function x0(){return Fp||(Fp=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=y0(),r=wd(),n=f0(),i=p0();function a(o,s,l){return n.isObject(l)&&(typeof s=="number"&&r.isArrayLike(l)&&t.isIndex(s)&&s<l.length||typeof s=="string"&&s in l)?i.eq(l[s],o):!1}e.isIterateeCall=a})(Ql)),Ql}var zp;function PA(){return zp||(zp=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=EA(),r=jA(),n=x0();function i(a,...o){const s=o.length;return s>1&&n.isIterateeCall(a,o[0],o[1])?o=[]:s>2&&n.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(a,r.flatten(o),["asc"])}e.sortBy=i})(Vl)),Vl}var ec,qp;function OA(){return qp||(qp=1,ec=PA().sortBy),ec}var kA=OA();const us=rr(kA);var _0=e=>e.legend.settings,AA=e=>e.legend.size,CA=e=>e.legend.payload;O([CA,_0],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?us(n,r):n});var Na=1;function TA(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=y.useState({height:0,left:0,top:0,width:0}),n=y.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),o={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(o.height-t.height)>Na||Math.abs(o.left-t.left)>Na||Math.abs(o.top-t.top)>Na||Math.abs(o.width-t.width)>Na)&&r({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function Be(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var RA=typeof Symbol=="function"&&Symbol.observable||"@@observable",Wp=RA,tc=()=>Math.random().toString(36).substring(7).split("").join("."),IA={INIT:`@@redux/INIT${tc()}`,REPLACE:`@@redux/REPLACE${tc()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${tc()}`},_o=IA;function Sd(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function S0(e,t,r){if(typeof e!="function")throw new Error(Be(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Be(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Be(1));return r(S0)(e,t)}let n=e,i=t,a=new Map,o=a,s=0,l=!1;function u(){o===a&&(o=new Map,a.forEach((v,b)=>{o.set(b,v)}))}function c(){if(l)throw new Error(Be(3));return i}function d(v){if(typeof v!="function")throw new Error(Be(4));if(l)throw new Error(Be(5));let b=!0;u();const x=s++;return o.set(x,v),function(){if(b){if(l)throw new Error(Be(6));b=!1,u(),o.delete(x),a=null}}}function f(v){if(!Sd(v))throw new Error(Be(7));if(typeof v.type>"u")throw new Error(Be(8));if(typeof v.type!="string")throw new Error(Be(17));if(l)throw new Error(Be(9));try{l=!0,i=n(i,v)}finally{l=!1}return(a=o).forEach(x=>{x()}),v}function h(v){if(typeof v!="function")throw new Error(Be(10));n=v,f({type:_o.REPLACE})}function m(){const v=d;return{subscribe(b){if(typeof b!="object"||b===null)throw new Error(Be(11));function x(){const _=b;_.next&&_.next(c())}return x(),{unsubscribe:v(x)}},[Wp](){return this}}}return f({type:_o.INIT}),{dispatch:f,subscribe:d,getState:c,replaceReducer:h,[Wp]:m}}function $A(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:_o.INIT})>"u")throw new Error(Be(12));if(typeof r(void 0,{type:_o.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Be(13))})}function E0(e){const t=Object.keys(e),r={};for(let a=0;a<t.length;a++){const o=t[a];typeof e[o]=="function"&&(r[o]=e[o])}const n=Object.keys(r);let i;try{$A(r)}catch(a){i=a}return function(o={},s){if(i)throw i;let l=!1;const u={};for(let c=0;c<n.length;c++){const d=n[c],f=r[d],h=o[d],m=f(h,s);if(typeof m>"u")throw s&&s.type,new Error(Be(14));u[d]=m,l=l||m!==h}return l=l||n.length!==Object.keys(o).length,l?u:o}}function So(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function DA(...e){return t=>(r,n)=>{const i=t(r,n);let a=()=>{throw new Error(Be(15))};const o={getState:i.getState,dispatch:(l,...u)=>a(l,...u)},s=e.map(l=>l(o));return a=So(...s)(i.dispatch),{...i,dispatch:a}}}function j0(e){return Sd(e)&&"type"in e&&typeof e.type=="string"}var P0=Symbol.for("immer-nothing"),Hp=Symbol.for("immer-draftable"),xt=Symbol.for("immer-state");function zt(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var zn=Object.getPrototypeOf;function cn(e){return!!e&&!!e[xt]}function vr(e){var t;return e?O0(e)||Array.isArray(e)||!!e[Hp]||!!((t=e.constructor)!=null&&t[Hp])||oa(e)||fs(e):!1}var MA=Object.prototype.constructor.toString();function O0(e){if(!e||typeof e!="object")return!1;const t=zn(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===MA}function Eo(e,t){ds(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function ds(e){const t=e[xt];return t?t.type_:Array.isArray(e)?1:oa(e)?2:fs(e)?3:0}function lu(e,t){return ds(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function k0(e,t,r){const n=ds(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function NA(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function oa(e){return e instanceof Map}function fs(e){return e instanceof Set}function Yr(e){return e.copy_||e.base_}function cu(e,t){if(oa(e))return new Map(e);if(fs(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=O0(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[xt];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const o=i[a],s=n[o];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(n[o]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[o]})}return Object.create(zn(e),n)}else{const n=zn(e);if(n!==null&&r)return{...e};const i=Object.create(n);return Object.assign(i,e)}}function Ed(e,t=!1){return hs(e)||cn(e)||!vr(e)||(ds(e)>1&&Object.defineProperties(e,{set:{value:La},add:{value:La},clear:{value:La},delete:{value:La}}),Object.freeze(e),t&&Object.values(e).forEach(r=>Ed(r,!0))),e}function La(){zt(2)}function hs(e){return Object.isFrozen(e)}var LA={};function un(e){const t=LA[e];return t||zt(0,e),t}var Ki;function A0(){return Ki}function BA(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Kp(e,t){t&&(un("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function uu(e){du(e),e.drafts_.forEach(UA),e.drafts_=null}function du(e){e===Ki&&(Ki=e.parent_)}function Vp(e){return Ki=BA(Ki,e)}function UA(e){const t=e[xt];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Gp(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[xt].modified_&&(uu(t),zt(4)),vr(e)&&(e=jo(t,e),t.parent_||Po(t,e)),t.patches_&&un("Patches").generateReplacementPatches_(r[xt].base_,e,t.patches_,t.inversePatches_)):e=jo(t,r,[]),uu(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==P0?e:void 0}function jo(e,t,r){if(hs(t))return t;const n=t[xt];if(!n)return Eo(t,(i,a)=>Yp(e,n,t,i,a,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return Po(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const i=n.copy_;let a=i,o=!1;n.type_===3&&(a=new Set(i),i.clear(),o=!0),Eo(a,(s,l)=>Yp(e,n,i,s,l,r,o)),Po(e,i,!1),r&&e.patches_&&un("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function Yp(e,t,r,n,i,a,o){if(cn(i)){const s=a&&t&&t.type_!==3&&!lu(t.assigned_,n)?a.concat(n):void 0,l=jo(e,i,s);if(k0(r,n,l),cn(l))e.canAutoFreeze_=!1;else return}else o&&r.add(i);if(vr(i)&&!hs(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;jo(e,i),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(oa(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&Po(e,i)}}function Po(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Ed(t,r)}function FA(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:A0(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,a=jd;r&&(i=[n],a=Vi);const{revoke:o,proxy:s}=Proxy.revocable(i,a);return n.draft_=s,n.revoke_=o,s}var jd={get(e,t){if(t===xt)return e;const r=Yr(e);if(!lu(r,t))return zA(e,r,t);const n=r[t];return e.finalized_||!vr(n)?n:n===rc(e.base_,t)?(nc(e),e.copy_[t]=hu(n,e)):n},has(e,t){return t in Yr(e)},ownKeys(e){return Reflect.ownKeys(Yr(e))},set(e,t,r){const n=C0(Yr(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=rc(Yr(e),t),a=i==null?void 0:i[xt];if(a&&a.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(NA(r,i)&&(r!==void 0||lu(e.base_,t)))return!0;nc(e),fu(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return rc(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,nc(e),fu(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Yr(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){zt(11)},getPrototypeOf(e){return zn(e.base_)},setPrototypeOf(){zt(12)}},Vi={};Eo(jd,(e,t)=>{Vi[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Vi.deleteProperty=function(e,t){return Vi.set.call(this,e,t,void 0)};Vi.set=function(e,t,r){return jd.set.call(this,e[0],t,r,e[0])};function rc(e,t){const r=e[xt];return(r?Yr(r):e)[t]}function zA(e,t,r){var i;const n=C0(t,r);return n?"value"in n?n.value:(i=n.get)==null?void 0:i.call(e.draft_):void 0}function C0(e,t){if(!(t in e))return;let r=zn(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=zn(r)}}function fu(e){e.modified_||(e.modified_=!0,e.parent_&&fu(e.parent_))}function nc(e){e.copy_||(e.copy_=cu(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var qA=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const a=r;r=t;const o=this;return function(l=a,...u){return o.produce(l,c=>r.call(this,c,...u))}}typeof r!="function"&&zt(6),n!==void 0&&typeof n!="function"&&zt(7);let i;if(vr(t)){const a=Vp(this),o=hu(t,void 0);let s=!0;try{i=r(o),s=!1}finally{s?uu(a):du(a)}return Kp(a,n),Gp(i,a)}else if(!t||typeof t!="object"){if(i=r(t),i===void 0&&(i=t),i===P0&&(i=void 0),this.autoFreeze_&&Ed(i,!0),n){const a=[],o=[];un("Patches").generateReplacementPatches_(t,i,a,o),n(a,o)}return i}else zt(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(o,...s)=>this.produceWithPatches(o,l=>t(l,...s));let n,i;return[this.produce(t,r,(o,s)=>{n=o,i=s}),n,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){vr(e)||zt(8),cn(e)&&(e=pr(e));const t=Vp(this),r=hu(e,void 0);return r[xt].isManual_=!0,du(t),r}finishDraft(e,t){const r=e&&e[xt];(!r||!r.isManual_)&&zt(9);const{scope_:n}=r;return Kp(n,t),Gp(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const i=t[r];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}r>-1&&(t=t.slice(r+1));const n=un("Patches").applyPatches_;return cn(e)?n(e,t):this.produce(e,i=>n(i,t))}};function hu(e,t){const r=oa(e)?un("MapSet").proxyMap_(e,t):fs(e)?un("MapSet").proxySet_(e,t):FA(e,t);return(t?t.scope_:A0()).drafts_.push(r),r}function pr(e){return cn(e)||zt(10,e),T0(e)}function T0(e){if(!vr(e)||hs(e))return e;const t=e[xt];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=cu(e,t.scope_.immer_.useStrictShallowCopy_)}else r=cu(e,!0);return Eo(r,(n,i)=>{k0(r,n,T0(i))}),t&&(t.finalized_=!1),r}var WA=new qA,R0=WA.produce;function I0(e){return({dispatch:r,getState:n})=>i=>a=>typeof a=="function"?a(r,n,e):i(a)}var HA=I0(),KA=I0,VA=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?So:So.apply(null,arguments)};function It(e,t){function r(...n){if(t){let i=t(...n);if(!i)throw new Error(bt(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>j0(n)&&n.type===e,r}var $0=class Mi extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Mi.prototype)}static get[Symbol.species](){return Mi}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Mi(...t[0].concat(this)):new Mi(...t.concat(this))}};function Jp(e){return vr(e)?R0(e,()=>{}):e}function Ba(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function GA(e){return typeof e=="boolean"}var YA=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let o=new $0;return r&&(GA(r)?o.push(HA):o.push(KA(r.extraArgument))),o},JA="RTK_autoBatch",Xp=e=>t=>{setTimeout(t,e)},XA=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let i=!0,a=!1,o=!1;const s=new Set,l=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Xp(10):e.type==="callback"?e.queueNotification:Xp(e.timeout),u=()=>{o=!1,a&&(a=!1,s.forEach(c=>c()))};return Object.assign({},n,{subscribe(c){const d=()=>i&&c(),f=n.subscribe(d);return s.add(c),()=>{f(),s.delete(c)}},dispatch(c){var d;try{return i=!((d=c==null?void 0:c.meta)!=null&&d[JA]),a=!i,a&&(o||(o=!0,l(u))),n.dispatch(c)}finally{i=!0}}})},ZA=e=>function(r){const{autoBatch:n=!0}=r??{};let i=new $0(e);return n&&i.push(XA(typeof n=="object"?n:void 0)),i};function QA(e){const t=YA(),{reducer:r=void 0,middleware:n,devTools:i=!0,preloadedState:a=void 0,enhancers:o=void 0}=e||{};let s;if(typeof r=="function")s=r;else if(Sd(r))s=E0(r);else throw new Error(bt(1));let l;typeof n=="function"?l=n(t):l=t();let u=So;i&&(u=VA({trace:!1,...typeof i=="object"&&i}));const c=DA(...l),d=ZA(c);let f=typeof o=="function"?o(d):d();const h=u(...f);return S0(s,a,h)}function D0(e){const t={},r=[];let n;const i={addCase(a,o){const s=typeof a=="string"?a:a.type;if(!s)throw new Error(bt(28));if(s in t)throw new Error(bt(29));return t[s]=o,i},addAsyncThunk(a,o){return o.pending&&(t[a.pending.type]=o.pending),o.rejected&&(t[a.rejected.type]=o.rejected),o.fulfilled&&(t[a.fulfilled.type]=o.fulfilled),o.settled&&r.push({matcher:a.settled,reducer:o.settled}),i},addMatcher(a,o){return r.push({matcher:a,reducer:o}),i},addDefaultCase(a){return n=a,i}};return e(i),[t,r,n]}function eC(e){return typeof e=="function"}function tC(e,t){let[r,n,i]=D0(t),a;if(eC(e))a=()=>Jp(e());else{const s=Jp(e);a=()=>s}function o(s=a(),l){let u=[r[l.type],...n.filter(({matcher:c})=>c(l)).map(({reducer:c})=>c)];return u.filter(c=>!!c).length===0&&(u=[i]),u.reduce((c,d)=>{if(d)if(cn(c)){const h=d(c,l);return h===void 0?c:h}else{if(vr(c))return R0(c,f=>d(f,l));{const f=d(c,l);if(f===void 0){if(c===null)return c;throw Error("A case reducer on a non-draftable value must not return undefined")}return f}}return c},s)}return o.getInitialState=a,o}var rC="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",nC=(e=21)=>{let t="",r=e;for(;r--;)t+=rC[Math.random()*64|0];return t},iC=Symbol.for("rtk-slice-createasyncthunk");function aC(e,t){return`${e}/${t}`}function oC({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[iC];return function(i){const{name:a,reducerPath:o=a}=i;if(!a)throw new Error(bt(11));const s=(typeof i.reducers=="function"?i.reducers(lC()):i.reducers)||{},l=Object.keys(s),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},c={addCase(_,S){const E=typeof _=="string"?_:_.type;if(!E)throw new Error(bt(12));if(E in u.sliceCaseReducersByType)throw new Error(bt(13));return u.sliceCaseReducersByType[E]=S,c},addMatcher(_,S){return u.sliceMatchers.push({matcher:_,reducer:S}),c},exposeAction(_,S){return u.actionCreators[_]=S,c},exposeCaseReducer(_,S){return u.sliceCaseReducersByName[_]=S,c}};l.forEach(_=>{const S=s[_],E={reducerName:_,type:aC(a,_),createNotation:typeof i.reducers=="function"};uC(S)?fC(E,S,c,t):cC(E,S,c)});function d(){const[_={},S=[],E=void 0]=typeof i.extraReducers=="function"?D0(i.extraReducers):[i.extraReducers],j={..._,...u.sliceCaseReducersByType};return tC(i.initialState,k=>{for(let A in j)k.addCase(A,j[A]);for(let A of u.sliceMatchers)k.addMatcher(A.matcher,A.reducer);for(let A of S)k.addMatcher(A.matcher,A.reducer);E&&k.addDefaultCase(E)})}const f=_=>_,h=new Map,m=new WeakMap;let g;function v(_,S){return g||(g=d()),g(_,S)}function b(){return g||(g=d()),g.getInitialState()}function x(_,S=!1){function E(k){let A=k[_];return typeof A>"u"&&S&&(A=Ba(m,E,b)),A}function j(k=f){const A=Ba(h,S,()=>new WeakMap);return Ba(A,k,()=>{const I={};for(const[C,$]of Object.entries(i.selectors??{}))I[C]=sC($,k,()=>Ba(m,k,b),S);return I})}return{reducerPath:_,getSelectors:j,get selectors(){return j(E)},selectSlice:E}}const w={name:a,reducer:v,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:b,...x(o),injectInto(_,{reducerPath:S,...E}={}){const j=S??o;return _.inject({reducerPath:j,reducer:v},E),{...w,...x(j,!0)}}};return w}}function sC(e,t,r,n){function i(a,...o){let s=t(a);return typeof s>"u"&&n&&(s=r()),e(s,...o)}return i.unwrapped=e,i}var Et=oC();function lC(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function cC({type:e,reducerName:t,createNotation:r},n,i){let a,o;if("reducer"in n){if(r&&!dC(n))throw new Error(bt(17));a=n.reducer,o=n.prepare}else a=n;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,o?It(e,o):It(e))}function uC(e){return e._reducerDefinitionType==="asyncThunk"}function dC(e){return e._reducerDefinitionType==="reducerWithPrepare"}function fC({type:e,reducerName:t},r,n,i){if(!i)throw new Error(bt(18));const{payloadCreator:a,fulfilled:o,pending:s,rejected:l,settled:u,options:c}=r,d=i(e,a,c);n.exposeAction(t,d),o&&n.addCase(d.fulfilled,o),s&&n.addCase(d.pending,s),l&&n.addCase(d.rejected,l),u&&n.addMatcher(d.settled,u),n.exposeCaseReducer(t,{fulfilled:o||Ua,pending:s||Ua,rejected:l||Ua,settled:u||Ua})}function Ua(){}var hC="task",M0="listener",N0="completed",Pd="cancelled",pC=`task-${Pd}`,mC=`task-${N0}`,pu=`${M0}-${Pd}`,gC=`${M0}-${N0}`,ps=class{constructor(e){Ws(this,"name","TaskAbortError");Ws(this,"message");this.code=e,this.message=`${hC} ${Pd} (reason: ${e})`}},Od=(e,t)=>{if(typeof e!="function")throw new TypeError(bt(32))},Oo=()=>{},L0=(e,t=Oo)=>(e.catch(t),e),B0=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),nn=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},an=e=>{if(e.aborted){const{reason:t}=e;throw new ps(t)}};function U0(e,t){let r=Oo;return new Promise((n,i)=>{const a=()=>i(new ps(e.reason));if(e.aborted){a();return}r=B0(e,a),t.finally(()=>r()).then(n,i)}).finally(()=>{r=Oo})}var vC=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof ps?"cancelled":"rejected",error:r}}finally{t==null||t()}},ko=e=>t=>L0(U0(e,t).then(r=>(an(e),r))),F0=e=>{const t=ko(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:Nn}=Object,Zp={},ms="listenerMiddleware",yC=(e,t)=>{const r=n=>B0(e,()=>nn(n,e.reason));return(n,i)=>{Od(n);const a=new AbortController;r(a);const o=vC(async()=>{an(e),an(a.signal);const s=await n({pause:ko(a.signal),delay:F0(a.signal),signal:a.signal});return an(a.signal),s},()=>nn(a,mC));return i!=null&&i.autoJoin&&t.push(o.catch(Oo)),{result:ko(e)(o),cancel(){nn(a,pC)}}}},bC=(e,t)=>{const r=async(n,i)=>{an(t);let a=()=>{};const s=[new Promise((l,u)=>{let c=e({predicate:n,effect:(d,f)=>{f.unsubscribe(),l([d,f.getState(),f.getOriginalState()])}});a=()=>{c(),u()}})];i!=null&&s.push(new Promise(l=>setTimeout(l,i,null)));try{const l=await U0(t,Promise.race(s));return an(t),l}finally{a()}};return(n,i)=>L0(r(n,i))},z0=e=>{let{type:t,actionCreator:r,matcher:n,predicate:i,effect:a}=e;if(t)i=It(t).match;else if(r)t=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(bt(21));return Od(a),{predicate:i,type:t,effect:a}},q0=Nn(e=>{const{type:t,predicate:r,effect:n}=z0(e);return{id:nC(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(bt(22))}}},{withTypes:()=>q0}),Qp=(e,t)=>{const{type:r,effect:n,predicate:i}=z0(t);return Array.from(e.values()).find(a=>(typeof r=="string"?a.type===r:a.predicate===i)&&a.effect===n)},mu=e=>{e.pending.forEach(t=>{nn(t,pu)})},wC=e=>()=>{e.forEach(mu),e.clear()},em=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},W0=Nn(It(`${ms}/add`),{withTypes:()=>W0}),xC=It(`${ms}/removeAll`),H0=Nn(It(`${ms}/remove`),{withTypes:()=>H0}),_C=(...e)=>{console.error(`${ms}/error`,...e)},sa=(e={})=>{const t=new Map,{extra:r,onError:n=_C}=e;Od(n);const i=c=>(c.unsubscribe=()=>t.delete(c.id),t.set(c.id,c),d=>{c.unsubscribe(),d!=null&&d.cancelActive&&mu(c)}),a=c=>{const d=Qp(t,c)??q0(c);return i(d)};Nn(a,{withTypes:()=>a});const o=c=>{const d=Qp(t,c);return d&&(d.unsubscribe(),c.cancelActive&&mu(d)),!!d};Nn(o,{withTypes:()=>o});const s=async(c,d,f,h)=>{const m=new AbortController,g=bC(a,m.signal),v=[];try{c.pending.add(m),await Promise.resolve(c.effect(d,Nn({},f,{getOriginalState:h,condition:(b,x)=>g(b,x).then(Boolean),take:g,delay:F0(m.signal),pause:ko(m.signal),extra:r,signal:m.signal,fork:yC(m.signal,v),unsubscribe:c.unsubscribe,subscribe:()=>{t.set(c.id,c)},cancelActiveListeners:()=>{c.pending.forEach((b,x,w)=>{b!==m&&(nn(b,pu),w.delete(b))})},cancel:()=>{nn(m,pu),c.pending.delete(m)},throwIfCancelled:()=>{an(m.signal)}})))}catch(b){b instanceof ps||em(n,b,{raisedBy:"effect"})}finally{await Promise.all(v),nn(m,gC),c.pending.delete(m)}},l=wC(t);return{middleware:c=>d=>f=>{if(!j0(f))return d(f);if(W0.match(f))return a(f.payload);if(xC.match(f)){l();return}if(H0.match(f))return o(f.payload);let h=c.getState();const m=()=>{if(h===Zp)throw new Error(bt(23));return h};let g;try{if(g=d(f),t.size>0){const v=c.getState(),b=Array.from(t.values());for(const x of b){let w=!1;try{w=x.predicate(f,v,h)}catch(_){w=!1,em(n,_,{raisedBy:"predicate"})}w&&s(x,f,c,m)}}}finally{h=Zp}return g},startListening:a,stopListening:o,clearListeners:l}};function bt(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var SC={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},K0=Et({name:"chartLayout",initialState:SC,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,i,a;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:EC,setLayout:jC,setChartSize:PC,setScale:OC}=K0.actions,kC=K0.reducer;function tm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function rm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tm(Object(r),!0).forEach(function(n){AC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tm(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AC(e,t,r){return(t=CC(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CC(e){var t=TC(e,"string");return typeof t=="symbol"?t:t+""}function TC(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ao=Math.PI/180,RC=e=>e*180/Math.PI,Fe=(e,t,r,n)=>({x:e+Math.cos(-Ao*n)*r,y:t+Math.sin(-Ao*n)*r}),IC=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},$C=(e,t)=>{var{x:r,y:n}=e,{x:i,y:a}=t;return Math.sqrt((r-i)**2+(n-a)**2)},DC=(e,t)=>{var{x:r,y:n}=e,{cx:i,cy:a}=t,o=$C({x:r,y:n},{x:i,y:a});if(o<=0)return{radius:o,angle:0};var s=(r-i)/o,l=Math.acos(s);return n>a&&(l=2*Math.PI-l),{radius:o,angle:RC(l),angleInRadian:l}},MC=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),i=Math.floor(r/360),a=Math.min(n,i);return{startAngle:t-a*360,endAngle:r-a*360}},NC=(e,t)=>{var{startAngle:r,endAngle:n}=t,i=Math.floor(r/360),a=Math.floor(n/360),o=Math.min(i,a);return e+o*360},LC=(e,t)=>{var{x:r,y:n}=e,{radius:i,angle:a}=DC({x:r,y:n},t),{innerRadius:o,outerRadius:s}=t;if(i<o||i>s||i===0)return null;var{startAngle:l,endAngle:u}=MC(t),c=a,d;if(l<=u){for(;c>u;)c-=360;for(;c<l;)c+=360;d=c>=l&&c<=u}else{for(;c>l;)c-=360;for(;c<u;)c+=360;d=c>=u&&c<=l}return d?rm(rm({},t),{},{radius:i,angle:NC(c,t)}):null};function V0(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function nm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ct(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nm(Object(r),!0).forEach(function(n){BC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nm(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BC(e,t,r){return(t=UC(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UC(e){var t=FC(e,"string");return typeof t=="symbol"?t:t+""}function FC(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tt(e,t,r){return Ie(e)||Ie(t)?r:er(t)?Un(e,t,r):typeof t=="function"?t(e):r}var zC=(e,t,r,n,i)=>{var a,o=-1,s=(a=t==null?void 0:t.length)!==null&&a!==void 0?a:0;if(s<=1||e==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var l=0;l<s;l++){var u=l>0?r[l-1].coordinate:r[s-1].coordinate,c=r[l].coordinate,d=l>=s-1?r[0].coordinate:r[l+1].coordinate,f=void 0;if(st(c-u)!==st(d-c)){var h=[];if(st(d-c)===st(i[1]-i[0])){f=d;var m=c+i[1]-i[0];h[0]=Math.min(m,(m+u)/2),h[1]=Math.max(m,(m+u)/2)}else{f=u;var g=d+i[1]-i[0];h[0]=Math.min(c,(g+c)/2),h[1]=Math.max(c,(g+c)/2)}var v=[Math.min(c,(f+c)/2),Math.max(c,(f+c)/2)];if(e>v[0]&&e<=v[1]||e>=h[0]&&e<=h[1]){({index:o}=r[l]);break}}else{var b=Math.min(u,d),x=Math.max(u,d);if(e>(b+c)/2&&e<=(x+c)/2){({index:o}=r[l]);break}}}else if(t){for(var w=0;w<s;w++)if(w===0&&e<=(t[w].coordinate+t[w+1].coordinate)/2||w>0&&w<s-1&&e>(t[w].coordinate+t[w-1].coordinate)/2&&e<=(t[w].coordinate+t[w+1].coordinate)/2||w===s-1&&e>(t[w].coordinate+t[w-1].coordinate)/2){({index:o}=t[w]);break}}return o},qC=(e,t,r)=>{if(t&&r){var{width:n,height:i}=r,{align:a,verticalAlign:o,layout:s}=t;if((s==="vertical"||s==="horizontal"&&o==="middle")&&a!=="center"&&z(e[a]))return Ct(Ct({},e),{},{[a]:e[a]+(n||0)});if((s==="horizontal"||s==="vertical"&&a==="center")&&o!=="middle"&&z(e[o]))return Ct(Ct({},e),{},{[o]:e[o]+(i||0)})}return e},mn=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",G0=(e,t,r,n)=>{if(n)return e.map(s=>s.coordinate);var i,a,o=e.map(s=>(s.coordinate===t&&(i=!0),s.coordinate===r&&(a=!0),s.coordinate));return i||o.push(t),a||o.push(r),o},Y0=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:i,range:a,scale:o,realScaleType:s,isCategorical:l,categoricalDomain:u,tickCount:c,ticks:d,niceTicks:f,axisType:h}=e;if(!o)return null;var m=s==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,g=i==="category"&&o.bandwidth?o.bandwidth()/m:0;if(g=h==="angleAxis"&&a&&a.length>=2?st(a[0]-a[1])*2*g:g,d||f){var v=(d||f||[]).map((b,x)=>{var w=n?n.indexOf(b):b;return{coordinate:o(w)+g,value:b,offset:g,index:x}});return v.filter(b=>!wt(b.coordinate))}return l&&u?u.map((b,x)=>({coordinate:o(b)+g,value:b,index:x,offset:g})):o.ticks&&c!=null?o.ticks(c).map((b,x)=>({coordinate:o(b)+g,value:b,offset:g,index:x})):o.domain().map((b,x)=>({coordinate:o(b)+g,value:n?n[b]:b,index:x,offset:g}))},im=1e-4,WC=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),i=Math.min(n[0],n[1])-im,a=Math.max(n[0],n[1])+im,o=e(t[0]),s=e(t[r-1]);(o<i||o>a||s<i||s>a)&&e.domain([t[0],t[r-1]])}},HC=(e,t)=>{if(!t||t.length!==2||!z(t[0])||!z(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!z(e[0])||e[0]<r)&&(i[0]=r),(!z(e[1])||e[1]>n)&&(i[1]=n),i[0]>n&&(i[0]=n),i[1]<r&&(i[1]=r),i},KC=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var i=0,a=0,o=0;o<t;++o){var s=wt(e[o][r][1])?e[o][r][0]:e[o][r][1];s>=0?(e[o][r][0]=i,e[o][r][1]=i+s,i=e[o][r][1]):(e[o][r][0]=a,e[o][r][1]=a+s,a=e[o][r][1])}},VC=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var i=0,a=0;a<t;++a){var o=wt(e[a][r][1])?e[a][r][0]:e[a][r][1];o>=0?(e[a][r][0]=i,e[a][r][1]=i+o,i=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},GC={sign:KC,expand:jk,none:Fn,silhouette:Pk,wiggle:Ok,positive:VC},YC=(e,t,r)=>{var n=GC[r],i=Ek().keys(t).value((a,o)=>+tt(a,o,0)).order(ou).offset(n);return i(e)};function JC(e){return e==null?void 0:String(e)}var am=e=>{var{axis:t,ticks:r,offset:n,bandSize:i,entry:a,index:o}=e;if(t.type==="category")return r[o]?r[o].coordinate+n:null;var s=tt(a,t.dataKey,t.scale.domain()[o]);return Ie(s)?null:t.scale(s)-i/2+n},XC=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return n<=0&&i>=0?0:i<0?i:n}return r[0]},ZC=e=>{var t=e.flat(2).filter(z);return[Math.min(...t),Math.max(...t)]},QC=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],eT=(e,t,r)=>{if(e!=null)return QC(Object.keys(e).reduce((n,i)=>{var a=e[i],{stackedData:o}=a,s=o.reduce((l,u)=>{var c=V0(u,t,r),d=ZC(c);return[Math.min(l[0],d[0]),Math.max(l[1],d[1])]},[1/0,-1/0]);return[Math.min(s[0],n[0]),Math.max(s[1],n[1])]},[1/0,-1/0]))},om=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,sm=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,kd=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var i=us(t,c=>c.coordinate),a=1/0,o=1,s=i.length;o<s;o++){var l=i[o],u=i[o-1];a=Math.min((l.coordinate||0)-(u.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0};function lm(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:i,name:a}=e;return Ct(Ct({},t),{},{dataKey:r,payload:n,value:i,name:a})}function J0(e,t){if(e)return String(e);if(typeof t=="string")return t}function tT(e,t,r,n,i){if(r==="horizontal"||r==="vertical"){var a=e>=i.left&&e<=i.left+i.width&&t>=i.top&&t<=i.top+i.height;return a?{x:e,y:t}:null}return n?LC({x:e,y:t},n):null}var rT=(e,t,r,n)=>{var i=t.find(u=>u&&u.index===r);if(i){if(e==="horizontal")return{x:i.coordinate,y:n.y};if(e==="vertical")return{x:n.x,y:i.coordinate};if(e==="centric"){var a=i.coordinate,{radius:o}=n;return Ct(Ct(Ct({},n),Fe(n.cx,n.cy,o,a)),{},{angle:a,radius:o})}var s=i.coordinate,{angle:l}=n;return Ct(Ct(Ct({},n),Fe(n.cx,n.cy,s,l)),{},{angle:l,radius:s})}return{x:0,y:0}},nT=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,xr=e=>e.layout.width,_r=e=>e.layout.height,iT=e=>e.layout.scale,X0=e=>e.layout.margin,gs=O(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),vs=O(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),aT="data-recharts-item-index",oT="data-recharts-item-data-key",la=60;function cm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Fa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cm(Object(r),!0).forEach(function(n){sT(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cm(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sT(e,t,r){return(t=lT(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lT(e){var t=cT(e,"string");return typeof t=="symbol"?t:t+""}function cT(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uT=e=>e.brush.height;function dT(e){var t=vs(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:la;return r+i}return r},0)}function fT(e){var t=vs(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:la;return r+i}return r},0)}function hT(e){var t=gs(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function pT(e){var t=gs(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var De=O([xr,_r,X0,uT,dT,fT,hT,pT,_0,AA],(e,t,r,n,i,a,o,s,l,u)=>{var c={left:(r.left||0)+i,right:(r.right||0)+a},d={top:(r.top||0)+o,bottom:(r.bottom||0)+s},f=Fa(Fa({},d),c),h=f.bottom;f.bottom+=n,f=qC(f,l,u);var m=e-f.left-f.right,g=t-f.top-f.bottom;return Fa(Fa({brushBottom:h},f),{},{width:Math.max(m,0),height:Math.max(g,0)})}),mT=O(De,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),Ad=O(xr,_r,(e,t)=>({x:0,y:0,width:e,height:t})),gT=y.createContext(null),Mt=()=>y.useContext(gT)!=null,ys=e=>e.brush,bs=O([ys,De,X0],(e,t,r)=>({height:e.height,x:z(e.x)?e.x:t.left,y:z(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:z(e.width)?e.width:t.width})),Cd=()=>{var e,t=Mt(),r=q(mT),n=q(bs),i=(e=q(ys))===null||e===void 0?void 0:e.padding;return!t||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},vT={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},Z0=()=>{var e;return(e=q(De))!==null&&e!==void 0?e:vT},Q0=()=>q(xr),eb=()=>q(_r),le=e=>e.layout.layoutType,Td=()=>q(le),yT={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},tb=Et({name:"legend",initialState:yT,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var r=pr(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)}}}),{setLegendSize:Cz,setLegendSettings:Tz,addLegendPayload:bT,removeLegendPayload:wT}=tb.actions,xT=tb.reducer;function gu(){return gu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gu.apply(null,arguments)}function um(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ic(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?um(Object(r),!0).forEach(function(n){_T(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):um(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _T(e,t,r){return(t=ST(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ST(e){var t=ET(e,"string");return typeof t=="symbol"?t:t+""}function ET(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jT(e){return Array.isArray(e)&&er(e[0])&&er(e[1])?e.join(" ~ "):e}var PT=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:i={},payload:a,formatter:o,itemSorter:s,wrapperClassName:l,labelClassName:u,label:c,labelFormatter:d,accessibilityLayer:f=!1}=e,h=()=>{if(a&&a.length){var S={padding:0,margin:0},E=(s?us(a,s):a).map((j,k)=>{if(j.type==="none")return null;var A=j.formatter||o||jT,{value:I,name:C}=j,$=I,U=C;if(A){var T=A(I,C,j,k,a);if(Array.isArray(T))[$,U]=T;else if(T!=null)$=T;else return null}var L=ic({display:"block",paddingTop:4,paddingBottom:4,color:j.color||"#000"},n);return y.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(k),style:L},er(U)?y.createElement("span",{className:"recharts-tooltip-item-name"},U):null,er(U)?y.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,y.createElement("span",{className:"recharts-tooltip-item-value"},$),y.createElement("span",{className:"recharts-tooltip-item-unit"},j.unit||""))});return y.createElement("ul",{className:"recharts-tooltip-item-list",style:S},E)}return null},m=ic({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),g=ic({margin:0},i),v=!Ie(c),b=v?c:"",x=ge("recharts-default-tooltip",l),w=ge("recharts-tooltip-label",u);v&&d&&a!==void 0&&a!==null&&(b=d(c,a));var _=f?{role:"status","aria-live":"assertive"}:{};return y.createElement("div",gu({className:x,style:m},_),y.createElement("p",{className:w,style:g},y.isValidElement(b)?b:"".concat(b)),h())},yi="recharts-tooltip-wrapper",OT={visibility:"hidden"};function kT(e){var{coordinate:t,translateX:r,translateY:n}=e;return ge(yi,{["".concat(yi,"-right")]:z(r)&&t&&z(t.x)&&r>=t.x,["".concat(yi,"-left")]:z(r)&&t&&z(t.x)&&r<t.x,["".concat(yi,"-bottom")]:z(n)&&t&&z(t.y)&&n>=t.y,["".concat(yi,"-top")]:z(n)&&t&&z(t.y)&&n<t.y})}function dm(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:i,position:a,reverseDirection:o,tooltipDimension:s,viewBox:l,viewBoxDimension:u}=e;if(a&&z(a[n]))return a[n];var c=r[n]-s-(i>0?i:0),d=r[n]+i;if(t[n])return o[n]?c:d;var f=l[n];if(f==null)return 0;if(o[n]){var h=c,m=f;return h<m?Math.max(d,f):Math.max(c,f)}if(u==null)return 0;var g=d+s,v=f+u;return g>v?Math.max(c,f):Math.max(d,f)}function AT(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function CT(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:i,reverseDirection:a,tooltipBox:o,useTranslate3d:s,viewBox:l}=e,u,c,d;return o.height>0&&o.width>0&&r?(c=dm({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),d=dm({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),u=AT({translateX:c,translateY:d,useTranslate3d:s})):u=OT,{cssProperties:u,cssClasses:kT({translateX:c,translateY:d,coordinate:r})}}function fm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function za(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fm(Object(r),!0).forEach(function(n){vu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fm(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vu(e,t,r){return(t=TT(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TT(e){var t=RT(e,"string");return typeof t=="symbol"?t:t+""}function RT(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class IT extends y.PureComponent{constructor(){super(...arguments),vu(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),vu(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:a,coordinate:o,hasPayload:s,isAnimationActive:l,offset:u,position:c,reverseDirection:d,useTranslate3d:f,viewBox:h,wrapperStyle:m,lastBoundingBox:g,innerRef:v,hasPortalFromProps:b}=this.props,{cssClasses:x,cssProperties:w}=CT({allowEscapeViewBox:r,coordinate:o,offsetTopLeft:u,position:c,reverseDirection:d,tooltipBox:{height:g.height,width:g.width},useTranslate3d:f,viewBox:h}),_=b?{}:za(za({transition:l&&t?"transform ".concat(n,"ms ").concat(i):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&s?"visible":"hidden",position:"absolute",top:0,left:0}),S=za(za({},_),{},{visibility:!this.state.dismissed&&t&&s?"visible":"hidden"},m);return y.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:x,style:S,ref:v},a)}}var $T=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),ni={devToolsEnabled:!1,isSsr:$T()},rb=()=>q(e=>e.rootProps.accessibilityLayer);function _t(e){return Number.isFinite(e)}function Co(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function yu(){return yu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yu.apply(null,arguments)}function hm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function pm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hm(Object(r),!0).forEach(function(n){DT(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hm(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DT(e,t,r){return(t=MT(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MT(e){var t=NT(e,"string");return typeof t=="symbol"?t:t+""}function NT(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mm={curveBasisClosed:hk,curveBasisOpen:pk,curveBasis:fk,curveBumpX:ZO,curveBumpY:QO,curveLinearClosed:mk,curveLinear:ls,curveMonotoneX:gk,curveMonotoneY:vk,curveNatural:yk,curveStep:bk,curveStepAfter:xk,curveStepBefore:wk},qa=e=>_t(e.x)&&_t(e.y),bi=e=>e.x,wi=e=>e.y,LT=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(aa(e));return(r==="curveMonotone"||r==="curveBump")&&t?mm["".concat(r).concat(t==="vertical"?"Y":"X")]:mm[r]||ls},BT=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:i,connectNulls:a=!1}=e,o=LT(t,i),s=a?r.filter(qa):r,l;if(Array.isArray(n)){var u=a?n.filter(d=>qa(d)):n,c=s.map((d,f)=>pm(pm({},d),{},{base:u[f]}));return i==="vertical"?l=Da().y(wi).x1(bi).x0(d=>d.base.x):l=Da().x(bi).y1(wi).y0(d=>d.base.y),l.defined(qa).curve(o),l(c)}return i==="vertical"&&z(n)?l=Da().y(wi).x1(bi).x0(n):z(n)?l=Da().x(bi).y1(wi).y0(n):l=Zy().x(bi).y(wi),l.defined(qa).curve(o),l(s)},UT=e=>{var{className:t,points:r,path:n,pathRef:i}=e;if((!r||!r.length)&&!n)return null;var a=r&&r.length?BT(e):n;return y.createElement("path",yu({},ri(e),NO(e),{className:ge("recharts-curve",t),d:a===null?void 0:a,ref:i}))},FT=["x","y","top","left","width","height","className"];function bu(){return bu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bu.apply(null,arguments)}function gm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function zT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gm(Object(r),!0).forEach(function(n){qT(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gm(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qT(e,t,r){return(t=WT(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WT(e){var t=HT(e,"string");return typeof t=="symbol"?t:t+""}function HT(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function KT(e,t){if(e==null)return{};var r,n,i=VT(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function VT(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var GT=(e,t,r,n,i,a)=>"M".concat(e,",").concat(i,"v").concat(n,"M").concat(a,",").concat(t,"h").concat(r),YT=e=>{var{x:t=0,y:r=0,top:n=0,left:i=0,width:a=0,height:o=0,className:s}=e,l=KT(e,FT),u=zT({x:t,y:r,top:n,left:i,width:a,height:o},l);return!z(t)||!z(r)||!z(a)||!z(o)||!z(n)||!z(i)?null:y.createElement("path",bu({},ze(u,!0),{className:ge("recharts-cross",s),d:GT(t,r,a,o,n,i)}))};function JT(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function vm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function XT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vm(Object(r),!0).forEach(function(n){ZT(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vm(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZT(e,t,r){return(t=QT(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QT(e){var t=e2(e,"string");return typeof t=="symbol"?t:t+""}function e2(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nt(e,t){var r=XT({},e),n=t,i=Object.keys(t),a=i.reduce((o,s)=>(o[s]===void 0&&n[s]!==void 0&&(o[s]=n[s]),o),r);return a}function t2(){}function ym(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function bm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ym(Object(r),!0).forEach(function(n){r2(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ym(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function r2(e,t,r){return(t=n2(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n2(e){var t=i2(e,"string");return typeof t=="symbol"?t:t+""}function i2(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var a2=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),nb=(e,t,r)=>e.map(n=>"".concat(a2(n)," ").concat(t,"ms ").concat(r)).join(","),o2=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(i=>n.includes(i))),Gi=(e,t)=>Object.keys(t).reduce((r,n)=>bm(bm({},r),{},{[n]:e(n,t[n])}),{});function wm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ue(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wm(Object(r),!0).forEach(function(n){s2(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wm(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function s2(e,t,r){return(t=l2(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l2(e){var t=c2(e,"string");return typeof t=="symbol"?t:t+""}function c2(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var To=(e,t,r)=>e+(t-e)*r,wu=e=>{var{from:t,to:r}=e;return t!==r},ib=(e,t,r)=>{var n=Gi((i,a)=>{if(wu(a)){var[o,s]=e(a.from,a.to,a.velocity);return Ue(Ue({},a),{},{from:o,velocity:s})}return a},t);return r<1?Gi((i,a)=>wu(a)?Ue(Ue({},a),{},{velocity:To(a.velocity,n[i].velocity,r),from:To(a.from,n[i].from,r)}):a,t):ib(e,n,r-1)};function u2(e,t,r,n,i,a){var o,s=n.reduce((f,h)=>Ue(Ue({},f),{},{[h]:{from:e[h],velocity:0,to:t[h]}}),{}),l=()=>Gi((f,h)=>h.from,s),u=()=>!Object.values(s).filter(wu).length,c=null,d=f=>{o||(o=f);var h=f-o,m=h/r.dt;s=ib(r,s,m),i(Ue(Ue(Ue({},e),t),l())),o=f,u()||(c=a.setTimeout(d))};return()=>(c=a.setTimeout(d),()=>{c()})}function d2(e,t,r,n,i,a,o){var s=null,l=i.reduce((d,f)=>Ue(Ue({},d),{},{[f]:[e[f],t[f]]}),{}),u,c=d=>{u||(u=d);var f=(d-u)/n,h=Gi((g,v)=>To(...v,r(f)),l);if(a(Ue(Ue(Ue({},e),t),h)),f<1)s=o.setTimeout(c);else{var m=Gi((g,v)=>To(...v,r(1)),l);a(Ue(Ue(Ue({},e),t),m))}};return()=>(s=o.setTimeout(c),()=>{s()})}const f2=(e,t,r,n,i,a)=>{var o=o2(e,t);return r.isStepper===!0?u2(e,t,r,o,i,a):d2(e,t,r,n,o,i,a)};var Ro=1e-4,ab=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],ob=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),xm=(e,t)=>r=>{var n=ab(e,t);return ob(n,r)},h2=(e,t)=>r=>{var n=ab(e,t),i=[...n.map((a,o)=>a*o).slice(1),0];return ob(i,r)},_m=function(){for(var t,r,n,i,a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];if(o.length===1)switch(o[0]){case"linear":[t,n,r,i]=[0,0,1,1];break;case"ease":[t,n,r,i]=[.25,.1,.25,1];break;case"ease-in":[t,n,r,i]=[.42,0,1,1];break;case"ease-out":[t,n,r,i]=[.42,0,.58,1];break;case"ease-in-out":[t,n,r,i]=[0,0,.58,1];break;default:{var l=o[0].split("(");l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4&&([t,n,r,i]=l[1].split(")")[0].split(",").map(m=>parseFloat(m)))}}else o.length===4&&([t,n,r,i]=o);var u=xm(t,r),c=xm(n,i),d=h2(t,r),f=m=>m>1?1:m<0?0:m,h=m=>{for(var g=m>1?1:m,v=g,b=0;b<8;++b){var x=u(v)-g,w=d(v);if(Math.abs(x-g)<Ro||w<Ro)return c(v);v=f(v-x/w)}return c(v)};return h.isStepper=!1,h},p2=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=t,a=(o,s,l)=>{var u=-(o-s)*r,c=l*n,d=l+(u-c)*i/1e3,f=l*i/1e3+o;return Math.abs(f-s)<Ro&&Math.abs(d)<Ro?[s,0]:[f,d]};return a.isStepper=!0,a.dt=i,a},m2=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return _m(e);case"spring":return p2();default:if(e.split("(")[0]==="cubic-bezier")return _m(e)}return typeof e=="function"?e:null};function g2(e){var t,r=()=>null,n=!1,i=null,a=o=>{if(!n){if(Array.isArray(o)){if(!o.length)return;var s=o,[l,...u]=s;if(typeof l=="number"){i=e.setTimeout(a.bind(null,u),l);return}a(l),i=e.setTimeout(a.bind(null,u));return}typeof o=="string"&&(t=o,r(t)),typeof o=="object"&&(t=o,r(t)),typeof o=="function"&&o()}};return{stop:()=>{n=!0},start:o=>{n=!1,i&&(i(),i=null),a(o)},subscribe:o=>(r=o,()=>{r=()=>null}),getTimeoutController:()=>e}}class v2{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,a=o=>{o-n>=r?t(o):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{cancelAnimationFrame(i)}}}function y2(){return g2(new v2)}var b2=y.createContext(y2);function w2(e,t){var r=y.useContext(b2);return y.useMemo(()=>t??r(e),[e,t,r])}var x2={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},Sm={t:0},ac={t:1};function Rd(e){var t=Nt(e,x2),{isActive:r,canBegin:n,duration:i,easing:a,begin:o,onAnimationEnd:s,onAnimationStart:l,children:u}=t,c=w2(t.animationId,t.animationManager),[d,f]=y.useState(r?Sm:ac),h=y.useRef(null);return y.useEffect(()=>{r||f(ac)},[r]),y.useEffect(()=>{if(!r||!n)return t2;var m=f2(Sm,ac,m2(a),i,f,c.getTimeoutController()),g=()=>{h.current=m()};return c.start([l,o,g,i,s]),()=>{c.stop(),h.current&&h.current(),s()}},[r,n,i,a,o,l,s,c]),u(d.t)}function Id(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=y.useRef(Hi(t)),n=y.useRef(e);return n.current!==e&&(r.current=Hi(t),n.current=e),r.current}function Em(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function jm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Em(Object(r),!0).forEach(function(n){_2(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Em(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _2(e,t,r){return(t=S2(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S2(e){var t=E2(e,"string");return typeof t=="symbol"?t:t+""}function E2(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Io(){return Io=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Io.apply(null,arguments)}var Pm=(e,t,r,n,i)=>{var a=Math.min(Math.abs(r)/2,Math.abs(n)/2),o=n>=0?1:-1,s=r>=0?1:-1,l=n>=0&&r>=0||n<0&&r<0?1:0,u;if(a>0&&i instanceof Array){for(var c=[0,0,0,0],d=0,f=4;d<f;d++)c[d]=i[d]>a?a:i[d];u="M".concat(e,",").concat(t+o*c[0]),c[0]>0&&(u+="A ".concat(c[0],",").concat(c[0],",0,0,").concat(l,",").concat(e+s*c[0],",").concat(t)),u+="L ".concat(e+r-s*c[1],",").concat(t),c[1]>0&&(u+="A ".concat(c[1],",").concat(c[1],",0,0,").concat(l,`,
        `).concat(e+r,",").concat(t+o*c[1])),u+="L ".concat(e+r,",").concat(t+n-o*c[2]),c[2]>0&&(u+="A ".concat(c[2],",").concat(c[2],",0,0,").concat(l,`,
        `).concat(e+r-s*c[2],",").concat(t+n)),u+="L ".concat(e+s*c[3],",").concat(t+n),c[3]>0&&(u+="A ".concat(c[3],",").concat(c[3],",0,0,").concat(l,`,
        `).concat(e,",").concat(t+n-o*c[3])),u+="Z"}else if(a>0&&i===+i&&i>0){var h=Math.min(a,i);u="M ".concat(e,",").concat(t+o*h,`
            A `).concat(h,",").concat(h,",0,0,").concat(l,",").concat(e+s*h,",").concat(t,`
            L `).concat(e+r-s*h,",").concat(t,`
            A `).concat(h,",").concat(h,",0,0,").concat(l,",").concat(e+r,",").concat(t+o*h,`
            L `).concat(e+r,",").concat(t+n-o*h,`
            A `).concat(h,",").concat(h,",0,0,").concat(l,",").concat(e+r-s*h,",").concat(t+n,`
            L `).concat(e+s*h,",").concat(t+n,`
            A `).concat(h,",").concat(h,",0,0,").concat(l,",").concat(e,",").concat(t+n-o*h," Z")}else u="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return u},j2={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},sb=e=>{var t=Nt(e,j2),r=y.useRef(null),[n,i]=y.useState(-1);y.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var T=r.current.getTotalLength();T&&i(T)}catch{}},[]);var{x:a,y:o,width:s,height:l,radius:u,className:c}=t,{animationEasing:d,animationDuration:f,animationBegin:h,isAnimationActive:m,isUpdateAnimationActive:g}=t,v=y.useRef(s),b=y.useRef(l),x=y.useRef(a),w=y.useRef(o),_=y.useMemo(()=>({x:a,y:o,width:s,height:l,radius:u}),[a,o,s,l,u]),S=Id(_,"rectangle-");if(a!==+a||o!==+o||s!==+s||l!==+l||s===0||l===0)return null;var E=ge("recharts-rectangle",c);if(!g)return y.createElement("path",Io({},ze(t,!0),{className:E,d:Pm(a,o,s,l,u)}));var j=v.current,k=b.current,A=x.current,I=w.current,C="0px ".concat(n===-1?1:n,"px"),$="".concat(n,"px 0px"),U=nb(["strokeDasharray"],f,typeof d=="string"?d:void 0);return y.createElement(Rd,{animationId:S,key:S,canBegin:n>0,duration:f,easing:d,isActive:g,begin:h},T=>{var L=Ze(j,s,T),M=Ze(k,l,T),W=Ze(A,a,T),J=Ze(I,o,T);r.current&&(v.current=L,b.current=M,x.current=W,w.current=J);var X;return m?T>0?X={transition:U,strokeDasharray:$}:X={strokeDasharray:C}:X={strokeDasharray:$},y.createElement("path",Io({},ze(t,!0),{className:E,d:Pm(W,J,L,M,u),ref:r,style:jm(jm({},X),t.style)}))})};function lb(e){var{cx:t,cy:r,radius:n,startAngle:i,endAngle:a}=e,o=Fe(t,r,n,i),s=Fe(t,r,n,a);return{points:[o,s],cx:t,cy:r,radius:n,startAngle:i,endAngle:a}}function xu(){return xu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xu.apply(null,arguments)}var P2=(e,t)=>{var r=st(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},Wa=e=>{var{cx:t,cy:r,radius:n,angle:i,sign:a,isExternal:o,cornerRadius:s,cornerIsExternal:l}=e,u=s*(o?1:-1)+n,c=Math.asin(s/u)/Ao,d=l?i:i+a*c,f=Fe(t,r,u,d),h=Fe(t,r,n,d),m=l?i-a*c:i,g=Fe(t,r,u*Math.cos(c*Ao),m);return{center:f,circleTangency:h,lineTangency:g,theta:c}},cb=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:a,endAngle:o}=e,s=P2(a,o),l=a+s,u=Fe(t,r,i,a),c=Fe(t,r,i,l),d="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(s)>180),",").concat(+(a>l),`,
    `).concat(c.x,",").concat(c.y,`
  `);if(n>0){var f=Fe(t,r,n,a),h=Fe(t,r,n,l);d+="L ".concat(h.x,",").concat(h.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(s)>180),",").concat(+(a<=l),`,
            `).concat(f.x,",").concat(f.y," Z")}else d+="L ".concat(t,",").concat(r," Z");return d},O2=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:s,startAngle:l,endAngle:u}=e,c=st(u-l),{circleTangency:d,lineTangency:f,theta:h}=Wa({cx:t,cy:r,radius:i,angle:l,sign:c,cornerRadius:a,cornerIsExternal:s}),{circleTangency:m,lineTangency:g,theta:v}=Wa({cx:t,cy:r,radius:i,angle:u,sign:-c,cornerRadius:a,cornerIsExternal:s}),b=s?Math.abs(l-u):Math.abs(l-u)-h-v;if(b<0)return o?"M ".concat(f.x,",").concat(f.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):cb({cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:l,endAngle:u});var x="M ".concat(f.x,",").concat(f.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(c<0),",").concat(d.x,",").concat(d.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(b>180),",").concat(+(c<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(c<0),",").concat(g.x,",").concat(g.y,`
  `);if(n>0){var{circleTangency:w,lineTangency:_,theta:S}=Wa({cx:t,cy:r,radius:n,angle:l,sign:c,isExternal:!0,cornerRadius:a,cornerIsExternal:s}),{circleTangency:E,lineTangency:j,theta:k}=Wa({cx:t,cy:r,radius:n,angle:u,sign:-c,isExternal:!0,cornerRadius:a,cornerIsExternal:s}),A=s?Math.abs(l-u):Math.abs(l-u)-S-k;if(A<0&&a===0)return"".concat(x,"L").concat(t,",").concat(r,"Z");x+="L".concat(j.x,",").concat(j.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(c<0),",").concat(E.x,",").concat(E.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(A>180),",").concat(+(c>0),",").concat(w.x,",").concat(w.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(c<0),",").concat(_.x,",").concat(_.y,"Z")}else x+="L".concat(t,",").concat(r,"Z");return x},k2={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},ub=e=>{var t=Nt(e,k2),{cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:o,forceCornerRadius:s,cornerIsExternal:l,startAngle:u,endAngle:c,className:d}=t;if(a<i||u===c)return null;var f=ge("recharts-sector",d),h=a-i,m=Wt(o,h,0,!0),g;return m>0&&Math.abs(u-c)<360?g=O2({cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:Math.min(m,h/2),forceCornerRadius:s,cornerIsExternal:l,startAngle:u,endAngle:c}):g=cb({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:u,endAngle:c}),y.createElement("path",xu({},ze(t,!0),{className:f,d:g}))};function A2(e,t,r){var n,i,a,o;if(e==="horizontal")n=t.x,a=n,i=r.top,o=r.top+r.height;else if(e==="vertical")i=t.y,o=i,n=r.left,a=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:s,cy:l,innerRadius:u,outerRadius:c,angle:d}=t,f=Fe(s,l,u,d),h=Fe(s,l,c,d);n=f.x,i=f.y,a=h.x,o=h.y}else return lb(t);return[{x:n,y:i},{x:a,y:o}]}var oc={},sc={},lc={},Om;function C2(){return Om||(Om=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=w0();function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(lc)),lc}var km;function T2(){return km||(km=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=C2();function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(sc)),sc}var Am;function R2(){return Am||(Am=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=x0(),r=T2();function n(i,a,o){o&&typeof o!="number"&&t.isIterateeCall(i,a,o)&&(a=o=void 0),i=r.toFinite(i),a===void 0?(a=i,i=0):a=r.toFinite(a),o=o===void 0?i<a?1:-1:r.toFinite(o);const s=Math.max(Math.ceil((a-i)/(o||1)),0),l=new Array(s);for(let u=0;u<s;u++)l[u]=i,i+=o;return l}e.range=n})(oc)),oc}var cc,Cm;function I2(){return Cm||(Cm=1,cc=R2().range),cc}var $2=I2();const db=rr($2);function Dr(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function D2(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function $d(e){let t,r,n;e.length!==2?(t=Dr,r=(s,l)=>Dr(e(s),l),n=(s,l)=>e(s)-l):(t=e===Dr||e===D2?e:M2,r=e,n=e);function i(s,l,u=0,c=s.length){if(u<c){if(t(l,l)!==0)return c;do{const d=u+c>>>1;r(s[d],l)<0?u=d+1:c=d}while(u<c)}return u}function a(s,l,u=0,c=s.length){if(u<c){if(t(l,l)!==0)return c;do{const d=u+c>>>1;r(s[d],l)<=0?u=d+1:c=d}while(u<c)}return u}function o(s,l,u=0,c=s.length){const d=i(s,l,u,c-1);return d>u&&n(s[d-1],l)>-n(s[d],l)?d-1:d}return{left:i,center:o,right:a}}function M2(){return 0}function fb(e){return e===null?NaN:+e}function*N2(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const L2=$d(Dr),ca=L2.right;$d(fb).center;class Tm extends Map{constructor(t,r=F2){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(Rm(this,t))}has(t){return super.has(Rm(this,t))}set(t,r){return super.set(B2(this,t),r)}delete(t){return super.delete(U2(this,t))}}function Rm({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function B2({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function U2({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function F2(e){return e!==null&&typeof e=="object"?e.valueOf():e}function z2(e=Dr){if(e===Dr)return hb;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function hb(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const q2=Math.sqrt(50),W2=Math.sqrt(10),H2=Math.sqrt(2);function $o(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),o=a>=q2?10:a>=W2?5:a>=H2?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/o,s=Math.round(e*u),l=Math.round(t*u),s/u<e&&++s,l/u>t&&--l,u=-u):(u=Math.pow(10,i)*o,s=Math.round(e/u),l=Math.round(t/u),s*u<e&&++s,l*u>t&&--l),l<s&&.5<=r&&r<2?$o(e,t,r*2):[s,l,u]}function _u(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,a,o]=n?$o(t,e,r):$o(e,t,r);if(!(a>=i))return[];const s=a-i+1,l=new Array(s);if(n)if(o<0)for(let u=0;u<s;++u)l[u]=(a-u)/-o;else for(let u=0;u<s;++u)l[u]=(a-u)*o;else if(o<0)for(let u=0;u<s;++u)l[u]=(i+u)/-o;else for(let u=0;u<s;++u)l[u]=(i+u)*o;return l}function Su(e,t,r){return t=+t,e=+e,r=+r,$o(e,t,r)[2]}function Eu(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?Su(t,e,r):Su(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function Im(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function $m(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function pb(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?hb:z2(i);n>r;){if(n-r>600){const l=n-r+1,u=t-r+1,c=Math.log(l),d=.5*Math.exp(2*c/3),f=.5*Math.sqrt(c*d*(l-d)/l)*(u-l/2<0?-1:1),h=Math.max(r,Math.floor(t-u*d/l+f)),m=Math.min(n,Math.floor(t+(l-u)*d/l+f));pb(e,t,h,m,i)}const a=e[t];let o=r,s=n;for(xi(e,r,t),i(e[n],a)>0&&xi(e,r,n);o<s;){for(xi(e,o,s),++o,--s;i(e[o],a)<0;)++o;for(;i(e[s],a)>0;)--s}i(e[r],a)===0?xi(e,r,s):(++s,xi(e,s,n)),s<=t&&(r=s+1),t<=s&&(n=s-1)}return e}function xi(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function K2(e,t,r){if(e=Float64Array.from(N2(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return $m(e);if(t>=1)return Im(e);var n,i=(n-1)*t,a=Math.floor(i),o=Im(pb(e,a).subarray(0,a+1)),s=$m(e.subarray(a+1));return o+(s-o)*(i-a)}}function V2(e,t,r=fb){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,a=Math.floor(i),o=+r(e[a],a,e),s=+r(e[a+1],a+1,e);return o+(s-o)*(i-a)}}function G2(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,a=new Array(i);++n<i;)a[n]=e+n*r;return a}function Lt(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Sr(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const ju=Symbol("implicit");function Dd(){var e=new Tm,t=[],r=[],n=ju;function i(a){let o=e.get(a);if(o===void 0){if(n!==ju)return n;e.set(a,o=t.push(a)-1)}return r[o%r.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new Tm;for(const o of a)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return Dd(t,r).unknown(n)},Lt.apply(i,arguments),i}function Md(){var e=Dd().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,a,o,s=!1,l=0,u=0,c=.5;delete e.unknown;function d(){var f=t().length,h=i<n,m=h?i:n,g=h?n:i;a=(g-m)/Math.max(1,f-l+u*2),s&&(a=Math.floor(a)),m+=(g-m-a*(f-l))*c,o=a*(1-l),s&&(m=Math.round(m),o=Math.round(o));var v=G2(f).map(function(b){return m+a*b});return r(h?v.reverse():v)}return e.domain=function(f){return arguments.length?(t(f),d()):t()},e.range=function(f){return arguments.length?([n,i]=f,n=+n,i=+i,d()):[n,i]},e.rangeRound=function(f){return[n,i]=f,n=+n,i=+i,s=!0,d()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(f){return arguments.length?(s=!!f,d()):s},e.padding=function(f){return arguments.length?(l=Math.min(1,u=+f),d()):l},e.paddingInner=function(f){return arguments.length?(l=Math.min(1,f),d()):l},e.paddingOuter=function(f){return arguments.length?(u=+f,d()):u},e.align=function(f){return arguments.length?(c=Math.max(0,Math.min(1,f)),d()):c},e.copy=function(){return Md(t(),[n,i]).round(s).paddingInner(l).paddingOuter(u).align(c)},Lt.apply(d(),arguments)}function mb(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return mb(t())},e}function Y2(){return mb(Md.apply(null,arguments).paddingInner(1))}function Nd(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function gb(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function ua(){}var Yi=.7,Do=1/Yi,Ln="\\s*([+-]?\\d+)\\s*",Ji="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Qt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",J2=/^#([0-9a-f]{3,8})$/,X2=new RegExp(`^rgb\\(${Ln},${Ln},${Ln}\\)$`),Z2=new RegExp(`^rgb\\(${Qt},${Qt},${Qt}\\)$`),Q2=new RegExp(`^rgba\\(${Ln},${Ln},${Ln},${Ji}\\)$`),eR=new RegExp(`^rgba\\(${Qt},${Qt},${Qt},${Ji}\\)$`),tR=new RegExp(`^hsl\\(${Ji},${Qt},${Qt}\\)$`),rR=new RegExp(`^hsla\\(${Ji},${Qt},${Qt},${Ji}\\)$`),Dm={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Nd(ua,Xi,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Mm,formatHex:Mm,formatHex8:nR,formatHsl:iR,formatRgb:Nm,toString:Nm});function Mm(){return this.rgb().formatHex()}function nR(){return this.rgb().formatHex8()}function iR(){return vb(this).formatHsl()}function Nm(){return this.rgb().formatRgb()}function Xi(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=J2.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?Lm(t):r===3?new lt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Ha(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Ha(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=X2.exec(e))?new lt(t[1],t[2],t[3],1):(t=Z2.exec(e))?new lt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Q2.exec(e))?Ha(t[1],t[2],t[3],t[4]):(t=eR.exec(e))?Ha(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=tR.exec(e))?Fm(t[1],t[2]/100,t[3]/100,1):(t=rR.exec(e))?Fm(t[1],t[2]/100,t[3]/100,t[4]):Dm.hasOwnProperty(e)?Lm(Dm[e]):e==="transparent"?new lt(NaN,NaN,NaN,0):null}function Lm(e){return new lt(e>>16&255,e>>8&255,e&255,1)}function Ha(e,t,r,n){return n<=0&&(e=t=r=NaN),new lt(e,t,r,n)}function aR(e){return e instanceof ua||(e=Xi(e)),e?(e=e.rgb(),new lt(e.r,e.g,e.b,e.opacity)):new lt}function Pu(e,t,r,n){return arguments.length===1?aR(e):new lt(e,t,r,n??1)}function lt(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Nd(lt,Pu,gb(ua,{brighter(e){return e=e==null?Do:Math.pow(Do,e),new lt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Yi:Math.pow(Yi,e),new lt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new lt(on(this.r),on(this.g),on(this.b),Mo(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Bm,formatHex:Bm,formatHex8:oR,formatRgb:Um,toString:Um}));function Bm(){return`#${Qr(this.r)}${Qr(this.g)}${Qr(this.b)}`}function oR(){return`#${Qr(this.r)}${Qr(this.g)}${Qr(this.b)}${Qr((isNaN(this.opacity)?1:this.opacity)*255)}`}function Um(){const e=Mo(this.opacity);return`${e===1?"rgb(":"rgba("}${on(this.r)}, ${on(this.g)}, ${on(this.b)}${e===1?")":`, ${e})`}`}function Mo(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function on(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Qr(e){return e=on(e),(e<16?"0":"")+e.toString(16)}function Fm(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new qt(e,t,r,n)}function vb(e){if(e instanceof qt)return new qt(e.h,e.s,e.l,e.opacity);if(e instanceof ua||(e=Xi(e)),!e)return new qt;if(e instanceof qt)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),a=Math.max(t,r,n),o=NaN,s=a-i,l=(a+i)/2;return s?(t===a?o=(r-n)/s+(r<n)*6:r===a?o=(n-t)/s+2:o=(t-r)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new qt(o,s,l,e.opacity)}function sR(e,t,r,n){return arguments.length===1?vb(e):new qt(e,t,r,n??1)}function qt(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Nd(qt,sR,gb(ua,{brighter(e){return e=e==null?Do:Math.pow(Do,e),new qt(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Yi:Math.pow(Yi,e),new qt(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new lt(uc(e>=240?e-240:e+120,i,n),uc(e,i,n),uc(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new qt(zm(this.h),Ka(this.s),Ka(this.l),Mo(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Mo(this.opacity);return`${e===1?"hsl(":"hsla("}${zm(this.h)}, ${Ka(this.s)*100}%, ${Ka(this.l)*100}%${e===1?")":`, ${e})`}`}}));function zm(e){return e=(e||0)%360,e<0?e+360:e}function Ka(e){return Math.max(0,Math.min(1,e||0))}function uc(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Ld=e=>()=>e;function lR(e,t){return function(r){return e+r*t}}function cR(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function uR(e){return(e=+e)==1?yb:function(t,r){return r-t?cR(t,r,e):Ld(isNaN(t)?r:t)}}function yb(e,t){var r=t-e;return r?lR(e,r):Ld(isNaN(e)?t:e)}const qm=(function e(t){var r=uR(t);function n(i,a){var o=r((i=Pu(i)).r,(a=Pu(a)).r),s=r(i.g,a.g),l=r(i.b,a.b),u=yb(i.opacity,a.opacity);return function(c){return i.r=o(c),i.g=s(c),i.b=l(c),i.opacity=u(c),i+""}}return n.gamma=e,n})(1);function dR(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=e[i]*(1-a)+t[i]*a;return n}}function fR(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function hR(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),a=new Array(r),o;for(o=0;o<n;++o)i[o]=ii(e[o],t[o]);for(;o<r;++o)a[o]=t[o];return function(s){for(o=0;o<n;++o)a[o]=i[o](s);return a}}function pR(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function No(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function mR(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=ii(e[i],t[i]):n[i]=t[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var Ou=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,dc=new RegExp(Ou.source,"g");function gR(e){return function(){return e}}function vR(e){return function(t){return e(t)+""}}function yR(e,t){var r=Ou.lastIndex=dc.lastIndex=0,n,i,a,o=-1,s=[],l=[];for(e=e+"",t=t+"";(n=Ou.exec(e))&&(i=dc.exec(t));)(a=i.index)>r&&(a=t.slice(r,a),s[o]?s[o]+=a:s[++o]=a),(n=n[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:No(n,i)})),r=dc.lastIndex;return r<t.length&&(a=t.slice(r),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?vR(l[0].x):gR(t):(t=l.length,function(u){for(var c=0,d;c<t;++c)s[(d=l[c]).i]=d.x(u);return s.join("")})}function ii(e,t){var r=typeof t,n;return t==null||r==="boolean"?Ld(t):(r==="number"?No:r==="string"?(n=Xi(t))?(t=n,qm):yR:t instanceof Xi?qm:t instanceof Date?pR:fR(t)?dR:Array.isArray(t)?hR:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?mR:No)(e,t)}function Bd(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function bR(e,t){t===void 0&&(t=e,e=ii);for(var r=0,n=t.length-1,i=t[0],a=new Array(n<0?0:n);r<n;)a[r]=e(i,i=t[++r]);return function(o){var s=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return a[s](o-s)}}function wR(e){return function(){return e}}function Lo(e){return+e}var Wm=[0,1];function et(e){return e}function ku(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:wR(isNaN(t)?NaN:.5)}function xR(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function _R(e,t,r){var n=e[0],i=e[1],a=t[0],o=t[1];return i<n?(n=ku(i,n),a=r(o,a)):(n=ku(n,i),a=r(a,o)),function(s){return a(n(s))}}function SR(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),a=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)i[o]=ku(e[o],e[o+1]),a[o]=r(t[o],t[o+1]);return function(s){var l=ca(e,s,1,n)-1;return a[l](i[l](s))}}function da(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function ws(){var e=Wm,t=Wm,r=ii,n,i,a,o=et,s,l,u;function c(){var f=Math.min(e.length,t.length);return o!==et&&(o=xR(e[0],e[f-1])),s=f>2?SR:_R,l=u=null,d}function d(f){return f==null||isNaN(f=+f)?a:(l||(l=s(e.map(n),t,r)))(n(o(f)))}return d.invert=function(f){return o(i((u||(u=s(t,e.map(n),No)))(f)))},d.domain=function(f){return arguments.length?(e=Array.from(f,Lo),c()):e.slice()},d.range=function(f){return arguments.length?(t=Array.from(f),c()):t.slice()},d.rangeRound=function(f){return t=Array.from(f),r=Bd,c()},d.clamp=function(f){return arguments.length?(o=f?!0:et,c()):o!==et},d.interpolate=function(f){return arguments.length?(r=f,c()):r},d.unknown=function(f){return arguments.length?(a=f,d):a},function(f,h){return n=f,i=h,c()}}function Ud(){return ws()(et,et)}function ER(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Bo(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function qn(e){return e=Bo(Math.abs(e)),e?e[1]:NaN}function jR(e,t){return function(r,n){for(var i=r.length,a=[],o=0,s=e[0],l=0;i>0&&s>0&&(l+s+1>n&&(s=Math.max(1,n-l)),a.push(r.substring(i-=s,i+s)),!((l+=s+1)>n));)s=e[o=(o+1)%e.length];return a.reverse().join(t)}}function PR(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var OR=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Zi(e){if(!(t=OR.exec(e)))throw new Error("invalid format: "+e);var t;return new Fd({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Zi.prototype=Fd.prototype;function Fd(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Fd.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function kR(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var bb;function AR(e,t){var r=Bo(e,t);if(!r)return e+"";var n=r[0],i=r[1],a=i-(bb=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return a===o?n:a>o?n+new Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+Bo(e,Math.max(0,t+a-1))[0]}function Hm(e,t){var r=Bo(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const Km={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:ER,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Hm(e*100,t),r:Hm,s:AR,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Vm(e){return e}var Gm=Array.prototype.map,Ym=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function CR(e){var t=e.grouping===void 0||e.thousands===void 0?Vm:jR(Gm.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?Vm:PR(Gm.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"−":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(d){d=Zi(d);var f=d.fill,h=d.align,m=d.sign,g=d.symbol,v=d.zero,b=d.width,x=d.comma,w=d.precision,_=d.trim,S=d.type;S==="n"?(x=!0,S="g"):Km[S]||(w===void 0&&(w=12),_=!0,S="g"),(v||f==="0"&&h==="=")&&(v=!0,f="0",h="=");var E=g==="$"?r:g==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",j=g==="$"?n:/[%p]/.test(S)?o:"",k=Km[S],A=/[defgprs%]/.test(S);w=w===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function I(C){var $=E,U=j,T,L,M;if(S==="c")U=k(C)+U,C="";else{C=+C;var W=C<0||1/C<0;if(C=isNaN(C)?l:k(Math.abs(C),w),_&&(C=kR(C)),W&&+C==0&&m!=="+"&&(W=!1),$=(W?m==="("?m:s:m==="-"||m==="("?"":m)+$,U=(S==="s"?Ym[8+bb/3]:"")+U+(W&&m==="("?")":""),A){for(T=-1,L=C.length;++T<L;)if(M=C.charCodeAt(T),48>M||M>57){U=(M===46?i+C.slice(T+1):C.slice(T))+U,C=C.slice(0,T);break}}}x&&!v&&(C=t(C,1/0));var J=$.length+C.length+U.length,X=J<b?new Array(b-J+1).join(f):"";switch(x&&v&&(C=t(X+C,X.length?b-U.length:1/0),X=""),h){case"<":C=$+C+U+X;break;case"=":C=$+X+C+U;break;case"^":C=X.slice(0,J=X.length>>1)+$+C+U+X.slice(J);break;default:C=X+$+C+U;break}return a(C)}return I.toString=function(){return d+""},I}function c(d,f){var h=u((d=Zi(d),d.type="f",d)),m=Math.max(-8,Math.min(8,Math.floor(qn(f)/3)))*3,g=Math.pow(10,-m),v=Ym[8+m/3];return function(b){return h(g*b)+v}}return{format:u,formatPrefix:c}}var Va,zd,wb;TR({thousands:",",grouping:[3],currency:["$",""]});function TR(e){return Va=CR(e),zd=Va.format,wb=Va.formatPrefix,Va}function RR(e){return Math.max(0,-qn(Math.abs(e)))}function IR(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(qn(t)/3)))*3-qn(Math.abs(e)))}function $R(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,qn(t)-qn(e))+1}function xb(e,t,r,n){var i=Eu(e,t,r),a;switch(n=Zi(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(a=IR(i,o))&&(n.precision=a),wb(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=$R(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=RR(i))&&(n.precision=a-(n.type==="%")*2);break}}return zd(n)}function Ur(e){var t=e.domain;return e.ticks=function(r){var n=t();return _u(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return xb(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,a=n.length-1,o=n[i],s=n[a],l,u,c=10;for(s<o&&(u=o,o=s,s=u,u=i,i=a,a=u);c-- >0;){if(u=Su(o,s,r),u===l)return n[i]=o,n[a]=s,t(n);if(u>0)o=Math.floor(o/u)*u,s=Math.ceil(s/u)*u;else if(u<0)o=Math.ceil(o*u)/u,s=Math.floor(s*u)/u;else break;l=u}return e},e}function _b(){var e=Ud();return e.copy=function(){return da(e,_b())},Lt.apply(e,arguments),Ur(e)}function Sb(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Lo),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return Sb(e).unknown(t)},e=arguments.length?Array.from(e,Lo):[0,1],Ur(r)}function Eb(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],a=e[n],o;return a<i&&(o=r,r=n,n=o,o=i,i=a,a=o),e[r]=t.floor(i),e[n]=t.ceil(a),e}function Jm(e){return Math.log(e)}function Xm(e){return Math.exp(e)}function DR(e){return-Math.log(-e)}function MR(e){return-Math.exp(-e)}function NR(e){return isFinite(e)?+("1e"+e):e<0?0:e}function LR(e){return e===10?NR:e===Math.E?Math.exp:t=>Math.pow(e,t)}function BR(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function Zm(e){return(t,r)=>-e(-t,r)}function qd(e){const t=e(Jm,Xm),r=t.domain;let n=10,i,a;function o(){return i=BR(n),a=LR(n),r()[0]<0?(i=Zm(i),a=Zm(a),e(DR,MR)):e(Jm,Xm),t}return t.base=function(s){return arguments.length?(n=+s,o()):n},t.domain=function(s){return arguments.length?(r(s),o()):r()},t.ticks=s=>{const l=r();let u=l[0],c=l[l.length-1];const d=c<u;d&&([u,c]=[c,u]);let f=i(u),h=i(c),m,g;const v=s==null?10:+s;let b=[];if(!(n%1)&&h-f<v){if(f=Math.floor(f),h=Math.ceil(h),u>0){for(;f<=h;++f)for(m=1;m<n;++m)if(g=f<0?m/a(-f):m*a(f),!(g<u)){if(g>c)break;b.push(g)}}else for(;f<=h;++f)for(m=n-1;m>=1;--m)if(g=f>0?m/a(-f):m*a(f),!(g<u)){if(g>c)break;b.push(g)}b.length*2<v&&(b=_u(u,c,v))}else b=_u(f,h,Math.min(h-f,v)).map(a);return d?b.reverse():b},t.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=Zi(l)).precision==null&&(l.trim=!0),l=zd(l)),s===1/0)return l;const u=Math.max(1,n*s/t.ticks().length);return c=>{let d=c/a(Math.round(i(c)));return d*n<n-.5&&(d*=n),d<=u?l(c):""}},t.nice=()=>r(Eb(r(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),t}function jb(){const e=qd(ws()).domain([1,10]);return e.copy=()=>da(e,jb()).base(e.base()),Lt.apply(e,arguments),e}function Qm(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function eg(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Wd(e){var t=1,r=e(Qm(t),eg(t));return r.constant=function(n){return arguments.length?e(Qm(t=+n),eg(t)):t},Ur(r)}function Pb(){var e=Wd(ws());return e.copy=function(){return da(e,Pb()).constant(e.constant())},Lt.apply(e,arguments)}function tg(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function UR(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function FR(e){return e<0?-e*e:e*e}function Hd(e){var t=e(et,et),r=1;function n(){return r===1?e(et,et):r===.5?e(UR,FR):e(tg(r),tg(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},Ur(t)}function Kd(){var e=Hd(ws());return e.copy=function(){return da(e,Kd()).exponent(e.exponent())},Lt.apply(e,arguments),e}function zR(){return Kd.apply(null,arguments).exponent(.5)}function rg(e){return Math.sign(e)*e*e}function qR(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function Ob(){var e=Ud(),t=[0,1],r=!1,n;function i(a){var o=qR(e(a));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(a){return e.invert(rg(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,Lo)).map(rg)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return Ob(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Lt.apply(i,arguments),Ur(i)}function kb(){var e=[],t=[],r=[],n;function i(){var o=0,s=Math.max(1,t.length);for(r=new Array(s-1);++o<s;)r[o-1]=V2(e,o/s);return a}function a(o){return o==null||isNaN(o=+o)?n:t[ca(r,o)]}return a.invertExtent=function(o){var s=t.indexOf(o);return s<0?[NaN,NaN]:[s>0?r[s-1]:e[0],s<r.length?r[s]:e[e.length-1]]},a.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let s of o)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Dr),i()},a.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return kb().domain(e).range(t).unknown(n)},Lt.apply(a,arguments)}function Ab(){var e=0,t=1,r=1,n=[.5],i=[0,1],a;function o(l){return l!=null&&l<=l?i[ca(n,l,0,r)]:a}function s(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return o}return o.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,s()):[e,t]},o.range=function(l){return arguments.length?(r=(i=Array.from(l)).length-1,s()):i.slice()},o.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(l){return arguments.length&&(a=l),o},o.thresholds=function(){return n.slice()},o.copy=function(){return Ab().domain([e,t]).range(i).unknown(a)},Lt.apply(Ur(o),arguments)}function Cb(){var e=[.5],t=[0,1],r,n=1;function i(a){return a!=null&&a<=a?t[ca(e,a,0,n)]:r}return i.domain=function(a){return arguments.length?(e=Array.from(a),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var o=t.indexOf(a);return[e[o-1],e[o]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return Cb().domain(e).range(t).unknown(r)},Lt.apply(i,arguments)}const fc=new Date,hc=new Date;function ke(e,t,r,n){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const l=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return l;let u;do l.push(u=new Date(+a)),t(a,s),e(a);while(u<a&&a<o);return l},i.filter=a=>ke(o=>{if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;t(o,-1),!a(o););else for(;--s>=0;)for(;t(o,1),!a(o););}),r&&(i.count=(a,o)=>(fc.setTime(+a),hc.setTime(+o),e(fc),e(hc),Math.floor(r(fc,hc))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?o=>n(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const Uo=ke(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Uo.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ke(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Uo);Uo.range;const dr=1e3,Tt=dr*60,fr=Tt*60,yr=fr*24,Vd=yr*7,ng=yr*30,pc=yr*365,en=ke(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*dr)},(e,t)=>(t-e)/dr,e=>e.getUTCSeconds());en.range;const Gd=ke(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*dr)},(e,t)=>{e.setTime(+e+t*Tt)},(e,t)=>(t-e)/Tt,e=>e.getMinutes());Gd.range;const Yd=ke(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Tt)},(e,t)=>(t-e)/Tt,e=>e.getUTCMinutes());Yd.range;const Jd=ke(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*dr-e.getMinutes()*Tt)},(e,t)=>{e.setTime(+e+t*fr)},(e,t)=>(t-e)/fr,e=>e.getHours());Jd.range;const Xd=ke(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*fr)},(e,t)=>(t-e)/fr,e=>e.getUTCHours());Xd.range;const fa=ke(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Tt)/yr,e=>e.getDate()-1);fa.range;const xs=ke(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/yr,e=>e.getUTCDate()-1);xs.range;const Tb=ke(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/yr,e=>Math.floor(e/yr));Tb.range;function gn(e){return ke(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Tt)/Vd)}const _s=gn(0),Fo=gn(1),WR=gn(2),HR=gn(3),Wn=gn(4),KR=gn(5),VR=gn(6);_s.range;Fo.range;WR.range;HR.range;Wn.range;KR.range;VR.range;function vn(e){return ke(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Vd)}const Ss=vn(0),zo=vn(1),GR=vn(2),YR=vn(3),Hn=vn(4),JR=vn(5),XR=vn(6);Ss.range;zo.range;GR.range;YR.range;Hn.range;JR.range;XR.range;const Zd=ke(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Zd.range;const Qd=ke(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Qd.range;const br=ke(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());br.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ke(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});br.range;const wr=ke(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());wr.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ke(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});wr.range;function Rb(e,t,r,n,i,a){const o=[[en,1,dr],[en,5,5*dr],[en,15,15*dr],[en,30,30*dr],[a,1,Tt],[a,5,5*Tt],[a,15,15*Tt],[a,30,30*Tt],[i,1,fr],[i,3,3*fr],[i,6,6*fr],[i,12,12*fr],[n,1,yr],[n,2,2*yr],[r,1,Vd],[t,1,ng],[t,3,3*ng],[e,1,pc]];function s(u,c,d){const f=c<u;f&&([u,c]=[c,u]);const h=d&&typeof d.range=="function"?d:l(u,c,d),m=h?h.range(u,+c+1):[];return f?m.reverse():m}function l(u,c,d){const f=Math.abs(c-u)/d,h=$d(([,,v])=>v).right(o,f);if(h===o.length)return e.every(Eu(u/pc,c/pc,d));if(h===0)return Uo.every(Math.max(Eu(u,c,d),1));const[m,g]=o[f/o[h-1][2]<o[h][2]/f?h-1:h];return m.every(g)}return[s,l]}const[ZR,QR]=Rb(wr,Qd,Ss,Tb,Xd,Yd),[eI,tI]=Rb(br,Zd,_s,fa,Jd,Gd);function mc(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function gc(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function _i(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function rI(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,a=e.days,o=e.shortDays,s=e.months,l=e.shortMonths,u=Si(i),c=Ei(i),d=Si(a),f=Ei(a),h=Si(o),m=Ei(o),g=Si(s),v=Ei(s),b=Si(l),x=Ei(l),w={a:W,A:J,b:X,B:pe,c:null,d:cg,e:cg,f:jI,g:DI,G:NI,H:_I,I:SI,j:EI,L:Ib,m:PI,M:OI,p:ne,q:F,Q:fg,s:hg,S:kI,u:AI,U:CI,V:TI,w:RI,W:II,x:null,X:null,y:$I,Y:MI,Z:LI,"%":dg},_={a:V,A:ae,b:ee,B:rt,c:null,d:ug,e:ug,f:zI,g:ZI,G:e$,H:BI,I:UI,j:FI,L:Db,m:qI,M:WI,p:Or,q:de,Q:fg,s:hg,S:HI,u:KI,U:VI,V:GI,w:YI,W:JI,x:null,X:null,y:XI,Y:QI,Z:t$,"%":dg},S={a:I,A:C,b:$,B:U,c:T,d:sg,e:sg,f:yI,g:og,G:ag,H:lg,I:lg,j:pI,L:vI,m:hI,M:mI,p:A,q:fI,Q:wI,s:xI,S:gI,u:sI,U:lI,V:cI,w:oI,W:uI,x:L,X:M,y:og,Y:ag,Z:dI,"%":bI};w.x=E(r,w),w.X=E(n,w),w.c=E(t,w),_.x=E(r,_),_.X=E(n,_),_.c=E(t,_);function E(N,G){return function(re){var R=[],qe=-1,oe=0,Xe=N.length,We,ft,pi;for(re instanceof Date||(re=new Date(+re));++qe<Xe;)N.charCodeAt(qe)===37&&(R.push(N.slice(oe,qe)),(ft=ig[We=N.charAt(++qe)])!=null?We=N.charAt(++qe):ft=We==="e"?" ":"0",(pi=G[We])&&(We=pi(re,ft)),R.push(We),oe=qe+1);return R.push(N.slice(oe,qe)),R.join("")}}function j(N,G){return function(re){var R=_i(1900,void 0,1),qe=k(R,N,re+="",0),oe,Xe;if(qe!=re.length)return null;if("Q"in R)return new Date(R.Q);if("s"in R)return new Date(R.s*1e3+("L"in R?R.L:0));if(G&&!("Z"in R)&&(R.Z=0),"p"in R&&(R.H=R.H%12+R.p*12),R.m===void 0&&(R.m="q"in R?R.q:0),"V"in R){if(R.V<1||R.V>53)return null;"w"in R||(R.w=1),"Z"in R?(oe=gc(_i(R.y,0,1)),Xe=oe.getUTCDay(),oe=Xe>4||Xe===0?zo.ceil(oe):zo(oe),oe=xs.offset(oe,(R.V-1)*7),R.y=oe.getUTCFullYear(),R.m=oe.getUTCMonth(),R.d=oe.getUTCDate()+(R.w+6)%7):(oe=mc(_i(R.y,0,1)),Xe=oe.getDay(),oe=Xe>4||Xe===0?Fo.ceil(oe):Fo(oe),oe=fa.offset(oe,(R.V-1)*7),R.y=oe.getFullYear(),R.m=oe.getMonth(),R.d=oe.getDate()+(R.w+6)%7)}else("W"in R||"U"in R)&&("w"in R||(R.w="u"in R?R.u%7:"W"in R?1:0),Xe="Z"in R?gc(_i(R.y,0,1)).getUTCDay():mc(_i(R.y,0,1)).getDay(),R.m=0,R.d="W"in R?(R.w+6)%7+R.W*7-(Xe+5)%7:R.w+R.U*7-(Xe+6)%7);return"Z"in R?(R.H+=R.Z/100|0,R.M+=R.Z%100,gc(R)):mc(R)}}function k(N,G,re,R){for(var qe=0,oe=G.length,Xe=re.length,We,ft;qe<oe;){if(R>=Xe)return-1;if(We=G.charCodeAt(qe++),We===37){if(We=G.charAt(qe++),ft=S[We in ig?G.charAt(qe++):We],!ft||(R=ft(N,re,R))<0)return-1}else if(We!=re.charCodeAt(R++))return-1}return R}function A(N,G,re){var R=u.exec(G.slice(re));return R?(N.p=c.get(R[0].toLowerCase()),re+R[0].length):-1}function I(N,G,re){var R=h.exec(G.slice(re));return R?(N.w=m.get(R[0].toLowerCase()),re+R[0].length):-1}function C(N,G,re){var R=d.exec(G.slice(re));return R?(N.w=f.get(R[0].toLowerCase()),re+R[0].length):-1}function $(N,G,re){var R=b.exec(G.slice(re));return R?(N.m=x.get(R[0].toLowerCase()),re+R[0].length):-1}function U(N,G,re){var R=g.exec(G.slice(re));return R?(N.m=v.get(R[0].toLowerCase()),re+R[0].length):-1}function T(N,G,re){return k(N,t,G,re)}function L(N,G,re){return k(N,r,G,re)}function M(N,G,re){return k(N,n,G,re)}function W(N){return o[N.getDay()]}function J(N){return a[N.getDay()]}function X(N){return l[N.getMonth()]}function pe(N){return s[N.getMonth()]}function ne(N){return i[+(N.getHours()>=12)]}function F(N){return 1+~~(N.getMonth()/3)}function V(N){return o[N.getUTCDay()]}function ae(N){return a[N.getUTCDay()]}function ee(N){return l[N.getUTCMonth()]}function rt(N){return s[N.getUTCMonth()]}function Or(N){return i[+(N.getUTCHours()>=12)]}function de(N){return 1+~~(N.getUTCMonth()/3)}return{format:function(N){var G=E(N+="",w);return G.toString=function(){return N},G},parse:function(N){var G=j(N+="",!1);return G.toString=function(){return N},G},utcFormat:function(N){var G=E(N+="",_);return G.toString=function(){return N},G},utcParse:function(N){var G=j(N+="",!0);return G.toString=function(){return N},G}}}var ig={"-":"",_:" ",0:"0"},Me=/^\s*\d+/,nI=/^%/,iI=/[\\^$*+?|[\]().{}]/g;function ie(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(t)+i:i)}function aI(e){return e.replace(iI,"\\$&")}function Si(e){return new RegExp("^(?:"+e.map(aI).join("|")+")","i")}function Ei(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function oI(e,t,r){var n=Me.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function sI(e,t,r){var n=Me.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function lI(e,t,r){var n=Me.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function cI(e,t,r){var n=Me.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function uI(e,t,r){var n=Me.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function ag(e,t,r){var n=Me.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function og(e,t,r){var n=Me.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function dI(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function fI(e,t,r){var n=Me.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function hI(e,t,r){var n=Me.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function sg(e,t,r){var n=Me.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function pI(e,t,r){var n=Me.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function lg(e,t,r){var n=Me.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function mI(e,t,r){var n=Me.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function gI(e,t,r){var n=Me.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function vI(e,t,r){var n=Me.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function yI(e,t,r){var n=Me.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function bI(e,t,r){var n=nI.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function wI(e,t,r){var n=Me.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function xI(e,t,r){var n=Me.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function cg(e,t){return ie(e.getDate(),t,2)}function _I(e,t){return ie(e.getHours(),t,2)}function SI(e,t){return ie(e.getHours()%12||12,t,2)}function EI(e,t){return ie(1+fa.count(br(e),e),t,3)}function Ib(e,t){return ie(e.getMilliseconds(),t,3)}function jI(e,t){return Ib(e,t)+"000"}function PI(e,t){return ie(e.getMonth()+1,t,2)}function OI(e,t){return ie(e.getMinutes(),t,2)}function kI(e,t){return ie(e.getSeconds(),t,2)}function AI(e){var t=e.getDay();return t===0?7:t}function CI(e,t){return ie(_s.count(br(e)-1,e),t,2)}function $b(e){var t=e.getDay();return t>=4||t===0?Wn(e):Wn.ceil(e)}function TI(e,t){return e=$b(e),ie(Wn.count(br(e),e)+(br(e).getDay()===4),t,2)}function RI(e){return e.getDay()}function II(e,t){return ie(Fo.count(br(e)-1,e),t,2)}function $I(e,t){return ie(e.getFullYear()%100,t,2)}function DI(e,t){return e=$b(e),ie(e.getFullYear()%100,t,2)}function MI(e,t){return ie(e.getFullYear()%1e4,t,4)}function NI(e,t){var r=e.getDay();return e=r>=4||r===0?Wn(e):Wn.ceil(e),ie(e.getFullYear()%1e4,t,4)}function LI(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ie(t/60|0,"0",2)+ie(t%60,"0",2)}function ug(e,t){return ie(e.getUTCDate(),t,2)}function BI(e,t){return ie(e.getUTCHours(),t,2)}function UI(e,t){return ie(e.getUTCHours()%12||12,t,2)}function FI(e,t){return ie(1+xs.count(wr(e),e),t,3)}function Db(e,t){return ie(e.getUTCMilliseconds(),t,3)}function zI(e,t){return Db(e,t)+"000"}function qI(e,t){return ie(e.getUTCMonth()+1,t,2)}function WI(e,t){return ie(e.getUTCMinutes(),t,2)}function HI(e,t){return ie(e.getUTCSeconds(),t,2)}function KI(e){var t=e.getUTCDay();return t===0?7:t}function VI(e,t){return ie(Ss.count(wr(e)-1,e),t,2)}function Mb(e){var t=e.getUTCDay();return t>=4||t===0?Hn(e):Hn.ceil(e)}function GI(e,t){return e=Mb(e),ie(Hn.count(wr(e),e)+(wr(e).getUTCDay()===4),t,2)}function YI(e){return e.getUTCDay()}function JI(e,t){return ie(zo.count(wr(e)-1,e),t,2)}function XI(e,t){return ie(e.getUTCFullYear()%100,t,2)}function ZI(e,t){return e=Mb(e),ie(e.getUTCFullYear()%100,t,2)}function QI(e,t){return ie(e.getUTCFullYear()%1e4,t,4)}function e$(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Hn(e):Hn.ceil(e),ie(e.getUTCFullYear()%1e4,t,4)}function t$(){return"+0000"}function dg(){return"%"}function fg(e){return+e}function hg(e){return Math.floor(+e/1e3)}var Rn,Nb,Lb;r$({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function r$(e){return Rn=rI(e),Nb=Rn.format,Rn.parse,Lb=Rn.utcFormat,Rn.utcParse,Rn}function n$(e){return new Date(e)}function i$(e){return e instanceof Date?+e:+new Date(+e)}function ef(e,t,r,n,i,a,o,s,l,u){var c=Ud(),d=c.invert,f=c.domain,h=u(".%L"),m=u(":%S"),g=u("%I:%M"),v=u("%I %p"),b=u("%a %d"),x=u("%b %d"),w=u("%B"),_=u("%Y");function S(E){return(l(E)<E?h:s(E)<E?m:o(E)<E?g:a(E)<E?v:n(E)<E?i(E)<E?b:x:r(E)<E?w:_)(E)}return c.invert=function(E){return new Date(d(E))},c.domain=function(E){return arguments.length?f(Array.from(E,i$)):f().map(n$)},c.ticks=function(E){var j=f();return e(j[0],j[j.length-1],E??10)},c.tickFormat=function(E,j){return j==null?S:u(j)},c.nice=function(E){var j=f();return(!E||typeof E.range!="function")&&(E=t(j[0],j[j.length-1],E??10)),E?f(Eb(j,E)):c},c.copy=function(){return da(c,ef(e,t,r,n,i,a,o,s,l,u))},c}function a$(){return Lt.apply(ef(eI,tI,br,Zd,_s,fa,Jd,Gd,en,Nb).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function o$(){return Lt.apply(ef(ZR,QR,wr,Qd,Ss,xs,Xd,Yd,en,Lb).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Es(){var e=0,t=1,r,n,i,a,o=et,s=!1,l;function u(d){return d==null||isNaN(d=+d)?l:o(i===0?.5:(d=(a(d)-r)*i,s?Math.max(0,Math.min(1,d)):d))}u.domain=function(d){return arguments.length?([e,t]=d,r=a(e=+e),n=a(t=+t),i=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(d){return arguments.length?(s=!!d,u):s},u.interpolator=function(d){return arguments.length?(o=d,u):o};function c(d){return function(f){var h,m;return arguments.length?([h,m]=f,o=d(h,m),u):[o(0),o(1)]}}return u.range=c(ii),u.rangeRound=c(Bd),u.unknown=function(d){return arguments.length?(l=d,u):l},function(d){return a=d,r=d(e),n=d(t),i=r===n?0:1/(n-r),u}}function Fr(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Bb(){var e=Ur(Es()(et));return e.copy=function(){return Fr(e,Bb())},Sr.apply(e,arguments)}function Ub(){var e=qd(Es()).domain([1,10]);return e.copy=function(){return Fr(e,Ub()).base(e.base())},Sr.apply(e,arguments)}function Fb(){var e=Wd(Es());return e.copy=function(){return Fr(e,Fb()).constant(e.constant())},Sr.apply(e,arguments)}function tf(){var e=Hd(Es());return e.copy=function(){return Fr(e,tf()).exponent(e.exponent())},Sr.apply(e,arguments)}function s$(){return tf.apply(null,arguments).exponent(.5)}function zb(){var e=[],t=et;function r(n){if(n!=null&&!isNaN(n=+n))return t((ca(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Dr),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>K2(e,a/n))},r.copy=function(){return zb(t).domain(e)},Sr.apply(r,arguments)}function js(){var e=0,t=.5,r=1,n=1,i,a,o,s,l,u=et,c,d=!1,f;function h(g){return isNaN(g=+g)?f:(g=.5+((g=+c(g))-a)*(n*g<n*a?s:l),u(d?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([e,t,r]=g,i=c(e=+e),a=c(t=+t),o=c(r=+r),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),n=a<i?-1:1,h):[e,t,r]},h.clamp=function(g){return arguments.length?(d=!!g,h):d},h.interpolator=function(g){return arguments.length?(u=g,h):u};function m(g){return function(v){var b,x,w;return arguments.length?([b,x,w]=v,u=bR(g,[b,x,w]),h):[u(0),u(.5),u(1)]}}return h.range=m(ii),h.rangeRound=m(Bd),h.unknown=function(g){return arguments.length?(f=g,h):f},function(g){return c=g,i=g(e),a=g(t),o=g(r),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),n=a<i?-1:1,h}}function qb(){var e=Ur(js()(et));return e.copy=function(){return Fr(e,qb())},Sr.apply(e,arguments)}function Wb(){var e=qd(js()).domain([.1,1,10]);return e.copy=function(){return Fr(e,Wb()).base(e.base())},Sr.apply(e,arguments)}function Hb(){var e=Wd(js());return e.copy=function(){return Fr(e,Hb()).constant(e.constant())},Sr.apply(e,arguments)}function rf(){var e=Hd(js());return e.copy=function(){return Fr(e,rf()).exponent(e.exponent())},Sr.apply(e,arguments)}function l$(){return rf.apply(null,arguments).exponent(.5)}const Ni=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Md,scaleDiverging:qb,scaleDivergingLog:Wb,scaleDivergingPow:rf,scaleDivergingSqrt:l$,scaleDivergingSymlog:Hb,scaleIdentity:Sb,scaleImplicit:ju,scaleLinear:_b,scaleLog:jb,scaleOrdinal:Dd,scalePoint:Y2,scalePow:Kd,scaleQuantile:kb,scaleQuantize:Ab,scaleRadial:Ob,scaleSequential:Bb,scaleSequentialLog:Ub,scaleSequentialPow:tf,scaleSequentialQuantile:zb,scaleSequentialSqrt:s$,scaleSequentialSymlog:Fb,scaleSqrt:zR,scaleSymlog:Pb,scaleThreshold:Cb,scaleTime:a$,scaleUtc:o$,tickFormat:xb},Symbol.toStringTag,{value:"Module"}));var zr=e=>e.chartData,c$=O([zr],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),nf=(e,t,r,n)=>n?c$(e):zr(e);function Kn(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(_t(t)&&_t(r))return!0}return!1}function pg(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function u$(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,i,a;if(_t(r))i=r;else if(typeof r=="function")return;if(_t(n))a=n;else if(typeof n=="function")return;var o=[i,a];if(Kn(o))return o}}function d$(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(Kn(n))return pg(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,o,s;if(i==="auto")t!=null&&(o=Math.min(...t));else if(z(i))o=i;else if(typeof i=="function")try{t!=null&&(o=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&om.test(i)){var l=om.exec(i);if(l==null||t==null)o=void 0;else{var u=+l[1];o=t[0]-u}}else o=t==null?void 0:t[0];if(a==="auto")t!=null&&(s=Math.max(...t));else if(z(a))s=a;else if(typeof a=="function")try{t!=null&&(s=a(t==null?void 0:t[1]))}catch{}else if(typeof a=="string"&&sm.test(a)){var c=sm.exec(a);if(c==null||t==null)s=void 0;else{var d=+c[1];s=t[1]+d}}else s=t==null?void 0:t[1];var f=[o,s];if(Kn(f))return t==null?f:pg(f,t,r)}}}var ai=1e9,f$={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},of,ye=!0,$t="[DecimalError] ",sn=$t+"Invalid argument: ",af=$t+"Exponent out of range: ",oi=Math.floor,Jr=Math.pow,h$=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,yt,Re=1e7,me=7,Kb=9007199254740991,qo=oi(Kb/me),B={};B.absoluteValue=B.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};B.comparedTo=B.cmp=function(e){var t,r,n,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(n=a.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};B.decimalPlaces=B.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*me;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};B.dividedBy=B.div=function(e){return mr(this,new this.constructor(e))};B.dividedToIntegerBy=B.idiv=function(e){var t=this,r=t.constructor;return ue(mr(t,new r(e),0,1),r.precision)};B.equals=B.eq=function(e){return!this.cmp(e)};B.exponent=function(){return Se(this)};B.greaterThan=B.gt=function(e){return this.cmp(e)>0};B.greaterThanOrEqualTo=B.gte=function(e){return this.cmp(e)>=0};B.isInteger=B.isint=function(){return this.e>this.d.length-2};B.isNegative=B.isneg=function(){return this.s<0};B.isPositive=B.ispos=function(){return this.s>0};B.isZero=function(){return this.s===0};B.lessThan=B.lt=function(e){return this.cmp(e)<0};B.lessThanOrEqualTo=B.lte=function(e){return this.cmp(e)<1};B.logarithm=B.log=function(e){var t,r=this,n=r.constructor,i=n.precision,a=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(yt))throw Error($t+"NaN");if(r.s<1)throw Error($t+(r.s?"NaN":"-Infinity"));return r.eq(yt)?new n(0):(ye=!1,t=mr(Qi(r,a),Qi(e,a),a),ye=!0,ue(t,i))};B.minus=B.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Yb(t,e):Vb(t,(e.s=-e.s,e))};B.modulo=B.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error($t+"NaN");return r.s?(ye=!1,t=mr(r,e,0,1).times(e),ye=!0,r.minus(t)):ue(new n(r),i)};B.naturalExponential=B.exp=function(){return Gb(this)};B.naturalLogarithm=B.ln=function(){return Qi(this)};B.negated=B.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};B.plus=B.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Vb(t,e):Yb(t,(e.s=-e.s,e))};B.precision=B.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(sn+e);if(t=Se(i)+1,n=i.d.length-1,r=n*me+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};B.squareRoot=B.sqrt=function(){var e,t,r,n,i,a,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error($t+"NaN")}for(e=Se(s),ye=!1,i=Math.sqrt(+s),i==0||i==1/0?(t=Zt(s.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=oi((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new l(t)):n=new l(i.toString()),r=l.precision,i=o=r+3;;)if(a=n,n=a.plus(mr(s,a,o+2)).times(.5),Zt(a.d).slice(0,o)===(t=Zt(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t=="4999"){if(ue(a,r+1,0),a.times(a).eq(s)){n=a;break}}else if(t!="9999")break;o+=4}return ye=!0,ue(n,r)};B.times=B.mul=function(e){var t,r,n,i,a,o,s,l,u,c=this,d=c.constructor,f=c.d,h=(e=new d(e)).d;if(!c.s||!e.s)return new d(0);for(e.s*=c.s,r=c.e+e.e,l=f.length,u=h.length,l<u&&(a=f,f=h,h=a,o=l,l=u,u=o),a=[],o=l+u,n=o;n--;)a.push(0);for(n=u;--n>=0;){for(t=0,i=l+n;i>n;)s=a[i]+h[n]*f[i-n-1]+t,a[i--]=s%Re|0,t=s/Re|0;a[i]=(a[i]+t)%Re|0}for(;!a[--o];)a.pop();return t?++r:a.shift(),e.d=a,e.e=r,ye?ue(e,d.precision):e};B.toDecimalPlaces=B.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(tr(e,0,ai),t===void 0?t=n.rounding:tr(t,0,8),ue(r,e+Se(r)+1,t))};B.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=dn(n,!0):(tr(e,0,ai),t===void 0?t=i.rounding:tr(t,0,8),n=ue(new i(n),e+1,t),r=dn(n,!0,e+1)),r};B.toFixed=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?dn(i):(tr(e,0,ai),t===void 0?t=a.rounding:tr(t,0,8),n=ue(new a(i),e+Se(i)+1,t),r=dn(n.abs(),!1,e+Se(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};B.toInteger=B.toint=function(){var e=this,t=e.constructor;return ue(new t(e),Se(e)+1,t.rounding)};B.toNumber=function(){return+this};B.toPower=B.pow=function(e){var t,r,n,i,a,o,s=this,l=s.constructor,u=12,c=+(e=new l(e));if(!e.s)return new l(yt);if(s=new l(s),!s.s){if(e.s<1)throw Error($t+"Infinity");return s}if(s.eq(yt))return s;if(n=l.precision,e.eq(yt))return ue(s,n);if(t=e.e,r=e.d.length-1,o=t>=r,a=s.s,o){if((r=c<0?-c:c)<=Kb){for(i=new l(yt),t=Math.ceil(n/me+4),ye=!1;r%2&&(i=i.times(s),gg(i.d,t)),r=oi(r/2),r!==0;)s=s.times(s),gg(s.d,t);return ye=!0,e.s<0?new l(yt).div(i):ue(i,n)}}else if(a<0)throw Error($t+"NaN");return a=a<0&&e.d[Math.max(t,r)]&1?-1:1,s.s=1,ye=!1,i=e.times(Qi(s,n+u)),ye=!0,i=Gb(i),i.s=a,i};B.toPrecision=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?(r=Se(i),n=dn(i,r<=a.toExpNeg||r>=a.toExpPos)):(tr(e,1,ai),t===void 0?t=a.rounding:tr(t,0,8),i=ue(new a(i),e,t),r=Se(i),n=dn(i,e<=r||r<=a.toExpNeg,e)),n};B.toSignificantDigits=B.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(tr(e,1,ai),t===void 0?t=n.rounding:tr(t,0,8)),ue(new n(r),e,t)};B.toString=B.valueOf=B.val=B.toJSON=B[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Se(e),r=e.constructor;return dn(e,t<=r.toExpNeg||t>=r.toExpPos)};function Vb(e,t){var r,n,i,a,o,s,l,u,c=e.constructor,d=c.precision;if(!e.s||!t.s)return t.s||(t=new c(e)),ye?ue(t,d):t;if(l=e.d,u=t.d,o=e.e,i=t.e,l=l.slice(),a=o-i,a){for(a<0?(n=l,a=-a,s=u.length):(n=u,i=o,s=l.length),o=Math.ceil(d/me),s=o>s?o+1:s+1,a>s&&(a=s,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(s=l.length,a=u.length,s-a<0&&(a=s,n=u,u=l,l=n),r=0;a;)r=(l[--a]=l[a]+u[a]+r)/Re|0,l[a]%=Re;for(r&&(l.unshift(r),++i),s=l.length;l[--s]==0;)l.pop();return t.d=l,t.e=i,ye?ue(t,d):t}function tr(e,t,r){if(e!==~~e||e<t||e>r)throw Error(sn+e)}function Zt(e){var t,r,n,i=e.length-1,a="",o=e[0];if(i>0){for(a+=o,t=1;t<i;t++)n=e[t]+"",r=me-n.length,r&&(a+=Tr(r)),a+=n;o=e[t],n=o+"",r=me-n.length,r&&(a+=Tr(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var mr=(function(){function e(n,i){var a,o=0,s=n.length;for(n=n.slice();s--;)a=n[s]*i+o,n[s]=a%Re|0,o=a/Re|0;return o&&n.unshift(o),n}function t(n,i,a,o){var s,l;if(a!=o)l=a>o?1:-1;else for(s=l=0;s<a;s++)if(n[s]!=i[s]){l=n[s]>i[s]?1:-1;break}return l}function r(n,i,a){for(var o=0;a--;)n[a]-=o,o=n[a]<i[a]?1:0,n[a]=o*Re+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,o){var s,l,u,c,d,f,h,m,g,v,b,x,w,_,S,E,j,k,A=n.constructor,I=n.s==i.s?1:-1,C=n.d,$=i.d;if(!n.s)return new A(n);if(!i.s)throw Error($t+"Division by zero");for(l=n.e-i.e,j=$.length,S=C.length,h=new A(I),m=h.d=[],u=0;$[u]==(C[u]||0);)++u;if($[u]>(C[u]||0)&&--l,a==null?x=a=A.precision:o?x=a+(Se(n)-Se(i))+1:x=a,x<0)return new A(0);if(x=x/me+2|0,u=0,j==1)for(c=0,$=$[0],x++;(u<S||c)&&x--;u++)w=c*Re+(C[u]||0),m[u]=w/$|0,c=w%$|0;else{for(c=Re/($[0]+1)|0,c>1&&($=e($,c),C=e(C,c),j=$.length,S=C.length),_=j,g=C.slice(0,j),v=g.length;v<j;)g[v++]=0;k=$.slice(),k.unshift(0),E=$[0],$[1]>=Re/2&&++E;do c=0,s=t($,g,j,v),s<0?(b=g[0],j!=v&&(b=b*Re+(g[1]||0)),c=b/E|0,c>1?(c>=Re&&(c=Re-1),d=e($,c),f=d.length,v=g.length,s=t(d,g,f,v),s==1&&(c--,r(d,j<f?k:$,f))):(c==0&&(s=c=1),d=$.slice()),f=d.length,f<v&&d.unshift(0),r(g,d,v),s==-1&&(v=g.length,s=t($,g,j,v),s<1&&(c++,r(g,j<v?k:$,v))),v=g.length):s===0&&(c++,g=[0]),m[u++]=c,s&&g[0]?g[v++]=C[_]||0:(g=[C[_]],v=1);while((_++<S||g[0]!==void 0)&&x--)}return m[0]||m.shift(),h.e=l,ue(h,o?a+Se(h)+1:a)}})();function Gb(e,t){var r,n,i,a,o,s,l=0,u=0,c=e.constructor,d=c.precision;if(Se(e)>16)throw Error(af+Se(e));if(!e.s)return new c(yt);for(ye=!1,s=d,o=new c(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(Jr(2,u))/Math.LN10*2+5|0,s+=n,r=i=a=new c(yt),c.precision=s;;){if(i=ue(i.times(e),s),r=r.times(++l),o=a.plus(mr(i,r,s)),Zt(o.d).slice(0,s)===Zt(a.d).slice(0,s)){for(;u--;)a=ue(a.times(a),s);return c.precision=d,t==null?(ye=!0,ue(a,d)):a}a=o}}function Se(e){for(var t=e.e*me,r=e.d[0];r>=10;r/=10)t++;return t}function vc(e,t,r){if(t>e.LN10.sd())throw ye=!0,r&&(e.precision=r),Error($t+"LN10 precision limit exceeded");return ue(new e(e.LN10),t)}function Tr(e){for(var t="";e--;)t+="0";return t}function Qi(e,t){var r,n,i,a,o,s,l,u,c,d=1,f=10,h=e,m=h.d,g=h.constructor,v=g.precision;if(h.s<1)throw Error($t+(h.s?"NaN":"-Infinity"));if(h.eq(yt))return new g(0);if(t==null?(ye=!1,u=v):u=t,h.eq(10))return t==null&&(ye=!0),vc(g,u);if(u+=f,g.precision=u,r=Zt(m),n=r.charAt(0),a=Se(h),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)h=h.times(e),r=Zt(h.d),n=r.charAt(0),d++;a=Se(h),n>1?(h=new g("0."+r),a++):h=new g(n+"."+r.slice(1))}else return l=vc(g,u+2,v).times(a+""),h=Qi(new g(n+"."+r.slice(1)),u-f).plus(l),g.precision=v,t==null?(ye=!0,ue(h,v)):h;for(s=o=h=mr(h.minus(yt),h.plus(yt),u),c=ue(h.times(h),u),i=3;;){if(o=ue(o.times(c),u),l=s.plus(mr(o,new g(i),u)),Zt(l.d).slice(0,u)===Zt(s.d).slice(0,u))return s=s.times(2),a!==0&&(s=s.plus(vc(g,u+2,v).times(a+""))),s=mr(s,new g(d),u),g.precision=v,t==null?(ye=!0,ue(s,v)):s;s=l,i+=2}}function mg(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=oi(r/me),e.d=[],n=(r+1)%me,r<0&&(n+=me),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=me;n<i;)e.d.push(+t.slice(n,n+=me));t=t.slice(n),n=me-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),ye&&(e.e>qo||e.e<-qo))throw Error(af+r)}else e.s=0,e.e=0,e.d=[0];return e}function ue(e,t,r){var n,i,a,o,s,l,u,c,d=e.d;for(o=1,a=d[0];a>=10;a/=10)o++;if(n=t-o,n<0)n+=me,i=t,u=d[c=0];else{if(c=Math.ceil((n+1)/me),a=d.length,c>=a)return e;for(u=a=d[c],o=1;a>=10;a/=10)o++;n%=me,i=n-me+o}if(r!==void 0&&(a=Jr(10,o-i-1),s=u/a%10|0,l=t<0||d[c+1]!==void 0||u%a,l=r<4?(s||l)&&(r==0||r==(e.s<0?3:2)):s>5||s==5&&(r==4||l||r==6&&(n>0?i>0?u/Jr(10,o-i):0:d[c-1])%10&1||r==(e.s<0?8:7))),t<1||!d[0])return l?(a=Se(e),d.length=1,t=t-a-1,d[0]=Jr(10,(me-t%me)%me),e.e=oi(-t/me)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(n==0?(d.length=c,a=1,c--):(d.length=c+1,a=Jr(10,me-n),d[c]=i>0?(u/Jr(10,o-i)%Jr(10,i)|0)*a:0),l)for(;;)if(c==0){(d[0]+=a)==Re&&(d[0]=1,++e.e);break}else{if(d[c]+=a,d[c]!=Re)break;d[c--]=0,a=1}for(n=d.length;d[--n]===0;)d.pop();if(ye&&(e.e>qo||e.e<-qo))throw Error(af+Se(e));return e}function Yb(e,t){var r,n,i,a,o,s,l,u,c,d,f=e.constructor,h=f.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new f(e),ye?ue(t,h):t;if(l=e.d,d=t.d,n=t.e,u=e.e,l=l.slice(),o=u-n,o){for(c=o<0,c?(r=l,o=-o,s=d.length):(r=d,n=u,s=l.length),i=Math.max(Math.ceil(h/me),s)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=l.length,s=d.length,c=i<s,c&&(s=i),i=0;i<s;i++)if(l[i]!=d[i]){c=l[i]<d[i];break}o=0}for(c&&(r=l,l=d,d=r,t.s=-t.s),s=l.length,i=d.length-s;i>0;--i)l[s++]=0;for(i=d.length;i>o;){if(l[--i]<d[i]){for(a=i;a&&l[--a]===0;)l[a]=Re-1;--l[a],l[i]+=Re}l[i]-=d[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(t.d=l,t.e=n,ye?ue(t,h):t):new f(0)}function dn(e,t,r){var n,i=Se(e),a=Zt(e.d),o=a.length;return t?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+Tr(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Tr(-i-1)+a,r&&(n=r-o)>0&&(a+=Tr(n))):i>=o?(a+=Tr(i+1-o),r&&(n=r-i-1)>0&&(a=a+"."+Tr(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(a+="."),a+=Tr(n))),e.s<0?"-"+a:a}function gg(e,t){if(e.length>t)return e.length=t,!0}function Jb(e){var t,r,n;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(sn+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return mg(o,a.toString())}else if(typeof a!="string")throw Error(sn+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,h$.test(a))mg(o,a);else throw Error(sn+a)}if(i.prototype=B,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=Jb,i.config=i.set=p$,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function p$(e){if(!e||typeof e!="object")throw Error($t+"Object expected");var t,r,n,i=["precision",1,ai,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(oi(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(sn+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(sn+r+": "+n);return this}var of=Jb(f$);yt=new of(1);const se=of;var m$=e=>e,Xb={},Zb=e=>e===Xb,vg=e=>function t(){return arguments.length===0||arguments.length===1&&Zb(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},Qb=(e,t)=>e===1?t:vg(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var a=n.filter(o=>o!==Xb).length;return a>=e?t(...n):Qb(e-a,vg(function(){for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];var u=n.map(c=>Zb(c)?s.shift():c);return t(...u,...s)}))}),Ps=e=>Qb(e.length,e),Au=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},g$=Ps((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),v$=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return m$;var i=r.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce((s,l)=>l(s),a(...arguments))}},Cu=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),ew=e=>{var t=null,r=null;return function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return t&&i.every((o,s)=>{var l;return o===((l=t)===null||l===void 0?void 0:l[s])})||(t=i,r=e(...i)),r}};function tw(e){var t;return e===0?t=1:t=Math.floor(new se(e).abs().log(10).toNumber())+1,t}function rw(e,t,r){for(var n=new se(e),i=0,a=[];n.lt(t)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}Ps((e,t,r)=>{var n=+e,i=+t;return n+r*(i-n)});Ps((e,t,r)=>{var n=t-+e;return n=n||1/0,(r-e)/n});Ps((e,t,r)=>{var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});var nw=e=>{var[t,r]=e,[n,i]=[t,r];return t>r&&([n,i]=[r,t]),[n,i]},iw=(e,t,r)=>{if(e.lte(0))return new se(0);var n=tw(e.toNumber()),i=new se(10).pow(n),a=e.div(i),o=n!==1?.05:.1,s=new se(Math.ceil(a.div(o).toNumber())).add(r).mul(o),l=s.mul(i);return t?new se(l.toNumber()):new se(Math.ceil(l.toNumber()))},y$=(e,t,r)=>{var n=new se(1),i=new se(e);if(!i.isint()&&r){var a=Math.abs(e);a<1?(n=new se(10).pow(tw(e)-1),i=new se(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new se(Math.floor(e)))}else e===0?i=new se(Math.floor((t-1)/2)):r||(i=new se(Math.floor(e)));var o=Math.floor((t-1)/2),s=v$(g$(l=>i.add(new se(l-o).mul(n)).toNumber()),Au);return s(0,t)},aw=function(t,r,n,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new se(0),tickMin:new se(0),tickMax:new se(0)};var o=iw(new se(r).sub(t).div(n-1),i,a),s;t<=0&&r>=0?s=new se(0):(s=new se(t).add(r).div(2),s=s.sub(new se(s).mod(o)));var l=Math.ceil(s.sub(t).div(o).toNumber()),u=Math.ceil(new se(r).sub(s).div(o).toNumber()),c=l+u+1;return c>n?aw(t,r,n,i,a+1):(c<n&&(u=r>0?u+(n-c):u,l=r>0?l:l+(n-c)),{step:o,tickMin:s.sub(new se(l).mul(o)),tickMax:s.add(new se(u).mul(o))})};function b$(e){var[t,r]=e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(n,2),[o,s]=nw([t,r]);if(o===-1/0||s===1/0){var l=s===1/0?[o,...Au(0,n-1).map(()=>1/0)]:[...Au(0,n-1).map(()=>-1/0),s];return t>r?Cu(l):l}if(o===s)return y$(o,n,i);var{step:u,tickMin:c,tickMax:d}=aw(o,s,a,i,0),f=rw(c,d.add(new se(.1).mul(u)),u);return t>r?Cu(f):f}function w$(e,t){var[r,n]=e,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,o]=nw([r,n]);if(a===-1/0||o===1/0)return[r,n];if(a===o)return[a];var s=Math.max(t,2),l=iw(new se(o).sub(a).div(s-1),i,0),u=[...rw(new se(a),new se(o),l),o];return i===!1&&(u=u.map(c=>Math.round(c))),r>n?Cu(u):u}var x$=ew(b$),_$=ew(w$),ow=e=>e.rootProps.maxBarSize,S$=e=>e.rootProps.barGap,sw=e=>e.rootProps.barCategoryGap,E$=e=>e.rootProps.barSize,Os=e=>e.rootProps.stackOffset,sf=e=>e.options.chartName,lf=e=>e.rootProps.syncId,lw=e=>e.rootProps.syncMethod,cf=e=>e.options.eventEmitter,cr={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},vt={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},ks=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},j$={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:cr.angleAxisId,includeHidden:!1,name:void 0,reversed:cr.reversed,scale:cr.scale,tick:cr.tick,tickCount:void 0,ticks:void 0,type:cr.type,unit:void 0},P$={allowDataOverflow:vt.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:vt.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:vt.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:vt.scale,tick:vt.tick,tickCount:vt.tickCount,ticks:void 0,type:vt.type,unit:void 0},O$={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:cr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:cr.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:cr.scale,tick:cr.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},k$={allowDataOverflow:vt.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:vt.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:vt.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:vt.scale,tick:vt.tick,tickCount:vt.tickCount,ticks:void 0,type:"category",unit:void 0},uf=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?O$:j$,df=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?k$:P$,As=e=>e.polarOptions,ff=O([xr,_r,De],IC),cw=O([As,ff],(e,t)=>{if(e!=null)return Wt(e.innerRadius,t,0)}),uw=O([As,ff],(e,t)=>{if(e!=null)return Wt(e.outerRadius,t,t*.8)}),A$=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},dw=O([As],A$);O([uf,dw],ks);var fw=O([ff,cw,uw],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});O([df,fw],ks);var hw=O([le,As,cw,uw,xr,_r],(e,t,r,n,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:o,cy:s,startAngle:l,endAngle:u}=t;return{cx:Wt(o,i,i/2),cy:Wt(s,a,a/2),innerRadius:r,outerRadius:n,startAngle:l,endAngle:u,clockWise:!1}}}),je=(e,t)=>t,Cs=(e,t,r)=>r;function hf(e){return e==null?void 0:e.id}var Ae=e=>{var t=le(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},si=e=>e.tooltip.settings.axisId,Ne=e=>{var t=Ae(e),r=si(e);return ha(e,t,r)},pw=O([Ne],e=>e==null?void 0:e.dataKey);function mw(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=r,o=new Map;return e.forEach(s=>{var l,u=(l=s.data)!==null&&l!==void 0?l:n;if(!(u==null||u.length===0)){var c=hf(s);u.forEach((d,f)=>{var h=a==null||i?f:String(tt(d,a,null)),m=tt(d,s.dataKey,0),g;o.has(h)?g=o.get(h):g={},Object.assign(g,{[c]:m}),o.set(h,g)})}}),Array.from(o.values())}function Ts(e){return e.stackId!=null&&e.dataKey!=null}function yg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Wo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yg(Object(r),!0).forEach(function(n){C$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function C$(e,t,r){return(t=T$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function T$(e){var t=R$(e,"string");return typeof t=="symbol"?t:t+""}function R$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Tu=[0,"auto"],mt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},gw=(e,t)=>e.cartesianAxis.xAxis[t],Er=(e,t)=>{var r=gw(e,t);return r??mt},gt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Tu,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:la},vw=(e,t)=>e.cartesianAxis.yAxis[t],jr=(e,t)=>{var r=vw(e,t);return r??gt},I$={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},pf=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??I$},dt=(e,t,r)=>{switch(t){case"xAxis":return Er(e,r);case"yAxis":return jr(e,r);case"zAxis":return pf(e,r);case"angleAxis":return uf(e,r);case"radiusAxis":return df(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},$$=(e,t,r)=>{switch(t){case"xAxis":return Er(e,r);case"yAxis":return jr(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},ha=(e,t,r)=>{switch(t){case"xAxis":return Er(e,r);case"yAxis":return jr(e,r);case"angleAxis":return uf(e,r);case"radiusAxis":return df(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},yw=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function bw(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var mf=e=>e.graphicalItems.cartesianItems,D$=O([je,Cs],bw),ww=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),pa=O([mf,dt,D$],ww),xw=O([pa],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Ts)),_w=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),Sw=O([pa],_w),Ew=e=>e.map(t=>t.data).filter(Boolean).flat(1),M$=O([pa],Ew),jw=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=t;return e.length>0?e:r.slice(n,i+1)},gf=O([M$,nf],jw),Pw=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:tt(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(i=>({value:tt(i,n)}))):e.map(n=>({value:n})),Rs=O([gf,dt,pa],Pw);function Ow(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function yn(e){return e.filter(t=>er(t)||t instanceof Date).map(Number).filter(t=>wt(t)===!1)}function N$(e,t,r){return!r||typeof t!="number"||wt(t)?[]:r.length?yn(r.flatMap(n=>{var i=tt(e,n.dataKey),a,o;if(Array.isArray(i)?[a,o]=i:a=o=i,!(!_t(a)||!_t(o)))return[t-a,t+o]})):[]}var L$=O([xw,nf,Ne],mw),kw=(e,t,r)=>{var n={},i=t.reduce((a,o)=>(o.stackId==null||(a[o.stackId]==null&&(a[o.stackId]=[]),a[o.stackId].push(o)),a),n);return Object.fromEntries(Object.entries(i).map(a=>{var[o,s]=a,l=s.map(hf);return[o,{stackedData:YC(e,l,r),graphicalItems:s}]}))},Ru=O([L$,xw,Os],kw),Aw=(e,t,r)=>{var{dataStartIndex:n,dataEndIndex:i}=t;if(r!=="zAxis"){var a=eT(e,n,i);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},B$=O([Ru,zr,je],Aw),Cw=(e,t,r,n,i)=>r.length>0?e.flatMap(a=>r.flatMap(o=>{var s,l,u=(s=n[o.id])===null||s===void 0?void 0:s.filter(d=>Ow(i,d)),c=tt(a,(l=t.dataKey)!==null&&l!==void 0?l:o.dataKey);return{value:c,errorDomain:N$(a,c,u)}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(a=>({value:tt(a,t.dataKey),errorDomain:[]})):e.map(a=>({value:a,errorDomain:[]})),Is=e=>e.errorBars,Tw=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>Ow(r,n));O([Sw,Is,je],Tw);var U$=O([gf,dt,Sw,Is,je],Cw);function F$(e){var{value:t}=e;if(er(t)||t instanceof Date)return t}var bg=e=>{var t=e.flatMap(n=>[n.value,n.errorDomain]).flat(1),r=yn(t);if(r.length!==0)return[Math.min(...r),Math.max(...r)]},z$=(e,t,r)=>{var n=e.map(F$).filter(i=>i!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&qy(n))?db(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},vf=e=>{var t;if(e==null||!("domain"in e))return Tu;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=yn(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:Tu},Ho=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var a=i.flat(),o=Math.min(...a),s=Math.max(...a);return[o,s]}},Rw=e=>e.referenceElements.dots,li=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),q$=O([Rw,je,Cs],li),Iw=e=>e.referenceElements.areas,W$=O([Iw,je,Cs],li),$w=e=>e.referenceElements.lines,H$=O([$w,je,Cs],li),Dw=(e,t)=>{var r=yn(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},K$=O(q$,je,Dw),Mw=(e,t)=>{var r=yn(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},V$=O([W$,je],Mw),Nw=(e,t)=>{var r=yn(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},G$=O(H$,je,Nw),Y$=O(K$,G$,V$,(e,t,r)=>Ho(e,r,t)),J$=O([dt],vf),Lw=(e,t,r,n,i,a,o)=>{var s=u$(t,e.allowDataOverflow);if(s!=null)return s;var l=a==="vertical"&&o==="xAxis"||a==="horizontal"&&o==="yAxis",u=l?Ho(r,i,bg(n)):Ho(i,bg(n));return d$(t,u,e.allowDataOverflow)},X$=O([dt,J$,B$,U$,Y$,le,je],Lw),Z$=[0,1],Bw=(e,t,r,n,i,a,o)=>{if(!((e==null||r==null||r.length===0)&&o===void 0)){var{dataKey:s,type:l}=e,u=mn(t,a);return u&&s==null?db(0,r.length):l==="category"?z$(n,e,u):i==="expand"?Z$:o}},yf=O([dt,le,gf,Rs,Os,je,X$],Bw),Uw=(e,t,r,n,i)=>{if(e!=null){var{scale:a,type:o}=e;if(a==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":o==="category"?"band":"linear";if(typeof a=="string"){var s="scale".concat(aa(a));return s in Ni?s:"point"}}},ma=O([dt,le,yw,sf,je],Uw);function Q$(e){if(e!=null){if(e in Ni)return Ni[e]();var t="scale".concat(aa(e));if(t in Ni)return Ni[t]()}}function bf(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var i=Q$(t);if(i!=null){var a=i.domain(r).range(n);return WC(a),a}}}var Fw=(e,t,r)=>{var n=vf(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Kn(e))return x$(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Kn(e))return _$(e,t.tickCount,t.allowDecimals)}},wf=O([yf,ha,ma],Fw),zw=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&Kn(t)&&Array.isArray(r)&&r.length>0){var i=t[0],a=r[0],o=t[1],s=r[r.length-1];return[Math.min(i,a),Math.max(o,s)]}return t},eD=O([dt,yf,wf,je],zw),tD=O(Rs,dt,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(yn(e.map(s=>s.value))).sort((s,l)=>s-l);if(n.length<2)return 1/0;var i=n[n.length-1]-n[0];if(i===0)return 1/0;for(var a=0;a<n.length-1;a++){var o=n[a+1]-n[a];r=Math.min(r,o)}return r/i}}),qw=O(tD,le,sw,De,(e,t,r,n)=>n,(e,t,r,n,i)=>{if(!_t(e))return 0;var a=t==="vertical"?n.height:n.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var o=Wt(r,e*a),s=e*a/2;return s-o-(s-o)/a*o}return 0}),rD=(e,t)=>{var r=Er(e,t);return r==null||typeof r.padding!="string"?0:qw(e,"xAxis",t,r.padding)},nD=(e,t)=>{var r=jr(e,t);return r==null||typeof r.padding!="string"?0:qw(e,"yAxis",t,r.padding)},iD=O(Er,rD,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((r=i.left)!==null&&r!==void 0?r:0)+t,right:((n=i.right)!==null&&n!==void 0?n:0)+t}}),aD=O(jr,nD,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((r=i.top)!==null&&r!==void 0?r:0)+t,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+t}}),oD=O([De,iD,bs,ys,(e,t,r)=>r],(e,t,r,n,i)=>{var{padding:a}=n;return i?[a.left,r.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),sD=O([De,le,aD,bs,ys,(e,t,r)=>r],(e,t,r,n,i,a)=>{var{padding:o}=i;return a?[n.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),ga=(e,t,r,n)=>{var i;switch(t){case"xAxis":return oD(e,r,n);case"yAxis":return sD(e,r,n);case"zAxis":return(i=pf(e,r))===null||i===void 0?void 0:i.range;case"angleAxis":return dw(e);case"radiusAxis":return fw(e,r);default:return}},Ww=O([dt,ga],ks),ci=O([dt,ma,eD,Ww],bf);O([pa,Is,je],Tw);function Hw(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var $s=(e,t)=>t,Ds=(e,t,r)=>r,lD=O(gs,$s,Ds,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(Hw)),cD=O(vs,$s,Ds,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(Hw)),Kw=(e,t)=>({width:e.width,height:t.height}),uD=(e,t)=>{var r=typeof t.width=="number"?t.width:la;return{width:r,height:e.height}},Vw=O(De,Er,Kw),dD=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},fD=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},hD=O(_r,De,lD,$s,Ds,(e,t,r,n,i)=>{var a={},o;return r.forEach(s=>{var l=Kw(t,s);o==null&&(o=dD(t,n,e));var u=n==="top"&&!i||n==="bottom"&&i;a[s.id]=o-Number(u)*l.height,o+=(u?-1:1)*l.height}),a}),pD=O(xr,De,cD,$s,Ds,(e,t,r,n,i)=>{var a={},o;return r.forEach(s=>{var l=uD(t,s);o==null&&(o=fD(t,n,e));var u=n==="left"&&!i||n==="right"&&i;a[s.id]=o-Number(u)*l.width,o+=(u?-1:1)*l.width}),a}),mD=(e,t)=>{var r=Er(e,t);if(r!=null)return hD(e,r.orientation,r.mirror)},gD=O([De,Er,mD,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r==null?void 0:r[n];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),vD=(e,t)=>{var r=jr(e,t);if(r!=null)return pD(e,r.orientation,r.mirror)},yD=O([De,jr,vD,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r==null?void 0:r[n];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),Gw=O(De,jr,(e,t)=>{var r=typeof t.width=="number"?t.width:la;return{width:r,height:e.height}}),wg=(e,t,r)=>{switch(t){case"xAxis":return Vw(e,r).width;case"yAxis":return Gw(e,r).height;default:return}},Yw=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:a,dataKey:o}=r,s=mn(e,n),l=t.map(u=>u.value);if(o&&s&&a==="category"&&i&&qy(l))return l}},xf=O([le,Rs,dt,je],Yw),Jw=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:a}=r,o=mn(e,n);if(o&&(i==="number"||a!=="auto"))return t.map(s=>s.value)}},_f=O([le,Rs,ha,je],Jw),xg=O([le,$$,ma,ci,xf,_f,ga,wf,je],(e,t,r,n,i,a,o,s,l)=>{if(t==null)return null;var u=mn(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:a,duplicateDomain:i,isCategorical:u,niceTicks:s,range:o,realScaleType:r,scale:n}}),bD=(e,t,r,n,i,a,o,s,l)=>{if(!(t==null||n==null)){var u=mn(e,l),{type:c,ticks:d,tickCount:f}=t,h=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,m=c==="category"&&n.bandwidth?n.bandwidth()/h:0;m=l==="angleAxis"&&a!=null&&a.length>=2?st(a[0]-a[1])*2*m:m;var g=d||i;if(g){var v=g.map((b,x)=>{var w=o?o.indexOf(b):b;return{index:x,coordinate:n(w)+m,value:b,offset:m}});return v.filter(b=>!wt(b.coordinate))}return u&&s?s.map((b,x)=>({coordinate:n(b)+m,value:b,index:x,offset:m})):n.ticks?n.ticks(f).map(b=>({coordinate:n(b)+m,value:b,offset:m})):n.domain().map((b,x)=>({coordinate:n(b)+m,value:o?o[b]:b,index:x,offset:m}))}},Xw=O([le,ha,ma,ci,wf,ga,xf,_f,je],bD),wD=(e,t,r,n,i,a,o)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var s=mn(e,o),{tickCount:l}=t,u=0;return u=o==="angleAxis"&&(n==null?void 0:n.length)>=2?st(n[0]-n[1])*2*u:u,s&&a?a.map((c,d)=>({coordinate:r(c)+u,value:c,index:d,offset:u})):r.ticks?r.ticks(l).map(c=>({coordinate:r(c)+u,value:c,offset:u})):r.domain().map((c,d)=>({coordinate:r(c)+u,value:i?i[c]:c,index:d,offset:u}))}},Vn=O([le,ha,ci,ga,xf,_f,je],wD),Gn=O(dt,ci,(e,t)=>{if(!(e==null||t==null))return Wo(Wo({},e),{},{scale:t})}),xD=O([dt,ma,yf,Ww],bf);O((e,t,r)=>pf(e,r),xD,(e,t)=>{if(!(e==null||t==null))return Wo(Wo({},e),{},{scale:t})});var _D=O([le,gs,vs],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),Zw=e=>e.options.defaultTooltipEventType,Qw=e=>e.options.validateTooltipEventTypes;function ex(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function Sf(e,t){var r=Zw(e),n=Qw(e);return ex(t,r,n)}function SD(e){return q(t=>Sf(t,e))}var tx=(e,t)=>{var r,n=Number(t);if(!(wt(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},ED=e=>e.tooltip.settings,$r={active:!1,index:null,dataKey:void 0,coordinate:void 0},jD={itemInteraction:{click:$r,hover:$r},axisInteraction:{click:$r,hover:$r},keyboardInteraction:$r,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},rx=Et({name:"tooltip",initialState:jD,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var r=pr(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:PD,removeTooltipEntrySettings:OD,setTooltipSettingsState:kD,setActiveMouseOverItemIndex:nx,mouseLeaveItem:AD,mouseLeaveChart:ix,setActiveClickItemIndex:CD,setMouseOverAxisIndex:ax,setMouseClickAxisIndex:TD,setSyncInteraction:Iu,setKeyboardInteraction:$u}=rx.actions,RD=rx.reducer;function _g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ga(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_g(Object(r),!0).forEach(function(n){ID(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_g(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ID(e,t,r){return(t=$D(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $D(e){var t=DD(e,"string");return typeof t=="symbol"?t:t+""}function DD(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function MD(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function ND(e){return e.index!=null}var ox=(e,t,r,n)=>{if(t==null)return $r;var i=MD(e,t,r);if(i==null)return $r;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(ND(i)){if(a)return Ga(Ga({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return Ga(Ga({},$r),{},{coordinate:i.coordinate})},Ef=(e,t)=>{var r=e==null?void 0:e.index;if(r==null)return null;var n=Number(r);if(!_t(n))return r;var i=0,a=1/0;return t.length>0&&(a=t.length-1),String(Math.max(i,Math.min(n,a)))},sx=(e,t,r,n,i,a,o,s)=>{if(!(a==null||s==null)){var l=o[0],u=l==null?void 0:s(l.positions,a);if(u!=null)return u;var c=i==null?void 0:i[Number(a)];if(c)switch(r){case"horizontal":return{x:c.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:c.coordinate}}}},lx=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return r==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(a=>{var o;return((o=a.settings)===null||o===void 0?void 0:o.dataKey)===i})},va=e=>e.options.tooltipPayloadSearcher,ui=e=>e.tooltip;function Sg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Eg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Sg(Object(r),!0).forEach(function(n){LD(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LD(e,t,r){return(t=BD(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BD(e){var t=UD(e,"string");return typeof t=="symbol"?t:t+""}function UD(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function FD(e,t){return e??t}var cx=(e,t,r,n,i,a,o)=>{if(!(t==null||a==null)){var{chartData:s,computedData:l,dataStartIndex:u,dataEndIndex:c}=r,d=[];return e.reduce((f,h)=>{var m,{dataDefinedOnItem:g,settings:v}=h,b=FD(g,s),x=Array.isArray(b)?V0(b,u,c):b,w=(m=v==null?void 0:v.dataKey)!==null&&m!==void 0?m:n,_=v==null?void 0:v.nameKey,S;if(n&&Array.isArray(x)&&!Array.isArray(x[0])&&o==="axis"?S=$O(x,n,i):S=a(x,t,l,_),Array.isArray(S))S.forEach(j=>{var k=Eg(Eg({},v),{},{name:j.name,unit:j.unit,color:void 0,fill:void 0});f.push(lm({tooltipEntrySettings:k,dataKey:j.dataKey,payload:j.payload,value:tt(j.payload,j.dataKey),name:j.name}))});else{var E;f.push(lm({tooltipEntrySettings:v,dataKey:w,payload:S,value:tt(S,w),name:(E=tt(S,_))!==null&&E!==void 0?E:v==null?void 0:v.name}))}return f},d)}},jf=O([Ne,le,yw,sf,Ae],Uw),zD=O([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),qD=O([Ae,si],bw),ya=O([zD,Ne,qD],ww),WD=O([ya],e=>e.filter(Ts)),HD=O([ya],Ew),di=O([HD,zr],jw),KD=O([WD,zr,Ne],mw),Pf=O([di,Ne,ya],Pw),VD=O([Ne],vf),GD=O([ya],e=>e.filter(Ts)),YD=O([KD,GD,Os],kw),JD=O([YD,zr,Ae],Aw),XD=O([ya],_w),ZD=O([di,Ne,XD,Is,Ae],Cw),QD=O([Rw,Ae,si],li),eM=O([QD,Ae],Dw),tM=O([Iw,Ae,si],li),rM=O([tM,Ae],Mw),nM=O([$w,Ae,si],li),iM=O([nM,Ae],Nw),aM=O([eM,iM,rM],Ho),oM=O([Ne,VD,JD,ZD,aM,le,Ae],Lw),ux=O([Ne,le,di,Pf,Os,Ae,oM],Bw),sM=O([ux,Ne,jf],Fw),lM=O([Ne,ux,sM,Ae],zw),dx=e=>{var t=Ae(e),r=si(e),n=!1;return ga(e,t,r,n)},fx=O([Ne,dx],ks),hx=O([Ne,jf,lM,fx],bf),cM=O([le,Pf,Ne,Ae],Yw),uM=O([le,Pf,Ne,Ae],Jw),dM=(e,t,r,n,i,a,o,s)=>{if(t){var{type:l}=t,u=mn(e,s);if(n){var c=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,d=l==="category"&&n.bandwidth?n.bandwidth()/c:0;return d=s==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?st(i[0]-i[1])*2*d:d,u&&o?o.map((f,h)=>({coordinate:n(f)+d,value:f,index:h,offset:d})):n.domain().map((f,h)=>({coordinate:n(f)+d,value:a?a[f]:f,index:h,offset:d}))}}},Pr=O([le,Ne,jf,hx,dx,cM,uM,Ae],dM),Of=O([Zw,Qw,ED],(e,t,r)=>ex(r.shared,e,t)),px=e=>e.tooltip.settings.trigger,kf=e=>e.tooltip.settings.defaultIndex,Ms=O([ui,Of,px,kf],ox),Yn=O([Ms,di],Ef),mx=O([Pr,Yn],tx),gx=O([Ms],e=>{if(e)return e.dataKey}),vx=O([ui,Of,px,kf],lx),fM=O([xr,_r,le,De,Pr,kf,vx,va],sx),hM=O([Ms,fM],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),pM=O([Ms],e=>e.active),mM=O([vx,Yn,zr,pw,mx,va,Of],cx);O([mM],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function jg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Pg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jg(Object(r),!0).forEach(function(n){gM(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gM(e,t,r){return(t=vM(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vM(e){var t=yM(e,"string");return typeof t=="symbol"?t:t+""}function yM(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bM=()=>q(Ne),wM=()=>{var e=bM(),t=q(Pr),r=q(hx);return kd(Pg(Pg({},e),{},{scale:r}),t)},xM=()=>q(sf),Af=(e,t)=>t,yx=(e,t,r)=>r,Cf=(e,t,r,n)=>n,_M=O(Pr,e=>us(e,t=>t.coordinate)),Tf=O([ui,Af,yx,Cf],ox),bx=O([Tf,di],Ef),SM=(e,t,r)=>{if(t!=null){var n=ui(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},wx=O([ui,Af,yx,Cf],lx),Ko=O([xr,_r,le,De,Pr,Cf,wx,va],sx),EM=O([Tf,Ko],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),xx=O(Pr,bx,tx),jM=O([wx,bx,zr,pw,xx,va,Af],cx),PM=O([Tf],e=>({isActive:e.active,activeIndex:e.index})),OM=(e,t,r,n,i,a,o,s)=>{if(!(!e||!t||!n||!i||!a)){var l=tT(e.chartX,e.chartY,t,r,s);if(l){var u=nT(l,t),c=zC(u,o,a,n,i),d=rT(t,a,c,l);return{activeIndex:String(c),activeCoordinate:d}}}};function Du(){return Du=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Du.apply(null,arguments)}function Og(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ya(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Og(Object(r),!0).forEach(function(n){kM(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Og(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kM(e,t,r){return(t=AM(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AM(e){var t=CM(e,"string");return typeof t=="symbol"?t:t+""}function CM(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function TM(e){var{coordinate:t,payload:r,index:n,offset:i,tooltipAxisBandSize:a,layout:o,cursor:s,tooltipEventType:l,chartName:u}=e,c=t,d=r,f=n;if(!s||!c||u!=="ScatterChart"&&l!=="axis")return null;var h,m;if(u==="ScatterChart")h=c,m=YT;else if(u==="BarChart")h=JT(o,c,i,a),m=sb;else if(o==="radial"){var{cx:g,cy:v,radius:b,startAngle:x,endAngle:w}=lb(c);h={cx:g,cy:v,startAngle:x,endAngle:w,innerRadius:b,outerRadius:b},m=ub}else h={points:A2(o,c,i)},m=UT;var _=typeof s=="object"&&"className"in s?s.className:void 0,S=Ya(Ya(Ya(Ya({stroke:"#ccc",pointerEvents:"none"},i),h),ze(s,!1)),{},{payload:d,payloadIndex:f,className:ge("recharts-tooltip-cursor",_)});return y.isValidElement(s)?y.cloneElement(s,S):y.createElement(m,S)}function RM(e){var t=wM(),r=Z0(),n=Td(),i=xM();return y.createElement(TM,Du({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:n,tooltipAxisBandSize:t,chartName:i}))}var _x=y.createContext(null),IM=()=>y.useContext(_x),yc={exports:{}},kg;function $M(){return kg||(kg=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function a(l,u,c,d,f){if(typeof c!="function")throw new TypeError("The listener must be a function");var h=new i(c,d||l,f),m=r?r+u:u;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],h]:l._events[m].push(h):(l._events[m]=h,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new n:delete l._events[u]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],c,d;if(this._eventsCount===0)return u;for(d in c=this._events)t.call(c,d)&&u.push(r?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},s.prototype.listeners=function(u){var c=r?r+u:u,d=this._events[c];if(!d)return[];if(d.fn)return[d.fn];for(var f=0,h=d.length,m=new Array(h);f<h;f++)m[f]=d[f].fn;return m},s.prototype.listenerCount=function(u){var c=r?r+u:u,d=this._events[c];return d?d.fn?1:d.length:0},s.prototype.emit=function(u,c,d,f,h,m){var g=r?r+u:u;if(!this._events[g])return!1;var v=this._events[g],b=arguments.length,x,w;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),b){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,c),!0;case 3:return v.fn.call(v.context,c,d),!0;case 4:return v.fn.call(v.context,c,d,f),!0;case 5:return v.fn.call(v.context,c,d,f,h),!0;case 6:return v.fn.call(v.context,c,d,f,h,m),!0}for(w=1,x=new Array(b-1);w<b;w++)x[w-1]=arguments[w];v.fn.apply(v.context,x)}else{var _=v.length,S;for(w=0;w<_;w++)switch(v[w].once&&this.removeListener(u,v[w].fn,void 0,!0),b){case 1:v[w].fn.call(v[w].context);break;case 2:v[w].fn.call(v[w].context,c);break;case 3:v[w].fn.call(v[w].context,c,d);break;case 4:v[w].fn.call(v[w].context,c,d,f);break;default:if(!x)for(S=1,x=new Array(b-1);S<b;S++)x[S-1]=arguments[S];v[w].fn.apply(v[w].context,x)}}return!0},s.prototype.on=function(u,c,d){return a(this,u,c,d,!1)},s.prototype.once=function(u,c,d){return a(this,u,c,d,!0)},s.prototype.removeListener=function(u,c,d,f){var h=r?r+u:u;if(!this._events[h])return this;if(!c)return o(this,h),this;var m=this._events[h];if(m.fn)m.fn===c&&(!f||m.once)&&(!d||m.context===d)&&o(this,h);else{for(var g=0,v=[],b=m.length;g<b;g++)(m[g].fn!==c||f&&!m[g].once||d&&m[g].context!==d)&&v.push(m[g]);v.length?this._events[h]=v.length===1?v[0]:v:o(this,h)}return this},s.prototype.removeAllListeners=function(u){var c;return u?(c=r?r+u:u,this._events[c]&&o(this,c)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,e.exports=s})(yc)),yc.exports}var DM=$M();const MM=rr(DM);var ea=new MM,Mu="recharts.syncEvent.tooltip",Ag="recharts.syncEvent.brush";function NM(e,t){if(t){var r=Number.parseInt(t,10);if(!wt(r))return e==null?void 0:e[r]}}var LM={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},Sx=Et({name:"options",initialState:LM,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),BM=Sx.reducer,{createEventEmitter:UM}=Sx.actions;function FM(e){return e.tooltip.syncInteraction}var zM={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},Ex=Et({name:"chartData",initialState:zM,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:Cg,setDataStartEndIndexes:qM,setComputedData:Rz}=Ex.actions,WM=Ex.reducer,HM=["x","y"];function Tg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Kr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Tg(Object(r),!0).forEach(function(n){KM(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KM(e,t,r){return(t=VM(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VM(e){var t=GM(e,"string");return typeof t=="symbol"?t:t+""}function GM(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function YM(e,t){if(e==null)return{};var r,n,i=JM(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function JM(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var jx=()=>{};function XM(){var e=q(lf),t=q(cf),r=$e(),n=q(lw),i=q(Pr),a=Td(),o=Cd(),s=q(l=>l.rootProps.className);y.useEffect(()=>{if(e==null)return jx;var l=(u,c,d)=>{if(t!==d&&e===u){if(n==="index"){var f;if(o&&c!==null&&c!==void 0&&(f=c.payload)!==null&&f!==void 0&&f.coordinate){var h=c.payload.coordinate,{x:m,y:g}=h,v=YM(h,HM),b=Kr(Kr(Kr({},v),typeof m=="number"&&{x:Math.max(o.x,Math.min(m,o.x+o.width))}),typeof g=="number"&&{y:Math.max(o.y,Math.min(g,o.y+o.height))}),x=Kr(Kr({},c),{},{payload:Kr(Kr({},c.payload),{},{coordinate:b})});r(x)}else r(c);return}if(i!=null){var w;if(typeof n=="function"){var _={activeTooltipIndex:c.payload.index==null?void 0:Number(c.payload.index),isTooltipActive:c.payload.active,activeIndex:c.payload.index==null?void 0:Number(c.payload.index),activeLabel:c.payload.label,activeDataKey:c.payload.dataKey,activeCoordinate:c.payload.coordinate},S=n(i,_);w=i[S]}else n==="value"&&(w=i.find(U=>String(U.value)===c.payload.label));var{coordinate:E}=c.payload;if(w==null||c.payload.active===!1||E==null||o==null){r(Iu({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:j,y:k}=E,A=Math.min(j,o.x+o.width),I=Math.min(k,o.y+o.height),C={x:a==="horizontal"?w.coordinate:A,y:a==="horizontal"?I:w.coordinate},$=Iu({active:c.payload.active,coordinate:C,dataKey:c.payload.dataKey,index:String(w.index),label:c.payload.label});r($)}}};return ea.on(Mu,l),()=>{ea.off(Mu,l)}},[s,r,t,e,n,i,a,o])}function ZM(){var e=q(lf),t=q(cf),r=$e();y.useEffect(()=>{if(e==null)return jx;var n=(i,a,o)=>{t!==o&&e===i&&r(qM(a))};return ea.on(Ag,n),()=>{ea.off(Ag,n)}},[r,t,e])}function QM(){var e=$e();y.useEffect(()=>{e(UM())},[e]),XM(),ZM()}function eN(e,t,r,n,i,a){var o=q(f=>SM(f,e,t)),s=q(cf),l=q(lf),u=q(lw),c=q(FM),d=c==null?void 0:c.active;y.useEffect(()=>{if(!d&&l!=null&&s!=null){var f=Iu({active:a,coordinate:r,dataKey:o,index:i,label:typeof n=="number"?String(n):n});ea.emit(Mu,l,f,s)}},[d,r,o,i,n,s,l,u,a])}function Rg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ig(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Rg(Object(r),!0).forEach(function(n){tN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tN(e,t,r){return(t=rN(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rN(e){var t=nN(e,"string");return typeof t=="symbol"?t:t+""}function nN(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iN(e){return e.dataKey}function aN(e,t){return y.isValidElement(e)?y.cloneElement(e,t):typeof e=="function"?y.createElement(e,t):y.createElement(PT,t)}var $g=[],oN={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!ni.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function sN(e){var t=Nt(e,oN),{active:r,allowEscapeViewBox:n,animationDuration:i,animationEasing:a,content:o,filterNull:s,isAnimationActive:l,offset:u,payloadUniqBy:c,position:d,reverseDirection:f,useTranslate3d:h,wrapperStyle:m,cursor:g,shared:v,trigger:b,defaultIndex:x,portal:w,axisId:_}=t,S=$e(),E=typeof x=="number"?String(x):x;y.useEffect(()=>{S(kD({shared:v,trigger:b,axisId:_,active:r,defaultIndex:E}))},[S,v,b,_,r,E]);var j=Cd(),k=rb(),A=SD(v),{activeIndex:I,isActive:C}=q(ee=>PM(ee,A,b,E)),$=q(ee=>jM(ee,A,b,E)),U=q(ee=>xx(ee,A,b,E)),T=q(ee=>EM(ee,A,b,E)),L=$,M=IM(),W=r??C,[J,X]=TA([L,W]),pe=A==="axis"?U:void 0;eN(A,b,T,pe,I,W);var ne=w??M;if(ne==null)return null;var F=L??$g;W||(F=$g),s&&F.length&&(F=nA(L.filter(ee=>ee.value!=null&&(ee.hide!==!0||t.includeHidden)),c,iN));var V=F.length>0,ae=y.createElement(IT,{allowEscapeViewBox:n,animationDuration:i,animationEasing:a,isAnimationActive:l,active:W,coordinate:T,hasPayload:V,offset:u,position:d,reverseDirection:f,useTranslate3d:h,viewBox:j,wrapperStyle:m,lastBoundingBox:J,innerRef:X,hasPortalFromProps:!!w},aN(o,Ig(Ig({},t),{},{payload:F,label:pe,active:W,coordinate:T,accessibilityLayer:k})));return y.createElement(y.Fragment,null,vy.createPortal(ae,ne),W&&y.createElement(RM,{cursor:g,tooltipEventType:A,coordinate:T,payload:L,index:I}))}var bc={},wc={},xc={},Dg;function lN(){return Dg||(Dg=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:i,edges:a}={}){let o,s=null;const l=a!=null&&a.includes("leading"),u=a==null||a.includes("trailing"),c=()=>{s!==null&&(r.apply(o,s),o=void 0,s=null)},d=()=>{u&&c(),g()};let f=null;const h=()=>{f!=null&&clearTimeout(f),f=setTimeout(()=>{f=null,d()},n)},m=()=>{f!==null&&(clearTimeout(f),f=null)},g=()=>{m(),o=void 0,s=null},v=()=>{c()},b=function(...x){if(i!=null&&i.aborted)return;o=this,s=x;const w=f==null;h(),l&&w&&c()};return b.schedule=h,b.cancel=g,b.flush=v,i==null||i.addEventListener("abort",g,{once:!0}),b}e.debounce=t})(xc)),xc}var Mg;function cN(){return Mg||(Mg=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lN();function r(n,i=0,a={}){typeof a!="object"&&(a={});const{leading:o=!1,trailing:s=!0,maxWait:l}=a,u=Array(2);o&&(u[0]="leading"),s&&(u[1]="trailing");let c,d=null;const f=t.debounce(function(...g){c=n.apply(this,g),d=null},i,{edges:u}),h=function(...g){return l!=null&&(d===null&&(d=Date.now()),Date.now()-d>=l)?(c=n.apply(this,g),d=Date.now(),f.cancel(),f.schedule(),c):(f.apply(this,g),c)},m=()=>(f.flush(),c);return h.cancel=f.cancel,h.flush=m,h}e.debounce=r})(wc)),wc}var Ng;function uN(){return Ng||(Ng=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cN();function r(n,i=0,a={}){const{leading:o=!0,trailing:s=!0}=a;return t.debounce(n,i,{leading:o,maxWait:i,trailing:s})}e.throttle=r})(bc)),bc}var _c,Lg;function dN(){return Lg||(Lg=1,_c=uN().throttle),_c}var fN=dN();const hN=rr(fN);var Fi=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]};function Bg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Sc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Bg(Object(r),!0).forEach(function(n){pN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pN(e,t,r){return(t=mN(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mN(e){var t=gN(e,"string");return typeof t=="symbol"?t:t+""}function gN(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vN=y.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:i="100%",height:a="100%",minWidth:o=0,minHeight:s,maxHeight:l,children:u,debounce:c=0,id:d,className:f,onResize:h,style:m={}}=e,g=y.useRef(null),v=y.useRef();v.current=h,y.useImperativeHandle(t,()=>g.current);var[b,x]=y.useState({containerWidth:n.width,containerHeight:n.height}),w=y.useCallback((S,E)=>{x(j=>{var k=Math.round(S),A=Math.round(E);return j.containerWidth===k&&j.containerHeight===A?j:{containerWidth:k,containerHeight:A}})},[]);y.useEffect(()=>{var S=A=>{var I,{width:C,height:$}=A[0].contentRect;w(C,$),(I=v.current)===null||I===void 0||I.call(v,C,$)};c>0&&(S=hN(S,c,{trailing:!0,leading:!1}));var E=new ResizeObserver(S),{width:j,height:k}=g.current.getBoundingClientRect();return w(j,k),E.observe(g.current),()=>{E.disconnect()}},[w,c]);var _=y.useMemo(()=>{var{containerWidth:S,containerHeight:E}=b;if(S<0||E<0)return null;Fi(Zr(i)||Zr(a),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,a),Fi(!r||r>0,"The aspect(%s) must be greater than zero.",r);var j=Zr(i)?S:i,k=Zr(a)?E:a;return r&&r>0&&(j?k=j/r:k&&(j=k*r),l&&k>l&&(k=l)),Fi(j>0||k>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,j,k,i,a,o,s,r),y.Children.map(u,A=>y.cloneElement(A,{width:j,height:k,style:Sc({width:j,height:k},A.props.style)}))},[r,u,a,l,s,o,b,i]);return y.createElement("div",{id:d?"".concat(d):void 0,className:ge("recharts-responsive-container",f),style:Sc(Sc({},m),{},{width:i,height:a,minWidth:o,minHeight:s,maxHeight:l}),ref:g},y.createElement("div",{style:{width:0,height:0,overflow:"visible"}},_))}),Px=e=>null;Px.displayName="Cell";function yN(e,t,r){return(t=bN(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bN(e){var t=wN(e,"string");return typeof t=="symbol"?t:t+""}function wN(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class xN{constructor(t){yN(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function Ug(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function _N(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ug(Object(r),!0).forEach(function(n){SN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ug(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SN(e,t,r){return(t=EN(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EN(e){var t=jN(e,"string");return typeof t=="symbol"?t:t+""}function jN(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var PN={cacheSize:2e3,enableCache:!0},Ox=_N({},PN),Fg=new xN(Ox.cacheSize),ON={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},zg="recharts_measurement_span";function kN(e,t){var r=t.fontSize||"",n=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",o=t.letterSpacing||"",s=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(a,"|").concat(o,"|").concat(s)}var qg=(e,t)=>{try{var r=document.getElementById(zg);r||(r=document.createElement("span"),r.setAttribute("id",zg),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,ON,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},zi=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||ni.isSsr)return{width:0,height:0};if(!Ox.enableCache)return qg(t,r);var n=kN(t,r),i=Fg.get(n);if(i)return i;var a=qg(t,r);return Fg.set(n,a),a},Wg=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Hg=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,AN=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,CN=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,kx={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},TN=Object.keys(kx),Mn="NaN";function RN(e,t){return e*kx[t]}class ot{static parse(t){var r,[,n,i]=(r=CN.exec(t))!==null&&r!==void 0?r:[];return new ot(parseFloat(n),i??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,wt(t)&&(this.unit=""),r!==""&&!AN.test(r)&&(this.num=NaN,this.unit=""),TN.includes(r)&&(this.num=RN(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new ot(NaN,""):new ot(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new ot(NaN,""):new ot(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new ot(NaN,""):new ot(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new ot(NaN,""):new ot(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return wt(this.num)}}function Ax(e){if(e.includes(Mn))return Mn;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,i,a]=(r=Wg.exec(t))!==null&&r!==void 0?r:[],o=ot.parse(n??""),s=ot.parse(a??""),l=i==="*"?o.multiply(s):o.divide(s);if(l.isNaN())return Mn;t=t.replace(Wg,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,c,d,f]=(u=Hg.exec(t))!==null&&u!==void 0?u:[],h=ot.parse(c??""),m=ot.parse(f??""),g=d==="+"?h.add(m):h.subtract(m);if(g.isNaN())return Mn;t=t.replace(Hg,g.toString())}return t}var Kg=/\(([^()]*)\)/;function IN(e){for(var t=e,r;(r=Kg.exec(t))!=null;){var[,n]=r;t=t.replace(Kg,Ax(n))}return t}function $N(e){var t=e.replace(/\s+/g,"");return t=IN(t),t=Ax(t),t}function DN(e){try{return $N(e)}catch{return Mn}}function Ec(e){var t=DN(e.slice(5,-1));return t===Mn?"":t}var MN=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],NN=["dx","dy","angle","className","breakAll"];function Nu(){return Nu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nu.apply(null,arguments)}function Vg(e,t){if(e==null)return{};var r,n,i=LN(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function LN(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Cx=/[ \f\n\r\t\v\u2028\u2029]+/,Tx=e=>{var{children:t,breakAll:r,style:n}=e;try{var i=[];Ie(t)||(r?i=t.toString().split(""):i=t.toString().split(Cx));var a=i.map(s=>({word:s,width:zi(s,n).width})),o=r?0:zi(" ",n).width;return{wordsWithComputedWidth:a,spaceWidth:o}}catch{return null}},BN=(e,t,r,n,i)=>{var{maxLines:a,children:o,style:s,breakAll:l}=e,u=z(a),c=o,d=function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return C.reduce(($,U)=>{var{word:T,width:L}=U,M=$[$.length-1];if(M&&(n==null||i||M.width+L+r<Number(n)))M.words.push(T),M.width+=L+r;else{var W={words:[T],width:L};$.push(W)}return $},[])},f=d(t),h=I=>I.reduce((C,$)=>C.width>$.width?C:$);if(!u||i)return f;var m=f.length>a||h(f).width>Number(n);if(!m)return f;for(var g="…",v=I=>{var C=c.slice(0,I),$=Tx({breakAll:l,style:s,children:C+g}).wordsWithComputedWidth,U=d($),T=U.length>a||h(U).width>Number(n);return[T,U]},b=0,x=c.length-1,w=0,_;b<=x&&w<=c.length-1;){var S=Math.floor((b+x)/2),E=S-1,[j,k]=v(E),[A]=v(S);if(!j&&!A&&(b=S+1),j&&A&&(x=S-1),!j&&A){_=k;break}w++}return _||f},Gg=e=>{var t=Ie(e)?[]:e.toString().split(Cx);return[{words:t}]},UN=e=>{var{width:t,scaleToFit:r,children:n,style:i,breakAll:a,maxLines:o}=e;if((t||r)&&!ni.isSsr){var s,l,u=Tx({breakAll:a,children:n,style:i});if(u){var{wordsWithComputedWidth:c,spaceWidth:d}=u;s=c,l=d}else return Gg(n);return BN({breakAll:a,children:n,maxLines:o,style:i},s,l,t,r)}return Gg(n)},Yg="#808080",Rf=y.forwardRef((e,t)=>{var{x:r=0,y:n=0,lineHeight:i="1em",capHeight:a="0.71em",scaleToFit:o=!1,textAnchor:s="start",verticalAnchor:l="end",fill:u=Yg}=e,c=Vg(e,MN),d=y.useMemo(()=>UN({breakAll:c.breakAll,children:c.children,maxLines:c.maxLines,scaleToFit:o,style:c.style,width:c.width}),[c.breakAll,c.children,c.maxLines,o,c.style,c.width]),{dx:f,dy:h,angle:m,className:g,breakAll:v}=c,b=Vg(c,NN);if(!er(r)||!er(n)||d.length===0)return null;var x=r+(z(f)?f:0),w=n+(z(h)?h:0),_;switch(l){case"start":_=Ec("calc(".concat(a,")"));break;case"middle":_=Ec("calc(".concat((d.length-1)/2," * -").concat(i," + (").concat(a," / 2))"));break;default:_=Ec("calc(".concat(d.length-1," * -").concat(i,")"));break}var S=[];if(o){var E=d[0].width,{width:j}=c;S.push("scale(".concat(z(j)?j/E:1,")"))}return m&&S.push("rotate(".concat(m,", ").concat(x,", ").concat(w,")")),S.length&&(b.transform=S.join(" ")),y.createElement("text",Nu({},ze(b,!0),{ref:t,x,y:w,className:ge("recharts-text",g),textAnchor:s,fill:u.includes("url")?Yg:u}),d.map((k,A)=>{var I=k.words.join(v?"":" ");return y.createElement("tspan",{x,dy:A===0?_:i,key:"".concat(I,"-").concat(A)},I)}))});Rf.displayName="Text";var FN=["labelRef"];function zN(e,t){if(e==null)return{};var r,n,i=qN(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function qN(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Jg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function xe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Jg(Object(r),!0).forEach(function(n){WN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WN(e,t,r){return(t=HN(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HN(e){var t=KN(e,"string");return typeof t=="symbol"?t:t+""}function KN(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ur(){return ur=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ur.apply(null,arguments)}var Rx=y.createContext(null),VN=e=>{var{x:t,y:r,width:n,height:i,children:a}=e,o=y.useMemo(()=>({x:t,y:r,width:n,height:i}),[t,r,n,i]);return y.createElement(Rx.Provider,{value:o},a)},Ix=()=>{var e=y.useContext(Rx),t=Cd();return e||t},GN=y.createContext(null),YN=()=>{var e=y.useContext(GN),t=q(hw);return e||t},JN=e=>{var{value:t,formatter:r}=e,n=Ie(e.children)?t:e.children;return typeof r=="function"?r(n):n},If=e=>e!=null&&typeof e=="function",XN=(e,t)=>{var r=st(t-e),n=Math.min(Math.abs(t-e),360);return r*n},ZN=(e,t,r,n,i)=>{var{offset:a,className:o}=e,{cx:s,cy:l,innerRadius:u,outerRadius:c,startAngle:d,endAngle:f,clockWise:h}=i,m=(u+c)/2,g=XN(d,f),v=g>=0?1:-1,b,x;switch(t){case"insideStart":b=d+v*a,x=h;break;case"insideEnd":b=f-v*a,x=!h;break;case"end":b=f+v*a,x=h;break;default:throw new Error("Unsupported position ".concat(t))}x=g<=0?x:!x;var w=Fe(s,l,m,b),_=Fe(s,l,m,b+(x?1:-1)*359),S="M".concat(w.x,",").concat(w.y,`
    A`).concat(m,",").concat(m,",0,1,").concat(x?0:1,`,
    `).concat(_.x,",").concat(_.y),E=Ie(e.id)?Hi("recharts-radial-line-"):e.id;return y.createElement("text",ur({},n,{dominantBaseline:"central",className:ge("recharts-radial-bar-label",o)}),y.createElement("defs",null,y.createElement("path",{id:E,d:S})),y.createElement("textPath",{xlinkHref:"#".concat(E)},r))},QN=(e,t,r)=>{var{cx:n,cy:i,innerRadius:a,outerRadius:o,startAngle:s,endAngle:l}=e,u=(s+l)/2;if(r==="outside"){var{x:c,y:d}=Fe(n,i,o+t,u);return{x:c,y:d,textAnchor:c>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var f=(a+o)/2,{x:h,y:m}=Fe(n,i,f,u);return{x:h,y:m,textAnchor:"middle",verticalAnchor:"middle"}},$x=e=>"cx"in e&&z(e.cx),eL=(e,t)=>{var{parentViewBox:r,offset:n,position:i}=e,a;r!=null&&!$x(r)&&(a=r);var{x:o,y:s,width:l,height:u}=t,c=u>=0?1:-1,d=c*n,f=c>0?"end":"start",h=c>0?"start":"end",m=l>=0?1:-1,g=m*n,v=m>0?"end":"start",b=m>0?"start":"end";if(i==="top"){var x={x:o+l/2,y:s-c*n,textAnchor:"middle",verticalAnchor:f};return xe(xe({},x),a?{height:Math.max(s-a.y,0),width:l}:{})}if(i==="bottom"){var w={x:o+l/2,y:s+u+d,textAnchor:"middle",verticalAnchor:h};return xe(xe({},w),a?{height:Math.max(a.y+a.height-(s+u),0),width:l}:{})}if(i==="left"){var _={x:o-g,y:s+u/2,textAnchor:v,verticalAnchor:"middle"};return xe(xe({},_),a?{width:Math.max(_.x-a.x,0),height:u}:{})}if(i==="right"){var S={x:o+l+g,y:s+u/2,textAnchor:b,verticalAnchor:"middle"};return xe(xe({},S),a?{width:Math.max(a.x+a.width-S.x,0),height:u}:{})}var E=a?{width:l,height:u}:{};return i==="insideLeft"?xe({x:o+g,y:s+u/2,textAnchor:b,verticalAnchor:"middle"},E):i==="insideRight"?xe({x:o+l-g,y:s+u/2,textAnchor:v,verticalAnchor:"middle"},E):i==="insideTop"?xe({x:o+l/2,y:s+d,textAnchor:"middle",verticalAnchor:h},E):i==="insideBottom"?xe({x:o+l/2,y:s+u-d,textAnchor:"middle",verticalAnchor:f},E):i==="insideTopLeft"?xe({x:o+g,y:s+d,textAnchor:b,verticalAnchor:h},E):i==="insideTopRight"?xe({x:o+l-g,y:s+d,textAnchor:v,verticalAnchor:h},E):i==="insideBottomLeft"?xe({x:o+g,y:s+u-d,textAnchor:b,verticalAnchor:f},E):i==="insideBottomRight"?xe({x:o+l-g,y:s+u-d,textAnchor:v,verticalAnchor:f},E):i&&typeof i=="object"&&(z(i.x)||Zr(i.x))&&(z(i.y)||Zr(i.y))?xe({x:o+Wt(i.x,l),y:s+Wt(i.y,u),textAnchor:"end",verticalAnchor:"end"},E):xe({x:o+l/2,y:s+u/2,textAnchor:"middle",verticalAnchor:"middle"},E)},tL={offset:5};function Rr(e){var t=Nt(e,tL),{viewBox:r,position:n,value:i,children:a,content:o,className:s="",textBreakAll:l,labelRef:u}=t,c=YN(),d=Ix(),f=n==="center"?d:c??d,h=r||f;if(!h||Ie(i)&&Ie(a)&&!y.isValidElement(o)&&typeof o!="function")return null;var m=xe(xe({},t),{},{viewBox:h});if(y.isValidElement(o)){var{labelRef:g}=m,v=zN(m,FN);return y.cloneElement(o,v)}var b;if(typeof o=="function"){if(b=y.createElement(o,m),y.isValidElement(b))return b}else b=JN(t);var x=$x(h),w=ze(t,!0);if(x&&(n==="insideStart"||n==="insideEnd"||n==="end"))return ZN(t,n,b,w,h);var _=x?QN(h,t.offset,t.position):eL(t,h);return y.createElement(Rf,ur({ref:u,className:ge("recharts-label",s)},w,_,{breakAll:l}),b)}Rr.displayName="Label";var rL=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?y.createElement(Rr,ur({key:"label-implicit"},n)):er(e)?y.createElement(Rr,ur({key:"label-implicit",value:e},n)):y.isValidElement(e)?e.type===Rr?y.cloneElement(e,xe({key:"label-implicit"},n)):y.createElement(Rr,ur({key:"label-implicit",content:e},n)):If(e)?y.createElement(Rr,ur({key:"label-implicit",content:e},n)):e&&typeof e=="object"?y.createElement(Rr,ur({},e,{key:"label-implicit"},n)):null};function nL(e){var{label:t}=e,r=Ix();return rL(t,r)||null}var jc={},Pc={},Xg;function iL(){return Xg||(Xg=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(Pc)),Pc}var Oc={},Zg;function aL(){return Zg||(Zg=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(Oc)),Oc}var Qg;function oL(){return Qg||(Qg=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iL(),r=aL(),n=wd();function i(a){if(n.isArrayLike(a))return t.last(r.toArray(a))}e.last=i})(jc)),jc}var kc,ev;function sL(){return ev||(ev=1,kc=oL().last),kc}var lL=sL();const cL=rr(lL);var uL=["valueAccessor"],dL=["dataKey","clockWise","id","textBreakAll"];function Vo(){return Vo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vo.apply(null,arguments)}function tv(e,t){if(e==null)return{};var r,n,i=fL(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function fL(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var hL=e=>Array.isArray(e.value)?cL(e.value):e.value,Dx=y.createContext(void 0),pL=Dx.Provider,Mx=y.createContext(void 0);Mx.Provider;function mL(){return y.useContext(Dx)}function gL(){return y.useContext(Mx)}function so(e){var{valueAccessor:t=hL}=e,r=tv(e,uL),{dataKey:n,clockWise:i,id:a,textBreakAll:o}=r,s=tv(r,dL),l=mL(),u=gL(),c=l||u;return!c||!c.length?null:y.createElement(Nr,{className:"recharts-label-list"},c.map((d,f)=>{var h,m=Ie(n)?t(d,f):tt(d&&d.payload,n),g=Ie(a)?{}:{id:"".concat(a,"-").concat(f)};return y.createElement(Rr,Vo({},ze(d,!0),s,g,{fill:(h=r.fill)!==null&&h!==void 0?h:d.fill,parentViewBox:d.parentViewBox,value:m,textBreakAll:o,viewBox:d.viewBox,key:"label-".concat(f),index:f}))}))}so.displayName="LabelList";function vL(e){var{label:t}=e;return t?t===!0?y.createElement(so,{key:"labelList-implicit"}):y.isValidElement(t)||If(t)?y.createElement(so,{key:"labelList-implicit",content:t}):typeof t=="object"?y.createElement(so,Vo({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}var yL={radiusAxis:{},angleAxis:{}},Nx=Et({name:"polarAxis",initialState:yL,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:Iz,removeRadiusAxis:$z,addAngleAxis:Dz,removeAngleAxis:Mz}=Nx.actions,bL=Nx.reducer,Ac={},rv;function wL(){return rv||(rv=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var i;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const a=r[Symbol.toStringTag];return a==null||!((i=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&i.writable)?!1:r.toString()===`[object ${a}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(Ac)),Ac}var Cc,nv;function xL(){return nv||(nv=1,Cc=wL().isPlainObject),Cc}var _L=xL();const SL=rr(_L);function iv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function av(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iv(Object(r),!0).forEach(function(n){EL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EL(e,t,r){return(t=jL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jL(e){var t=PL(e,"string");return typeof t=="symbol"?t:t+""}function PL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Go(){return Go=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Go.apply(null,arguments)}var ov=(e,t,r,n,i)=>{var a=r-n,o;return o="M ".concat(e,",").concat(t),o+="L ".concat(e+r,",").concat(t),o+="L ".concat(e+r-a/2,",").concat(t+i),o+="L ".concat(e+r-a/2-n,",").concat(t+i),o+="L ".concat(e,",").concat(t," Z"),o},OL={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},kL=e=>{var t=Nt(e,OL),{x:r,y:n,upperWidth:i,lowerWidth:a,height:o,className:s}=t,{animationEasing:l,animationDuration:u,animationBegin:c,isUpdateAnimationActive:d}=t,f=y.useRef(),[h,m]=y.useState(-1),g=y.useRef(i),v=y.useRef(a),b=y.useRef(o),x=y.useRef(r),w=y.useRef(n),_=Id(e,"trapezoid-");if(y.useEffect(()=>{if(f.current&&f.current.getTotalLength)try{var T=f.current.getTotalLength();T&&m(T)}catch{}},[]),r!==+r||n!==+n||i!==+i||a!==+a||o!==+o||i===0&&a===0||o===0)return null;var S=ge("recharts-trapezoid",s);if(!d)return y.createElement("g",null,y.createElement("path",Go({},ze(t,!0),{className:S,d:ov(r,n,i,a,o)})));var E=g.current,j=v.current,k=b.current,A=x.current,I=w.current,C="0px ".concat(h===-1?1:h,"px"),$="".concat(h,"px 0px"),U=nb(["strokeDasharray"],u,l);return y.createElement(Rd,{animationId:_,key:_,canBegin:h>0,duration:u,easing:l,isActive:d,begin:c},T=>{var L=Ze(E,i,T),M=Ze(j,a,T),W=Ze(k,o,T),J=Ze(A,r,T),X=Ze(I,n,T);f.current&&(g.current=L,v.current=M,b.current=W,x.current=J,w.current=X);var pe=T>0?{transition:U,strokeDasharray:$}:{strokeDasharray:C};return y.createElement("path",Go({},ze(t,!0),{className:S,d:ov(J,X,L,M,W),ref:f,style:av(av({},pe),t.style)}))})},AL=["option","shapeType","propTransformer","activeClassName","isActive"];function CL(e,t){if(e==null)return{};var r,n,i=TL(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function TL(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function sv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Yo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sv(Object(r),!0).forEach(function(n){RL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RL(e,t,r){return(t=IL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IL(e){var t=$L(e,"string");return typeof t=="symbol"?t:t+""}function $L(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function DL(e,t){return Yo(Yo({},t),e)}function ML(e,t){return e==="symbols"}function lv(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return y.createElement(sb,r);case"trapezoid":return y.createElement(kL,r);case"sector":return y.createElement(ub,r);case"symbols":if(ML(t))return y.createElement(u0,r);break;default:return null}}function NL(e){return y.isValidElement(e)?e.props:e}function LL(e){var{option:t,shapeType:r,propTransformer:n=DL,activeClassName:i="recharts-active-shape",isActive:a}=e,o=CL(e,AL),s;if(y.isValidElement(t))s=y.cloneElement(t,Yo(Yo({},o),NL(t)));else if(typeof t=="function")s=t(o);else if(SL(t)&&typeof t!="boolean"){var l=n(t,o);s=y.createElement(lv,{shapeType:r,elementProps:l})}else{var u=o;s=y.createElement(lv,{shapeType:r,elementProps:u})}return a?y.createElement(Nr,{className:i},s):s}var Lx=(e,t)=>{var r=$e();return(n,i)=>a=>{e==null||e(n,i,a),r(nx({activeIndex:String(i),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}},Bx=e=>{var t=$e();return(r,n)=>i=>{e==null||e(r,n,i),t(AD())}},Ux=(e,t)=>{var r=$e();return(n,i)=>a=>{e==null||e(n,i,a),r(CD({activeIndex:String(i),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}};function BL(e){var{fn:t,args:r}=e,n=$e(),i=Mt();return y.useEffect(()=>{if(!i){var a=t(r);return n(PD(a)),()=>{n(OD(a))}}},[t,r,n,i]),null}var UL=()=>{};function FL(e){var{legendPayload:t}=e,r=$e(),n=Mt();return y.useEffect(()=>n?UL:(r(bT(t)),()=>{r(wT(t))}),[r,n,t]),null}var Tc,zL=()=>{var[e]=y.useState(()=>Hi("uid-"));return e},qL=(Tc=X1.useId)!==null&&Tc!==void 0?Tc:zL;function WL(e,t){var r=qL();return t||(e?"".concat(e,"-").concat(r):r)}var HL=y.createContext(void 0),KL=e=>{var{id:t,type:r,children:n}=e,i=WL("recharts-".concat(r),t);return y.createElement(HL.Provider,{value:i},n(i))},VL={cartesianItems:[],polarItems:[]},Fx=Et({name:"graphicalItems",initialState:VL,reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:r,next:n}=t.payload,i=pr(e).cartesianItems.indexOf(r);i>-1&&(e.cartesianItems[i]=n)},removeCartesianGraphicalItem(e,t){var r=pr(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var r=pr(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)}}}),{addCartesianGraphicalItem:GL,replaceCartesianGraphicalItem:YL,removeCartesianGraphicalItem:JL,addPolarGraphicalItem:Nz,removePolarGraphicalItem:Lz}=Fx.actions,XL=Fx.reducer;function ZL(e){var t=$e(),r=y.useRef(null);return y.useEffect(()=>{r.current===null?t(GL(e)):r.current!==e&&t(YL({prev:r.current,next:e})),r.current=e},[t,e]),y.useEffect(()=>()=>{r.current&&(t(JL(r.current)),r.current=null)},[t]),null}function cv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function uv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cv(Object(r),!0).forEach(function(n){QL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QL(e,t,r){return(t=eB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eB(e){var t=tB(e,"string");return typeof t=="symbol"?t:t+""}function tB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rB={xAxis:{},yAxis:{},zAxis:{}},zx=Et({name:"cartesianAxis",initialState:rB,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload;e.yAxis[r]&&(e.yAxis[r]=uv(uv({},e.yAxis[r]),{},{width:n}))}}}),{addXAxis:nB,removeXAxis:iB,addYAxis:aB,removeYAxis:oB,addZAxis:Bz,removeZAxis:Uz,updateYAxisWidth:sB}=zx.actions,lB=zx.reducer,cB=O([De],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),uB=O([cB,xr,_r],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),qx=()=>q(uB),dB="Invariant failed";function fB(e,t){throw new Error(dB)}var hB=["x","y"];function Lu(){return Lu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lu.apply(null,arguments)}function dv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ji(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dv(Object(r),!0).forEach(function(n){pB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pB(e,t,r){return(t=mB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mB(e){var t=gB(e,"string");return typeof t=="symbol"?t:t+""}function gB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vB(e,t){if(e==null)return{};var r,n,i=yB(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function yB(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function bB(e,t){var{x:r,y:n}=e,i=vB(e,hB),a="".concat(r),o=parseInt(a,10),s="".concat(n),l=parseInt(s,10),u="".concat(t.height||i.height),c=parseInt(u,10),d="".concat(t.width||i.width),f=parseInt(d,10);return ji(ji(ji(ji(ji({},t),i),o?{x:o}:{}),l?{y:l}:{}),{},{height:c,width:f,name:t.name,radius:t.radius})}function $f(e){return y.createElement(LL,Lu({shapeType:"rectangle",propTransformer:bB,activeClassName:"recharts-active-bar"},e))}var wB=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,i)=>{if(z(t))return t;var a=z(n)||Ie(n);return a?t(n,i):(a||fB(),r)}},xB={},Wx=Et({name:"errorBars",initialState:xB,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:i}=t.payload;e[r]&&(e[r]=e[r].map(a=>a.dataKey===n.dataKey&&a.direction===n.direction?i:a))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(i=>i.dataKey!==n.dataKey||i.direction!==n.direction))}}}),{addErrorBar:Fz,replaceErrorBar:zz,removeErrorBar:qz}=Wx.actions,_B=Wx.reducer,SB=["children"];function EB(e,t){if(e==null)return{};var r,n,i=jB(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function jB(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var PB={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},OB=y.createContext(PB);function kB(e){var{children:t}=e,r=EB(e,SB);return y.createElement(OB.Provider,{value:r},t)}function Hx(e,t){var r,n,i=q(u=>Er(u,e)),a=q(u=>jr(u,t)),o=(r=i==null?void 0:i.allowDataOverflow)!==null&&r!==void 0?r:mt.allowDataOverflow,s=(n=a==null?void 0:a.allowDataOverflow)!==null&&n!==void 0?n:gt.allowDataOverflow,l=o||s;return{needClip:l,needClipX:o,needClipY:s}}function AB(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,i=qx(),{needClipX:a,needClipY:o,needClip:s}=Hx(t,r);if(!s)return null;var{x:l,y:u,width:c,height:d}=i;return y.createElement("clipPath",{id:"clipPath-".concat(n)},y.createElement("rect",{x:a?l:l-c/2,y:o?u:u-d/2,width:a?c:c*2,height:o?d:d*2}))}var CB=["onMouseEnter","onMouseLeave","onClick"],TB=["value","background","tooltipPosition"],RB=["id"],IB=["onMouseEnter","onClick","onMouseLeave"];function Lr(){return Lr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lr.apply(null,arguments)}function fv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Qe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fv(Object(r),!0).forEach(function(n){$B(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $B(e,t,r){return(t=DB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DB(e){var t=MB(e,"string");return typeof t=="symbol"?t:t+""}function MB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jo(e,t){if(e==null)return{};var r,n,i=NB(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function NB(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var LB=e=>{var{dataKey:t,name:r,fill:n,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:n,value:J0(r,t),payload:e}]};function BB(e){var{dataKey:t,stroke:r,strokeWidth:n,fill:i,name:a,hide:o,unit:s}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:i,dataKey:t,nameKey:void 0,name:J0(a,t),hide:o,type:e.tooltipType,color:e.fill,unit:s}}}function UB(e){var t=q(Yn),{data:r,dataKey:n,background:i,allOtherBarProps:a}=e,{onMouseEnter:o,onMouseLeave:s,onClick:l}=a,u=Jo(a,CB),c=Lx(o,n),d=Bx(s),f=Ux(l,n);if(!i||r==null)return null;var h=ze(i,!1);return y.createElement(y.Fragment,null,r.map((m,g)=>{var{value:v,background:b,tooltipPosition:x}=m,w=Jo(m,TB);if(!b)return null;var _=c(m,g),S=d(m,g),E=f(m,g),j=Qe(Qe(Qe(Qe(Qe({option:i,isActive:String(g)===t},w),{},{fill:"#eee"},b),h),gd(u,m,g)),{},{onMouseEnter:_,onMouseLeave:S,onClick:E,dataKey:n,index:g,className:"recharts-bar-background-rectangle"});return y.createElement($f,Lr({key:"background-bar-".concat(j.index)},j))}))}function FB(e){var{showLabels:t,children:r,rects:n}=e,i=n==null?void 0:n.map(a=>{var o={x:a.x,y:a.y,width:a.width,height:a.height};return Qe(Qe({},o),{},{value:a.value,payload:a.payload,parentViewBox:a.parentViewBox,viewBox:o,fill:a.fill})});return y.createElement(pL,{value:t?i:void 0},r)}function zB(e){var{shape:t,activeBar:r,baseProps:n,entry:i,index:a,dataKey:o}=e,s=q(Yn),l=q(gx),u=r&&String(a)===s&&(l==null||o===l),c=u?r:t;return y.createElement($f,Lr({},n,i,{isActive:u,option:c,index:a,dataKey:o}))}function qB(e){var{shape:t,baseProps:r,entry:n,index:i,dataKey:a}=e;return y.createElement($f,Lr({},r,n,{isActive:!1,option:t,index:i,dataKey:a}))}function WB(e){var{data:t,props:r}=e,n=ri(r),{id:i}=n,a=Jo(n,RB),{shape:o,dataKey:s,activeBar:l}=r,{onMouseEnter:u,onClick:c,onMouseLeave:d}=r,f=Jo(r,IB),h=Lx(u,s),m=Bx(d),g=Ux(c,s);return t?y.createElement(y.Fragment,null,t.map((v,b)=>y.createElement(Nr,Lr({className:"recharts-bar-rectangle"},gd(f,v,b),{onMouseEnter:h(v,b),onMouseLeave:m(v,b),onClick:g(v,b),key:"rectangle-".concat(v==null?void 0:v.x,"-").concat(v==null?void 0:v.y,"-").concat(v==null?void 0:v.value,"-").concat(b)}),l?y.createElement(zB,{shape:o,activeBar:l,baseProps:a,entry:v,index:b,dataKey:s}):y.createElement(qB,{shape:o,baseProps:a,entry:v,index:b,dataKey:s})))):null}function HB(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:i,isAnimationActive:a,animationBegin:o,animationDuration:s,animationEasing:l,onAnimationEnd:u,onAnimationStart:c}=t,d=r.current,f=Id(t,"recharts-bar-"),[h,m]=y.useState(!1),g=!h,v=y.useCallback(()=>{typeof u=="function"&&u(),m(!1)},[u]),b=y.useCallback(()=>{typeof c=="function"&&c(),m(!0)},[c]);return y.createElement(FB,{showLabels:g,rects:n},y.createElement(Rd,{animationId:f,begin:o,duration:s,isActive:a,easing:l,onAnimationEnd:v,onAnimationStart:b,key:f},x=>{var w=x===1?n:n==null?void 0:n.map((_,S)=>{var E=d&&d[S];if(E)return Qe(Qe({},_),{},{x:Ze(E.x,_.x,x),y:Ze(E.y,_.y,x),width:Ze(E.width,_.width,x),height:Ze(E.height,_.height,x)});if(i==="horizontal"){var j=Ze(0,_.height,x);return Qe(Qe({},_),{},{y:_.y+_.height-j,height:j})}var k=Ze(0,_.width,x);return Qe(Qe({},_),{},{width:k})});return x>0&&(r.current=w??null),w==null?null:y.createElement(Nr,null,y.createElement(WB,{props:t,data:w}))}),y.createElement(vL,{label:t.label}),t.children)}function KB(e){var t=y.useRef(null);return y.createElement(HB,{previousRectanglesRef:t,props:e})}var Kx=0,VB=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:tt(e,t)}};class GB extends y.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:i,xAxisId:a,yAxisId:o,needClip:s,background:l,id:u}=this.props;if(t||r==null)return null;var c=ge("recharts-bar",i),d=u;return y.createElement(Nr,{className:c,id:u},s&&y.createElement("defs",null,y.createElement(AB,{clipPathId:d,xAxisId:a,yAxisId:o})),y.createElement(Nr,{className:"recharts-bar-rectangles",clipPath:s?"url(#clipPath-".concat(d,")"):void 0},y.createElement(UB,{data:r,dataKey:n,background:l,allOtherBarProps:this.props}),y.createElement(KB,this.props)))}}var YB={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!ni.isSsr,legendType:"rect",minPointSize:Kx,xAxisId:0,yAxisId:0};function JB(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:a,activeBar:o,animationBegin:s,animationDuration:l,animationEasing:u,isAnimationActive:c}=e,{needClip:d}=Hx(t,r),f=Td(),h=Mt(),m=UO(e.children,Px),g=q(x=>E4(x,t,r,h,e.id,m));if(f!=="vertical"&&f!=="horizontal")return null;var v,b=g==null?void 0:g[0];return b==null||b.height==null||b.width==null?v=0:v=f==="vertical"?b.height/2:b.width/2,y.createElement(kB,{xAxisId:t,yAxisId:r,data:g,dataPointFormatter:VB,errorBarOffset:v},y.createElement(GB,Lr({},e,{layout:f,needClip:d,data:g,xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:a,activeBar:o,animationBegin:s,animationDuration:l,animationEasing:u,isAnimationActive:c})))}function XB(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:i,bandSize:a,xAxis:o,yAxis:s,xAxisTicks:l,yAxisTicks:u,stackedData:c,displayedData:d,offset:f,cells:h,parentViewBox:m}=e,g=t==="horizontal"?s:o,v=c?g.scale.domain():null,b=XC({numericAxis:g});return d.map((x,w)=>{var _,S,E,j,k,A;c?_=HC(c[w],v):(_=tt(x,r),Array.isArray(_)||(_=[b,_]));var I=wB(n,Kx)(_[1],w);if(t==="horizontal"){var C,[$,U]=[s.scale(_[0]),s.scale(_[1])];S=am({axis:o,ticks:l,bandSize:a,offset:i.offset,entry:x,index:w}),E=(C=U??$)!==null&&C!==void 0?C:void 0,j=i.size;var T=$-U;if(k=wt(T)?0:T,A={x:S,y:f.top,width:j,height:f.height},Math.abs(I)>0&&Math.abs(k)<Math.abs(I)){var L=st(k||I)*(Math.abs(I)-Math.abs(k));E-=L,k+=L}}else{var[M,W]=[o.scale(_[0]),o.scale(_[1])];if(S=M,E=am({axis:s,ticks:u,bandSize:a,offset:i.offset,entry:x,index:w}),j=W-M,k=i.size,A={x:f.left,y:E,width:f.width,height:k},Math.abs(I)>0&&Math.abs(j)<Math.abs(I)){var J=st(j||I)*(Math.abs(I)-Math.abs(j));j+=J}}if(S==null||E==null||j==null||k==null)return null;var X=Qe(Qe({},x),{},{x:S,y:E,width:j,height:k,value:c?_:_[1],payload:x,background:A,tooltipPosition:{x:S+j/2,y:E+k/2},parentViewBox:m},h&&h[w]&&h[w].props);return X}).filter(Boolean)}function ZB(e){var t=Nt(e,YB),r=Mt();return y.createElement(KL,{id:t.id,type:"bar"},n=>y.createElement(y.Fragment,null,y.createElement(FL,{legendPayload:LB(t)}),y.createElement(BL,{fn:BB,args:t}),y.createElement(ZL,{type:"bar",id:n,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:JC(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),y.createElement(JB,Lr({},t,{id:n}))))}var Bu=y.memo(ZB);Bu.displayName="Bar";function hv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ja(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hv(Object(r),!0).forEach(function(n){QB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QB(e,t,r){return(t=e4(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function e4(e){var t=t4(e,"string");return typeof t=="symbol"?t:t+""}function t4(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var r4=(e,t)=>t,n4=(e,t,r)=>r,i4=(e,t,r,n)=>n,a4=(e,t,r,n,i)=>i,ba=O([mf,a4],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),o4=O([ba],e=>e==null?void 0:e.maxBarSize),s4=(e,t,r,n,i,a)=>a,pv=(e,t,r)=>{var n=r??e;if(!Ie(n))return Wt(n,t,0)},l4=O([le,mf,r4,n4,i4],(e,t,r,n,i)=>t.filter(a=>e==="horizontal"?a.xAxisId===r:a.yAxisId===n).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),c4=(e,t,r,n)=>{var i=le(e);return i==="horizontal"?Ru(e,"yAxis",r,n):Ru(e,"xAxis",t,n)},u4=(e,t,r)=>{var n=le(e);return n==="horizontal"?wg(e,"xAxis",t):wg(e,"yAxis",r)},d4=(e,t,r)=>{var n={},i=e.filter(Ts),a=e.filter(u=>u.stackId==null),o=i.reduce((u,c)=>(u[c.stackId]||(u[c.stackId]=[]),u[c.stackId].push(c),u),n),s=Object.entries(o).map(u=>{var[c,d]=u,f=d.map(m=>m.dataKey),h=pv(t,r,d[0].barSize);return{stackId:c,dataKeys:f,barSize:h}}),l=a.map(u=>{var c=[u.dataKey].filter(f=>f!=null),d=pv(t,r,u.barSize);return{stackId:void 0,dataKeys:c,barSize:d}});return[...s,...l]},f4=O([l4,E$,u4],d4),h4=(e,t,r,n,i)=>{var a,o,s=ba(e,t,r,n,i);if(s!=null){var l=le(e),u=ow(e),{maxBarSize:c}=s,d=Ie(c)?u:c,f,h;return l==="horizontal"?(f=Gn(e,"xAxis",t,n),h=Vn(e,"xAxis",t,n)):(f=Gn(e,"yAxis",r,n),h=Vn(e,"yAxis",r,n)),(a=(o=kd(f,h,!0))!==null&&o!==void 0?o:d)!==null&&a!==void 0?a:0}},Vx=(e,t,r,n)=>{var i=le(e),a,o;return i==="horizontal"?(a=Gn(e,"xAxis",t,n),o=Vn(e,"xAxis",t,n)):(a=Gn(e,"yAxis",r,n),o=Vn(e,"yAxis",r,n)),kd(a,o)};function p4(e,t,r,n,i){var a=n.length;if(!(a<1)){var o=Wt(e,r,0,!0),s,l=[];if(_t(n[0].barSize)){var u=!1,c=r/a,d=n.reduce((b,x)=>b+(x.barSize||0),0);d+=(a-1)*o,d>=r&&(d-=(a-1)*o,o=0),d>=r&&c>0&&(u=!0,c*=.9,d=a*c);var f=(r-d)/2>>0,h={offset:f-o,size:0};s=n.reduce((b,x)=>{var w,_={stackId:x.stackId,dataKeys:x.dataKeys,position:{offset:h.offset+h.size+o,size:u?c:(w=x.barSize)!==null&&w!==void 0?w:0}},S=[...b,_];return h=S[S.length-1].position,S},l)}else{var m=Wt(t,r,0,!0);r-2*m-(a-1)*o<=0&&(o=0);var g=(r-2*m-(a-1)*o)/a;g>1&&(g>>=0);var v=_t(i)?Math.min(g,i):g;s=n.reduce((b,x,w)=>[...b,{stackId:x.stackId,dataKeys:x.dataKeys,position:{offset:m+(g+o)*w+(g-v)/2,size:v}}],l)}return s}}var m4=(e,t,r,n,i,a,o)=>{var s=Ie(o)?t:o,l=p4(r,n,i!==a?i:a,e,s);return i!==a&&l!=null&&(l=l.map(u=>Ja(Ja({},u),{},{position:Ja(Ja({},u.position),{},{offset:u.position.offset-i/2})}))),l},g4=O([f4,ow,S$,sw,h4,Vx,o4],m4),v4=(e,t,r,n)=>Gn(e,"xAxis",t,n),y4=(e,t,r,n)=>Gn(e,"yAxis",r,n),b4=(e,t,r,n)=>Vn(e,"xAxis",t,n),w4=(e,t,r,n)=>Vn(e,"yAxis",r,n),x4=O([g4,ba],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),_4=(e,t)=>{var r=hf(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var i=e[n];if(i){var{stackedData:a}=i;if(a)return a.find(o=>o.key===r)}}}},S4=O([c4,ba],_4),E4=O([De,Ad,v4,y4,b4,w4,x4,le,nf,Vx,S4,ba,s4],(e,t,r,n,i,a,o,s,l,u,c,d,f)=>{var{chartData:h,dataStartIndex:m,dataEndIndex:g}=l;if(!(d==null||o==null||t==null||s!=="horizontal"&&s!=="vertical"||r==null||n==null||i==null||a==null||u==null)){var{data:v}=d,b;if(v!=null&&v.length>0?b=v:b=h==null?void 0:h.slice(m,g+1),b!=null)return XB({layout:s,barSettings:d,pos:o,parentViewBox:t,bandSize:u,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:a,stackedData:c,displayedData:b,offset:e,cells:f})}}),j4=e=>{var{chartData:t}=e,r=$e(),n=Mt();return y.useEffect(()=>n?()=>{}:(r(Cg(t)),()=>{r(Cg(void 0))}),[t,r,n]),null},mv={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},Gx=Et({name:"brush",initialState:mv,reducers:{setBrushSettings(e,t){return t.payload==null?mv:t.payload}}}),{setBrushSettings:Wz}=Gx.actions,P4=Gx.reducer;function O4(e,t,r){return(t=k4(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function k4(e){var t=A4(e,"string");return typeof t=="symbol"?t:t+""}function A4(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Df{static create(t){return new Df(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(t)+a}default:return this.scale(t)}if(r){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],i=r[r.length-1];return n<=i?t>=n&&t<=i:t>=i&&t<=n}}O4(Df,"EPS",1e-4);function C4(e){return(e%180+180)%180}var T4=function(t){var{width:r,height:n}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=C4(i),o=a*Math.PI/180,s=Math.atan(n/r),l=o>s&&o<Math.PI-s?n/Math.sin(o):r/Math.cos(o);return Math.abs(l)},R4={dots:[],areas:[],lines:[]},Yx=Et({name:"referenceElements",initialState:R4,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=pr(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=pr(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=pr(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:Hz,removeDot:Kz,addArea:Vz,removeArea:Gz,addLine:Yz,removeLine:Jz}=Yx.actions,I4=Yx.reducer,$4=y.createContext(void 0),D4=e=>{var{children:t}=e,[r]=y.useState("".concat(Hi("recharts"),"-clip")),n=qx();if(n==null)return null;var{x:i,y:a,width:o,height:s}=n;return y.createElement($4.Provider,{value:r},y.createElement("defs",null,y.createElement("clipPath",{id:r},y.createElement("rect",{x:i,y:a,height:s,width:o}))),t)};function Jn(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function Jx(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],i=0;i<e.length;i+=t)n.push(e[i]);return n}function M4(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return T4(n,r)}function N4(e,t,r){var n=r==="width",{x:i,y:a,width:o,height:s}=e;return t===1?{start:n?i:a,end:n?i+o:a+s}:{start:n?i+o:a+s,end:n?i:a}}function Xo(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var a=r();return e*(t-e*a/2-n)>=0&&e*(t+e*a/2-i)<=0}function L4(e,t){return Jx(e,t+1)}function B4(e,t,r,n,i){for(var a=(n||[]).slice(),{start:o,end:s}=t,l=0,u=1,c=o,d=function(){var m=n==null?void 0:n[l];if(m===void 0)return{v:Jx(n,u)};var g=l,v,b=()=>(v===void 0&&(v=r(m,g)),v),x=m.coordinate,w=l===0||Xo(e,x,b,c,s);w||(l=0,c=o,u+=1),w&&(c=x+e*(b()/2+i),l+=u)},f;u<=a.length;)if(f=d(),f)return f.v;return[]}function gv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ke(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gv(Object(r),!0).forEach(function(n){U4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function U4(e,t,r){return(t=F4(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F4(e){var t=z4(e,"string");return typeof t=="symbol"?t:t+""}function z4(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function q4(e,t,r,n,i){for(var a=(n||[]).slice(),o=a.length,{start:s}=t,{end:l}=t,u=function(f){var h=a[f],m,g=()=>(m===void 0&&(m=r(h,f)),m);if(f===o-1){var v=e*(h.coordinate+e*g()/2-l);a[f]=h=Ke(Ke({},h),{},{tickCoord:v>0?h.coordinate-v*e:h.coordinate})}else a[f]=h=Ke(Ke({},h),{},{tickCoord:h.coordinate});var b=Xo(e,h.tickCoord,g,s,l);b&&(l=h.tickCoord-e*(g()/2+i),a[f]=Ke(Ke({},h),{},{isShow:!0}))},c=o-1;c>=0;c--)u(c);return a}function W4(e,t,r,n,i,a){var o=(n||[]).slice(),s=o.length,{start:l,end:u}=t;if(a){var c=n[s-1],d=r(c,s-1),f=e*(c.coordinate+e*d/2-u);o[s-1]=c=Ke(Ke({},c),{},{tickCoord:f>0?c.coordinate-f*e:c.coordinate});var h=Xo(e,c.tickCoord,()=>d,l,u);h&&(u=c.tickCoord-e*(d/2+i),o[s-1]=Ke(Ke({},c),{},{isShow:!0}))}for(var m=a?s-1:s,g=function(x){var w=o[x],_,S=()=>(_===void 0&&(_=r(w,x)),_);if(x===0){var E=e*(w.coordinate-e*S()/2-l);o[x]=w=Ke(Ke({},w),{},{tickCoord:E<0?w.coordinate-E*e:w.coordinate})}else o[x]=w=Ke(Ke({},w),{},{tickCoord:w.coordinate});var j=Xo(e,w.tickCoord,S,l,u);j&&(l=w.tickCoord+e*(S()/2+i),o[x]=Ke(Ke({},w),{},{isShow:!0}))},v=0;v<m;v++)g(v);return o}function Mf(e,t,r){var{tick:n,ticks:i,viewBox:a,minTickGap:o,orientation:s,interval:l,tickFormatter:u,unit:c,angle:d}=e;if(!i||!i.length||!n)return[];if(z(l)||ni.isSsr){var f;return(f=L4(i,z(l)?l:0))!==null&&f!==void 0?f:[]}var h=[],m=s==="top"||s==="bottom"?"width":"height",g=c&&m==="width"?zi(c,{fontSize:t,letterSpacing:r}):{width:0,height:0},v=(w,_)=>{var S=typeof u=="function"?u(w.value,_):w.value;return m==="width"?M4(zi(S,{fontSize:t,letterSpacing:r}),g,d):zi(S,{fontSize:t,letterSpacing:r})[m]},b=i.length>=2?st(i[1].coordinate-i[0].coordinate):1,x=N4(a,b,m);return l==="equidistantPreserveStart"?B4(b,x,v,i,o):(l==="preserveStart"||l==="preserveStartEnd"?h=W4(b,x,v,i,o,l==="preserveStartEnd"):h=q4(b,x,v,i,o),h.filter(w=>w.isShow))}var H4=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:a=0}=e,o=0;if(t){t.forEach(c=>{if(c){var d=c.getBoundingClientRect();d.width>o&&(o=d.width)}});var s=r?r.getBoundingClientRect().width:0,l=i+a,u=o+l+s+(r?n:0);return Math.round(u)}return 0},K4=["axisLine","width","height","className","hide","ticks"],V4=["viewBox"],G4=["viewBox"];function Uu(e,t){if(e==null)return{};var r,n,i=Y4(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Y4(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function fn(){return fn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fn.apply(null,arguments)}function vv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Oe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vv(Object(r),!0).forEach(function(n){J4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function J4(e,t,r){return(t=X4(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function X4(e){var t=Z4(e,"string");return typeof t=="symbol"?t:t+""}function Z4(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Nf={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function Q4(e){var{x:t,y:r,width:n,height:i,orientation:a,mirror:o,axisLine:s,otherSvgProps:l}=e;if(!s)return null;var u=Oe(Oe(Oe({},l),ze(s,!1)),{},{fill:"none"});if(a==="top"||a==="bottom"){var c=+(a==="top"&&!o||a==="bottom"&&o);u=Oe(Oe({},u),{},{x1:t,y1:r+c*i,x2:t+n,y2:r+c*i})}else{var d=+(a==="left"&&!o||a==="right"&&o);u=Oe(Oe({},u),{},{x1:t+d*n,y1:r,x2:t+d*n,y2:r+i})}return y.createElement("line",fn({},u,{className:ge("recharts-cartesian-axis-line",Un(s,"className"))}))}function e5(e,t,r,n,i,a,o,s,l){var u,c,d,f,h,m,g=s?-1:1,v=e.tickSize||o,b=z(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":u=c=e.coordinate,f=r+ +!s*i,d=f-g*v,m=d-g*l,h=b;break;case"left":d=f=e.coordinate,c=t+ +!s*n,u=c-g*v,h=u-g*l,m=b;break;case"right":d=f=e.coordinate,c=t+ +s*n,u=c+g*v,h=u+g*l,m=b;break;default:u=c=e.coordinate,f=r+ +s*i,d=f+g*v,m=d+g*l,h=b;break}return{line:{x1:u,y1:d,x2:c,y2:f},tick:{x:h,y:m}}}function t5(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function r5(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function n5(e){var{option:t,tickProps:r,value:n}=e,i,a=ge(r.className,"recharts-cartesian-axis-tick-value");if(y.isValidElement(t))i=y.cloneElement(t,Oe(Oe({},r),{},{className:a}));else if(typeof t=="function")i=t(Oe(Oe({},r),{},{className:a}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=ge(o,t==null?void 0:t.className)),i=y.createElement(Rf,fn({},r,{className:o}),n)}return i}function i5(e){var{ticks:t=[],tick:r,tickLine:n,stroke:i,tickFormatter:a,unit:o,padding:s,tickTextProps:l,orientation:u,mirror:c,x:d,y:f,width:h,height:m,tickSize:g,tickMargin:v,fontSize:b,letterSpacing:x,getTicksConfig:w,events:_}=e,S=Mf(Oe(Oe({},w),{},{ticks:t}),b,x),E=t5(u,c),j=r5(u,c),k=ri(w),A=ze(r,!1),I=Oe(Oe({},k),{},{fill:"none"},ze(n,!1)),C=S.map(($,U)=>{var{line:T,tick:L}=e5($,d,f,h,m,u,g,c,v),M=Oe(Oe(Oe(Oe({textAnchor:E,verticalAnchor:j},k),{},{stroke:"none",fill:i},A),L),{},{index:U,payload:$,visibleTicksCount:S.length,tickFormatter:a,padding:s},l);return y.createElement(Nr,fn({className:"recharts-cartesian-axis-tick",key:"tick-".concat($.value,"-").concat($.coordinate,"-").concat($.tickCoord)},gd(_,$,U)),n&&y.createElement("line",fn({},I,T,{className:ge("recharts-cartesian-axis-tick-line",Un(n,"className"))})),r&&y.createElement(n5,{option:r,tickProps:M,value:"".concat(typeof a=="function"?a($.value,U):$.value).concat(o||"")}))});return C.length>0?y.createElement("g",{className:"recharts-cartesian-axis-ticks"},C):null}var a5=y.forwardRef((e,t)=>{var{axisLine:r,width:n,height:i,className:a,hide:o,ticks:s}=e,l=Uu(e,K4),[u,c]=y.useState(""),[d,f]=y.useState(""),h=y.useRef([]);y.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var g;return H4({ticks:h.current,label:(g=e.labelRef)===null||g===void 0?void 0:g.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var m=y.useCallback(g=>{if(g){var v=g.getElementsByClassName("recharts-cartesian-axis-tick-value");h.current=Array.from(v);var b=v[0];if(b){var x=window.getComputedStyle(b),w=x.fontSize,_=x.letterSpacing;(w!==u||_!==d)&&(c(w),f(_))}}},[u,d]);return o||n!=null&&n<=0||i!=null&&i<=0?null:y.createElement(Nr,{className:ge("recharts-cartesian-axis",a),ref:m},y.createElement(Q4,{x:e.x,y:e.y,width:n,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:ri(e)}),y.createElement(i5,{ticks:s,tick:e.tick,tickLine:e.tickLine,stroke:e.stroke,tickFormatter:e.tickFormatter,unit:e.unit,padding:e.padding,tickTextProps:e.tickTextProps,orientation:e.orientation,mirror:e.mirror,x:e.x,y:e.y,width:e.width,height:e.height,tickSize:e.tickSize,tickMargin:e.tickMargin,fontSize:u,letterSpacing:d,getTicksConfig:e,events:l}),y.createElement(VN,{x:e.x,y:e.y,width:e.width,height:e.height},y.createElement(nL,{label:e.label}),e.children))}),o5=y.memo(a5,(e,t)=>{var{viewBox:r}=e,n=Uu(e,V4),{viewBox:i}=t,a=Uu(t,G4);return Jn(r,i)&&Jn(n,a)}),Lf=y.forwardRef((e,t)=>{var r=Nt(e,Nf);return y.createElement(o5,fn({},r,{ref:t}))});Lf.displayName="CartesianAxis";var s5=["x1","y1","x2","y2","key"],l5=["offset"],c5=["xAxisId","yAxisId"],u5=["xAxisId","yAxisId"];function yv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ge(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yv(Object(r),!0).forEach(function(n){d5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function d5(e,t,r){return(t=f5(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f5(e){var t=h5(e,"string");return typeof t=="symbol"?t:t+""}function h5(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tn(){return tn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tn.apply(null,arguments)}function Zo(e,t){if(e==null)return{};var r,n,i=p5(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function p5(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var m5=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:i,width:a,height:o,ry:s}=e;return y.createElement("rect",{x:n,y:i,ry:s,width:a,height:o,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function Xx(e,t){var r;if(y.isValidElement(e))r=y.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var{x1:n,y1:i,x2:a,y2:o,key:s}=t,l=Zo(t,s5),u=ri(l),{offset:c}=u,d=Zo(u,l5);r=y.createElement("line",tn({},d,{x1:n,y1:i,x2:a,y2:o,fill:"none",key:s}))}return r}function g5(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=e,s=Zo(e,c5),l=i.map((u,c)=>{var d=Ge(Ge({},s),{},{x1:t,y1:u,x2:t+r,y2:u,key:"line-".concat(c),index:c});return Xx(n,d)});return y.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function v5(e){var{y:t,height:r,vertical:n=!0,verticalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=e,s=Zo(e,u5),l=i.map((u,c)=>{var d=Ge(Ge({},s),{},{x1:u,y1:t,x2:u,y2:t+r,key:"line-".concat(c),index:c});return Xx(n,d)});return y.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function y5(e){var{horizontalFill:t,fillOpacity:r,x:n,y:i,width:a,height:o,horizontalPoints:s,horizontal:l=!0}=e;if(!l||!t||!t.length)return null;var u=s.map(d=>Math.round(d+i-i)).sort((d,f)=>d-f);i!==u[0]&&u.unshift(0);var c=u.map((d,f)=>{var h=!u[f+1],m=h?i+o-d:u[f+1]-d;if(m<=0)return null;var g=f%t.length;return y.createElement("rect",{key:"react-".concat(f),y:d,x:n,height:m,width:a,stroke:"none",fill:t[g],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return y.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},c)}function b5(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:i,y:a,width:o,height:s,verticalPoints:l}=e;if(!t||!r||!r.length)return null;var u=l.map(d=>Math.round(d+i-i)).sort((d,f)=>d-f);i!==u[0]&&u.unshift(0);var c=u.map((d,f)=>{var h=!u[f+1],m=h?i+o-d:u[f+1]-d;if(m<=0)return null;var g=f%r.length;return y.createElement("rect",{key:"react-".concat(f),x:d,y:a,width:m,height:s,stroke:"none",fill:r[g],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return y.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},c)}var w5=(e,t)=>{var{xAxis:r,width:n,height:i,offset:a}=e;return G0(Mf(Ge(Ge(Ge({},Nf),r),{},{ticks:Y0(r),viewBox:{x:0,y:0,width:n,height:i}})),a.left,a.left+a.width,t)},x5=(e,t)=>{var{yAxis:r,width:n,height:i,offset:a}=e;return G0(Mf(Ge(Ge(Ge({},Nf),r),{},{ticks:Y0(r),viewBox:{x:0,y:0,width:n,height:i}})),a.top,a.top+a.height,t)},_5={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function Zx(e){var t=Q0(),r=eb(),n=Z0(),i=Ge(Ge({},Nt(e,_5)),{},{x:z(e.x)?e.x:n.left,y:z(e.y)?e.y:n.top,width:z(e.width)?e.width:n.width,height:z(e.height)?e.height:n.height}),{xAxisId:a,yAxisId:o,x:s,y:l,width:u,height:c,syncWithTicks:d,horizontalValues:f,verticalValues:h}=i,m=Mt(),g=q(A=>xg(A,"xAxis",a,m)),v=q(A=>xg(A,"yAxis",o,m));if(!z(u)||u<=0||!z(c)||c<=0||!z(s)||s!==+s||!z(l)||l!==+l)return null;var b=i.verticalCoordinatesGenerator||w5,x=i.horizontalCoordinatesGenerator||x5,{horizontalPoints:w,verticalPoints:_}=i;if((!w||!w.length)&&typeof x=="function"){var S=f&&f.length,E=x({yAxis:v?Ge(Ge({},v),{},{ticks:S?f:v.ticks}):void 0,width:t,height:r,offset:n},S?!0:d);Fi(Array.isArray(E),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof E,"]")),Array.isArray(E)&&(w=E)}if((!_||!_.length)&&typeof b=="function"){var j=h&&h.length,k=b({xAxis:g?Ge(Ge({},g),{},{ticks:j?h:g.ticks}):void 0,width:t,height:r,offset:n},j?!0:d);Fi(Array.isArray(k),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof k,"]")),Array.isArray(k)&&(_=k)}return y.createElement("g",{className:"recharts-cartesian-grid"},y.createElement(m5,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),y.createElement(y5,tn({},i,{horizontalPoints:w})),y.createElement(b5,tn({},i,{verticalPoints:_})),y.createElement(g5,tn({},i,{offset:n,horizontalPoints:w,xAxis:g,yAxis:v})),y.createElement(v5,tn({},i,{offset:n,verticalPoints:_,xAxis:g,yAxis:v})))}Zx.displayName="CartesianGrid";var S5=["dangerouslySetInnerHTML","ticks"],E5=["id"],j5=["domain"],P5=["domain"];function Fu(){return Fu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fu.apply(null,arguments)}function Qo(e,t){if(e==null)return{};var r,n,i=O5(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function O5(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function k5(e){var t=$e();return y.useEffect(()=>(t(nB(e)),()=>{t(iB(e))}),[e,t]),null}var A5=e=>{var{xAxisId:t,className:r}=e,n=q(Ad),i=Mt(),a="xAxis",o=q(v=>ci(v,a,t,i)),s=q(v=>Xw(v,a,t,i)),l=q(v=>Vw(v,t)),u=q(v=>gD(v,t)),c=q(v=>gw(v,t));if(l==null||u==null||c==null)return null;var{dangerouslySetInnerHTML:d,ticks:f}=e,h=Qo(e,S5),{id:m}=c,g=Qo(c,E5);return y.createElement(Lf,Fu({},h,g,{scale:o,x:u.x,y:u.y,width:l.width,height:l.height,className:ge("recharts-".concat(a," ").concat(a),r),viewBox:n,ticks:s}))},C5={allowDataOverflow:mt.allowDataOverflow,allowDecimals:mt.allowDecimals,allowDuplicatedCategory:mt.allowDuplicatedCategory,height:mt.height,hide:!1,mirror:mt.mirror,orientation:mt.orientation,padding:mt.padding,reversed:mt.reversed,scale:mt.scale,tickCount:mt.tickCount,type:mt.type,xAxisId:0},T5=e=>{var t,r,n,i,a,o=Nt(e,C5);return y.createElement(y.Fragment,null,y.createElement(k5,{interval:(t=o.interval)!==null&&t!==void 0?t:"preserveEnd",id:o.xAxisId,scale:o.scale,type:o.type,padding:o.padding,allowDataOverflow:o.allowDataOverflow,domain:o.domain,dataKey:o.dataKey,allowDuplicatedCategory:o.allowDuplicatedCategory,allowDecimals:o.allowDecimals,tickCount:o.tickCount,includeHidden:(r=o.includeHidden)!==null&&r!==void 0?r:!1,reversed:o.reversed,ticks:o.ticks,height:o.height,orientation:o.orientation,mirror:o.mirror,hide:o.hide,unit:o.unit,name:o.name,angle:(n=o.angle)!==null&&n!==void 0?n:0,minTickGap:(i=o.minTickGap)!==null&&i!==void 0?i:5,tick:(a=o.tick)!==null&&a!==void 0?a:!0,tickFormatter:o.tickFormatter}),y.createElement(A5,o))},R5=(e,t)=>{var{domain:r}=e,n=Qo(e,j5),{domain:i}=t,a=Qo(t,P5);return Jn(n,a)?Array.isArray(r)&&r.length===2&&Array.isArray(i)&&i.length===2?r[0]===i[0]&&r[1]===i[1]:Jn({domain:r},{domain:i}):!1},Qx=y.memo(T5,R5);Qx.displayName="XAxis";var I5=["dangerouslySetInnerHTML","ticks"],$5=["id"],D5=["domain"],M5=["domain"];function zu(){return zu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zu.apply(null,arguments)}function es(e,t){if(e==null)return{};var r,n,i=N5(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function N5(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function L5(e){var t=$e();return y.useEffect(()=>(t(aB(e)),()=>{t(oB(e))}),[e,t]),null}var B5=e=>{var{yAxisId:t,className:r,width:n,label:i}=e,a=y.useRef(null),o=y.useRef(null),s=q(Ad),l=Mt(),u=$e(),c="yAxis",d=q(S=>ci(S,c,t,l)),f=q(S=>Gw(S,t)),h=q(S=>yD(S,t)),m=q(S=>Xw(S,c,t,l)),g=q(S=>vw(S,t));if(y.useLayoutEffect(()=>{if(!(n!=="auto"||!f||If(i)||y.isValidElement(i)||g==null)){var S=a.current;if(S){var E=S.getCalculatedWidth();Math.round(f.width)!==Math.round(E)&&u(sB({id:t,width:E}))}}},[m,f,u,i,t,n,g]),f==null||h==null||g==null)return null;var{dangerouslySetInnerHTML:v,ticks:b}=e,x=es(e,I5),{id:w}=g,_=es(g,$5);return y.createElement(Lf,zu({},x,_,{ref:a,labelRef:o,scale:d,x:h.x,y:h.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:f.width,height:f.height,className:ge("recharts-".concat(c," ").concat(c),r),viewBox:s,ticks:m}))},U5={allowDataOverflow:gt.allowDataOverflow,allowDecimals:gt.allowDecimals,allowDuplicatedCategory:gt.allowDuplicatedCategory,hide:!1,mirror:gt.mirror,orientation:gt.orientation,padding:gt.padding,reversed:gt.reversed,scale:gt.scale,tickCount:gt.tickCount,type:gt.type,width:gt.width,yAxisId:0},F5=e=>{var t,r,n,i,a,o=Nt(e,U5);return y.createElement(y.Fragment,null,y.createElement(L5,{interval:(t=o.interval)!==null&&t!==void 0?t:"preserveEnd",id:o.yAxisId,scale:o.scale,type:o.type,domain:o.domain,allowDataOverflow:o.allowDataOverflow,dataKey:o.dataKey,allowDuplicatedCategory:o.allowDuplicatedCategory,allowDecimals:o.allowDecimals,tickCount:o.tickCount,padding:o.padding,includeHidden:(r=o.includeHidden)!==null&&r!==void 0?r:!1,reversed:o.reversed,ticks:o.ticks,width:o.width,orientation:o.orientation,mirror:o.mirror,hide:o.hide,unit:o.unit,name:o.name,angle:(n=o.angle)!==null&&n!==void 0?n:0,minTickGap:(i=o.minTickGap)!==null&&i!==void 0?i:5,tick:(a=o.tick)!==null&&a!==void 0?a:!0,tickFormatter:o.tickFormatter}),y.createElement(B5,o))},z5=(e,t)=>{var{domain:r}=e,n=es(e,D5),{domain:i}=t,a=es(t,M5);return Jn(n,a)?Array.isArray(r)&&r.length===2&&Array.isArray(i)&&i.length===2?r[0]===i[0]&&r[1]===i[1]:Jn({domain:r},{domain:i}):!1},e1=y.memo(F5,z5);e1.displayName="YAxis";var Rc={exports:{}},Ic={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bv;function q5(){if(bv)return Ic;bv=1;var e=Xu();function t(l,u){return l===u&&(l!==0||1/l===1/u)||l!==l&&u!==u}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,i=e.useRef,a=e.useEffect,o=e.useMemo,s=e.useDebugValue;return Ic.useSyncExternalStoreWithSelector=function(l,u,c,d,f){var h=i(null);if(h.current===null){var m={hasValue:!1,value:null};h.current=m}else m=h.current;h=o(function(){function v(S){if(!b){if(b=!0,x=S,S=d(S),f!==void 0&&m.hasValue){var E=m.value;if(f(E,S))return w=E}return w=S}if(E=w,r(x,S))return E;var j=d(S);return f!==void 0&&f(E,j)?(x=S,E):(x=S,w=j)}var b=!1,x,w,_=c===void 0?null:c;return[function(){return v(u())},_===null?void 0:function(){return v(_())}]},[u,c,d,f]);var g=n(l,h[0],h[1]);return a(function(){m.hasValue=!0,m.value=g},[g]),s(g),g},Ic}var wv;function W5(){return wv||(wv=1,Rc.exports=q5()),Rc.exports}W5();function H5(e){e()}function K5(){let e=null,t=null;return{clear(){e=null,t=null},notify(){H5(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=t={callback:r,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!n||e===null||(n=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var xv={notify(){},get:()=>[]};function V5(e,t){let r,n=xv,i=0,a=!1;function o(g){c();const v=n.subscribe(g);let b=!1;return()=>{b||(b=!0,v(),d())}}function s(){n.notify()}function l(){m.onStateChange&&m.onStateChange()}function u(){return a}function c(){i++,r||(r=e.subscribe(l),n=K5())}function d(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=xv)}function f(){a||(a=!0,c())}function h(){a&&(a=!1,d())}const m={addNestedSub:o,notifyNestedSubs:s,handleChangeWrapper:l,isSubscribed:u,trySubscribe:f,tryUnsubscribe:h,getListeners:()=>n};return m}var G5=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Y5=G5(),J5=()=>typeof navigator<"u"&&navigator.product==="ReactNative",X5=J5(),Z5=()=>Y5||X5?y.useLayoutEffect:y.useEffect,Q5=Z5(),$c=Symbol.for("react-redux-context"),Dc=typeof globalThis<"u"?globalThis:{};function eU(){if(!y.createContext)return{};const e=Dc[$c]??(Dc[$c]=new Map);let t=e.get(y.createContext);return t||(t=y.createContext(null),e.set(y.createContext,t)),t}var tU=eU();function rU(e){const{children:t,context:r,serverState:n,store:i}=e,a=y.useMemo(()=>{const l=V5(i);return{store:i,subscription:l,getServerState:n?()=>n:void 0}},[i,n]),o=y.useMemo(()=>i.getState(),[i]);Q5(()=>{const{subscription:l}=a;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),o!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[a,o]);const s=r||tU;return y.createElement(s.Provider,{value:a},t)}var nU=rU,iU=(e,t)=>t,Bf=O([iU,le,hw,Ae,fx,Pr,_M,De],OM),Uf=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},t1=It("mouseClick"),r1=sa();r1.startListening({actionCreator:t1,effect:(e,t)=>{var r=e.payload,n=Bf(t.getState(),Uf(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(TD({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var qu=It("mouseMove"),n1=sa();n1.startListening({actionCreator:qu,effect:(e,t)=>{var r=e.payload,n=t.getState(),i=Sf(n,n.tooltip.settings.shared),a=Bf(n,Uf(r));i==="axis"&&((a==null?void 0:a.activeIndex)!=null?t.dispatch(ax({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):t.dispatch(ix()))}});var _v={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},i1=Et({name:"rootProps",initialState:_v,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:_v.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),aU=i1.reducer,{updateOptions:oU}=i1.actions,a1=Et({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:Xz}=a1.actions,sU=a1.reducer,o1=It("keyDown"),s1=It("focus"),Ff=sa();Ff.startListening({actionCreator:o1,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var o=Number(Ef(i,di(r))),s=Pr(r);if(a==="Enter"){var l=Ko(r,"axis","hover",String(i.index));t.dispatch($u({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:l}));return}var u=_D(r),c=u==="left-to-right"?1:-1,d=a==="ArrowRight"?1:-1,f=o+d*c;if(!(s==null||f>=s.length||f<0)){var h=Ko(r,"axis","hover",String(f));t.dispatch($u({active:!0,activeIndex:f.toString(),activeDataKey:void 0,activeCoordinate:h}))}}}}});Ff.startListening({actionCreator:s1,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var a="0",o=Ko(r,"axis","hover",String(a));t.dispatch($u({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:o}))}}}});var At=It("externalEvent"),l1=sa();l1.startListening({actionCreator:At,effect:(e,t)=>{if(e.payload.handler!=null){var r=t.getState(),n={activeCoordinate:hM(r),activeDataKey:gx(r),activeIndex:Yn(r),activeLabel:mx(r),activeTooltipIndex:Yn(r),isTooltipActive:pM(r)};e.payload.handler(n,e.payload.reactEvent)}}});var lU=O([ui],e=>e.tooltipItemPayloads),cU=O([lU,va,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var i=e.find(s=>s.settings.dataKey===n);if(i!=null){var{positions:a}=i;if(a!=null){var o=t(a,r);return o}}}),c1=It("touchMove"),u1=sa();u1.startListening({actionCreator:c1,effect:(e,t)=>{var r=e.payload,n=t.getState(),i=Sf(n,n.tooltip.settings.shared);if(i==="axis"){var a=Bf(n,Uf({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(a==null?void 0:a.activeIndex)!=null&&t.dispatch(ax({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var o,s=r.touches[0],l=document.elementFromPoint(s.clientX,s.clientY);if(!l||!l.getAttribute)return;var u=l.getAttribute(aT),c=(o=l.getAttribute(oT))!==null&&o!==void 0?o:void 0,d=cU(t.getState(),u,c);t.dispatch(nx({activeDataKey:c,activeIndex:u,activeCoordinate:d}))}}});var uU=E0({brush:P4,cartesianAxis:lB,chartData:WM,errorBars:_B,graphicalItems:XL,layout:kC,legend:xT,options:BM,polarAxis:bL,polarOptions:sU,referenceElements:I4,rootProps:aU,tooltip:RD}),dU=function(t){return QA({reducer:uU,preloadedState:t,middleware:r=>r({serializableCheck:!1}).concat([r1.middleware,n1.middleware,Ff.middleware,l1.middleware,u1.middleware]),devTools:ni.devToolsEnabled})};function fU(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,i=Mt(),a=y.useRef(null);if(i)return r;a.current==null&&(a.current=dU(t));var o=_d;return y.createElement(nU,{context:o,store:a.current},r)}function hU(e){var{layout:t,width:r,height:n,margin:i}=e,a=$e(),o=Mt();return y.useEffect(()=>{o||(a(jC(t)),a(PC({width:r,height:n})),a(EC(i)))},[a,o,t,r,n,i]),null}function pU(e){var t=$e();return y.useEffect(()=>{t(oU(e))},[t,e]),null}var mU=["children"];function gU(e,t){if(e==null)return{};var r,n,i=vU(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function vU(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ts(){return ts=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ts.apply(null,arguments)}var yU={width:"100%",height:"100%"},bU=y.forwardRef((e,t)=>{var r=Q0(),n=eb(),i=rb();if(!Co(r)||!Co(n))return null;var{children:a,otherAttributes:o,title:s,desc:l}=e,u,c;return typeof o.tabIndex=="number"?u=o.tabIndex:u=i?0:void 0,typeof o.role=="string"?c=o.role:c=i?"application":void 0,y.createElement(Ky,ts({},o,{title:s,desc:l,role:c,tabIndex:u,width:r,height:n,style:yU,ref:t}),a)}),wU=e=>{var{children:t}=e,r=q(bs);if(!r)return null;var{width:n,height:i,y:a,x:o}=r;return y.createElement(Ky,{width:n,height:i,x:o,y:a},t)},Sv=y.forwardRef((e,t)=>{var{children:r}=e,n=gU(e,mU),i=Mt();return i?y.createElement(wU,null,r):y.createElement(bU,ts({ref:t},n),r)});function xU(){var e=$e(),[t,r]=y.useState(null),n=q(iT);return y.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;_t(a)&&a!==n&&e(OC(a))}},[t,e,n]),r}function Ev(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function _U(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ev(Object(r),!0).forEach(function(n){SU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ev(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SU(e,t,r){return(t=EU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EU(e){var t=jU(e,"string");return typeof t=="symbol"?t:t+""}function jU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var PU=y.forwardRef((e,t)=>{var{children:r,className:n,height:i,onClick:a,onContextMenu:o,onDoubleClick:s,onMouseDown:l,onMouseEnter:u,onMouseLeave:c,onMouseMove:d,onMouseUp:f,onTouchEnd:h,onTouchMove:m,onTouchStart:g,style:v,width:b}=e,x=$e(),[w,_]=y.useState(null),[S,E]=y.useState(null);QM();var j=xU(),k=y.useCallback(F=>{j(F),typeof t=="function"&&t(F),_(F),E(F)},[j,t,_,E]),A=y.useCallback(F=>{x(t1(F)),x(At({handler:a,reactEvent:F}))},[x,a]),I=y.useCallback(F=>{x(qu(F)),x(At({handler:u,reactEvent:F}))},[x,u]),C=y.useCallback(F=>{x(ix()),x(At({handler:c,reactEvent:F}))},[x,c]),$=y.useCallback(F=>{x(qu(F)),x(At({handler:d,reactEvent:F}))},[x,d]),U=y.useCallback(()=>{x(s1())},[x]),T=y.useCallback(F=>{x(o1(F.key))},[x]),L=y.useCallback(F=>{x(At({handler:o,reactEvent:F}))},[x,o]),M=y.useCallback(F=>{x(At({handler:s,reactEvent:F}))},[x,s]),W=y.useCallback(F=>{x(At({handler:l,reactEvent:F}))},[x,l]),J=y.useCallback(F=>{x(At({handler:f,reactEvent:F}))},[x,f]),X=y.useCallback(F=>{x(At({handler:g,reactEvent:F}))},[x,g]),pe=y.useCallback(F=>{x(c1(F)),x(At({handler:m,reactEvent:F}))},[x,m]),ne=y.useCallback(F=>{x(At({handler:h,reactEvent:F}))},[x,h]);return y.createElement(_x.Provider,{value:w},y.createElement(GO.Provider,{value:S},y.createElement("div",{className:ge("recharts-wrapper",n),style:_U({position:"relative",cursor:"default",width:b,height:i},v),onClick:A,onContextMenu:L,onDoubleClick:M,onFocus:U,onKeyDown:T,onMouseDown:W,onMouseEnter:I,onMouseLeave:C,onMouseMove:$,onMouseUp:J,onTouchEnd:ne,onTouchMove:pe,onTouchStart:X,ref:k},r)))}),OU=["children","className","width","height","style","compact","title","desc"];function kU(e,t){if(e==null)return{};var r,n,i=AU(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function AU(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var CU=y.forwardRef((e,t)=>{var{children:r,className:n,width:i,height:a,style:o,compact:s,title:l,desc:u}=e,c=kU(e,OU),d=ri(c);return s?y.createElement(Sv,{otherAttributes:d,title:l,desc:u},r):y.createElement(PU,{className:n,style:o,width:i,height:a,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},y.createElement(Sv,{otherAttributes:d,title:l,desc:u,ref:t},y.createElement(D4,null,r)))}),TU=["width","height"];function Wu(){return Wu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wu.apply(null,arguments)}function RU(e,t){if(e==null)return{};var r,n,i=IU(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function IU(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var $U={top:5,right:5,bottom:5,left:5},DU={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:$U,reverseStackOrder:!1,syncMethod:"index"},MU=y.forwardRef(function(t,r){var n,i=Nt(t.categoricalChartProps,DU),{width:a,height:o}=i,s=RU(i,TU);if(!Co(a)||!Co(o))return null;var{chartName:l,defaultTooltipEventType:u,validateTooltipEventTypes:c,tooltipPayloadSearcher:d,categoricalChartProps:f}=t,h={chartName:l,defaultTooltipEventType:u,validateTooltipEventTypes:c,tooltipPayloadSearcher:d,eventEmitter:void 0};return y.createElement(fU,{preloadedState:{options:h},reduxStoreName:(n=f.id)!==null&&n!==void 0?n:l},y.createElement(j4,{chartData:f.data}),y.createElement(hU,{width:a,height:o,layout:i.layout,margin:i.margin}),y.createElement(pU,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),y.createElement(CU,Wu({},s,{width:a,height:o,ref:r})))}),NU=["axis","item"],LU=y.forwardRef((e,t)=>y.createElement(MU,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:NU,tooltipPayloadSearcher:NM,categoricalChartProps:e,ref:t}));function BU(){var A;const[e,t]=y.useState(null),[r,n]=y.useState(null),[i,a]=y.useState(!1),[o,s]=y.useState(!1),[l,u]=y.useState(null),c=ir(),{t:d}=Ee();y.useEffect(()=>{(async()=>{const{data:C,error:$}=await Je.auth.getUser();$&&console.error("❌ Error obteniendo usuario:",$),C!=null&&C.user?n(C.user):n(null)})()},[]);const f=async()=>{if(c)try{const I=await fetch(`http://127.0.0.1:8001/dashboard_summary?client_id=${c}`),C=await I.json();I.ok?t(C):console.error("❌ Error en respuesta de dashboard_summary:",C)}catch(I){console.error("❌ Error de red al obtener dashboard:",I)}};if(y.useEffect(()=>{f()},[c]),y.useEffect(()=>{if(!c)return;(async()=>{try{const $=await(await fetch(`http://127.0.0.1:8001/should_show_welcome?client_id=${c}`)).json();$.show?(console.log("🟢 Showing WelcomeModal:",$.reason),a(!0),await fetch("http://127.0.0.1:8001/accept_terms",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:c})})):console.log(`⏳ WelcomeModal skipped. Days remaining: ${$.days_remaining||0}`)}catch(C){console.error("❌ Error checking WelcomeModal:",C)}})()},[c]),!r||!e)return p.jsx("div",{style:{color:"white",padding:"2rem"},children:d("loading")});const{plan:h,usage:m,history_preview:g,assistant_config:v,upgrade_suggestion:b,subscription_start:x,subscription_end:w,cancellation_status:_}=e,S=I=>I.toLowerCase().replace(/\s+/g,"_"),E=((A=h==null?void 0:h.plan_features)==null?void 0:A.map(I=>S(I)))||[],j=[{name:d("messages"),used:m.messages_used||0,max:h.is_unlimited?m.messages_used:h.max_messages},{name:d("documents"),used:m.documents_uploaded||0,max:h.max_documents}],k=async()=>{if(_!=null&&_.reactivate_available)try{s(!0);const I=await fetch("http://127.0.0.1:8001/reactivate-subscription",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:c})}),C=await I.json();I.ok?(at({title:"✅ Subscription reactivated",description:C.message||"Your plan has been restored."}),await f(),setTimeout(()=>window.location.reload(),1500)):at({title:"Error",description:C.detail||"Failed to reactivate."})}catch(I){at({title:"Error",description:I.message})}finally{s(!1),u(null)}};return p.jsxs("div",{style:{backgroundColor:i?"rgba(15,28,46,0.7)":"#0f1c2e",minHeight:"100vh",padding:"2rem",fontFamily:"system-ui, sans-serif",color:"white",overflow:"hidden"},children:[i&&p.jsx(xO,{onClose:()=>a(!1)}),p.jsxs("h1",{style:{fontSize:"1.8rem",fontWeight:"bold",color:"#f5a623",marginBottom:"0.5rem"},children:["👋 ",d("welcome"),", ",r.email]}),p.jsxs("p",{style:{color:"#ededed",marginBottom:"2rem"},children:[d("assistant_intro")," ",p.jsx("strong",{style:{color:"#a3d9b1"},children:(v==null?void 0:v.assistant_name)||d("your_assistant")}),"."]}),p.jsxs("div",{style:Xa,children:[p.jsx("h2",{style:Za,children:d("your_plan")}),p.jsx("p",{children:p.jsx("strong",{children:h.name})}),p.jsxs("p",{children:[d("messages"),": ",h.is_unlimited?"∞":h.max_messages]}),p.jsxs("p",{children:[d("documents"),": ",h.max_documents]}),x&&w&&p.jsxs("p",{style:{marginTop:"0.5rem",color:"#ededed"},children:[d("subscription_period"),":"," ",p.jsxs("strong",{children:[x," – ",w]})]}),(_==null?void 0:_.is_pending)&&p.jsxs("div",{style:{backgroundColor:"#fff7e6",border:"1px solid #f5a623",color:"#a35d00",padding:"12px",borderRadius:"8px",marginTop:"1rem",textAlign:"center"},children:[p.jsx("p",{children:_.message}),_.reactivate_available&&p.jsxs(p.Fragment,{children:[p.jsx("button",{onClick:()=>u({planName:h.name,endDate:w}),disabled:o,style:{marginTop:"10px",backgroundColor:"#4a90e2",color:"white",border:"none",borderRadius:"6px",padding:"8px 16px",cursor:o?"wait":"pointer"},children:o?"Reactivating...":_.reactivate_label}),l&&p.jsx(UU,{planName:l.planName,endDate:l.endDate,onCancel:()=>u(null),onConfirm:k,loading:o})]})]})]}),p.jsxs("div",{style:Xa,children:[p.jsx("h2",{style:Za,children:d("usage_summary")}),p.jsxs("p",{children:[d("messages_used"),":"," ",p.jsx("strong",{style:{color:"#a3d9b1"},children:m.messages_used})," /"," ",h.is_unlimited?"∞":h.max_messages,b&&p.jsxs(p.Fragment,{children:[" ","— ",d("almost_limit")," 🚀"," ",b.action==="upgrade"&&p.jsxs(p.Fragment,{children:[d("upgrade_to")," ",p.jsx("strong",{children:b.to})]}),b.action==="contact_support"&&p.jsxs(p.Fragment,{children:[" contacting ",p.jsx("strong",{children:b.email})]})]})]}),p.jsxs("p",{children:[d("documents_uploaded"),":"," ",p.jsx("strong",{style:{color:"#a3d9b1"},children:m.documents_uploaded})," ","/ ",h.max_documents]}),p.jsx("div",{style:{width:"100%",height:250,marginTop:"1rem"},children:p.jsx(vN,{children:p.jsxs(LU,{data:j,children:[p.jsx(Zx,{strokeDasharray:"3 3",stroke:"#274472"}),p.jsx(Qx,{dataKey:"name",stroke:"#ededed"}),p.jsx(e1,{stroke:"#ededed"}),p.jsx(sN,{contentStyle:{backgroundColor:"#1b2a41",border:"1px solid #274472",color:"#ededed"}}),p.jsx(Bu,{dataKey:"used",fill:"#a3d9b1",name:d("used")}),p.jsx(Bu,{dataKey:"max",fill:"#4a90e2",name:d("max")})]})})})]}),p.jsxs("div",{style:Xa,children:[p.jsx("h2",{style:Za,children:d("active_features")}),p.jsx("ul",{children:E.length>0?E.map(I=>p.jsxs("li",{style:{marginBottom:"0.5rem"},children:["✅ ",d(I)]},I)):p.jsx("li",{children:d("no_features")})})]}),p.jsxs("div",{style:Xa,children:[p.jsx("h2",{style:Za,children:d("recent_activity")}),g&&g.length>0?p.jsx("ul",{children:g.map((I,C)=>p.jsxs("li",{style:{marginBottom:"0.5rem"},children:[I.question?I.question.slice(0,120):"(no content)"," (",new Date(I.timestamp).toLocaleDateString(),")"]},C))}):p.jsx("p",{children:d("no_history")})]})]})}function UU({planName:e,endDate:t,onCancel:r,onConfirm:n,loading:i}){const a=o=>o?new Date(o).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"}):"";return p.jsx("div",{style:FU,children:p.jsxs("div",{style:zU,children:[p.jsx("div",{style:qU,children:p.jsx("img",{src:"/logo-evolvian.svg",alt:"Evolvian Logo",style:{width:"80px",height:"auto",opacity:.95}})}),p.jsxs("div",{style:WU,children:[p.jsxs("h3",{style:{fontSize:"1.3rem",marginBottom:"12px"},children:["Reactivate ",e," Plan"]}),p.jsxs("p",{style:{marginBottom:"12px"},children:["You’re about to reactivate your ",p.jsx("strong",{children:e})," plan."," ",t?`Your subscription will resume immediately, keeping your billing date (${a(t)}).`:"Your subscription will resume immediately."]}),p.jsxs("p",{style:GU,children:["By clicking “Accept”, you agree to our"," ",p.jsx("a",{href:"/terms",target:"_blank",rel:"noopener noreferrer",children:"Terms and Conditions"})," ","and"," ",p.jsx("a",{href:"/PrivacyPolicy",target:"_blank",rel:"noopener noreferrer",children:"Privacy Policy"}),"."]}),p.jsxs("div",{style:HU,children:[p.jsx("button",{style:VU,onClick:r,children:"Cancel"}),p.jsx("button",{style:KU,onClick:n,disabled:i,children:i?"Reactivating...":"Accept"})]})]})]})})}const Xa={backgroundColor:"#1b2a41",border:"1px solid #274472",borderRadius:"1rem",padding:"1.5rem",marginBottom:"2rem",boxShadow:"0 4px 10px rgba(0,0,0,0.2)"},Za={fontSize:"1.3rem",color:"#4a90e2",marginBottom:"1rem",fontWeight:"bold"},FU={position:"fixed",inset:0,background:"rgba(15, 28, 46, 0.6)",backdropFilter:"blur(6px)",WebkitBackdropFilter:"blur(6px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999,animation:"fadeIn 0.3s ease-in-out"},zU={background:"#1b2a41",border:"2px solid #274472",borderRadius:"18px",display:"flex",maxWidth:"720px",width:"95%",color:"#fff",boxShadow:"0 8px 28px rgba(0,0,0,0.35)",overflow:"hidden"},qU={background:"#0f1c2e",display:"flex",alignItems:"center",justifyContent:"center",padding:"32px",minWidth:"160px"},WU={flex:1,padding:"32px 40px",display:"flex",flexDirection:"column",justifyContent:"center"},HU={display:"flex",justifyContent:"flex-end",gap:"10px",marginTop:"20px"},KU={background:"#2eb39a",color:"#fff",padding:"10px 24px",borderRadius:"8px",fontWeight:600,border:"none",cursor:"pointer",transition:"background 0.2s ease"},VU={background:"#4b5563",color:"#fff",padding:"10px 24px",borderRadius:"8px",fontWeight:500,border:"none",cursor:"pointer",transition:"background 0.2s ease"},GU={fontSize:"0.85rem",marginTop:"10px",opacity:.9};function YU(){const[e,t]=y.useState(null),[r,n]=y.useState(""),[i,a]=y.useState([]),[o,s]=y.useState(!1),l=ir(),{t:u}=Ee(),c=async()=>{if(l)try{const m=await(await fetch(`http://127.0.0.1:8001/list_files?client_id=${l}`)).json();a(m.files||[])}catch(h){console.error("❌ Error al listar archivos:",h),a([])}};y.useEffect(()=>{l&&c()},[l]);const d=async h=>{if(h.preventDefault(),!l||l==="undefined"||l.trim()===""){n(`❌ ${u("invalid_client_id")}`);return}if(!e){n(`⚠️ ${u("please_select_file")}`);return}const m=new FormData;m.append("client_id",l),m.append("file",e);try{const g=await fetch("http://127.0.0.1:8001/upload_document",{method:"POST",body:m});if(g.status===403){const b=await g.json(),x=(b==null?void 0:b.detail)||"";s(!0),n(x==="limit_reached"?`🚫 ${u("limit_reached_error")}`:`🚫 ${x||u("unknown_upload_error")}`);return}if(!g.ok){const b=await g.json();throw new Error(b.detail||u("unknown_upload_error"))}const v=await g.json();console.log("📥 Respuesta backend:",v),n(`✅ ${v.message||u("file_uploaded_success")}`),t(null),c()}catch(g){console.error("❌ Error al subir archivo:",g),n(`❌ ${g.message}`)}},f=async h=>{if(window.confirm(`⚠️ ${u("confirm_delete_file")} ${h}?`))try{const m=await fetch(`http://127.0.0.1:8001/delete_file?storage_path=${encodeURIComponent(h)}`,{method:"DELETE"});if(!m.ok){const v=await m.json();throw new Error(v.detail||u("unknown_delete_error"))}const g=await m.json();console.log("🗑️ Respuesta backend:",g),n(`✅ ${g.message||u("file_deleted_success")}`),c()}catch(m){console.error("❌ Error al borrar archivo:",m),n(`❌ ${m.message}`)}};return p.jsx("div",{style:{backgroundColor:"#0f1c2e",minHeight:"100vh",padding:"2rem",fontFamily:"system-ui, sans-serif",color:"white",display:"flex",justifyContent:"center",alignItems:"flex-start"},children:p.jsxs("div",{style:{backgroundColor:"#1b2a41",padding:"2rem",borderRadius:"16px",maxWidth:"600px",width:"100%",boxShadow:"0 10px 30px rgba(0,0,0,0.2)",border:"1px solid #274472"},children:[p.jsxs("h1",{style:{fontSize:"1.8rem",marginBottom:"1rem",color:"#f5a623"},children:["📤 ",u("upload_document")]}),p.jsxs("form",{onSubmit:d,children:[p.jsxs("div",{style:{marginBottom:"1.2rem"},children:[p.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",color:"#ededed"},children:["📎 ",u("select_file_label")]}),p.jsx("input",{type:"file",accept:".pdf,.txt",onChange:h=>t(h.target.files[0]),disabled:o,style:{width:"100%",padding:"0.4rem",backgroundColor:"#0f1c2e",border:"1px solid #4a90e2",color:"white",borderRadius:"8px",cursor:o?"not-allowed":"pointer"}})]}),p.jsx("button",{type:"submit",disabled:o,style:{backgroundColor:o?"#777":"#4a90e2",padding:"0.7rem 1.2rem",color:"white",borderRadius:"8px",fontWeight:"bold",border:"none",cursor:o?"not-allowed":"pointer",transition:"background 0.3s ease"},children:u("upload_file")})]}),r&&p.jsx("p",{style:{marginTop:"1rem",fontWeight:"500",color:"#a3d9b1"},children:r}),i.length>0&&p.jsxs("div",{style:{marginTop:"2rem"},children:[p.jsxs("h3",{style:{color:"#f5a623",marginBottom:"0.75rem"},children:["📂 ",u("uploaded_files")]}),p.jsx("ul",{style:{listStyleType:"none",paddingLeft:0},children:i.map((h,m)=>p.jsxs("li",{style:{marginBottom:"0.8rem",color:"#ededed",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[p.jsxs("span",{children:["📄 ",h.name," – ",h.size_kb," KB"]}),p.jsxs("button",{onClick:()=>f(h.storage_path),style:{backgroundColor:"#e74c3c",padding:"0.4rem 0.8rem",color:"white",borderRadius:"6px",border:"none",cursor:"pointer",fontWeight:"bold"},children:["🗑️ ",u("delete")]})]},m))})]})]})})}function d1(e,t){return function(){return e.apply(t,arguments)}}const{toString:JU}=Object.prototype,{getPrototypeOf:zf}=Object,{iterator:Ns,toStringTag:f1}=Symbol,Ls=(e=>t=>{const r=JU.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Vt=e=>(e=e.toLowerCase(),t=>Ls(t)===e),Bs=e=>t=>typeof t===e,{isArray:fi}=Array,Xn=Bs("undefined");function wa(e){return e!==null&&!Xn(e)&&e.constructor!==null&&!Xn(e.constructor)&&ct(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const h1=Vt("ArrayBuffer");function XU(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&h1(e.buffer),t}const ZU=Bs("string"),ct=Bs("function"),p1=Bs("number"),xa=e=>e!==null&&typeof e=="object",QU=e=>e===!0||e===!1,lo=e=>{if(Ls(e)!=="object")return!1;const t=zf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(f1 in e)&&!(Ns in e)},eF=e=>{if(!xa(e)||wa(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},tF=Vt("Date"),rF=Vt("File"),nF=Vt("Blob"),iF=Vt("FileList"),aF=e=>xa(e)&&ct(e.pipe),oF=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||ct(e.append)&&((t=Ls(e))==="formdata"||t==="object"&&ct(e.toString)&&e.toString()==="[object FormData]"))},sF=Vt("URLSearchParams"),[lF,cF,uF,dF]=["ReadableStream","Request","Response","Headers"].map(Vt),fF=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function _a(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,i;if(typeof e!="object"&&(e=[e]),fi(e))for(n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else{if(wa(e))return;const a=r?Object.getOwnPropertyNames(e):Object.keys(e),o=a.length;let s;for(n=0;n<o;n++)s=a[n],t.call(null,e[s],s,e)}}function m1(e,t){if(wa(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,i;for(;n-- >0;)if(i=r[n],t===i.toLowerCase())return i;return null}const rn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,g1=e=>!Xn(e)&&e!==rn;function Hu(){const{caseless:e,skipUndefined:t}=g1(this)&&this||{},r={},n=(i,a)=>{const o=e&&m1(r,a)||a;lo(r[o])&&lo(i)?r[o]=Hu(r[o],i):lo(i)?r[o]=Hu({},i):fi(i)?r[o]=i.slice():(!t||!Xn(i))&&(r[o]=i)};for(let i=0,a=arguments.length;i<a;i++)arguments[i]&&_a(arguments[i],n);return r}const hF=(e,t,r,{allOwnKeys:n}={})=>(_a(t,(i,a)=>{r&&ct(i)?e[a]=d1(i,r):e[a]=i},{allOwnKeys:n}),e),pF=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),mF=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},gF=(e,t,r,n)=>{let i,a,o;const s={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),a=i.length;a-- >0;)o=i[a],(!n||n(o,e,t))&&!s[o]&&(t[o]=e[o],s[o]=!0);e=r!==!1&&zf(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},vF=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},yF=e=>{if(!e)return null;if(fi(e))return e;let t=e.length;if(!p1(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},bF=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&zf(Uint8Array)),wF=(e,t)=>{const n=(e&&e[Ns]).call(e);let i;for(;(i=n.next())&&!i.done;){const a=i.value;t.call(e,a[0],a[1])}},xF=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},_F=Vt("HTMLFormElement"),SF=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),jv=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),EF=Vt("RegExp"),v1=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};_a(r,(i,a)=>{let o;(o=t(i,a,e))!==!1&&(n[a]=o||i)}),Object.defineProperties(e,n)},jF=e=>{v1(e,(t,r)=>{if(ct(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(ct(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},PF=(e,t)=>{const r={},n=i=>{i.forEach(a=>{r[a]=!0})};return fi(e)?n(e):n(String(e).split(t)),r},OF=()=>{},kF=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function AF(e){return!!(e&&ct(e.append)&&e[f1]==="FormData"&&e[Ns])}const CF=e=>{const t=new Array(10),r=(n,i)=>{if(xa(n)){if(t.indexOf(n)>=0)return;if(wa(n))return n;if(!("toJSON"in n)){t[i]=n;const a=fi(n)?[]:{};return _a(n,(o,s)=>{const l=r(o,i+1);!Xn(l)&&(a[s]=l)}),t[i]=void 0,a}}return n};return r(e,0)},TF=Vt("AsyncFunction"),RF=e=>e&&(xa(e)||ct(e))&&ct(e.then)&&ct(e.catch),y1=((e,t)=>e?setImmediate:t?((r,n)=>(rn.addEventListener("message",({source:i,data:a})=>{i===rn&&a===r&&n.length&&n.shift()()},!1),i=>{n.push(i),rn.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",ct(rn.postMessage)),IF=typeof queueMicrotask<"u"?queueMicrotask.bind(rn):typeof process<"u"&&process.nextTick||y1,$F=e=>e!=null&&ct(e[Ns]),P={isArray:fi,isArrayBuffer:h1,isBuffer:wa,isFormData:oF,isArrayBufferView:XU,isString:ZU,isNumber:p1,isBoolean:QU,isObject:xa,isPlainObject:lo,isEmptyObject:eF,isReadableStream:lF,isRequest:cF,isResponse:uF,isHeaders:dF,isUndefined:Xn,isDate:tF,isFile:rF,isBlob:nF,isRegExp:EF,isFunction:ct,isStream:aF,isURLSearchParams:sF,isTypedArray:bF,isFileList:iF,forEach:_a,merge:Hu,extend:hF,trim:fF,stripBOM:pF,inherits:mF,toFlatObject:gF,kindOf:Ls,kindOfTest:Vt,endsWith:vF,toArray:yF,forEachEntry:wF,matchAll:xF,isHTMLForm:_F,hasOwnProperty:jv,hasOwnProp:jv,reduceDescriptors:v1,freezeMethods:jF,toObjectSet:PF,toCamelCase:SF,noop:OF,toFiniteNumber:kF,findKey:m1,global:rn,isContextDefined:g1,isSpecCompliantForm:AF,toJSONObject:CF,isAsyncFn:TF,isThenable:RF,setImmediate:y1,asap:IF,isIterable:$F};function K(e,t,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}P.inherits(K,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:P.toJSONObject(this.config),code:this.code,status:this.status}}});const b1=K.prototype,w1={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{w1[e]={value:e}});Object.defineProperties(K,w1);Object.defineProperty(b1,"isAxiosError",{value:!0});K.from=(e,t,r,n,i,a)=>{const o=Object.create(b1);P.toFlatObject(e,o,function(c){return c!==Error.prototype},u=>u!=="isAxiosError");const s=e&&e.message?e.message:"Error",l=t==null&&e?e.code:t;return K.call(o,s,l,r,n,i),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",a&&Object.assign(o,a),o};const DF=null;function Ku(e){return P.isPlainObject(e)||P.isArray(e)}function x1(e){return P.endsWith(e,"[]")?e.slice(0,-2):e}function Pv(e,t,r){return e?e.concat(t).map(function(i,a){return i=x1(i),!r&&a?"["+i+"]":i}).join(r?".":""):t}function MF(e){return P.isArray(e)&&!e.some(Ku)}const NF=P.toFlatObject(P,{},null,function(t){return/^is[A-Z]/.test(t)});function Us(e,t,r){if(!P.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=P.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,v){return!P.isUndefined(v[g])});const n=r.metaTokens,i=r.visitor||c,a=r.dots,o=r.indexes,l=(r.Blob||typeof Blob<"u"&&Blob)&&P.isSpecCompliantForm(t);if(!P.isFunction(i))throw new TypeError("visitor must be a function");function u(m){if(m===null)return"";if(P.isDate(m))return m.toISOString();if(P.isBoolean(m))return m.toString();if(!l&&P.isBlob(m))throw new K("Blob is not supported. Use a Buffer instead.");return P.isArrayBuffer(m)||P.isTypedArray(m)?l&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function c(m,g,v){let b=m;if(m&&!v&&typeof m=="object"){if(P.endsWith(g,"{}"))g=n?g:g.slice(0,-2),m=JSON.stringify(m);else if(P.isArray(m)&&MF(m)||(P.isFileList(m)||P.endsWith(g,"[]"))&&(b=P.toArray(m)))return g=x1(g),b.forEach(function(w,_){!(P.isUndefined(w)||w===null)&&t.append(o===!0?Pv([g],_,a):o===null?g:g+"[]",u(w))}),!1}return Ku(m)?!0:(t.append(Pv(v,g,a),u(m)),!1)}const d=[],f=Object.assign(NF,{defaultVisitor:c,convertValue:u,isVisitable:Ku});function h(m,g){if(!P.isUndefined(m)){if(d.indexOf(m)!==-1)throw Error("Circular reference detected in "+g.join("."));d.push(m),P.forEach(m,function(b,x){(!(P.isUndefined(b)||b===null)&&i.call(t,b,P.isString(x)?x.trim():x,g,f))===!0&&h(b,g?g.concat(x):[x])}),d.pop()}}if(!P.isObject(e))throw new TypeError("data must be an object");return h(e),t}function Ov(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function qf(e,t){this._pairs=[],e&&Us(e,this,t)}const _1=qf.prototype;_1.append=function(t,r){this._pairs.push([t,r])};_1.toString=function(t){const r=t?function(n){return t.call(this,n,Ov)}:Ov;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function LF(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function S1(e,t,r){if(!t)return e;const n=r&&r.encode||LF;P.isFunction(r)&&(r={serialize:r});const i=r&&r.serialize;let a;if(i?a=i(t,r):a=P.isURLSearchParams(t)?t.toString():new qf(t,r).toString(n),a){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class kv{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){P.forEach(this.handlers,function(n){n!==null&&t(n)})}}const E1={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},BF=typeof URLSearchParams<"u"?URLSearchParams:qf,UF=typeof FormData<"u"?FormData:null,FF=typeof Blob<"u"?Blob:null,zF={isBrowser:!0,classes:{URLSearchParams:BF,FormData:UF,Blob:FF},protocols:["http","https","file","blob","url","data"]},Wf=typeof window<"u"&&typeof document<"u",Vu=typeof navigator=="object"&&navigator||void 0,qF=Wf&&(!Vu||["ReactNative","NativeScript","NS"].indexOf(Vu.product)<0),WF=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",HF=Wf&&window.location.href||"http://localhost",KF=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Wf,hasStandardBrowserEnv:qF,hasStandardBrowserWebWorkerEnv:WF,navigator:Vu,origin:HF},Symbol.toStringTag,{value:"Module"})),Ye={...KF,...zF};function VF(e,t){return Us(e,new Ye.classes.URLSearchParams,{visitor:function(r,n,i,a){return Ye.isNode&&P.isBuffer(r)?(this.append(n,r.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...t})}function GF(e){return P.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function YF(e){const t={},r=Object.keys(e);let n;const i=r.length;let a;for(n=0;n<i;n++)a=r[n],t[a]=e[a];return t}function j1(e){function t(r,n,i,a){let o=r[a++];if(o==="__proto__")return!0;const s=Number.isFinite(+o),l=a>=r.length;return o=!o&&P.isArray(i)?i.length:o,l?(P.hasOwnProp(i,o)?i[o]=[i[o],n]:i[o]=n,!s):((!i[o]||!P.isObject(i[o]))&&(i[o]=[]),t(r,n,i[o],a)&&P.isArray(i[o])&&(i[o]=YF(i[o])),!s)}if(P.isFormData(e)&&P.isFunction(e.entries)){const r={};return P.forEachEntry(e,(n,i)=>{t(GF(n),i,r,0)}),r}return null}function JF(e,t,r){if(P.isString(e))try{return(t||JSON.parse)(e),P.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const Sa={transitional:E1,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,a=P.isObject(t);if(a&&P.isHTMLForm(t)&&(t=new FormData(t)),P.isFormData(t))return i?JSON.stringify(j1(t)):t;if(P.isArrayBuffer(t)||P.isBuffer(t)||P.isStream(t)||P.isFile(t)||P.isBlob(t)||P.isReadableStream(t))return t;if(P.isArrayBufferView(t))return t.buffer;if(P.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let s;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return VF(t,this.formSerializer).toString();if((s=P.isFileList(t))||n.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Us(s?{"files[]":t}:t,l&&new l,this.formSerializer)}}return a||i?(r.setContentType("application/json",!1),JF(t)):t}],transformResponse:[function(t){const r=this.transitional||Sa.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(P.isResponse(t)||P.isReadableStream(t))return t;if(t&&P.isString(t)&&(n&&!this.responseType||i)){const o=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(t,this.parseReviver)}catch(s){if(o)throw s.name==="SyntaxError"?K.from(s,K.ERR_BAD_RESPONSE,this,null,this.response):s}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ye.classes.FormData,Blob:Ye.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};P.forEach(["delete","get","head","post","put","patch"],e=>{Sa.headers[e]={}});const XF=P.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ZF=e=>{const t={};let r,n,i;return e&&e.split(`
`).forEach(function(o){i=o.indexOf(":"),r=o.substring(0,i).trim().toLowerCase(),n=o.substring(i+1).trim(),!(!r||t[r]&&XF[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},Av=Symbol("internals");function Pi(e){return e&&String(e).trim().toLowerCase()}function co(e){return e===!1||e==null?e:P.isArray(e)?e.map(co):String(e)}function QF(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const e3=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Mc(e,t,r,n,i){if(P.isFunction(n))return n.call(this,t,r);if(i&&(t=r),!!P.isString(t)){if(P.isString(n))return t.indexOf(n)!==-1;if(P.isRegExp(n))return n.test(t)}}function t3(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function r3(e,t){const r=P.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(i,a,o){return this[n].call(this,t,i,a,o)},configurable:!0})})}let ut=class{constructor(t){t&&this.set(t)}set(t,r,n){const i=this;function a(s,l,u){const c=Pi(l);if(!c)throw new Error("header name must be a non-empty string");const d=P.findKey(i,c);(!d||i[d]===void 0||u===!0||u===void 0&&i[d]!==!1)&&(i[d||l]=co(s))}const o=(s,l)=>P.forEach(s,(u,c)=>a(u,c,l));if(P.isPlainObject(t)||t instanceof this.constructor)o(t,r);else if(P.isString(t)&&(t=t.trim())&&!e3(t))o(ZF(t),r);else if(P.isObject(t)&&P.isIterable(t)){let s={},l,u;for(const c of t){if(!P.isArray(c))throw TypeError("Object iterator must return a key-value pair");s[u=c[0]]=(l=s[u])?P.isArray(l)?[...l,c[1]]:[l,c[1]]:c[1]}o(s,r)}else t!=null&&a(r,t,n);return this}get(t,r){if(t=Pi(t),t){const n=P.findKey(this,t);if(n){const i=this[n];if(!r)return i;if(r===!0)return QF(i);if(P.isFunction(r))return r.call(this,i,n);if(P.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=Pi(t),t){const n=P.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||Mc(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let i=!1;function a(o){if(o=Pi(o),o){const s=P.findKey(n,o);s&&(!r||Mc(n,n[s],s,r))&&(delete n[s],i=!0)}}return P.isArray(t)?t.forEach(a):a(t),i}clear(t){const r=Object.keys(this);let n=r.length,i=!1;for(;n--;){const a=r[n];(!t||Mc(this,this[a],a,t,!0))&&(delete this[a],i=!0)}return i}normalize(t){const r=this,n={};return P.forEach(this,(i,a)=>{const o=P.findKey(n,a);if(o){r[o]=co(i),delete r[a];return}const s=t?t3(a):String(a).trim();s!==a&&delete r[a],r[s]=co(i),n[s]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return P.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=t&&P.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(i=>n.set(i)),n}static accessor(t){const n=(this[Av]=this[Av]={accessors:{}}).accessors,i=this.prototype;function a(o){const s=Pi(o);n[s]||(r3(i,o),n[s]=!0)}return P.isArray(t)?t.forEach(a):a(t),this}};ut.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);P.reduceDescriptors(ut.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});P.freezeMethods(ut);function Nc(e,t){const r=this||Sa,n=t||r,i=ut.from(n.headers);let a=n.data;return P.forEach(e,function(s){a=s.call(r,a,i.normalize(),t?t.status:void 0)}),i.normalize(),a}function P1(e){return!!(e&&e.__CANCEL__)}function hi(e,t,r){K.call(this,e??"canceled",K.ERR_CANCELED,t,r),this.name="CanceledError"}P.inherits(hi,K,{__CANCEL__:!0});function O1(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new K("Request failed with status code "+r.status,[K.ERR_BAD_REQUEST,K.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function n3(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function i3(e,t){e=e||10;const r=new Array(e),n=new Array(e);let i=0,a=0,o;return t=t!==void 0?t:1e3,function(l){const u=Date.now(),c=n[a];o||(o=u),r[i]=l,n[i]=u;let d=a,f=0;for(;d!==i;)f+=r[d++],d=d%e;if(i=(i+1)%e,i===a&&(a=(a+1)%e),u-o<t)return;const h=c&&u-c;return h?Math.round(f*1e3/h):void 0}}function a3(e,t){let r=0,n=1e3/t,i,a;const o=(u,c=Date.now())=>{r=c,i=null,a&&(clearTimeout(a),a=null),e(...u)};return[(...u)=>{const c=Date.now(),d=c-r;d>=n?o(u,c):(i=u,a||(a=setTimeout(()=>{a=null,o(i)},n-d)))},()=>i&&o(i)]}const rs=(e,t,r=3)=>{let n=0;const i=i3(50,250);return a3(a=>{const o=a.loaded,s=a.lengthComputable?a.total:void 0,l=o-n,u=i(l),c=o<=s;n=o;const d={loaded:o,total:s,progress:s?o/s:void 0,bytes:l,rate:u||void 0,estimated:u&&s&&c?(s-o)/u:void 0,event:a,lengthComputable:s!=null,[t?"download":"upload"]:!0};e(d)},r)},Cv=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},Tv=e=>(...t)=>P.asap(()=>e(...t)),o3=Ye.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Ye.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Ye.origin),Ye.navigator&&/(msie|trident)/i.test(Ye.navigator.userAgent)):()=>!0,s3=Ye.hasStandardBrowserEnv?{write(e,t,r,n,i,a){const o=[e+"="+encodeURIComponent(t)];P.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),P.isString(n)&&o.push("path="+n),P.isString(i)&&o.push("domain="+i),a===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function l3(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function c3(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function k1(e,t,r){let n=!l3(t);return e&&(n||r==!1)?c3(e,t):t}const Rv=e=>e instanceof ut?{...e}:e;function hn(e,t){t=t||{};const r={};function n(u,c,d,f){return P.isPlainObject(u)&&P.isPlainObject(c)?P.merge.call({caseless:f},u,c):P.isPlainObject(c)?P.merge({},c):P.isArray(c)?c.slice():c}function i(u,c,d,f){if(P.isUndefined(c)){if(!P.isUndefined(u))return n(void 0,u,d,f)}else return n(u,c,d,f)}function a(u,c){if(!P.isUndefined(c))return n(void 0,c)}function o(u,c){if(P.isUndefined(c)){if(!P.isUndefined(u))return n(void 0,u)}else return n(void 0,c)}function s(u,c,d){if(d in t)return n(u,c);if(d in e)return n(void 0,u)}const l={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:s,headers:(u,c,d)=>i(Rv(u),Rv(c),d,!0)};return P.forEach(Object.keys({...e,...t}),function(c){const d=l[c]||i,f=d(e[c],t[c],c);P.isUndefined(f)&&d!==s||(r[c]=f)}),r}const A1=e=>{const t=hn({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:a,headers:o,auth:s}=t;if(t.headers=o=ut.from(o),t.url=S1(k1(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),s&&o.set("Authorization","Basic "+btoa((s.username||"")+":"+(s.password?unescape(encodeURIComponent(s.password)):""))),P.isFormData(r)){if(Ye.hasStandardBrowserEnv||Ye.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(P.isFunction(r.getHeaders)){const l=r.getHeaders(),u=["content-type","content-length"];Object.entries(l).forEach(([c,d])=>{u.includes(c.toLowerCase())&&o.set(c,d)})}}if(Ye.hasStandardBrowserEnv&&(n&&P.isFunction(n)&&(n=n(t)),n||n!==!1&&o3(t.url))){const l=i&&a&&s3.read(a);l&&o.set(i,l)}return t},u3=typeof XMLHttpRequest<"u",d3=u3&&function(e){return new Promise(function(r,n){const i=A1(e);let a=i.data;const o=ut.from(i.headers).normalize();let{responseType:s,onUploadProgress:l,onDownloadProgress:u}=i,c,d,f,h,m;function g(){h&&h(),m&&m(),i.cancelToken&&i.cancelToken.unsubscribe(c),i.signal&&i.signal.removeEventListener("abort",c)}let v=new XMLHttpRequest;v.open(i.method.toUpperCase(),i.url,!0),v.timeout=i.timeout;function b(){if(!v)return;const w=ut.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),S={data:!s||s==="text"||s==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:w,config:e,request:v};O1(function(j){r(j),g()},function(j){n(j),g()},S),v=null}"onloadend"in v?v.onloadend=b:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(b)},v.onabort=function(){v&&(n(new K("Request aborted",K.ECONNABORTED,e,v)),v=null)},v.onerror=function(_){const S=_&&_.message?_.message:"Network Error",E=new K(S,K.ERR_NETWORK,e,v);E.event=_||null,n(E),v=null},v.ontimeout=function(){let _=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const S=i.transitional||E1;i.timeoutErrorMessage&&(_=i.timeoutErrorMessage),n(new K(_,S.clarifyTimeoutError?K.ETIMEDOUT:K.ECONNABORTED,e,v)),v=null},a===void 0&&o.setContentType(null),"setRequestHeader"in v&&P.forEach(o.toJSON(),function(_,S){v.setRequestHeader(S,_)}),P.isUndefined(i.withCredentials)||(v.withCredentials=!!i.withCredentials),s&&s!=="json"&&(v.responseType=i.responseType),u&&([f,m]=rs(u,!0),v.addEventListener("progress",f)),l&&v.upload&&([d,h]=rs(l),v.upload.addEventListener("progress",d),v.upload.addEventListener("loadend",h)),(i.cancelToken||i.signal)&&(c=w=>{v&&(n(!w||w.type?new hi(null,e,v):w),v.abort(),v=null)},i.cancelToken&&i.cancelToken.subscribe(c),i.signal&&(i.signal.aborted?c():i.signal.addEventListener("abort",c)));const x=n3(i.url);if(x&&Ye.protocols.indexOf(x)===-1){n(new K("Unsupported protocol "+x+":",K.ERR_BAD_REQUEST,e));return}v.send(a||null)})},f3=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,i;const a=function(u){if(!i){i=!0,s();const c=u instanceof Error?u:this.reason;n.abort(c instanceof K?c:new hi(c instanceof Error?c.message:c))}};let o=t&&setTimeout(()=>{o=null,a(new K(`timeout ${t} of ms exceeded`,K.ETIMEDOUT))},t);const s=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(a):u.removeEventListener("abort",a)}),e=null)};e.forEach(u=>u.addEventListener("abort",a));const{signal:l}=n;return l.unsubscribe=()=>P.asap(s),l}},h3=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,i;for(;n<r;)i=n+t,yield e.slice(n,i),n=i},p3=async function*(e,t){for await(const r of m3(e))yield*h3(r,t)},m3=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},Iv=(e,t,r,n)=>{const i=p3(e,t);let a=0,o,s=l=>{o||(o=!0,n&&n(l))};return new ReadableStream({async pull(l){try{const{done:u,value:c}=await i.next();if(u){s(),l.close();return}let d=c.byteLength;if(r){let f=a+=d;r(f)}l.enqueue(new Uint8Array(c))}catch(u){throw s(u),u}},cancel(l){return s(l),i.return()}},{highWaterMark:2})},$v=64*1024,{isFunction:Qa}=P,g3=(({Request:e,Response:t})=>({Request:e,Response:t}))(P.global),{ReadableStream:Dv,TextEncoder:Mv}=P.global,Nv=(e,...t)=>{try{return!!e(...t)}catch{return!1}},v3=e=>{e=P.merge.call({skipUndefined:!0},g3,e);const{fetch:t,Request:r,Response:n}=e,i=t?Qa(t):typeof fetch=="function",a=Qa(r),o=Qa(n);if(!i)return!1;const s=i&&Qa(Dv),l=i&&(typeof Mv=="function"?(m=>g=>m.encode(g))(new Mv):async m=>new Uint8Array(await new r(m).arrayBuffer())),u=a&&s&&Nv(()=>{let m=!1;const g=new r(Ye.origin,{body:new Dv,method:"POST",get duplex(){return m=!0,"half"}}).headers.has("Content-Type");return m&&!g}),c=o&&s&&Nv(()=>P.isReadableStream(new n("").body)),d={stream:c&&(m=>m.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(m=>{!d[m]&&(d[m]=(g,v)=>{let b=g&&g[m];if(b)return b.call(g);throw new K(`Response type '${m}' is not supported`,K.ERR_NOT_SUPPORT,v)})});const f=async m=>{if(m==null)return 0;if(P.isBlob(m))return m.size;if(P.isSpecCompliantForm(m))return(await new r(Ye.origin,{method:"POST",body:m}).arrayBuffer()).byteLength;if(P.isArrayBufferView(m)||P.isArrayBuffer(m))return m.byteLength;if(P.isURLSearchParams(m)&&(m=m+""),P.isString(m))return(await l(m)).byteLength},h=async(m,g)=>{const v=P.toFiniteNumber(m.getContentLength());return v??f(g)};return async m=>{let{url:g,method:v,data:b,signal:x,cancelToken:w,timeout:_,onDownloadProgress:S,onUploadProgress:E,responseType:j,headers:k,withCredentials:A="same-origin",fetchOptions:I}=A1(m),C=t||fetch;j=j?(j+"").toLowerCase():"text";let $=f3([x,w&&w.toAbortSignal()],_),U=null;const T=$&&$.unsubscribe&&(()=>{$.unsubscribe()});let L;try{if(E&&u&&v!=="get"&&v!=="head"&&(L=await h(k,b))!==0){let ne=new r(g,{method:"POST",body:b,duplex:"half"}),F;if(P.isFormData(b)&&(F=ne.headers.get("content-type"))&&k.setContentType(F),ne.body){const[V,ae]=Cv(L,rs(Tv(E)));b=Iv(ne.body,$v,V,ae)}}P.isString(A)||(A=A?"include":"omit");const M=a&&"credentials"in r.prototype,W={...I,signal:$,method:v.toUpperCase(),headers:k.normalize().toJSON(),body:b,duplex:"half",credentials:M?A:void 0};U=a&&new r(g,W);let J=await(a?C(U,I):C(g,W));const X=c&&(j==="stream"||j==="response");if(c&&(S||X&&T)){const ne={};["status","statusText","headers"].forEach(ee=>{ne[ee]=J[ee]});const F=P.toFiniteNumber(J.headers.get("content-length")),[V,ae]=S&&Cv(F,rs(Tv(S),!0))||[];J=new n(Iv(J.body,$v,V,()=>{ae&&ae(),T&&T()}),ne)}j=j||"text";let pe=await d[P.findKey(d,j)||"text"](J,m);return!X&&T&&T(),await new Promise((ne,F)=>{O1(ne,F,{data:pe,headers:ut.from(J.headers),status:J.status,statusText:J.statusText,config:m,request:U})})}catch(M){throw T&&T(),M&&M.name==="TypeError"&&/Load failed|fetch/i.test(M.message)?Object.assign(new K("Network Error",K.ERR_NETWORK,m,U),{cause:M.cause||M}):K.from(M,M&&M.code,m,U)}}},y3=new Map,C1=e=>{let t=e?e.env:{};const{fetch:r,Request:n,Response:i}=t,a=[n,i,r];let o=a.length,s=o,l,u,c=y3;for(;s--;)l=a[s],u=c.get(l),u===void 0&&c.set(l,u=s?new Map:v3(t)),c=u;return u};C1();const Gu={http:DF,xhr:d3,fetch:{get:C1}};P.forEach(Gu,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Lv=e=>`- ${e}`,b3=e=>P.isFunction(e)||e===null||e===!1,T1={getAdapter:(e,t)=>{e=P.isArray(e)?e:[e];const{length:r}=e;let n,i;const a={};for(let o=0;o<r;o++){n=e[o];let s;if(i=n,!b3(n)&&(i=Gu[(s=String(n)).toLowerCase()],i===void 0))throw new K(`Unknown adapter '${s}'`);if(i&&(P.isFunction(i)||(i=i.get(t))))break;a[s||"#"+o]=i}if(!i){const o=Object.entries(a).map(([l,u])=>`adapter ${l} `+(u===!1?"is not supported by the environment":"is not available in the build"));let s=r?o.length>1?`since :
`+o.map(Lv).join(`
`):" "+Lv(o[0]):"as no adapter specified";throw new K("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return i},adapters:Gu};function Lc(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new hi(null,e)}function Bv(e){return Lc(e),e.headers=ut.from(e.headers),e.data=Nc.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),T1.getAdapter(e.adapter||Sa.adapter,e)(e).then(function(n){return Lc(e),n.data=Nc.call(e,e.transformResponse,n),n.headers=ut.from(n.headers),n},function(n){return P1(n)||(Lc(e),n&&n.response&&(n.response.data=Nc.call(e,e.transformResponse,n.response),n.response.headers=ut.from(n.response.headers))),Promise.reject(n)})}const R1="1.12.2",Fs={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Fs[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const Uv={};Fs.transitional=function(t,r,n){function i(a,o){return"[Axios v"+R1+"] Transitional option '"+a+"'"+o+(n?". "+n:"")}return(a,o,s)=>{if(t===!1)throw new K(i(o," has been removed"+(r?" in "+r:"")),K.ERR_DEPRECATED);return r&&!Uv[o]&&(Uv[o]=!0,console.warn(i(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(a,o,s):!0}};Fs.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function w3(e,t,r){if(typeof e!="object")throw new K("options must be an object",K.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let i=n.length;for(;i-- >0;){const a=n[i],o=t[a];if(o){const s=e[a],l=s===void 0||o(s,a,e);if(l!==!0)throw new K("option "+a+" must be "+l,K.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new K("Unknown option "+a,K.ERR_BAD_OPTION)}}const uo={assertOptions:w3,validators:Fs},Yt=uo.validators;let ln=class{constructor(t){this.defaults=t||{},this.interceptors={request:new kv,response:new kv}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const a=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?a&&!String(n.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+a):n.stack=a}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=hn(this.defaults,r);const{transitional:n,paramsSerializer:i,headers:a}=r;n!==void 0&&uo.assertOptions(n,{silentJSONParsing:Yt.transitional(Yt.boolean),forcedJSONParsing:Yt.transitional(Yt.boolean),clarifyTimeoutError:Yt.transitional(Yt.boolean)},!1),i!=null&&(P.isFunction(i)?r.paramsSerializer={serialize:i}:uo.assertOptions(i,{encode:Yt.function,serialize:Yt.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),uo.assertOptions(r,{baseUrl:Yt.spelling("baseURL"),withXsrfToken:Yt.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=a&&P.merge(a.common,a[r.method]);a&&P.forEach(["delete","get","head","post","put","patch","common"],m=>{delete a[m]}),r.headers=ut.concat(o,a);const s=[];let l=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(r)===!1||(l=l&&g.synchronous,s.unshift(g.fulfilled,g.rejected))});const u=[];this.interceptors.response.forEach(function(g){u.push(g.fulfilled,g.rejected)});let c,d=0,f;if(!l){const m=[Bv.bind(this),void 0];for(m.unshift(...s),m.push(...u),f=m.length,c=Promise.resolve(r);d<f;)c=c.then(m[d++],m[d++]);return c}f=s.length;let h=r;for(;d<f;){const m=s[d++],g=s[d++];try{h=m(h)}catch(v){g.call(this,v);break}}try{c=Bv.call(this,h)}catch(m){return Promise.reject(m)}for(d=0,f=u.length;d<f;)c=c.then(u[d++],u[d++]);return c}getUri(t){t=hn(this.defaults,t);const r=k1(t.baseURL,t.url,t.allowAbsoluteUrls);return S1(r,t.params,t.paramsSerializer)}};P.forEach(["delete","get","head","options"],function(t){ln.prototype[t]=function(r,n){return this.request(hn(n||{},{method:t,url:r,data:(n||{}).data}))}});P.forEach(["post","put","patch"],function(t){function r(n){return function(a,o,s){return this.request(hn(s||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:a,data:o}))}}ln.prototype[t]=r(),ln.prototype[t+"Form"]=r(!0)});let x3=class I1{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(a){r=a});const n=this;this.promise.then(i=>{if(!n._listeners)return;let a=n._listeners.length;for(;a-- >0;)n._listeners[a](i);n._listeners=null}),this.promise.then=i=>{let a;const o=new Promise(s=>{n.subscribe(s),a=s}).then(i);return o.cancel=function(){n.unsubscribe(a)},o},t(function(a,o,s){n.reason||(n.reason=new hi(a,o,s),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new I1(function(i){t=i}),cancel:t}}};function _3(e){return function(r){return e.apply(null,r)}}function S3(e){return P.isObject(e)&&e.isAxiosError===!0}const Yu={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Yu).forEach(([e,t])=>{Yu[t]=e});function $1(e){const t=new ln(e),r=d1(ln.prototype.request,t);return P.extend(r,ln.prototype,t,{allOwnKeys:!0}),P.extend(r,t,null,{allOwnKeys:!0}),r.create=function(i){return $1(hn(e,i))},r}const we=$1(Sa);we.Axios=ln;we.CanceledError=hi;we.CancelToken=x3;we.isCancel=P1;we.VERSION=R1;we.toFormData=Us;we.AxiosError=K;we.Cancel=we.CanceledError;we.all=function(t){return Promise.all(t)};we.spread=_3;we.isAxiosError=S3;we.mergeConfig=hn;we.AxiosHeaders=ut;we.formToJSON=e=>j1(P.isHTMLForm(e)?new FormData(e):e);we.getAdapter=T1.getAdapter;we.HttpStatusCode=Yu;we.default=we;const{Axios:eq,AxiosError:tq,CanceledError:rq,isCancel:nq,CancelToken:iq,VERSION:aq,all:oq,Cancel:sq,isAxiosError:lq,spread:cq,toFormData:uq,AxiosHeaders:dq,HttpStatusCode:fq,formToJSON:hq,getAdapter:pq,mergeConfig:mq}=we;function E3(){const[e,t]=y.useState([]),[r,n]=y.useState(null),[i,a]=y.useState(!0),o=ir(),{t:s}=Ee();y.useEffect(()=>{(async()=>{var d;if(o){a(!0);try{const f=await we.get(`http://127.0.0.1:8001/history?client_id=${o}`);console.log("📦 Historial recibido:",f.data);let h=[];const m=f.data;Array.isArray(m==null?void 0:m.history)?h=m.history:Array.isArray((d=m==null?void 0:m.history)==null?void 0:d.history)?h=m.history.history:Array.isArray(m==null?void 0:m.data)?h=m.data:console.warn("⚠️ Estructura de historial desconocida:",m),t(h),console.log("✅ Historial normalizado:",h)}catch(f){console.error("❌ Error cargando historial:",f),t([])}finally{a(!1)}}})()},[o]);const l=e.reduce((c,d)=>{const f=d.session_id||"default";return c[f]||(c[f]=[]),c[f].push(d),c},{}),u=c=>{n(r===c?null:c)};return y.useEffect(()=>{const c=Object.keys(l);c.length>0&&!r&&n(c[c.length-1])},[e]),p.jsx("div",{style:{backgroundColor:"#0f1c2e",minHeight:"100vh",padding:"2rem",color:"white",display:"flex",justifyContent:"center",alignItems:"flex-start",fontFamily:"system-ui, sans-serif"},children:p.jsxs("div",{style:{maxWidth:"900px",width:"100%",backgroundColor:"#1b2a41",padding:"2rem",borderRadius:"16px",boxShadow:"0 10px 30px rgba(0,0,0,0.2)",border:"1px solid #274472"},children:[p.jsx("h2",{style:{fontSize:"1.8rem",fontWeight:"bold",color:"#f5a623",marginBottom:"1.5rem"},children:s("message_history")||"Message History"}),i?p.jsx("p",{style:{color:"#ededed"},children:s("loading_history")||"Loading history..."}):Object.keys(l).length===0?p.jsx("p",{style:{color:"#ededed"},children:s("no_messages_yet")||"No messages yet."}):p.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:Object.entries(l).map(([c,d])=>{const f=d[0],h=d[d.length-1],m=new Date(h.created_at).toLocaleString(),g=f.channel||"chat";return p.jsxs("div",{style:{backgroundColor:"#ededed",color:"#1b2a41",borderRadius:"12px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",border:"1px solid #a3d9b1",overflow:"hidden"},children:[p.jsxs("div",{onClick:()=>u(c),style:{cursor:"pointer",padding:"1rem 1.2rem",backgroundColor:"#a3d9b1",display:"flex",justifyContent:"space-between",alignItems:"center",transition:"background 0.2s ease"},onMouseEnter:v=>v.currentTarget.style.background="#b8e3c4",onMouseLeave:v=>v.currentTarget.style.background="#a3d9b1",children:[p.jsxs("div",{children:[p.jsx("strong",{style:{color:"#0f1c2e"},children:c==="default"?"Main session":`Session: ${c.slice(0,8)}...`}),p.jsxs("div",{style:{fontSize:"0.85rem",color:"#274472"},children:["Channel: ",g," | Messages: ",d.length]})]}),p.jsx("div",{style:{color:"#274472",fontSize:"0.85rem"},children:r===c?"▲ Collapse":"▼ Expand"})]}),r===c&&p.jsxs("div",{style:{padding:"1rem",backgroundColor:"#f9fafb",borderTop:"1px solid #a3d9b1"},children:[d.sort((v,b)=>new Date(v.created_at)-new Date(b.created_at)).map((v,b)=>p.jsxs("div",{style:{marginBottom:"0.8rem",backgroundColor:v.role==="user"?"#ffffff":"#e6eefc",borderLeft:`4px solid ${v.role==="user"?"#a3d9b1":"#4a90e2"}`,padding:"0.8rem 1rem",borderRadius:"8px"},children:[p.jsxs("div",{style:{fontSize:"0.8rem",color:"#64748b",marginBottom:"4px"},children:[new Date(v.created_at).toLocaleString()," | ",v.role]}),p.jsx("div",{style:{color:"#1b2a41",whiteSpace:"pre-wrap",fontSize:"0.95rem"},children:v.content||"(empty message)"})]},`${v.created_at}-${b}`)),p.jsxs("div",{style:{fontSize:"0.75rem",color:"#4a90e2",marginTop:"0.5rem",textAlign:"right"},children:["Last message: ",m]})]})]},c)})})]})})}const Oi=e=>/^\+\d{11,15}$/.test(e),ki=e=>/^\d{10,20}$/.test(e),Ai=e=>/^EA[A-Za-z0-9]{16,}$/.test(e);function j3(){const{t:e}=Ee(),[t,r]=y.useState("meta"),[n,i]=y.useState(""),[a,o]=y.useState(""),[s,l]=y.useState(""),[u,c]=y.useState({phone:!1,waPhoneId:!1,waToken:!1}),[d,f]=y.useState(null),[h,m]=y.useState({message:"",type:""}),[g,v]=y.useState(!1),b=ir();y.useEffect(()=>{const _=async()=>{const{data:{session:E}}=await Je.auth.getSession();f(E)},S=async()=>{try{const E=await we.get("http://127.0.0.1:8001/get_whatsapp_config",{params:{client_id:b}}),{phone:j,wa_phone_id:k,wa_token:A,provider:I}=E.data||{};j&&i(j),k&&o(k),A&&l(A),r(I==="meta"||I==="twilio"?I:"meta"),j&&(I==="twilio"||k&&A)&&v(!0)}catch(E){console.log("ℹ️ No config found or failed to fetch:",E)}};_(),S()},[b]);const x=async()=>{if(!d||!Oi(n)||t==="meta"&&(!ki(a)||!Ai(s)))return;const _={auth_user_id:d.user.id,email:d.user.email,phone:n,provider:t,wa_phone_id:t==="meta"?a:null,wa_token:t==="meta"?s:null};try{await we.post("http://127.0.0.1:8001/link_whatsapp",_),m({message:e("wa_success"),type:"success"}),v(!0)}catch(S){console.error(S),m({message:e("wa_error_linking"),type:"error"})}},w=(_,S)=>u[_]&&p.jsxs("p",{style:A3,children:[_==="phone"&&!Oi(S)&&e("wa_error_phone"),_==="waPhoneId"&&!ki(S)&&e("wa_error_phone_id"),_==="waToken"&&!Ai(S)&&e("wa_error_token")]});return p.jsx("div",{style:P3,children:p.jsxs("div",{style:O3,children:[p.jsx("div",{style:C3,children:p.jsxs("h2",{style:k3,children:["💬 ",e("wa_setup_title")]})}),p.jsxs("div",{style:to,children:[p.jsx("label",{style:Fv,children:e("wa_choose_provider")}),p.jsxs("select",{value:t,onChange:_=>r(_.target.value),disabled:g,style:{...eo,backgroundColor:g?"#1b2a41":"#0f1c2e",color:g?"#aaa":"white",cursor:g?"not-allowed":"pointer",fontWeight:"bold",border:"1px solid #4a90e2",appearance:"none",backgroundImage:`url("data:image/svg+xml;utf8,<svg fill='white' height='24' viewBox='0 0 24 24' width='24' xmlns='http://www.w3.org/2000/svg'><path d='M7 10l5 5 5-5z'/></svg>")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 0.75rem center",paddingRight:"2rem",marginBottom:"1.5rem"},children:[p.jsx("option",{value:"meta",children:e("wa_provider_meta")}),p.jsx("option",{value:"twilio",children:e("wa_provider_twilio")})]})]}),p.jsxs("div",{style:to,children:[p.jsx("label",{style:Fv,children:e("wa_label_phone")}),p.jsx("input",{type:"text",placeholder:"+52XXXXXXXXXXXX",value:n,onChange:_=>i(_.target.value),onBlur:()=>c(_=>({..._,phone:!0})),disabled:g,style:eo}),w("phone",n)]}),t==="meta"&&p.jsxs(p.Fragment,{children:[p.jsxs("div",{style:to,children:[p.jsx("input",{type:"text",placeholder:e("wa_placeholder_phone_id"),value:a,onChange:_=>o(_.target.value),onBlur:()=>c(_=>({..._,waPhoneId:!0})),disabled:g,style:eo}),w("waPhoneId",a)]}),p.jsxs("div",{style:to,children:[p.jsx("input",{type:"text",placeholder:e("wa_placeholder_token"),value:s,onChange:_=>l(_.target.value),onBlur:()=>c(_=>({..._,waToken:!0})),disabled:g,style:eo}),w("waToken",s)]})]}),!g&&p.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[p.jsxs("button",{onClick:x,disabled:!Oi(n)||t==="meta"&&(!ki(a)||!Ai(s)),style:{...zv,opacity:Oi(n)&&(t==="twilio"||ki(a)&&Ai(s))?1:.5,cursor:Oi(n)&&(t==="twilio"||ki(a)&&Ai(s))?"pointer":"not-allowed"},children:["📲 ",e("wa_button_link")]}),p.jsxs("button",{onClick:()=>window.history.back(),style:{...zv,backgroundColor:"#ededed",color:"#1b2a41"},children:["⬅️ ",e("wa_button_back")]})]}),h.message&&p.jsx("p",{style:{marginTop:"1rem",fontWeight:"bold",color:h.type==="error"?"#f87171":"#a3d9b1"},children:h.message})]})})}const P3={padding:"2rem",fontFamily:"system-ui, sans-serif",backgroundColor:"#0f1c2e",color:"white",minHeight:"100vh",display:"flex",justifyContent:"center"},O3={backgroundColor:"#1b2a41",padding:"2rem",borderRadius:"16px",maxWidth:"600px",width:"100%",boxShadow:"0 10px 30px rgba(0,0,0,0.2)",border:"1px solid #274472"},k3={fontSize:"1.8rem",fontWeight:"bold",color:"#f5a623",margin:0},Fv={fontWeight:600,fontSize:"0.95rem",color:"#ededed",marginBottom:"0.25rem"},eo={width:"100%",padding:"0.6rem",borderRadius:"8px",border:"1px solid #4a90e2",marginBottom:"0.5rem",backgroundColor:"#0f1c2e",color:"white"},A3={fontSize:"0.8rem",color:"#f87171",marginTop:"-0.5rem",marginBottom:"1rem"},to={marginBottom:"1.5rem"},zv={backgroundColor:"#4a90e2",color:"white",padding:"0.7rem 1.2rem",borderRadius:"8px",fontWeight:"bold",border:"none",cursor:"pointer"},C3={display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"};function T3(){return p.jsxs("div",{style:{padding:"2rem"},children:[p.jsx("h2",{style:{color:"#274472"},children:"🧰 Servicios Disponibles"}),p.jsxs("ul",{style:{marginTop:"1rem",fontSize:"1.1rem"},children:[p.jsx("li",{children:"🧠 Chat Assistant"}),p.jsx("li",{children:"✉️ Email"}),p.jsx("li",{children:"💬 WhatsApp"})]}),p.jsx("p",{style:{marginTop:"1rem",color:"#666"},children:"Usa el menú lateral para configurar cada servicio."})]})}const R3="http://127.0.0.1:8001";function D1(){const[e,t]=y.useState(null),[r,n]=y.useState(null),[i,a]=y.useState(null),[o,s]=y.useState(!0),l=Dt(),u=St(),c=["/","/login","/register","/confirm","/forgot-password","/reset-password","/verify-mfa","/welcome","/chat-widget","/widget","/widget-preview"];return y.useEffect(()=>{(async()=>{let f=0,h=null;for(console.log("%c🔄 Buscando sesión activa...","color: #4a90e2; font-weight: bold");!h&&f<5&&(h=(await Je.auth.getSession()).data.session,!h);)await new Promise(g=>setTimeout(g,300)),f++;if(!h||!h.user){console.warn("%c⛔ No hay sesión. Redirigiendo a /verify-mfa","color: #e74c3c; font-weight: bold"),t(null),n(null),a(null),s(!1),["/login","/register","/forgot-password","/reset-password"].includes(u.pathname)||l("/verify-mfa",{replace:!0});return}console.log(`%c✅ Sesión activa como: ${h.user.email}`,"color: #2ecc71; font-weight: bold");try{const m=await fetch(`${R3}/initialize_user`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({auth_user_id:h.user.id,email:h.user.email})});let g={};try{g=await m.json()}catch(b){console.error("%c❌ Error parsing JSON:","color: #e74c3c",b),g={}}if(!m.ok){console.error("%c❌ Error en /initialize_user:","color: #e74c3c; font-weight: bold",g),s(!1);return}console.log("%c📡 Datos de /initialize_user:","color: #3498db; font-weight: bold",g),t(h),n(g.client_id),a(g.public_client_id),localStorage.setItem("client_id",g.client_id),localStorage.setItem("public_client_id",g.public_client_id),localStorage.setItem("user_id",h.user.id),s(!1);const v=sessionStorage.getItem("alreadyRedirected");c.includes(u.pathname)?g.is_new_user&&!v?(console.log("%c📥 Usuario nuevo → Redirigiendo a /welcome","color: #f5a623; font-weight: bold"),sessionStorage.setItem("alreadyRedirected","true"),l("/welcome",{replace:!0})):!v&&u.pathname==="/login"?(console.log("%c🏠 Usuario existente. Redirigiendo a /dashboard","color: #f5a623; font-weight: bold"),l("/dashboard",{replace:!0})):console.log("%c🛑 Ruta pública correcta, no redirigir:","color: #3498db",u.pathname):console.log("%c🛑 Ruta privada detectada. No redirigir.","color: #3498db")}catch(m){console.error("%c❌ Error de red al llamar a /initialize_user:","color: #e74c3c; font-weight: bold",m),s(!1)}})()},[l,u.pathname]),{session:e,clientId:r,publicClientId:i,loading:o}}function I3(){const{publicClientId:e,loading:t}=D1(),{t:r}=Ee(),n=s=>{navigator.clipboard.writeText(s),alert(`📋 ${r("copied_to_clipboard")}`)},i=window.location.hostname.includes("localhost")?"http://localhost:5180/static":"https://evolvian-assistant.onrender.com/static",a=`<script
  type="module"
  src="${i}/embed-floating.js"
  data-public-client-id="${e}"
><\/script>`,o=`<iframe
  src="${i}/widget.html?public_client_id=${e||"TU_ID_PUBLICO"}"
  style="width:360px;height:520px;border:none;border-radius:12px;"
  allow="clipboard-write; microphone"
  title="Evolvian AI Chat Widget"
></iframe>`;return t?p.jsx("div",{style:qv,children:p.jsxs("div",{style:{color:"#ededed"},children:["🔄 ",r("loading_setup")]})}):p.jsx("div",{style:qv,children:p.jsxs("div",{style:{maxWidth:"1400px",margin:"0 auto"},children:[p.jsxs("h2",{style:$3,children:["🧠 ",r("setup_evolvian_web")]}),p.jsx("p",{style:D3,children:r("setup_description")}),p.jsxs("div",{style:M3,children:[p.jsxs("div",{children:[p.jsxs("strong",{children:[r("your_public_id"),":"]})," ",p.jsx("span",{style:{color:"#a3d9b1"},children:e||r("not_available")})]}),p.jsx("button",{onClick:()=>n(e),disabled:!e,style:N3(e),children:r("copy_id")})]}),p.jsxs("div",{style:L3,children:[p.jsxs("div",{style:Wv,children:[p.jsxs("h3",{style:Hv,children:["🔹 ",r("option1_title")]}),p.jsxs("p",{style:Kv,children:["💡 ",r("option1_hint")]}),p.jsxs("ol",{style:Vv,children:[p.jsxs("li",{children:["1️⃣ ",r("copy_script")]}),p.jsxs("li",{children:["2️⃣ ",r("paste_before_body")]}),p.jsxs("li",{children:["3️⃣ ",r("save_and_reload")]})]}),p.jsx("pre",{style:ro,children:a}),p.jsx("button",{onClick:()=>n(a),style:Gv,children:r("copy_script_button")})]}),p.jsxs("div",{style:Wv,children:[p.jsxs("h3",{style:Hv,children:["🔹 ",r("option2_title")]}),p.jsxs("p",{style:Kv,children:["💡 ",r("option2_hint")]}),p.jsxs("ol",{style:Vv,children:[p.jsxs("li",{children:["1️⃣ ",r("copy_code")]}),p.jsxs("li",{children:["2️⃣ ",r("paste_where_visible")]}),p.jsxs("li",{children:["3️⃣ ",r("adjust_size_if_needed")]})]}),p.jsx("pre",{style:ro,children:o}),p.jsx("button",{onClick:()=>n(o),style:Gv,children:r("copy_iframe")})]})]}),p.jsxs("div",{style:B3,children:[p.jsx("h2",{style:U3,children:"📖 Step-by-Step Installation Guide"}),p.jsxs("div",{style:Ci,children:[p.jsxs("div",{style:Ti,children:[p.jsx("h3",{style:Ii,children:"Step 1 — Get Your Public Client ID"}),p.jsxs("p",{style:In,children:["Go to your ",p.jsx("strong",{children:"Evolvian Dashboard → Settings"}),". Copy your ",p.jsx("code",{children:"public_client_id"}),". You’ll use it in both widget and iframe integrations."]})]}),p.jsx("div",{style:Ri,children:p.jsx("img",{src:"/assets/step1.gif",alt:"Step 1: Copy public client ID",style:$i})})]}),p.jsxs("div",{style:Ci,children:[p.jsxs("div",{style:Ti,children:[p.jsx("h3",{style:Ii,children:"Step 2 — Add the Script to Your Site"}),p.jsxs("p",{style:In,children:["Insert the script snippet just before the closing"," ",p.jsx("code",{children:"</body>"})," tag on your website."]}),p.jsx("p",{style:In,children:"This will automatically display the Evolvian floating chat button in the bottom-right corner of your page."}),p.jsx("pre",{style:ro,children:a})]}),p.jsx("div",{style:Ri,children:p.jsx("img",{src:"/assets/step2.gif",alt:"Step 2: Insert script before body tag",style:$i})})]}),p.jsxs("div",{style:Ci,children:[p.jsxs("div",{style:Ti,children:[p.jsx("h3",{style:Ii,children:"Step 3 — (Alternative) Use Iframe Mode"}),p.jsx("p",{style:In,children:"If you prefer a fixed chat window (e.g., on a “Contact” page), use the iframe version instead. You can control its position and design freely within your layout."}),p.jsx("pre",{style:ro,children:o})]}),p.jsx("div",{style:Ri,children:p.jsx("img",{src:"/assets/step3.gif",alt:"Step 3: Embed iframe version",style:$i})})]}),p.jsxs("div",{style:Ci,children:[p.jsxs("div",{style:Ti,children:[p.jsx("h3",{style:Ii,children:"Step 4 — Test and Verify"}),p.jsx("p",{style:In,children:"Once embedded, verify that:"}),p.jsxs("ul",{style:Yv,children:[p.jsx("li",{children:"✅ The chat icon appears correctly."}),p.jsx("li",{children:"✅ It opens your assistant window."}),p.jsx("li",{children:"✅ Messages work and appear in your dashboard."})]})]}),p.jsx("div",{style:Ri,children:p.jsx("img",{src:"/assets/step4.gif",alt:"Step 4: Test and verify chat widget",style:$i})})]}),p.jsxs("div",{style:Ci,children:[p.jsxs("div",{style:Ti,children:[p.jsx("h3",{style:Ii,children:"Step 5 — Troubleshooting"}),p.jsx("p",{style:In,children:"If the widget doesn’t appear, check:"}),p.jsxs("ul",{style:Yv,children:[p.jsxs("li",{children:["🔧 Correct ",p.jsx("strong",{children:"public_client_id"}),"."]}),p.jsx("li",{children:"🌐 Your site allows external scripts (no CSP block)."}),p.jsx("li",{children:"📦 Saved & reloaded after insertion."}),p.jsxs("li",{children:["🚀 Contact"," ",p.jsx("a",{href:"mailto:support@evolvianai.com",style:{color:"#4a90e2"},children:"support@evolvianai.com"})," ","if it still fails."]})]})]}),p.jsx("div",{style:Ri,children:p.jsx("img",{src:"/assets/step5.gif",alt:"Step 5: Troubleshooting tips",style:$i})})]})]})]})})}const qv={padding:"2rem 3rem",fontFamily:"system-ui, sans-serif",backgroundColor:"#0f1c2e",color:"#ffffff",minHeight:"100vh"},$3={fontSize:"2rem",color:"#f5a623",fontWeight:"bold",marginBottom:"1rem"},D3={color:"#ffffff",maxWidth:"800px",marginBottom:"2rem"},M3={backgroundColor:"#1b2a41",padding:"1rem",borderRadius:"12px",marginBottom:"2rem",display:"flex",alignItems:"center",justifyContent:"space-between",maxWidth:"600px",border:"1px solid #274472"},N3=e=>({backgroundColor:"#4a90e2",color:"white",border:"none",borderRadius:"8px",padding:"0.5rem 1rem",fontWeight:"bold",cursor:e?"pointer":"not-allowed",opacity:e?1:.5}),L3={display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(400px, 1fr))",gap:"2rem",marginTop:"2rem"},Wv={display:"flex",flexDirection:"column",justifyContent:"space-between",backgroundColor:"#1b2a41",border:"1px solid #274472",padding:"1.5rem",borderRadius:"12px",minHeight:"460px",boxShadow:"0 4px 10px rgba(0,0,0,0.25)"},Hv={color:"#f5a623",fontSize:"1.2rem",marginBottom:"0.75rem",fontWeight:"600"},Kv={fontSize:"0.85rem",color:"#a3d9b1",marginBottom:"1rem"},Vv={fontSize:"0.85rem",marginBottom:"1rem"},ro={background:"#ededed",color:"#274472",padding:"1rem",borderRadius:"8px",fontSize:"0.75rem",overflowX:"auto",marginBottom:"0.5rem"},Gv={backgroundColor:"#f5a623",color:"#1b2a41",border:"none",borderRadius:"8px",padding:"0.5rem 1rem",fontWeight:"bold",fontSize:"0.85rem",cursor:"pointer",transition:"0.2s ease all"},B3={marginTop:"3rem",backgroundColor:"rgba(27,42,65,0.6)",border:"1px solid #274472",borderRadius:"16px",padding:"2rem",backdropFilter:"blur(8px)"},U3={color:"#a3d9b1",fontSize:"1.6rem",fontWeight:"bold",marginBottom:"1.5rem",textAlign:"center"},Ci={display:"grid",gridTemplateColumns:"1fr 350px",gap:"1.5rem",alignItems:"center",marginBottom:"2rem"},Ti={backgroundColor:"#1b2a41",border:"1px solid #274472",borderRadius:"12px",padding:"1.5rem",boxShadow:"0 4px 12px rgba(0,0,0,0.25)"},Ri={textAlign:"center"},Ii={color:"#f5a623",fontSize:"1.1rem",fontWeight:"bold",marginBottom:"0.5rem"},In={color:"#ededed",fontSize:"0.95rem",marginBottom:"0.8rem",lineHeight:"1.5"},Yv={color:"#ededed",fontSize:"0.9rem",lineHeight:"1.6",marginLeft:"1.2rem"},$i={maxWidth:"100%",borderRadius:"12px",border:"1px solid #274472",boxShadow:"0 4px 10px rgba(0,0,0,0.25)"};function F3(){const[e,t]=y.useState(""),[r,n]=y.useState(!1),i=ir(),{t:a}=Ee();y.useEffect(()=>{(async()=>{if(!i)return;const{data:l}=await Je.from("clients").select("email_forward").eq("id",i).single();l!=null&&l.email_forward&&t(l.email_forward)})()},[i]);const o=async()=>{if(!i||!e)return;const{error:s}=await Je.from("clients").update({email_forward:e}).eq("id",i);s||n(!0)};return p.jsx("div",{style:z3,children:p.jsxs("div",{style:q3,children:[p.jsxs("h2",{style:W3,children:["✉️ ",a("setup_email_assistant")]}),p.jsx("p",{style:Jv,children:a("email_instructions_intro")}),p.jsx("code",{style:H3,children:"contacto@tudominio.com → evolvian@correo.evolvian.app"}),p.jsx("p",{style:Jv,children:a("save_email_instruction")}),p.jsx("input",{type:"email",placeholder:a("email_placeholder"),value:e,onChange:s=>{t(s.target.value),n(!1)},style:K3}),p.jsx("button",{onClick:o,style:V3,children:a("save_address")}),r&&p.jsxs("p",{style:{color:"#a3d9b1",fontSize:"0.95rem"},children:["✅ ",a("address_saved")]}),p.jsxs("div",{style:{marginTop:"2rem",fontSize:"0.9rem",color:"#ededed"},children:[p.jsx("p",{children:p.jsx("strong",{children:a("how_it_works")})}),p.jsxs("ul",{style:G3,children:[p.jsxs("li",{children:["1️⃣ ",a("step1")]}),p.jsxs("li",{children:["2️⃣ ",a("step2")]}),p.jsxs("li",{children:["3️⃣ ",a("step3")]})]})]})]})})}const z3={backgroundColor:"#0f1c2e",minHeight:"100vh",padding:"2rem",fontFamily:"system-ui, sans-serif",color:"white",display:"flex",justifyContent:"center"},q3={backgroundColor:"#1b2a41",padding:"2rem",borderRadius:"16px",maxWidth:"600px",width:"100%",boxShadow:"0 10px 30px rgba(0,0,0,0.2)",border:"1px solid #274472"},W3={fontSize:"1.8rem",fontWeight:"bold",color:"#f5a623",marginBottom:"1.5rem"},Jv={marginBottom:"1rem"},H3={backgroundColor:"#ededed",color:"#274472",padding:"0.6rem 1rem",borderRadius:"8px",display:"block",marginBottom:"1.5rem"},K3={width:"100%",padding:"0.6rem",borderRadius:"8px",border:"1px solid #4a90e2",marginBottom:"1rem",backgroundColor:"#0f1c2e",color:"white"},V3={backgroundColor:"#4a90e2",color:"white",padding:"0.7rem 1.2rem",borderRadius:"8px",fontWeight:"bold",border:"none",cursor:"pointer",marginBottom:"1rem"},G3={marginTop:"0.5rem",paddingLeft:"1.2rem",lineHeight:"1.7"};function Y3({children:e,...t}){return p.jsx("button",{className:"w-full py-2.5 bg-[#2eb39a] hover:bg-[#26a488] text-white font-semibold rounded-lg transition",...t,children:e})}function Xv({children:e}){return p.jsx("div",{className:"w-full max-w-md bg-[#1b2a41] border border-[#274472] rounded-2xl p-8 shadow-lg text-white",children:e})}function J3(){const{t:e}=Ee(),t=ir(),[r,n]=y.useState(!1),[i,a]=y.useState([]),o=St(),s=Dt();y.useEffect(()=>{const u=new URLSearchParams(o.search);u.get("connected_calendar")==="true"&&(at({title:e("calendar_connected_title"),description:e("calendar_connected_description")}),u.delete("connected_calendar"),s({pathname:o.pathname,search:u.toString()},{replace:!0}))},[o,s]),y.useEffect(()=>{t&&fetch(`/api/calendar/status?client_id=${t}`).then(u=>u.json()).then(u=>{if(u.connected){n(!0);const c=(u.available_slots||[]).filter(d=>typeof d=="string"||typeof d=="number");a(c)}}).catch(()=>{at({title:e("calendar_error_title"),description:e("calendar_error_description"),variant:"destructive"})})},[t]);const l=()=>{const c=`http://127.0.0.1:8001/api/auth/google_calendar/init?client_id=${t}`;console.log("🔗 Redirigiendo a:",c),window.location.href=c};return p.jsxs("div",{className:"p-6 max-w-4xl mx-auto",children:[p.jsx("h1",{className:"text-2xl font-bold mb-4",children:e("calendar_title")}),p.jsxs(Xv,{children:[p.jsx("p",{className:"mb-4",children:e("calendar_description")}),p.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[p.jsx(Y3,{onClick:l,disabled:!t||r,children:e(r?"calendar_account_connected":"calendar_connect_button")}),r&&p.jsx("span",{className:"text-sm text-green-600 font-medium",children:e("calendar_active_connection")})]})]}),r&&p.jsx("div",{className:"mt-8",children:p.jsxs(Xv,{children:[p.jsx("h2",{className:"text-xl font-semibold mb-2",children:e("calendar_next_slots_title")}),i.length===0?p.jsx("p",{className:"text-sm text-gray-500",children:e("calendar_no_slots")}):p.jsx("ul",{className:"list-disc ml-5",children:i.map((u,c)=>{const d=new Date(u),f=!isNaN(d.getTime());return p.jsx("li",{className:"text-sm",children:f?d.toLocaleString():"⛔ Fecha inválida"},c)})})]})})]})}function X3({activeTab:e,formData:t,refetchSettings:r}){var C,$,U;const{t:n}=Ee(),i=ir(),a=St(),o=Dt(),[s,l]=y.useState(null),[u,c]=y.useState(""),[d,f]=y.useState(!1),[h,m]=y.useState(null);y.useEffect(()=>{(async()=>{var M;const{data:L}=await Je.auth.getUser();(M=L==null?void 0:L.user)!=null&&M.email&&c(L.user.email)})()},[]);const g=[{id:"free",name:"Free",price:"$0/mo",desc:"Test Evolvian with no cost.",features:["100 messages / month","1 document","Basic dashboard","Evolvian Chat Support"]},{id:"starter",name:"Starter",price:"$19/mo",desc:"Perfect for small businesses.",features:["1,000 messages / month","1 document","Email Support","Evolvian Chat Support"]},{id:"premium",name:"Premium",price:"$49/mo",desc:"Best for growth and automation.",features:["5,000 messages / month","3 documents","Custom Prompt","Evolvian Chat Support"],badge:"Most Popular"},{id:"white_label",name:"Enterprise",price:"Custom",desc:"Designed for enterprises & agencies.",features:["Unlimited messages & documents","Dedicated support & onboarding"],contact:"support@evolvianai.com"}],v={free:1,starter:2,premium:3,white_label:4},b=(($=(C=t==null?void 0:t.plan)==null?void 0:C.id)==null?void 0:$.toLowerCase())||"free",x=((U=t==null?void 0:t.plan)==null?void 0:U.name)||"Current Plan",w=!!(t!=null&&t.cancellation_requested_at);t!=null&&t.scheduled_plan_id;const _=t==null?void 0:t.subscription_end,S=T=>T?new Date(T).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"}):"";if(y.useEffect(()=>{new URLSearchParams(a.search).get("session_id")&&(at({title:n("subscription_activated_title"),description:n("subscription_activated_desc")}),r==null||r(),o("/dashboard"))},[a]),e!=="plan")return null;const E=async T=>{if(w)return at({title:"Plan change blocked",description:"You cannot change plans while a downgrade is pending."});try{if(!u){at({title:"Missing email",description:"Please sign in again."});return}l(T);const L=await fetch("http://127.0.0.1:8001/create-checkout-session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({plan_id:T,client_id:i,email:u})}),M=await L.json();if(L.ok&&M.url)window.location.href=M.url;else throw new Error(M.error||"Checkout session failed")}catch(L){at({title:"Upgrade failed",description:L.message})}finally{l(null)}},j=async T=>{if(w)return at({title:"Downgrade already scheduled",description:"You already have a pending downgrade request."});try{l(T);const L=await fetch("http://127.0.0.1:8001/change-plan",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:i,new_plan_id:T})}),M=await L.json();if(L.ok)at({title:"Plan updated",description:M.message||"Plan change scheduled."}),await(r==null?void 0:r()),setTimeout(()=>window.location.href="/dashboard",1e3);else throw new Error((M==null?void 0:M.error)||"Plan change failed")}catch(L){at({title:"Downgrade failed",description:L.message})}finally{l(null)}},k=async()=>{if(confirm(`Do you want to reactivate your ${x}?`))try{f(!0);const T=await fetch("http://127.0.0.1:8001/reactivate-subscription",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:i})}),L=await T.json();if(T.ok)at({title:"Subscription reactivated",description:`Your ${x} has been restored.`}),setTimeout(()=>window.location.href="/dashboard",1e3);else throw new Error((L==null?void 0:L.error)||"Error reactivating subscription")}catch(T){at({title:"Error",description:T.message})}finally{f(!1)}},A=T=>{const L=v[b],M=v[T];return M>L?"upgrade":M<L?"downgrade":"current"},I=({type:T,plan:L,onConfirm:M,onCancel:W})=>{const J=g.find(ne=>ne.id===b),X=g.find(ne=>ne.id===L.id),pe=T==="upgrade"?X.features.filter(ne=>!J.features.includes(ne)):J.features.filter(ne=>!X.features.includes(ne));return p.jsx("div",{className:"confirm-overlay",children:p.jsxs("div",{className:"confirm-window",children:[p.jsx("div",{className:"confirm-left",children:p.jsx("img",{src:"/logo-evolvian.svg",alt:"Evolvian Logo",className:"confirm-logo"})}),p.jsxs("div",{className:"confirm-right",children:[p.jsxs("h3",{children:[T==="upgrade"?"Upgrade Plan":"Downgrade Plan"," — ",J.name," → ",X.name]}),p.jsx("p",{children:T==="upgrade"?"You’re about to upgrade your plan. Your new plan will start immediately after confirmation.":`Your downgrade will take effect at the end of your current billing cycle ${_?`(${S(_)})`:""}.`}),pe.length>0&&p.jsxs(p.Fragment,{children:[p.jsx("h4",{children:T==="upgrade"?"You’ll gain:":"You’ll lose access to:"}),p.jsx("ul",{className:"feature-list",children:pe.map((ne,F)=>p.jsxs("li",{children:[T==="upgrade"?"✅ ":"❌ ",ne]},F))})]}),p.jsxs("p",{className:"terms-text",children:["By clicking “Accept”, you agree to our"," ",p.jsx("a",{href:"/terms",target:"_blank",rel:"noopener noreferrer",children:"Terms and Conditions"})," ","and"," ",p.jsx("a",{href:"/PrivacyPolicy",target:"_blank",rel:"noopener noreferrer",children:"Privacy Policy"}),"."]}),p.jsxs("div",{className:"confirm-actions",children:[p.jsx("button",{className:"btn cancel",onClick:W,children:"Cancel"}),p.jsx("button",{className:"btn confirm",onClick:()=>{M(),m(null)},children:"Accept"})]})]})]})})};return p.jsxs("section",{className:"plans-section",children:[p.jsx("h2",{className:"plans-title",children:"Choose the plan that fits your business"}),w&&p.jsxs("div",{className:"cancel-banner",children:["⚠️ Your ",p.jsx("strong",{children:x})," will be cancelled on"," ",p.jsx("strong",{children:S(_)}),".",p.jsx("button",{onClick:k,disabled:d,className:"reactivate-btn",children:d?"Reactivating...":`🔄 Reactivate ${x}`})]}),p.jsx("div",{className:"plan-grid",children:g.map(T=>{const L=A(T.id);return p.jsxs("div",{className:`plan-card ${T.badge?"highlighted":""} ${b===T.id?"current":""}`,children:[p.jsxs("div",{className:"plan-header",children:[p.jsxs("h3",{children:[T.name," ",T.badge&&p.jsx("span",{className:"badge",children:T.badge})]}),p.jsx("span",{className:"price",children:T.price})]}),p.jsx("p",{className:"plan-desc",children:T.desc}),p.jsx("ul",{children:T.features.map((M,W)=>p.jsxs("li",{children:["✅ ",M]},W))}),T.id==="white_label"?p.jsxs("div",{className:"plan-footer",children:[p.jsx("p",{className:"contact-text",children:"Contact for Whitelabel plan"}),p.jsx("a",{href:`mailto:${T.contact}`,className:"contact-link",children:T.contact})]}):L==="current"?p.jsx("button",{className:"btn current",children:"✅ Current Plan"}):L==="upgrade"?p.jsx("button",{onClick:()=>m({type:"upgrade",plan:T}),disabled:s===T.id||w,className:"btn upgrade",children:s===T.id?"Processing...":"Upgrade"}):p.jsx("button",{onClick:()=>m({type:"downgrade",plan:T}),disabled:s===T.id||w,className:"btn downgrade",children:s===T.id?"Processing...":"Downgrade"})]},T.id)})}),h&&p.jsx(I,{type:h.type,plan:h.plan,onCancel:()=>m(null),onConfirm:()=>h.type==="upgrade"?E(h.plan.id):j(h.plan.id)})]})}const Zv={chat_widget:["free","starter","premium"],email_support:["starter","premium"],whatsapp_integration:["premium"],custom_greeting:["starter","premium"],white_labeling:["white_label"]},Qv=["free","starter","premium","white_label"];function Z3({activeTab:e,plan:t}){const{t:r}=Ee();if(console.log("📢 Render FeatureList"),console.log("🧾 activeTab:",e),console.log("📦 plan prop:",t),e!=="features")return null;const n=typeof(t==null?void 0:t.id)=="string"?t.id.toLowerCase():"free",i=(o,s)=>{const l=Zv[o];if(!l)return!1;const u=Qv.indexOf(s);return l.some(c=>Qv.indexOf(c)<=u)},a=o=>{const s=Zv[o];return!s||s.length===0?"—":s.includes("free")?r("free"):s.includes("starter")?r("starter"):s.includes("premium")?r("premium"):s[0]};return p.jsxs("div",{style:{marginTop:"2rem",backgroundColor:"white",border:"1px solid #4a90e2",borderRadius:"16px",padding:"1.5rem",boxShadow:"0 4px 10px rgba(0,0,0,0.08)"},children:[p.jsxs("h4",{style:{fontSize:"1.1rem",fontWeight:"bold",color:"#274472",marginBottom:"1rem"},children:["🧩 ",r("included_features")]}),p.jsx("ul",{style:{listStyle:"none",padding:0,margin:0,fontSize:"0.95rem"},children:[{key:"chat_widget",label:r("chat_widget"),icon:"💬"}].map(o=>{const s=i(o.key,n);return p.jsxs("li",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"0.5rem",color:s?"#4a90e2":"#999"},children:[p.jsx("span",{children:o.icon}),p.jsx("span",{children:o.label}),p.jsx("span",{style:{marginLeft:"auto",backgroundColor:s?"#a3d9b1":"#f5a623",color:"#1b2a41",fontSize:"0.7rem",padding:"2px 6px",borderRadius:"999px",fontWeight:"bold"},children:s?r("included_in_plan"):`${r("available_from")} ${a(o.key)}`})]},o.key)})})]})}function Q3({activeTab:e,custom_prompt:t,hasPromptFeature:r,onChange:n,maxLength:i,defaultPrompt:a,temperature:o}){const{t:s}=Ee();if(e!=="prompt")return null;const l=t||a,u=l.length>i;return p.jsxs("div",{style:{marginTop:"2rem",display:"flex",flexDirection:"column",gap:"1.5rem"},children:[p.jsxs("div",{children:[p.jsx("label",{children:s("custom_prompt")}),p.jsx("textarea",{name:"custom_prompt",value:l,onChange:n,readOnly:!r,rows:6,style:{width:"100%",padding:"8px",borderRadius:"6px",border:u?"2px solid #e53935":"1px solid #ccc",marginTop:"4px",fontFamily:"inherit"}}),p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"4px"},children:[!r&&p.jsx("p",{style:{color:"#888",fontSize:"0.85rem"},children:s("custom_prompt_locked")}),p.jsxs("p",{style:{fontSize:"0.85rem",color:u?"#e53935":"#666"},children:[l.length," / ",i," ",s("characters")]})]})]}),p.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:[p.jsxs("label",{htmlFor:"temperature",style:{fontWeight:"bold"},children:["🌡️ ",s("temperature_label")||"Model temperature (0.0 - 1.0)"]}),p.jsx("input",{type:"number",step:"0.1",min:"0",max:"1",name:"temperature",id:"temperature",value:o,onChange:n,readOnly:!r,style:{padding:"0.5rem",border:"1px solid #ccc",borderRadius:"4px",width:"100%",backgroundColor:r?"white":"#f5f5f5",color:r?"#000":"#999"}}),!r&&p.jsx("small",{style:{color:"#888"},children:s("upgrade_to_edit_temperature")||"Upgrade your plan to customize temperature."})]})]})}function ez(){var v,b;const e=ir(),{t}=Ee(),[r,n]=y.useState("plan"),[i,a]=y.useState({assistant_name:"",language:"es",temperature:.7,plan:null,show_powered_by:!0,custom_prompt:"",require_email:!1,require_phone:!1,require_terms:!1}),[o,s]=y.useState({message:"",type:""}),[l,u]=y.useState(!0),c=t("default_prompt")||"Eres un asistente de IA diseñado para ayudar con preguntas sobre los documentos cargados por el cliente.",d=2e3,f=y.useCallback(async()=>{if(e){try{console.log("📡 Fetching settings for:",e);const x=await fetch(`http://127.0.0.1:8001/client_settings?client_id=${e}`),w=await x.json();if(console.log("📦 Response from /client_settings:",w),x.ok&&w){const _=w.plan||{id:"free",plan_features:[]};a(S=>({...S,...w,plan:{..._,plan_features:_.plan_features??[]}})),console.log("🧾 Plan actualizado en estado:",_==null?void 0:_.id)}else console.error("❌ Error al obtener configuración:",w)}catch(x){console.error("❌ Error de red en fetchSettings:",x)}u(!1)}},[e]);y.useEffect(()=>{f()},[f]);const h=x=>{const{name:w,type:_,checked:S,value:E}=x.target;a(j=>({...j,[w]:_==="checkbox"?S:E}))},m=async x=>{if(x.preventDefault(),(i.custom_prompt||c).length>d){s({message:`❌ ${t("prompt_too_long")}`,type:"error"});return}const w={client_id:e,assistant_name:i.assistant_name,language:i.language,temperature:i.temperature,custom_prompt:i.custom_prompt,require_email:i.require_email,require_phone:i.require_phone,require_terms:i.require_terms};try{console.log("📤 Enviando payload:",w);const _=await fetch("http://127.0.0.1:8001/client_settings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(w)}),S=await _.json();console.log("📨 Respuesta POST /client_settings:",S),_.ok?s({message:`✅ ${t("settings_saved")}`,type:"success"}):s({message:`❌ ${S.error||t("error_saving")}`,type:"error"})}catch(_){console.error("❌ Error en handleSubmit:",_),s({message:"❌ Error al guardar configuración.",type:"error"})}},g=((b=(v=i.plan)==null?void 0:v.plan_features)==null?void 0:b.some(x=>{var w,_;return typeof x=="string"?x==="custom_prompt_editing":((_=(w=x==null?void 0:x.feature)==null?void 0:w.toLowerCase())==null?void 0:_.replace(/\s+/g,"_"))==="custom_prompt_editing"}))??!1;return l?p.jsx("p",{children:t("loading_settings")}):(console.log("📌 Renderizando ClientSettings con tab:",r),p.jsxs("div",{style:{padding:"2rem",maxWidth:"700px",margin:"0 auto"},children:[p.jsxs("h2",{children:["⚙️ ",t("client_settings")]}),p.jsxs("div",{style:{display:"flex",gap:"1rem",marginBottom:"2rem",flexWrap:"wrap"},children:[p.jsxs("button",{onClick:()=>n("plan"),style:Bc(r==="plan"),children:["🧾 ",t("your_current_plan")]}),p.jsxs("button",{onClick:()=>n("features"),style:Bc(r==="features"),children:["🧩 ",t("included_features")]}),p.jsxs("button",{onClick:()=>n("prompt"),style:Bc(r==="prompt"),children:["🎨 ",t("custom_prompt")]})]}),r==="plan"&&p.jsx(X3,{activeTab:r,formData:i,refetchSettings:f}),r==="features"&&p.jsx(Z3,{activeTab:r,plan:i.plan}),r==="prompt"&&p.jsxs("form",{onSubmit:m,style:{display:"flex",flexDirection:"column",gap:"2rem"},children:[p.jsx(Q3,{activeTab:r,custom_prompt:i.custom_prompt,temperature:i.temperature,hasPromptFeature:g,onChange:h,maxLength:d,defaultPrompt:c}),p.jsx("button",{type:"submit",style:{backgroundColor:"#4a90e2",color:"white",padding:"10px 16px",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"bold",width:"fit-content"},children:t("save_settings")})]}),o.message&&p.jsx("p",{style:{marginTop:"1.5rem",fontWeight:"bold",color:o.type==="error"?"#e53935":"#2e7d32"},children:o.message})]}))}const Bc=e=>({padding:"6px 12px",backgroundColor:e?"#a3d9b1":"#ededed",color:"#274472",borderRadius:"999px",border:"none",cursor:"pointer",fontWeight:"500",fontSize:"0.9rem"});function tz(){const{lang:e,changeLanguage:t}=Ee();return p.jsxs("div",{style:rz,children:[p.jsx("button",{onClick:()=>t("en"),disabled:e==="en",style:{...ey,backgroundColor:e==="en"?"#4a90e2":"#ededed",color:e==="en"?"white":"#274472"},children:"English"}),p.jsx("button",{onClick:()=>t("es"),disabled:e==="es",style:{...ey,backgroundColor:e==="es"?"#4a90e2":"#ededed",color:e==="es"?"white":"#274472"},children:"Español"})]})}const rz={display:"flex",justifyContent:"center",gap:"0.5rem",marginTop:"1rem"},ey={padding:"0.4rem 0.8rem",borderRadius:"8px",border:"none",fontWeight:"bold",cursor:"pointer"};function nz(){const e=Dt(),t=ir(),{t:r}=Ee(),[n,i]=y.useState([]),[a,o]=y.useState(null);y.useEffect(()=>{(async()=>{var c,d;if(t)try{const f=await fetch(`http://127.0.0.1:8001/client_settings?client_id=${t}`),h=await f.json();if(f.ok){const m=v=>v.toLowerCase().replace(/\s+/g,"_"),g=((d=(c=h.plan)==null?void 0:c.plan_features)==null?void 0:d.map(v=>m(v.feature)))||[];i(g)}}catch(f){console.error("❌ Error al conectar con el backend:",f)}})()},[t]);const s=async()=>{await Je.auth.signOut(),localStorage.clear(),e("/login",{replace:!0}),window.location.reload()},l=u=>n.includes(u);return p.jsx("aside",{style:iz,children:p.jsxs("div",{children:[p.jsxs("div",{style:az,children:[p.jsx("img",{src:"/logo-evolvian.svg",alt:"Evolvian Logo",style:{width:"60px",margin:"0 auto"}}),p.jsx(tz,{})]}),p.jsxs("nav",{style:oz,children:[p.jsx(no,{label:`📊 ${r("dashboard")}`,to:"/dashboard",hovered:a,setHovered:o,id:"dashboard"}),p.jsx(no,{label:`📤 ${r("upload")}`,to:"/upload",hovered:a,setHovered:o,id:"upload"}),p.jsx(no,{label:`📚 ${r("history")}`,to:"/history",hovered:a,setHovered:o,id:"history"}),[{label:`🧠 ${r("chat_assistant")}`,path:"/services/chat",feature:"chat_widget"}].map(({label:u,path:c,feature:d})=>{const f=l(d),h=c;return p.jsxs("div",{style:Ju,children:[p.jsx(Mr,{to:f?c:"#",style:{...M1,backgroundColor:a===h?"#4a90e2":"transparent",color:f?"white":"#999",pointerEvents:f?"auto":"none"},onMouseEnter:()=>o(h),onMouseLeave:()=>o(null),title:f?"":r("premium_only"),children:u}),!f&&p.jsx("span",{style:{...sz,marginLeft:"8px"},children:"Premium"})]},d)}),p.jsx(no,{label:`⚙️ ${r("settings")}`,to:"/settings",hovered:a,setHovered:o,id:"settings"}),p.jsx("div",{style:{...Ju,marginTop:"1.5rem"},children:p.jsx("button",{onClick:s,style:lz,children:r("logout")})})]})]})})}function no({to:e,label:t,hovered:r,setHovered:n,id:i}){return p.jsx("div",{style:Ju,children:p.jsx(Mr,{to:e,onMouseEnter:()=>n(i),onMouseLeave:()=>n(null),style:{...M1,backgroundColor:r===i?"#4a90e2":"transparent"},children:t})})}const iz={width:"240px",background:"#274472",color:"white",padding:"2rem 1.5rem",minHeight:"100vh",display:"flex",flexDirection:"column"},az={textAlign:"center",marginBottom:"2rem"},oz={display:"flex",flexDirection:"column"},Ju={padding:"0.4rem 0.6rem",borderBottom:"1px solid rgba(255, 255, 255, 0.1)"},M1={color:"white",textDecoration:"none",fontWeight:"500",fontSize:"1rem",transition:"all 0.2s ease",display:"block",borderRadius:"6px"},sz={backgroundColor:"#f5a623",color:"#1b2a41",fontSize:"0.7rem",padding:"2px 6px",borderRadius:"999px",fontWeight:"bold",verticalAlign:"middle"},lz={backgroundColor:"#f5a623",color:"white",border:"none",borderRadius:"8px",padding:"0.5rem 1rem",cursor:"pointer",fontWeight:"bold",width:"100%"},cz="evolvian-internal";function uz(){const[e,t]=y.useState(!1),r=cz;return p.jsxs(p.Fragment,{children:[p.jsx("button",{onClick:()=>t(!e),style:{position:"fixed",bottom:e?"540px":"24px",right:"24px",zIndex:1e4,borderRadius:"50%",width:"64px",height:"64px",border:"none",cursor:"pointer",overflow:"hidden",padding:0},children:e?p.jsx("span",{style:{fontSize:"32px",color:"white",background:"#4a90e2",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:"×"}):p.jsx("img",{src:"/e1.png",alt:"Evolvian Logo",style:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"50%"}})}),e&&p.jsx("div",{style:dz.container,children:p.jsx(ns,{clientId:r})})]})}const dz={container:{position:"fixed",bottom:"24px",right:"24px",width:"360px",height:"500px",backgroundColor:"#ffffff",borderRadius:"16px",boxShadow:"0 6px 24px rgba(0,0,0,0.2)",zIndex:9999,overflow:"hidden"}};function or({children:e}){return p.jsxs("div",{style:fz,children:[p.jsx("header",{style:hz,children:"Evolvian™"}),p.jsxs("div",{style:pz,children:[p.jsx(nz,{}),p.jsx("main",{style:mz,children:e})]}),p.jsxs("footer",{style:gz,children:[p.jsx("div",{children:"Evolvian™ is a pending trademark application filed with the USPTO. All rights reserved."}),p.jsxs("div",{style:{marginTop:"0.5rem"},children:["Version v1.0 —"," ",p.jsx("a",{href:"https://evolvianai.com",target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"underline",color:"#a3d9b1"},children:"Visit Public Site"})," ","|"," ",p.jsx("a",{href:"/terms",style:{textDecoration:"underline",color:"#a3d9b1"},children:"Terms & Conditions"})," ","|"," ",p.jsx("a",{href:"/PrivacyPolicy",style:{textDecoration:"underline",color:"#a3d9b1"},children:"Privacy Policy"})]})]}),p.jsx(uz,{})]})}const fz={display:"flex",flexDirection:"column",minHeight:"100vh",backgroundColor:"#0f1c2e",color:"white"},hz={padding:"1rem",fontSize:"1.5rem",fontWeight:"bold",color:"#f5a623",backgroundColor:"#1b2a41",textAlign:"center"},pz={display:"flex",flex:1},mz={flex:1,padding:"2rem",overflowY:"auto"},gz={textAlign:"center",padding:"1rem",fontSize:"0.875rem",backgroundColor:"#1b2a41",color:"#ededed"};function vz({children:e}){const[t,r]=y.useState(!0),[n,i]=y.useState(!1),[a,o]=y.useState(!1);return y.useEffect(()=>{(async()=>{const{data:{session:l}}=await Je.auth.getSession();l||o(!0),i(!!l),r(!1)})()},[]),t?p.jsx("p",{className:"p-6",children:"🔐 Verificando sesión..."}):a?(alert("⚠️ Debes iniciar sesión para acceder a esta sección."),p.jsx(uy,{to:"/login",replace:!0})):e}function sr({children:e}){const{session:t,clientId:r,loading:n}=D1();return n?p.jsx("div",{style:{padding:"2rem",color:"white"},children:"🔄 Cargando sesión..."}):!t||!r?p.jsx("div",{style:{padding:"2rem",color:"white"},children:"⛔ Sesión no válida. Por favor inicia sesión."}):p.jsx(vz,{children:e})}function yz(){const[e]=gy(),t=e.get("public_client_id"),[r,n]=y.useState(null),[i,a]=y.useState(!0);return y.useEffect(()=>{if(!t){console.warn("⚠️ No se encontró public_client_id en la URL");return}(async()=>{try{const l=await(await fetch(`http://127.0.0.1:8001/client_settings?public_client_id=${t}`)).json();console.log(`⚙️ Settings cargados desde backend (crudo):
`,JSON.stringify(l,null,2));const u=(l==null?void 0:l.settings)||l;console.log("📌 Usando configuración extraída:",u),n(u)}catch(s){console.error("❌ Error al obtener settings:",s)}finally{a(!1)}})()},[t]),t?i?p.jsx("p",{children:"🔄 Cargando configuración del cliente..."}):r?p.jsx("div",{style:{height:"100vh",padding:"1rem",fontFamily:"sans-serif"},children:p.jsx(ns,{clientId:t,requireEmail:r.require_email,requirePhone:r.require_phone,requireTerms:r.require_terms})}):p.jsx("p",{children:"⚠️ No se pudo cargar la configuración del asistente."}):p.jsxs("p",{children:["❌ No hay public_client_id en la URL. Usa ",p.jsx("code",{children:"?public_client_id=..."})]})}function bz(){return p.jsx("div",{style:Z.container,children:p.jsxs("div",{style:Z.card,children:[p.jsx("h1",{style:Z.title,children:"Terms and Conditions"}),p.jsx("p",{style:Z.paragraph,children:"These Terms and Conditions (“Terms”) govern your access to and use of the Evolvian™ Software-as-a-Service platform (“Service” or “Platform”). By creating an account, subscribing to a plan, or using the Service, you agree to be legally bound by these Terms. If you do not agree, please discontinue use immediately."}),p.jsx("h2",{style:Z.subtitle,children:"1. Eligibility and Use of Service"}),p.jsx("p",{style:Z.paragraph,children:"You must be at least 18 years old to use the Service. You represent and warrant that you have the authority to enter into these Terms on behalf of yourself or your organization. You agree to use the Platform only for lawful purposes and in compliance with all applicable laws and regulations."}),p.jsx("h2",{style:Z.subtitle,children:"2. Account Registration and Security"}),p.jsx("p",{style:Z.paragraph,children:"You are responsible for maintaining the confidentiality of your login credentials and for all activity that occurs under your account. You must immediately notify Evolvian of any unauthorized use or security breach. Evolvian is not liable for any losses caused by unauthorized access to your account."}),p.jsx("h2",{style:Z.subtitle,children:"3. Data Ownership and Confidentiality"}),p.jsx("p",{style:Z.paragraph,children:"You retain full ownership and rights to all documents, data, and materials you upload (“Client Data”). Evolvian does not claim ownership over your content. Client Data is stored securely and used solely to provide the Service. Evolvian does not use or share Client Data to train any public AI models. Access to Client Data is strictly limited to authorized personnel only when necessary for support, maintenance, or legal compliance."}),p.jsx("h2",{style:Z.subtitle,children:"4. Data Protection and Compliance"}),p.jsx("p",{style:Z.paragraph,children:"Evolvian applies industry-standard security measures and aligns with major international data protection frameworks, including the General Data Protection Regulation (GDPR) and the California Consumer Privacy Act (CCPA), to the extent applicable. You are responsible for ensuring your own compliance with privacy regulations that apply to your users or customers."}),p.jsx("h2",{style:Z.subtitle,children:"5. Intellectual Property"}),p.jsx("p",{style:Z.paragraph,children:"Evolvian and its licensors retain all rights, title, and interest in the Service, including software, algorithms, interfaces, designs, trademarks, and documentation. No rights are granted to you except as expressly stated herein. You may not copy, modify, reverse engineer, decompile, or distribute any part of the Service."}),p.jsx("h2",{style:Z.subtitle,children:"6. Acceptable Use and Restrictions"}),p.jsx("p",{style:Z.paragraph,children:"You agree not to misuse the Service. Prohibited activities include but are not limited to: uploading harmful or illegal content, attempting to disrupt or hack the platform, violating intellectual property rights, exceeding plan limits, using automated systems or bots to access the Service, or using the Service to generate or disseminate harmful, misleading, or discriminatory content. Excessive or automated API usage beyond your plan limits may result in throttling, suspension, or additional fees. Evolvian reserves the right to suspend or terminate any account violating these provisions."}),p.jsx("h2",{style:Z.subtitle,children:"7. Service Plans, Billing, and Termination"}),p.jsx("p",{style:Z.paragraph,children:"Subscription fees are charged according to your selected plan. Evolvian may modify pricing or plan limits with reasonable notice. You may cancel your subscription at any time; however, fees paid are non-refundable except as required by law. Evolvian reserves the right to suspend or terminate access for non-payment or breach of these Terms."}),p.jsx("h2",{style:Z.subtitle,children:"8. Service Availability, Backups, and Updates"}),p.jsx("p",{style:Z.paragraph,children:"While Evolvian strives for continuous Service availability, temporary interruptions may occur for maintenance, upgrades, or unforeseen circumstances. Evolvian performs regular system backups but is not responsible for data loss caused by client-side actions, third-party integrations, or force majeure events. The Service may be updated, enhanced, or modified at Evolvian’s discretion without prior notice."}),p.jsx("h2",{style:Z.subtitle,children:"9. AI-Generated Content Disclaimer"}),p.jsx("p",{style:Z.paragraph,children:"Evolvian provides AI-powered functionalities that may generate automated outputs (“AI Outputs”). You acknowledge that such outputs are generated algorithmically and may not always be accurate, complete, or appropriate. Evolvian makes no representations or warranties regarding the accuracy, legality, or fitness for any particular purpose of AI Outputs. You are solely responsible for reviewing, validating, and using any AI-generated content. Evolvian is not liable for any damages or consequences arising from reliance on AI Outputs."}),p.jsx("h2",{style:Z.subtitle,children:"10. White Label and Branding"}),p.jsx("p",{style:Z.paragraph,children:"White-label clients may use their own branding when authorized under their subscription plan. However, Evolvian retains full ownership of the underlying software, infrastructure, and technology. Any use of the Evolvian brand, trademarks, or related assets must comply with Evolvian’s written brand guidelines or prior approval."}),p.jsx("h2",{style:Z.subtitle,children:"11. Disclaimer of Warranties"}),p.jsx("p",{style:Z.paragraph,children:"The Service is provided “as is” and “as available.” Evolvian makes no warranties, express or implied, regarding accuracy, reliability, uptime, merchantability, or fitness for any particular purpose. You assume all responsibility for your use of the Service and any outputs generated by AI systems."}),p.jsx("h2",{style:Z.subtitle,children:"12. Limitation of Liability"}),p.jsx("p",{style:Z.paragraph,children:"To the maximum extent permitted by law, Evolvian and its affiliates shall not be liable for any indirect, incidental, special, consequential, or punitive damages, including lost profits, business interruption, or data loss, arising out of or related to your use of the Service, even if advised of the possibility of such damages. In all cases, Evolvian’s total aggregate liability shall not exceed the amount you paid in the 12 months preceding the event giving rise to the claim."}),p.jsx("h2",{style:Z.subtitle,children:"13. Indemnification"}),p.jsx("p",{style:Z.paragraph,children:"You agree to defend, indemnify, and hold harmless Evolvian, its affiliates, officers, and employees from any claims, damages, losses, or expenses arising from your use of the Service, violation of these Terms, or infringement of any third-party rights."}),p.jsx("h2",{style:Z.subtitle,children:"14. Export Compliance and Legal Use"}),p.jsx("p",{style:Z.paragraph,children:"You represent that you are not located in, under the control of, or a resident of any country or entity subject to international sanctions or export restrictions. You agree not to use the Service in violation of any applicable export or trade control laws."}),p.jsx("h2",{style:Z.subtitle,children:"15. Modifications to Terms"}),p.jsx("p",{style:Z.paragraph,children:"Evolvian may revise these Terms at any time. Updates take effect upon posting on our website or within the application. Continued use of the Service after modifications constitutes acceptance of the updated Terms."}),p.jsx("h2",{style:Z.subtitle,children:"16. Governing Law and International Jurisdiction"}),p.jsx("p",{style:Z.paragraph,children:"These Terms are governed by and construed in accordance with the laws of the State of Montana, United States, without regard to conflict-of-law principles. International users agree that any disputes shall be resolved exclusively in the courts of Montana, U.S.A."}),p.jsx("h2",{style:Z.subtitle,children:"17. Contact Information"}),p.jsxs("p",{style:Z.paragraph,children:["For legal inquiries, please contact us at"," ",p.jsx("a",{href:"mailto:support@evolvian.com",style:Z.link,children:"support@evolvian.com"}),"."]}),p.jsxs("p",{style:{...Z.paragraph,marginTop:"2rem",fontSize:"0.9rem",color:"#ccc"},children:["© ",new Date().getFullYear()," Evolvian™. All rights reserved."]})]})})}const Z={container:{minHeight:"100vh",backgroundColor:"#0f1c2e",display:"flex",justifyContent:"center",alignItems:"center",padding:"2rem"},card:{backgroundColor:"#1b2a41",borderRadius:"1rem",padding:"2.5rem",maxWidth:"750px",width:"100%",border:"1px solid #274472",color:"#ededed",maxHeight:"90vh",overflowY:"auto"},title:{color:"#a3d9b1",fontSize:"2rem",marginBottom:"1.5rem"},subtitle:{color:"#f5a623",fontSize:"1.2rem",marginTop:"1.5rem",marginBottom:"0.5rem"},paragraph:{fontSize:"1rem",lineHeight:"1.6",marginBottom:"1rem"},link:{color:"#4a90e2",textDecoration:"underline"}};function wz(){return p.jsx("div",{style:Q.container,children:p.jsxs("div",{style:Q.card,children:[p.jsx("h1",{style:Q.title,children:"Privacy Policy"}),p.jsxs("p",{style:Q.paragraph,children:["This Privacy Policy explains how Evolvian™ (“we,” “us,” or “our”) collects, uses, and protects information when you access and use our Software-as-a-Service platform (“Service” or “Platform”) available at"," ",p.jsx("a",{href:"https://evolvianai.net",style:Q.link,children:"https://evolvianai.net"}),". By using the Service, you agree to the terms of this Privacy Policy."]}),p.jsx("h2",{style:Q.subtitle,children:"1. Information We Collect"}),p.jsx("p",{style:Q.paragraph,children:"We collect information that is necessary to provide and improve our Service, including:"}),p.jsxs("ul",{style:Q.list,children:[p.jsxs("li",{children:[p.jsx("strong",{children:"Account Information:"})," name, email address, password, and authentication details when you register or sign in (via Google or email)."]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Client Data:"})," documents, text files, and other materials you upload to your account. These are stored securely and used only to power your private AI assistant."]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Usage Data:"})," interactions with the app, plan usage (messages, uploads), browser type, IP address, and time zone."]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Billing Data:"})," payment information processed securely through our provider Stripe. We do not store credit card numbers."]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Support Data:"})," messages or inquiries you send to our support team."]})]}),p.jsx("h2",{style:Q.subtitle,children:"2. How We Use Your Information"}),p.jsx("p",{style:Q.paragraph,children:"Evolvian uses collected data solely to operate and improve the Service. Specifically, we use it to:"}),p.jsxs("ul",{style:Q.list,children:[p.jsx("li",{children:"Authenticate users and manage accounts."}),p.jsx("li",{children:"Process payments and subscriptions."}),p.jsx("li",{children:"Provide personalized AI assistant experiences using your uploaded data."}),p.jsx("li",{children:"Monitor usage and enforce plan limits."}),p.jsx("li",{children:"Communicate with you regarding updates, support, or important notices."}),p.jsx("li",{children:"Comply with legal obligations or requests from authorities."})]}),p.jsx("h2",{style:Q.subtitle,children:"3. Data Ownership and Security"}),p.jsx("p",{style:Q.paragraph,children:"You retain full ownership of all content and documents you upload (“Client Data”). Evolvian does not claim ownership or rights to reuse your data for model training or external purposes."}),p.jsx("p",{style:Q.paragraph,children:"We employ industry-standard security measures including encryption, access control, and network monitoring to protect data integrity and confidentiality. Only authorized personnel can access your data when strictly necessary for support or legal compliance."}),p.jsx("h2",{style:Q.subtitle,children:"4. Data Processing and Storage"}),p.jsx("p",{style:Q.paragraph,children:"Client Data is stored securely on servers within the United States. We may process limited technical data in other regions for performance and redundancy purposes, always under the same protection standards."}),p.jsx("p",{style:Q.paragraph,children:"Evolvian does not train or fine-tune any public AI models with Client Data. Data used to generate embeddings or context retrieval remains isolated within your private tenant environment."}),p.jsx("h2",{style:Q.subtitle,children:"5. Payment Processing"}),p.jsxs("p",{style:Q.paragraph,children:["Payments and billing information are handled exclusively by"," ",p.jsx("a",{href:"https://stripe.com",target:"_blank",rel:"noopener noreferrer",style:Q.link,children:"Stripe"}),". Evolvian does not store or access your full payment card details. Stripe’s own privacy policy governs how your billing information is processed."]}),p.jsx("h2",{style:Q.subtitle,children:"6. Cookies and Analytics"}),p.jsx("p",{style:Q.paragraph,children:"Evolvian may use cookies and similar technologies to maintain sessions, remember preferences, and measure performance. We also use third-party analytics tools such as Google Analytics to understand aggregate usage patterns. These tools collect anonymized data and do not access your private documents or assistant content."}),p.jsx("h2",{style:Q.subtitle,children:"7. Data Retention and Deletion"}),p.jsxs("p",{style:Q.paragraph,children:["We retain Client Data only for as long as necessary to provide the Service or comply with legal obligations. You may request deletion of your account and associated data at any time by contacting"," ",p.jsx("a",{href:"mailto:support@evolvian.com",style:Q.link,children:"support@evolvian.com"}),". Upon account deletion, all stored Client Data will be permanently removed from active systems and scheduled for deletion from backups within a reasonable timeframe."]}),p.jsx("h2",{style:Q.subtitle,children:"8. Data Sharing and Third Parties"}),p.jsx("p",{style:Q.paragraph,children:"We do not sell or rent your personal or client data. We may share limited data with third-party providers only when necessary to:"}),p.jsxs("ul",{style:Q.list,children:[p.jsx("li",{children:"Operate infrastructure (cloud storage, hosting, analytics)."}),p.jsx("li",{children:"Process payments and subscriptions via Stripe."}),p.jsx("li",{children:"Comply with law enforcement or regulatory requests."})]}),p.jsx("h2",{style:Q.subtitle,children:"9. User Rights (GDPR & CCPA)"}),p.jsxs("p",{style:Q.paragraph,children:["Depending on your location, you may have rights to access, correct, delete, or restrict processing of your personal data. To exercise these rights, contact"," ",p.jsx("a",{href:"mailto:support@evolvian.com",style:Q.link,children:"support@evolvian.com"}),". We will respond within applicable legal timeframes."]}),p.jsx("h2",{style:Q.subtitle,children:"10. Children’s Privacy"}),p.jsx("p",{style:Q.paragraph,children:"The Service is intended for users aged 18 and older. We do not knowingly collect personal information from minors. If we discover such data, we will delete it promptly."}),p.jsx("h2",{style:Q.subtitle,children:"11. Changes to This Policy"}),p.jsxs("p",{style:Q.paragraph,children:["Evolvian may update this Privacy Policy from time to time. Updates take effect upon posting within the Platform or at"," ",p.jsx("a",{href:"https://evolvianai.net/privacy",style:Q.link,children:"https://evolvianai.net/privacy"}),". Continued use of the Service after updates constitutes acceptance of the revised Policy."]}),p.jsx("h2",{style:Q.subtitle,children:"12. Contact Us"}),p.jsxs("p",{style:Q.paragraph,children:["For privacy-related inquiries, data deletion requests, or compliance matters, please contact our Data Protection Officer at"," ",p.jsx("a",{href:"mailto:support@evolvian.com",style:Q.link,children:"support@evolvian.com"}),"."]}),p.jsxs("p",{style:{...Q.paragraph,marginTop:"2rem",fontSize:"0.9rem",color:"#ccc"},children:["© ",new Date().getFullYear()," Evolvian™. All rights reserved."]})]})})}const Q={container:{minHeight:"100vh",backgroundColor:"#0f1c2e",display:"flex",justifyContent:"center",alignItems:"center",padding:"2rem"},card:{backgroundColor:"#1b2a41",borderRadius:"1rem",padding:"2.5rem",maxWidth:"750px",width:"100%",border:"1px solid #274472",color:"#ededed"},title:{color:"#a3d9b1",fontSize:"2rem",marginBottom:"1.5rem"},subtitle:{color:"#f5a623",fontSize:"1.2rem",marginTop:"1.5rem",marginBottom:"0.5rem"},paragraph:{fontSize:"1rem",lineHeight:"1.6",marginBottom:"1rem"},list:{marginLeft:"1.5rem",marginBottom:"1rem",lineHeight:"1.6"},link:{color:"#4a90e2",textDecoration:"underline"}};function xz(){const e=St();return["/","/login","/register","/confirm","/forgot-password","/reset-password","/verify-mfa","/welcome","/chat-widget","/widget","/widget-preview","/terms","/PrivacyPolicy"].includes(e.pathname),p.jsxs(q_,{children:[p.jsx(ve,{path:"/",element:p.jsx(uy,{to:"/login"})}),p.jsx(ve,{path:"/login",element:p.jsx(qj,{})}),p.jsx(ve,{path:"/register",element:p.jsx(PP,{})}),p.jsx(ve,{path:"/confirm",element:p.jsx($P,{})}),p.jsx(ve,{path:"/forgot-password",element:p.jsx(BP,{})}),p.jsx(ve,{path:"/reset-password",element:p.jsx(YP,{})}),p.jsx(ve,{path:"/verify-mfa",element:p.jsx(iO,{})}),p.jsx(ve,{path:"/welcome",element:p.jsx(fO,{})}),p.jsx(ve,{path:"/terms",element:p.jsx(bz,{})}),p.jsx(ve,{path:"/PrivacyPolicy",element:p.jsx(wz,{})}),p.jsx(ve,{path:"/chat-widget",element:p.jsx(pO,{})}),p.jsx(ve,{path:"/widget",element:p.jsx(mO,{})}),p.jsx(ve,{path:"/widget-preview",element:p.jsx(yz,{})}),p.jsx(ve,{path:"/dashboard",element:p.jsx(sr,{children:p.jsx(or,{children:p.jsx(BU,{})})})}),p.jsx(ve,{path:"/upload",element:p.jsx(sr,{children:p.jsx(or,{children:p.jsx(YU,{})})})}),p.jsx(ve,{path:"/history",element:p.jsx(sr,{children:p.jsx(or,{children:p.jsx(E3,{})})})}),p.jsx(ve,{path:"/services",element:p.jsx(sr,{children:p.jsx(or,{children:p.jsx(T3,{})})})}),p.jsx(ve,{path:"/services/chat",element:p.jsx(sr,{children:p.jsx(or,{children:p.jsx(I3,{})})})}),p.jsx(ve,{path:"/services/email",element:p.jsx(sr,{children:p.jsx(or,{children:p.jsx(F3,{})})})}),p.jsx(ve,{path:"/services/whatsapp",element:p.jsx(sr,{children:p.jsx(or,{children:p.jsx(j3,{})})})}),p.jsx(ve,{path:"/services/calendar",element:p.jsx(sr,{children:p.jsx(or,{children:p.jsx(J3,{})})})}),p.jsx(ve,{path:"/settings",element:p.jsx(sr,{children:p.jsx(or,{children:p.jsx(ez,{})})})}),p.jsx(ve,{path:"*",element:p.jsx(hO,{})})]})}Z1.createRoot(document.getElementById("root")).render(p.jsx(D.StrictMode,{children:p.jsxs(Q1,{children:[" ",p.jsx(hS,{children:p.jsxs(p.Fragment,{children:[p.jsx(xz,{}),p.jsx(jP,{position:"top-right",richColors:!0})," "]})})]})}));
