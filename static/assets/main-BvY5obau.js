var d_=Object.defineProperty;var f_=(e,t,r)=>t in e?d_(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Ys=(e,t,r)=>f_(e,typeof t!="symbol"?t+"":t,r);import{r as v,a as h_,g as sr,b as p_,R as M,u as Ce,j as f,C as ss,c as id,d as m_,e as g_,L as y_}from"./ChatWidget-Dsr2nKU0.js";/**
 * react-router v7.9.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var oh="popstate";function v_(e={}){function t(n,i){let{pathname:o,search:a,hash:s}=n.location;return Gc("",{pathname:o,search:a,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Gi(i)}return w_(t,r,null,e)}function xe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Dt(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function b_(){return Math.random().toString(36).substring(2,10)}function ah(e,t){return{usr:e.state,key:e.key,idx:t}}function Gc(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?ri(t):t,state:r,key:t&&t.key||n||b_()}}function Gi({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ri(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function w_(e,t,r,n={}){let{window:i=document.defaultView,v5Compat:o=!1}=n,a=i.history,s="POP",l=null,c=u();c==null&&(c=0,a.replaceState({...a.state,idx:c},""));function u(){return(a.state||{idx:null}).idx}function d(){s="POP";let y=u(),b=y==null?null:y-c;c=y,l&&l({action:s,location:g.location,delta:b})}function h(y,b){s="PUSH";let w=Gc(g.location,y,b);c=u()+1;let x=ah(w,c),_=g.createHref(w);try{a.pushState(x,"",_)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(_)}o&&l&&l({action:s,location:g.location,delta:1})}function p(y,b){s="REPLACE";let w=Gc(g.location,y,b);c=u();let x=ah(w,c),_=g.createHref(w);a.replaceState(x,"",_),o&&l&&l({action:s,location:g.location,delta:0})}function m(y){return x_(y)}let g={get action(){return s},get location(){return e(i,a)},listen(y){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(oh,d),l=y,()=>{i.removeEventListener(oh,d),l=null}},createHref(y){return t(i,y)},createURL:m,encodeLocation(y){let b=m(y);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:h,replace:p,go(y){return a.go(y)}};return g}function x_(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),xe(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:Gi(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function mv(e,t,r="/"){return __(e,t,r,!1)}function __(e,t,r,n){let i=typeof t=="string"?ri(t):t,o=wr(i.pathname||"/",r);if(o==null)return null;let a=gv(e);S_(a);let s=null;for(let l=0;s==null&&l<a.length;++l){let c=D_(o);s=R_(a[l],c,n)}return s}function gv(e,t=[],r=[],n="",i=!1){let o=(a,s,l=i,c)=>{let u={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};if(u.relativePath.startsWith("/")){if(!u.relativePath.startsWith(n)&&l)return;xe(u.relativePath.startsWith(n),`Absolute route path "${u.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(n.length)}let d=yr([n,u.relativePath]),h=r.concat(u);a.children&&a.children.length>0&&(xe(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),gv(a.children,t,h,d,l)),!(a.path==null&&!a.index)&&t.push({path:d,score:O_(d,a.index),routesMeta:h})};return e.forEach((a,s)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))o(a,s);else for(let c of yv(a.path))o(a,s,!0,c)}),t}function yv(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return i?[o,""]:[o];let a=yv(n.join("/")),s=[];return s.push(...a.map(l=>l===""?o:[o,l].join("/"))),i&&s.push(...a),s.map(l=>e.startsWith("/")&&l===""?"/":l)}function S_(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:T_(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var E_=/^:[\w-]+$/,j_=3,C_=2,k_=1,P_=10,A_=-2,sh=e=>e==="*";function O_(e,t){let r=e.split("/"),n=r.length;return r.some(sh)&&(n+=A_),t&&(n+=C_),r.filter(i=>!sh(i)).reduce((i,o)=>i+(E_.test(o)?j_:o===""?k_:P_),n)}function T_(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function R_(e,t,r=!1){let{routesMeta:n}=e,i={},o="/",a=[];for(let s=0;s<n.length;++s){let l=n[s],c=s===n.length-1,u=o==="/"?t:t.slice(o.length)||"/",d=ga({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!d&&c&&r&&!n[n.length-1].route.index&&(d=ga({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!d)return null;Object.assign(i,d.params),a.push({params:i,pathname:yr([o,d.pathname]),pathnameBase:N_(yr([o,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(o=yr([o,d.pathnameBase]))}return a}function ga(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=I_(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:n.reduce((c,{paramName:u,isOptional:d},h)=>{if(u==="*"){let m=s[h]||"";a=o.slice(0,o.length-m.length).replace(/(.)\/+$/,"$1")}const p=s[h];return d&&!p?c[u]=void 0:c[u]=(p||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:a,pattern:e}}function I_(e,t=!1,r=!0){Dt(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,s,l)=>(n.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function D_(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Dt(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function wr(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function $_(e,t="/"){let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?ri(e):e;return{pathname:r?r.startsWith("/")?r:M_(r,t):t,search:L_(n),hash:B_(i)}}function M_(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Vs(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function F_(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function od(e){let t=F_(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function ad(e,t,r,n=!1){let i;typeof e=="string"?i=ri(e):(i={...e},xe(!i.pathname||!i.pathname.includes("?"),Vs("?","pathname","search",i)),xe(!i.pathname||!i.pathname.includes("#"),Vs("#","pathname","hash",i)),xe(!i.search||!i.search.includes("#"),Vs("#","search","hash",i)));let o=e===""||i.pathname==="",a=o?"/":i.pathname,s;if(a==null)s=r;else{let d=t.length-1;if(!n&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}s=d>=0?t[d]:"/"}let l=$_(i,s),c=a&&a!=="/"&&a.endsWith("/"),u=(o||a===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}var yr=e=>e.join("/").replace(/\/\/+/g,"/"),N_=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),L_=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,B_=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function U_(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var vv=["POST","PUT","PATCH","DELETE"];new Set(vv);var z_=["GET",...vv];new Set(z_);var ni=v.createContext(null);ni.displayName="DataRouter";var ls=v.createContext(null);ls.displayName="DataRouterState";v.createContext(!1);var bv=v.createContext({isTransitioning:!1});bv.displayName="ViewTransition";var W_=v.createContext(new Map);W_.displayName="Fetchers";var q_=v.createContext(null);q_.displayName="Await";var Jt=v.createContext(null);Jt.displayName="Navigation";var oo=v.createContext(null);oo.displayName="Location";var lr=v.createContext({outlet:null,matches:[],isDataRoute:!1});lr.displayName="Route";var sd=v.createContext(null);sd.displayName="RouteError";function H_(e,{relative:t}={}){xe(ii(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=v.useContext(Jt),{hash:i,pathname:o,search:a}=ao(e,{relative:t}),s=o;return r!=="/"&&(s=o==="/"?r:yr([r,o])),n.createHref({pathname:s,search:a,hash:i})}function ii(){return v.useContext(oo)!=null}function Et(){return xe(ii(),"useLocation() may be used only in the context of a <Router> component."),v.useContext(oo).location}var wv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function xv(e){v.useContext(Jt).static||v.useLayoutEffect(e)}function Ft(){let{isDataRoute:e}=v.useContext(lr);return e?iS():K_()}function K_(){xe(ii(),"useNavigate() may be used only in the context of a <Router> component.");let e=v.useContext(ni),{basename:t,navigator:r}=v.useContext(Jt),{matches:n}=v.useContext(lr),{pathname:i}=Et(),o=JSON.stringify(od(n)),a=v.useRef(!1);return xv(()=>{a.current=!0}),v.useCallback((l,c={})=>{if(Dt(a.current,wv),!a.current)return;if(typeof l=="number"){r.go(l);return}let u=ad(l,JSON.parse(o),i,c.relative==="path");e==null&&t!=="/"&&(u.pathname=u.pathname==="/"?t:yr([t,u.pathname])),(c.replace?r.replace:r.push)(u,c.state,c)},[t,r,o,i,e])}v.createContext(null);function ao(e,{relative:t}={}){let{matches:r}=v.useContext(lr),{pathname:n}=Et(),i=JSON.stringify(od(r));return v.useMemo(()=>ad(e,JSON.parse(i),n,t==="path"),[e,i,n,t])}function G_(e,t){return _v(e,t)}function _v(e,t,r,n,i){var w;xe(ii(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=v.useContext(Jt),{matches:a}=v.useContext(lr),s=a[a.length-1],l=s?s.params:{},c=s?s.pathname:"/",u=s?s.pathnameBase:"/",d=s&&s.route;{let x=d&&d.path||"";Sv(c,!d||x.endsWith("*")||x.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${x}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${x}"> to <Route path="${x==="/"?"*":`${x}/*`}">.`)}let h=Et(),p;if(t){let x=typeof t=="string"?ri(t):t;xe(u==="/"||((w=x.pathname)==null?void 0:w.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${x.pathname}" was given in the \`location\` prop.`),p=x}else p=h;let m=p.pathname||"/",g=m;if(u!=="/"){let x=u.replace(/^\//,"").split("/");g="/"+m.replace(/^\//,"").split("/").slice(x.length).join("/")}let y=mv(e,{pathname:g});Dt(d||y!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),Dt(y==null||y[y.length-1].route.element!==void 0||y[y.length-1].route.Component!==void 0||y[y.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let b=Z_(y&&y.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:yr([u,o.encodeLocation?o.encodeLocation(x.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?u:yr([u,o.encodeLocation?o.encodeLocation(x.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:x.pathnameBase])})),a,r,n,i);return t&&b?v.createElement(oo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},b):b}function Y_(){let e=nS(),t=U_(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},o={padding:"2px 4px",backgroundColor:n},a=null;return console.error("Error handled by React Router default ErrorBoundary:",e),a=v.createElement(v.Fragment,null,v.createElement("p",null,"ðŸ’¿ Hey developer ðŸ‘‹"),v.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",v.createElement("code",{style:o},"ErrorBoundary")," or"," ",v.createElement("code",{style:o},"errorElement")," prop on your route.")),v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),r?v.createElement("pre",{style:i},r):null,a)}var V_=v.createElement(Y_,null),J_=class extends v.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?v.createElement(lr.Provider,{value:this.props.routeContext},v.createElement(sd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function X_({routeContext:e,match:t,children:r}){let n=v.useContext(ni);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),v.createElement(lr.Provider,{value:e},r)}function Z_(e,t=[],r=null,n=null,i=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,a=r==null?void 0:r.errors;if(a!=null){let c=o.findIndex(u=>u.route.id&&(a==null?void 0:a[u.route.id])!==void 0);xe(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),o=o.slice(0,Math.min(o.length,c+1))}let s=!1,l=-1;if(r)for(let c=0;c<o.length;c++){let u=o[c];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(l=c),u.route.id){let{loaderData:d,errors:h}=r,p=u.route.loader&&!d.hasOwnProperty(u.route.id)&&(!h||h[u.route.id]===void 0);if(u.route.lazy||p){s=!0,l>=0?o=o.slice(0,l+1):o=[o[0]];break}}}return o.reduceRight((c,u,d)=>{let h,p=!1,m=null,g=null;r&&(h=a&&u.route.id?a[u.route.id]:void 0,m=u.route.errorElement||V_,s&&(l<0&&d===0?(Sv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,g=null):l===d&&(p=!0,g=u.route.hydrateFallbackElement||null)));let y=t.concat(o.slice(0,d+1)),b=()=>{let w;return h?w=m:p?w=g:u.route.Component?w=v.createElement(u.route.Component,null):u.route.element?w=u.route.element:w=c,v.createElement(X_,{match:u,routeContext:{outlet:c,matches:y,isDataRoute:r!=null},children:w})};return r&&(u.route.ErrorBoundary||u.route.errorElement||d===0)?v.createElement(J_,{location:r.location,revalidation:r.revalidation,component:m,error:h,children:b(),routeContext:{outlet:null,matches:y,isDataRoute:!0},unstable_onError:n}):b()},null)}function ld(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Q_(e){let t=v.useContext(ni);return xe(t,ld(e)),t}function eS(e){let t=v.useContext(ls);return xe(t,ld(e)),t}function tS(e){let t=v.useContext(lr);return xe(t,ld(e)),t}function cd(e){let t=tS(e),r=t.matches[t.matches.length-1];return xe(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function rS(){return cd("useRouteId")}function nS(){var n;let e=v.useContext(sd),t=eS("useRouteError"),r=cd("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function iS(){let{router:e}=Q_("useNavigate"),t=cd("useNavigate"),r=v.useRef(!1);return xv(()=>{r.current=!0}),v.useCallback(async(i,o={})=>{Dt(r.current,wv),r.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...o}))},[e,t])}var lh={};function Sv(e,t,r){!t&&!lh[e]&&(lh[e]=!0,Dt(!1,r))}v.memo(oS);function oS({routes:e,future:t,state:r,unstable_onError:n}){return _v(e,void 0,r,n,t)}function Ev({to:e,replace:t,state:r,relative:n}){xe(ii(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=v.useContext(Jt);Dt(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=v.useContext(lr),{pathname:a}=Et(),s=Ft(),l=ad(e,od(o),a,n==="path"),c=JSON.stringify(l);return v.useEffect(()=>{s(JSON.parse(c),{replace:t,state:r,relative:n})},[s,c,n,t,r]),null}function be(e){xe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function aS({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:i,static:o=!1}){xe(!ii(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=e.replace(/^\/*/,"/"),s=v.useMemo(()=>({basename:a,navigator:i,static:o,future:{}}),[a,i,o]);typeof r=="string"&&(r=ri(r));let{pathname:l="/",search:c="",hash:u="",state:d=null,key:h="default"}=r,p=v.useMemo(()=>{let m=wr(l,a);return m==null?null:{location:{pathname:m,search:c,hash:u,state:d,key:h},navigationType:n}},[a,l,c,u,d,h,n]);return Dt(p!=null,`<Router basename="${a}"> is not able to match the URL "${l}${c}${u}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:v.createElement(Jt.Provider,{value:s},v.createElement(oo.Provider,{children:t,value:p}))}function sS({children:e,location:t}){return G_(Yc(e),t)}function Yc(e,t=[]){let r=[];return v.Children.forEach(e,(n,i)=>{if(!v.isValidElement(n))return;let o=[...t,i];if(n.type===v.Fragment){r.push.apply(r,Yc(n.props.children,o));return}xe(n.type===be,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),xe(!n.props.index||!n.props.children,"An index route cannot have child routes.");let a={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=Yc(n.props.children,o)),r.push(a)}),r}var ca="get",ua="application/x-www-form-urlencoded";function cs(e){return e!=null&&typeof e.tagName=="string"}function lS(e){return cs(e)&&e.tagName.toLowerCase()==="button"}function cS(e){return cs(e)&&e.tagName.toLowerCase()==="form"}function uS(e){return cs(e)&&e.tagName.toLowerCase()==="input"}function dS(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function fS(e,t){return e.button===0&&(!t||t==="_self")&&!dS(e)}function Vc(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function hS(e,t){let r=Vc(e);return t&&t.forEach((n,i)=>{r.has(i)||t.getAll(i).forEach(o=>{r.append(i,o)})}),r}var Ro=null;function pS(){if(Ro===null)try{new FormData(document.createElement("form"),0),Ro=!1}catch{Ro=!0}return Ro}var mS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Js(e){return e!=null&&!mS.has(e)?(Dt(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ua}"`),null):e}function gS(e,t){let r,n,i,o,a;if(cS(e)){let s=e.getAttribute("action");n=s?wr(s,t):null,r=e.getAttribute("method")||ca,i=Js(e.getAttribute("enctype"))||ua,o=new FormData(e)}else if(lS(e)||uS(e)&&(e.type==="submit"||e.type==="image")){let s=e.form;if(s==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||s.getAttribute("action");if(n=l?wr(l,t):null,r=e.getAttribute("formmethod")||s.getAttribute("method")||ca,i=Js(e.getAttribute("formenctype"))||Js(s.getAttribute("enctype"))||ua,o=new FormData(s,e),!pS()){let{name:c,type:u,value:d}=e;if(u==="image"){let h=c?`${c}.`:"";o.append(`${h}x`,"0"),o.append(`${h}y`,"0")}else c&&o.append(c,d)}}else{if(cs(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=ca,n=null,i=ua,a=e}return o&&i==="text/plain"&&(a=o,o=void 0),{action:n,method:r.toLowerCase(),encType:i,formData:o,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ud(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function yS(e,t,r){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${r}`:t&&wr(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function vS(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function bS(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function wS(e,t,r){let n=await Promise.all(e.map(async i=>{let o=t.routes[i.route.id];if(o){let a=await vS(o,r);return a.links?a.links():[]}return[]}));return ES(n.flat(1).filter(bS).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function ch(e,t,r,n,i,o){let a=(l,c)=>r[c]?l.route.id!==r[c].route.id:!0,s=(l,c)=>{var u;return r[c].pathname!==l.pathname||((u=r[c].route.path)==null?void 0:u.endsWith("*"))&&r[c].params["*"]!==l.params["*"]};return o==="assets"?t.filter((l,c)=>a(l,c)||s(l,c)):o==="data"?t.filter((l,c)=>{var d;let u=n.routes[l.route.id];if(!u||!u.hasLoader)return!1;if(a(l,c)||s(l,c))return!0;if(l.route.shouldRevalidate){let h=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((d=r[0])==null?void 0:d.params)||{},nextUrl:new URL(e,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function xS(e,t,{includeHydrateFallback:r}={}){return _S(e.map(n=>{let i=t.routes[n.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function _S(e){return[...new Set(e)]}function SS(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function ES(e,t){let r=new Set;return new Set(t),e.reduce((n,i)=>{let o=JSON.stringify(SS(i));return r.has(o)||(r.add(o),n.push({key:o,link:i})),n},[])}function jv(){let e=v.useContext(ni);return ud(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function jS(){let e=v.useContext(ls);return ud(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var dd=v.createContext(void 0);dd.displayName="FrameworkContext";function Cv(){let e=v.useContext(dd);return ud(e,"You must render this element inside a <HydratedRouter> element"),e}function CS(e,t){let r=v.useContext(dd),[n,i]=v.useState(!1),[o,a]=v.useState(!1),{onFocus:s,onBlur:l,onMouseEnter:c,onMouseLeave:u,onTouchStart:d}=t,h=v.useRef(null);v.useEffect(()=>{if(e==="render"&&a(!0),e==="viewport"){let g=b=>{b.forEach(w=>{a(w.isIntersecting)})},y=new IntersectionObserver(g,{threshold:.5});return h.current&&y.observe(h.current),()=>{y.disconnect()}}},[e]),v.useEffect(()=>{if(n){let g=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(g)}}},[n]);let p=()=>{i(!0)},m=()=>{i(!1),a(!1)};return r?e!=="intent"?[o,h,{}]:[o,h,{onFocus:bi(s,p),onBlur:bi(l,m),onMouseEnter:bi(c,p),onMouseLeave:bi(u,m),onTouchStart:bi(d,p)}]:[!1,h,{}]}function bi(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function kS({page:e,...t}){let{router:r}=jv(),n=v.useMemo(()=>mv(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?v.createElement(AS,{page:e,matches:n,...t}):null}function PS(e){let{manifest:t,routeModules:r}=Cv(),[n,i]=v.useState([]);return v.useEffect(()=>{let o=!1;return wS(e,t,r).then(a=>{o||i(a)}),()=>{o=!0}},[e,t,r]),n}function AS({page:e,matches:t,...r}){let n=Et(),{manifest:i,routeModules:o}=Cv(),{basename:a}=jv(),{loaderData:s,matches:l}=jS(),c=v.useMemo(()=>ch(e,t,l,i,n,"data"),[e,t,l,i,n]),u=v.useMemo(()=>ch(e,t,l,i,n,"assets"),[e,t,l,i,n]),d=v.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let m=new Set,g=!1;if(t.forEach(b=>{var x;let w=i.routes[b.route.id];!w||!w.hasLoader||(!c.some(_=>_.route.id===b.route.id)&&b.route.id in s&&((x=o[b.route.id])!=null&&x.shouldRevalidate)||w.hasClientLoader?g=!0:m.add(b.route.id))}),m.size===0)return[];let y=yS(e,a,"data");return g&&m.size>0&&y.searchParams.set("_routes",t.filter(b=>m.has(b.route.id)).map(b=>b.route.id).join(",")),[y.pathname+y.search]},[a,s,n,i,c,t,e,o]),h=v.useMemo(()=>xS(u,i),[u,i]),p=PS(u);return v.createElement(v.Fragment,null,d.map(m=>v.createElement("link",{key:m,rel:"prefetch",as:"fetch",href:m,...r})),h.map(m=>v.createElement("link",{key:m,rel:"modulepreload",href:m,...r})),p.map(({key:m,link:g})=>v.createElement("link",{key:m,nonce:r.nonce,...g})))}function OS(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var kv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{kv&&(window.__reactRouterVersion="7.9.3")}catch{}function TS({basename:e,children:t,window:r}){let n=v.useRef();n.current==null&&(n.current=v_({window:r,v5Compat:!0}));let i=n.current,[o,a]=v.useState({action:i.action,location:i.location}),s=v.useCallback(l=>{v.startTransition(()=>a(l))},[a]);return v.useLayoutEffect(()=>i.listen(s),[i,s]),v.createElement(aS,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:i})}var Pv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Lr=v.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:i,reloadDocument:o,replace:a,state:s,target:l,to:c,preventScrollReset:u,viewTransition:d,...h},p){let{basename:m}=v.useContext(Jt),g=typeof c=="string"&&Pv.test(c),y,b=!1;if(typeof c=="string"&&g&&(y=c,kv))try{let A=new URL(window.location.href),I=c.startsWith("//")?new URL(A.protocol+c):new URL(c),O=wr(I.pathname,m);I.origin===A.origin&&O!=null?c=O+I.search+I.hash:b=!0}catch{Dt(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let w=H_(c,{relative:i}),[x,_,S]=CS(n,h),E=$S(c,{replace:a,state:s,target:l,preventScrollReset:u,relative:i,viewTransition:d});function j(A){t&&t(A),A.defaultPrevented||E(A)}let P=v.createElement("a",{...h,...S,href:y||w,onClick:b||o?t:j,ref:OS(p,_),target:l,"data-discover":!g&&r==="render"?"true":void 0});return x&&!g?v.createElement(v.Fragment,null,P,v.createElement(kS,{page:w})):P});Lr.displayName="Link";var RS=v.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:i=!1,style:o,to:a,viewTransition:s,children:l,...c},u){let d=ao(a,{relative:c.relative}),h=Et(),p=v.useContext(ls),{navigator:m,basename:g}=v.useContext(Jt),y=p!=null&&BS(d)&&s===!0,b=m.encodeLocation?m.encodeLocation(d).pathname:d.pathname,w=h.pathname,x=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;r||(w=w.toLowerCase(),x=x?x.toLowerCase():null,b=b.toLowerCase()),x&&g&&(x=wr(x,g)||x);const _=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let S=w===b||!i&&w.startsWith(b)&&w.charAt(_)==="/",E=x!=null&&(x===b||!i&&x.startsWith(b)&&x.charAt(b.length)==="/"),j={isActive:S,isPending:E,isTransitioning:y},P=S?t:void 0,A;typeof n=="function"?A=n(j):A=[n,S?"active":null,E?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let I=typeof o=="function"?o(j):o;return v.createElement(Lr,{...c,"aria-current":P,className:A,ref:u,style:I,to:a,viewTransition:s},typeof l=="function"?l(j):l)});RS.displayName="NavLink";var IS=v.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:i,state:o,method:a=ca,action:s,onSubmit:l,relative:c,preventScrollReset:u,viewTransition:d,...h},p)=>{let m=NS(),g=LS(s,{relative:c}),y=a.toLowerCase()==="get"?"get":"post",b=typeof s=="string"&&Pv.test(s),w=x=>{if(l&&l(x),x.defaultPrevented)return;x.preventDefault();let _=x.nativeEvent.submitter,S=(_==null?void 0:_.getAttribute("formmethod"))||a;m(_||x.currentTarget,{fetcherKey:t,method:S,navigate:r,replace:i,state:o,relative:c,preventScrollReset:u,viewTransition:d})};return v.createElement("form",{ref:p,method:y,action:g,onSubmit:n?l:w,...h,"data-discover":!b&&e==="render"?"true":void 0})});IS.displayName="Form";function DS(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Av(e){let t=v.useContext(ni);return xe(t,DS(e)),t}function $S(e,{target:t,replace:r,state:n,preventScrollReset:i,relative:o,viewTransition:a}={}){let s=Ft(),l=Et(),c=ao(e,{relative:o});return v.useCallback(u=>{if(fS(u,t)){u.preventDefault();let d=r!==void 0?r:Gi(l)===Gi(c);s(e,{replace:d,state:n,preventScrollReset:i,relative:o,viewTransition:a})}},[l,s,c,r,n,t,e,i,o,a])}function Ov(e){Dt(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=v.useRef(Vc(e)),r=v.useRef(!1),n=Et(),i=v.useMemo(()=>hS(n.search,r.current?null:t.current),[n.search]),o=Ft(),a=v.useCallback((s,l)=>{const c=Vc(typeof s=="function"?s(new URLSearchParams(i)):s);r.current=!0,o("?"+c,l)},[o,i]);return[i,a]}var MS=0,FS=()=>`__${String(++MS)}__`;function NS(){let{router:e}=Av("useSubmit"),{basename:t}=v.useContext(Jt),r=rS();return v.useCallback(async(n,i={})=>{let{action:o,method:a,encType:s,formData:l,body:c}=gS(n,t);if(i.navigate===!1){let u=i.fetcherKey||FS();await e.fetch(u,r,i.action||o,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||a,formEncType:i.encType||s,flushSync:i.flushSync})}else await e.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||a,formEncType:i.encType||s,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,r])}function LS(e,{relative:t}={}){let{basename:r}=v.useContext(Jt),n=v.useContext(lr);xe(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),o={...ao(e||".",{relative:t})},a=Et();if(e==null){o.search=a.search;let s=new URLSearchParams(o.search),l=s.getAll("index");if(l.some(u=>u==="")){s.delete("index"),l.filter(d=>d).forEach(d=>s.append("index",d));let u=s.toString();o.search=u?`?${u}`:""}}return(!e||e===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(o.pathname=o.pathname==="/"?r:yr([r,o.pathname])),Gi(o)}function BS(e,{relative:t}={}){let r=v.useContext(bv);xe(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=Av("useViewTransitionState"),i=ao(e,{relative:t});if(!r.isTransitioning)return!1;let o=wr(r.currentLocation.pathname,n)||r.currentLocation.pathname,a=wr(r.nextLocation.pathname,n)||r.nextLocation.pathname;return ga(i.pathname,a)!=null||ga(i.pathname,o)!=null}var Tv=h_();const US=sr(Tv),zS="modulepreload",WS=function(e,t){return new URL(e,t).href},uh={},so=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){let a=function(u){return Promise.all(u.map(d=>Promise.resolve(d).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};const s=document.getElementsByTagName("link"),l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));i=a(r.map(u=>{if(u=WS(u,n),u in uh)return;uh[u]=!0;const d=u.endsWith(".css"),h=d?'[rel="stylesheet"]':"";if(!!n)for(let g=s.length-1;g>=0;g--){const y=s[g];if(y.href===u&&(!d||y.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${h}`))return;const m=document.createElement("link");if(m.rel=d?"stylesheet":zS,d||(m.as="script"),m.crossOrigin="",m.href=u,c&&m.setAttribute("nonce",c),document.head.appendChild(m),d)return new Promise((g,y)=>{m.addEventListener("load",g),m.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${u}`)))})}))}function o(a){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=a,window.dispatchEvent(s),!s.defaultPrevented)throw a}return i.then(a=>{for(const s of a||[])s.status==="rejected"&&o(s.reason);return t().catch(o)})},qS=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>so(async()=>{const{default:n}=await Promise.resolve().then(()=>oi);return{default:n}},[],import.meta.url).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class fd extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class dh extends fd{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class fh extends fd{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class hh extends fd{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Jc;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Jc||(Jc={}));var HS=function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(u){try{c(n.next(u))}catch(d){a(d)}}function l(u){try{c(n.throw(u))}catch(d){a(d)}}function c(u){u.done?o(u.value):i(u.value).then(s,l)}c((n=n.apply(e,t||[])).next())})};class KS{constructor(t,{headers:r={},customFetch:n,region:i=Jc.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=qS(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return HS(this,void 0,void 0,function*(){try{const{headers:i,method:o,body:a,signal:s}=r;let l={},{region:c}=r;c||(c=this.region);const u=new URL(`${this.url}/${t}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let d;a&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=a):typeof a=="string"?(l["Content-Type"]="text/plain",d=a):typeof FormData<"u"&&a instanceof FormData?d=a:(l["Content-Type"]="application/json",d=JSON.stringify(a)));const h=yield this.fetch(u.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),i),body:d,signal:s}).catch(y=>{throw y.name==="AbortError"?y:new dh(y)}),p=h.headers.get("x-relay-error");if(p&&p==="true")throw new fh(h);if(!h.ok)throw new hh(h);let m=((n=h.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),g;return m==="application/json"?g=yield h.json():m==="application/octet-stream"?g=yield h.blob():m==="text/event-stream"?g=h:m==="multipart/form-data"?g=yield h.formData():g=yield h.text(),{data:g,error:null,response:h}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new dh(i)}:{data:null,error:i,response:i instanceof hh||i instanceof fh?i.context:void 0}}})}}var Ie={},jn={},Cn={},kn={},Pn={},An={},GS=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Wn=GS();const YS=Wn.fetch,Rv=Wn.fetch.bind(Wn),Iv=Wn.Headers,VS=Wn.Request,JS=Wn.Response,oi=Object.freeze(Object.defineProperty({__proto__:null,Headers:Iv,Request:VS,Response:JS,default:Rv,fetch:YS},Symbol.toStringTag,{value:"Module"})),XS=p_(oi);var Io={},ph;function Dv(){if(ph)return Io;ph=1,Object.defineProperty(Io,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Io.default=e,Io}var mh;function $v(){if(mh)return An;mh=1;var e=An&&An.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(An,"__esModule",{value:!0});const t=e(XS),r=e(Dv());class n{constructor(o){var a,s;this.shouldThrowOnError=!1,this.method=o.method,this.url=o.url,this.headers=new Headers(o.headers),this.schema=o.schema,this.body=o.body,this.shouldThrowOnError=(a=o.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=o.signal,this.isMaybeSingle=(s=o.isMaybeSingle)!==null&&s!==void 0?s:!1,o.fetch?this.fetch=o.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(o,a){return this.headers=new Headers(this.headers),this.headers.set(o,a),this}then(o,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let l=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var u,d,h,p;let m=null,g=null,y=null,b=c.status,w=c.statusText;if(c.ok){if(this.method!=="HEAD"){const E=await c.text();E===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?g=E:g=JSON.parse(E))}const _=(d=this.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),S=(h=c.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");_&&S&&S.length>1&&(y=parseInt(S[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(g)&&(g.length>1?(m={code:"PGRST116",details:`Results contain ${g.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},g=null,y=null,b=406,w="Not Acceptable"):g.length===1?g=g[0]:g=null)}else{const _=await c.text();try{m=JSON.parse(_),Array.isArray(m)&&c.status===404&&(g=[],m=null,b=200,w="OK")}catch{c.status===404&&_===""?(b=204,w="No Content"):m={message:_}}if(m&&this.isMaybeSingle&&(!((p=m==null?void 0:m.details)===null||p===void 0)&&p.includes("0 rows"))&&(m=null,b=200,w="OK"),m&&this.shouldThrowOnError)throw new r.default(m)}return{error:m,data:g,count:y,status:b,statusText:w}});return this.shouldThrowOnError||(l=l.catch(c=>{var u,d,h;return{error:{message:`${(u=c==null?void 0:c.name)!==null&&u!==void 0?u:"FetchError"}: ${c==null?void 0:c.message}`,details:`${(d=c==null?void 0:c.stack)!==null&&d!==void 0?d:""}`,hint:"",code:`${(h=c==null?void 0:c.code)!==null&&h!==void 0?h:""}`},data:null,count:null,status:0,statusText:""}})),l.then(o,a)}returns(){return this}overrideTypes(){return this}}return An.default=n,An}var gh;function Mv(){if(gh)return Pn;gh=1;var e=Pn&&Pn.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Pn,"__esModule",{value:!0});const t=e($v());class r extends t.default{select(i){let o=!1;const a=(i??"*").split("").map(s=>/\s/.test(s)&&!o?"":(s==='"'&&(o=!o),s)).join("");return this.url.searchParams.set("select",a),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:o=!0,nullsFirst:a,foreignTable:s,referencedTable:l=s}={}){const c=l?`${l}.order`:"order",u=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${u?`${u},`:""}${i}.${o?"asc":"desc"}${a===void 0?"":a?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:o,referencedTable:a=o}={}){const s=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(s,`${i}`),this}range(i,o,{foreignTable:a,referencedTable:s=a}={}){const l=typeof s>"u"?"offset":`${s}.offset`,c=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(l,`${i}`),this.url.searchParams.set(c,`${o-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:o=!1,settings:a=!1,buffers:s=!1,wal:l=!1,format:c="text"}={}){var u;const d=[i?"analyze":null,o?"verbose":null,a?"settings":null,s?"buffers":null,l?"wal":null].filter(Boolean).join("|"),h=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${h}"; options=${d};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return Pn.default=r,Pn}var yh;function hd(){if(yh)return kn;yh=1;var e=kn&&kn.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(kn,"__esModule",{value:!0});const t=e(Mv());class r extends t.default{eq(i,o){return this.url.searchParams.append(i,`eq.${o}`),this}neq(i,o){return this.url.searchParams.append(i,`neq.${o}`),this}gt(i,o){return this.url.searchParams.append(i,`gt.${o}`),this}gte(i,o){return this.url.searchParams.append(i,`gte.${o}`),this}lt(i,o){return this.url.searchParams.append(i,`lt.${o}`),this}lte(i,o){return this.url.searchParams.append(i,`lte.${o}`),this}like(i,o){return this.url.searchParams.append(i,`like.${o}`),this}likeAllOf(i,o){return this.url.searchParams.append(i,`like(all).{${o.join(",")}}`),this}likeAnyOf(i,o){return this.url.searchParams.append(i,`like(any).{${o.join(",")}}`),this}ilike(i,o){return this.url.searchParams.append(i,`ilike.${o}`),this}ilikeAllOf(i,o){return this.url.searchParams.append(i,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(i,o){return this.url.searchParams.append(i,`ilike(any).{${o.join(",")}}`),this}is(i,o){return this.url.searchParams.append(i,`is.${o}`),this}in(i,o){const a=Array.from(new Set(o)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(i,`in.(${a})`),this}contains(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cs.{${o.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(o)}`),this}containedBy(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cd.{${o.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(o)}`),this}rangeGt(i,o){return this.url.searchParams.append(i,`sr.${o}`),this}rangeGte(i,o){return this.url.searchParams.append(i,`nxl.${o}`),this}rangeLt(i,o){return this.url.searchParams.append(i,`sl.${o}`),this}rangeLte(i,o){return this.url.searchParams.append(i,`nxr.${o}`),this}rangeAdjacent(i,o){return this.url.searchParams.append(i,`adj.${o}`),this}overlaps(i,o){return typeof o=="string"?this.url.searchParams.append(i,`ov.${o}`):this.url.searchParams.append(i,`ov.{${o.join(",")}}`),this}textSearch(i,o,{config:a,type:s}={}){let l="";s==="plain"?l="pl":s==="phrase"?l="ph":s==="websearch"&&(l="w");const c=a===void 0?"":`(${a})`;return this.url.searchParams.append(i,`${l}fts${c}.${o}`),this}match(i){return Object.entries(i).forEach(([o,a])=>{this.url.searchParams.append(o,`eq.${a}`)}),this}not(i,o,a){return this.url.searchParams.append(i,`not.${o}.${a}`),this}or(i,{foreignTable:o,referencedTable:a=o}={}){const s=a?`${a}.or`:"or";return this.url.searchParams.append(s,`(${i})`),this}filter(i,o,a){return this.url.searchParams.append(i,`${o}.${a}`),this}}return kn.default=r,kn}var vh;function Fv(){if(vh)return Cn;vh=1;var e=Cn&&Cn.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Cn,"__esModule",{value:!0});const t=e(hd());class r{constructor(i,{headers:o={},schema:a,fetch:s}){this.url=i,this.headers=new Headers(o),this.schema=a,this.fetch=s}select(i,{head:o=!1,count:a}={}){const s=o?"HEAD":"GET";let l=!1;const c=(i??"*").split("").map(u=>/\s/.test(u)&&!l?"":(u==='"'&&(l=!l),u)).join("");return this.url.searchParams.set("select",c),a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:o,defaultToNull:a=!0}={}){var s;const l="POST";if(o&&this.headers.append("Prefer",`count=${o}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const c=i.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(i,{onConflict:o,ignoreDuplicates:a=!1,count:s,defaultToNull:l=!0}={}){var c;const u="POST";if(this.headers.append("Prefer",`resolution=${a?"ignore":"merge"}-duplicates`),o!==void 0&&this.url.searchParams.set("on_conflict",o),s&&this.headers.append("Prefer",`count=${s}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const d=i.reduce((h,p)=>h.concat(Object.keys(p)),[]);if(d.length>0){const h=[...new Set(d)].map(p=>`"${p}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}update(i,{count:o}={}){var a;const s="PATCH";return o&&this.headers.append("Prefer",`count=${o}`),new t.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}delete({count:i}={}){var o;const a="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}}return Cn.default=r,Cn}var bh;function ZS(){if(bh)return jn;bh=1;var e=jn&&jn.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(jn,"__esModule",{value:!0});const t=e(Fv()),r=e(hd());class n{constructor(o,{headers:a={},schema:s,fetch:l}={}){this.url=o,this.headers=new Headers(a),this.schemaName=s,this.fetch=l}from(o){const a=new URL(`${this.url}/${o}`);return new t.default(a,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new n(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,a={},{head:s=!1,get:l=!1,count:c}={}){var u;let d;const h=new URL(`${this.url}/rpc/${o}`);let p;s||l?(d=s?"HEAD":"GET",Object.entries(a).filter(([g,y])=>y!==void 0).map(([g,y])=>[g,Array.isArray(y)?`{${y.join(",")}}`:`${y}`]).forEach(([g,y])=>{h.searchParams.append(g,y)})):(d="POST",p=a);const m=new Headers(this.headers);return c&&m.set("Prefer",`count=${c}`),new r.default({method:d,url:h,headers:m,schema:this.schemaName,body:p,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}}return jn.default=n,jn}var wh;function QS(){if(wh)return Ie;wh=1;var e=Ie&&Ie.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Ie,"__esModule",{value:!0}),Ie.PostgrestError=Ie.PostgrestBuilder=Ie.PostgrestTransformBuilder=Ie.PostgrestFilterBuilder=Ie.PostgrestQueryBuilder=Ie.PostgrestClient=void 0;const t=e(ZS());Ie.PostgrestClient=t.default;const r=e(Fv());Ie.PostgrestQueryBuilder=r.default;const n=e(hd());Ie.PostgrestFilterBuilder=n.default;const i=e(Mv());Ie.PostgrestTransformBuilder=i.default;const o=e($v());Ie.PostgrestBuilder=o.default;const a=e(Dv());return Ie.PostgrestError=a.default,Ie.default={PostgrestClient:t.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:o.default,PostgrestError:a.default},Ie}var eE=QS();const tE=sr(eE),{PostgrestClient:rE,PostgrestQueryBuilder:vz,PostgrestFilterBuilder:bz,PostgrestTransformBuilder:wz,PostgrestBuilder:xz,PostgrestError:_z}=tE;class nE{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const iE="2.15.5",oE=`realtime-js/${iE}`,aE="1.0.0",Xc=1e4,sE=1e3,lE=100;var Ui;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Ui||(Ui={}));var Pe;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Pe||(Pe={}));var Kt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Kt||(Kt={}));var Zc;(function(e){e.websocket="websocket"})(Zc||(Zc={}));var en;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(en||(en={}));class cE{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const i=r.getUint8(1),o=r.getUint8(2);let a=this.HEADER_LENGTH+2;const s=n.decode(t.slice(a,a+i));a=a+i;const l=n.decode(t.slice(a,a+o));a=a+o;const c=JSON.parse(n.decode(t.slice(a,t.byteLength)));return{ref:null,topic:s,event:l,payload:c}}}class Nv{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var pe;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(pe||(pe={}));const xh=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((o,a)=>(o[a]=uE(a,e,t,i),o),{})},uE=(e,t,r,n)=>{const i=t.find(s=>s.name===e),o=i==null?void 0:i.type,a=r[e];return o&&!n.includes(o)?Lv(o,a):Qc(a)},Lv=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return pE(t,r)}switch(e){case pe.bool:return dE(t);case pe.float4:case pe.float8:case pe.int2:case pe.int4:case pe.int8:case pe.numeric:case pe.oid:return fE(t);case pe.json:case pe.jsonb:return hE(t);case pe.timestamp:return mE(t);case pe.abstime:case pe.date:case pe.daterange:case pe.int4range:case pe.int8range:case pe.money:case pe.reltime:case pe.text:case pe.time:case pe.timestamptz:case pe.timetz:case pe.tsrange:case pe.tstzrange:return Qc(t);default:return Qc(t)}},Qc=e=>e,dE=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},fE=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},hE=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},pE=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let o;const a=e.slice(1,r);try{o=JSON.parse("["+a+"]")}catch{o=a?a.split(","):[]}return o.map(s=>Lv(t,s))}return e},mE=e=>typeof e=="string"?e.replace(" ","T"):e,Bv=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class Xs{constructor(t,r,n={},i=Xc){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var _h;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(_h||(_h={}));class zi{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:o,onLeave:a,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=zi.syncState(this.state,i,o,a),this.pendingDiffs.forEach(l=>{this.state=zi.syncDiff(this.state,l,o,a)}),this.pendingDiffs=[],s()}),this.channel._on(n.diff,{},i=>{const{onJoin:o,onLeave:a,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=zi.syncDiff(this.state,i,o,a),s())}),this.onJoin((i,o,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:a})}),this.onLeave((i,o,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const o=this.cloneDeep(t),a=this.transformState(r),s={},l={};return this.map(o,(c,u)=>{a[c]||(l[c]=u)}),this.map(a,(c,u)=>{const d=o[c];if(d){const h=u.map(y=>y.presence_ref),p=d.map(y=>y.presence_ref),m=u.filter(y=>p.indexOf(y.presence_ref)<0),g=d.filter(y=>h.indexOf(y.presence_ref)<0);m.length>0&&(s[c]=m),g.length>0&&(l[c]=g)}else s[c]=u}),this.syncDiff(o,{joins:s,leaves:l},n,i)}static syncDiff(t,r,n,i){const{joins:o,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(o,(s,l)=>{var c;const u=(c=t[s])!==null&&c!==void 0?c:[];if(t[s]=this.cloneDeep(l),u.length>0){const d=t[s].map(p=>p.presence_ref),h=u.filter(p=>d.indexOf(p.presence_ref)<0);t[s].unshift(...h)}n(s,u,l)}),this.map(a,(s,l)=>{let c=t[s];if(!c)return;const u=l.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),t[s]=c,i(s,c,l),c.length===0&&delete t[s]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Sh;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Sh||(Sh={}));var Wi;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Wi||(Wi={}));var fr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(fr||(fr={}));class pd{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Pe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Xs(this,Kt.join,this.params,this.timeout),this.rejoinTimer=new Nv(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Pe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Pe.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Pe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Pe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Pe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Kt.reply,{},(i,o)=>{this._trigger(this._replyEventName(o),i)}),this.presence=new zi(this),this.broadcastEndpointURL=Bv(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==Pe.closed){const{config:{broadcast:a,presence:s,private:l}}=this.params,c=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&i!==void 0?i:[],u=!!this.bindings[Wi.PRESENCE]&&this.bindings[Wi.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,d={},h={broadcast:a,presence:Object.assign(Object.assign({},s),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t(fr.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(fr.CLOSED)),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var m;if(this.socket.setAuth(),p===void 0){t==null||t(fr.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,y=(m=g==null?void 0:g.length)!==null&&m!==void 0?m:0,b=[];for(let w=0;w<y;w++){const x=g[w],{filter:{event:_,schema:S,table:E,filter:j}}=x,P=p&&p[w];if(P&&P.event===_&&P.schema===S&&P.table===E&&P.filter===j)b.push(Object.assign(Object.assign({},x),{id:P.id}));else{this.unsubscribe(),this.state=Pe.errored,t==null||t(fr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,t&&t(fr.SUBSCRIBED);return}}).receive("error",p=>{this.state=Pe.errored,t==null||t(fr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(fr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Pe.joined&&t===Wi.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){const{event:o,payload:a}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:a,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var a,s,l;const c=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(s=(a=this.params)===null||a===void 0?void 0:a.config)===null||s===void 0?void 0:s.broadcast)===null||l===void 0)&&l.ack)&&o("ok"),c.receive("ok",()=>o("ok")),c.receive("error",()=>o("error")),c.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Pe.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Kt.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new Xs(this,Kt.leave,{},t),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Pe.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const i=new AbortController,o=setTimeout(()=>i.abort(),n),a=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(o),a}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Xs(this,t,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>lE){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,o;const a=t.toLocaleLowerCase(),{close:s,error:l,leave:c,join:u}=Kt;if(n&&[s,l,c,u].indexOf(a)>=0&&n!==this._joinRef())return;let h=this._onMessage(a,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(p=>{var m,g,y;return((m=p.filter)===null||m===void 0?void 0:m.event)==="*"||((y=(g=p.filter)===null||g===void 0?void 0:g.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===a}).map(p=>p.callback(h,n)):(o=this.bindings[a])===null||o===void 0||o.filter(p=>{var m,g,y,b,w,x;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in p){const _=p.id,S=(m=p.filter)===null||m===void 0?void 0:m.event;return _&&((g=r.ids)===null||g===void 0?void 0:g.includes(_))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((y=r.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const _=(w=(b=p==null?void 0:p.filter)===null||b===void 0?void 0:b.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return _==="*"||_===((x=r==null?void 0:r.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===a}).map(p=>{if(typeof h=="object"&&"ids"in h){const m=h.data,{schema:g,table:y,commit_timestamp:b,type:w,errors:x}=m;h=Object.assign(Object.assign({},{schema:g,table:y,commit_timestamp:b,eventType:w,new:{},old:{},errors:x}),this._getPayloadRecords(m))}p.callback(h,n)})}_isClosed(){return this.state===Pe.closed}_isJoined(){return this.state===Pe.joined}_isJoining(){return this.state===Pe.joining}_isLeaving(){return this.state===Pe.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),o={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===n&&pd.isEqual(i.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Kt.close,{},t)}_onError(t){this._on(Kt.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Pe.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=xh(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=xh(t.columns,t.old_record)),r}}const Zs=()=>{},Do={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},gE=[1e3,2e3,5e3,1e4],yE=1e4,vE=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class bE{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Xc,this.transport=null,this.heartbeatIntervalMs=Do.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Zs,this.ref=0,this.reconnectTimer=null,this.logger=Zs,this.conn=null,this.sendBuffer=[],this.serializer=new cE,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>so(async()=>{const{default:s}=await Promise.resolve().then(()=>oi);return{default:s}},void 0,import.meta.url).then(({default:s})=>s(...a)).catch(s=>{throw new Error(`Failed to load @supabase/node-fetch: ${s.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):o=fetch,(...a)=>o(...a)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Zc.websocket}`,this.httpEndpoint=Bv(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=nE.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:aE}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Ui.connecting:return en.Connecting;case Ui.open:return en.Open;case Ui.closing:return en.Closing;default:return en.Closed}}isConnected(){return this.connectionState()===en.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(o=>o.topic===n);if(i)return i;{const o=new pd(`realtime:${t}`,r,this);return this.channels.push(o),o}}push(t){const{topic:r,event:n,payload:i,ref:o}=t,a=()=>{this.encode(t,s=>{var l;(l=this.conn)===null||l===void 0||l.send(s)})};this.log("push",`${r} ${n} (${o})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(sE,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Do.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:o,ref:a}=r,s=a?`(${a})`:"",l=o.status||"";this.log("receive",`${l} ${n} ${i} ${s}`.trim(),o),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(i,o,a)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Kt.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([vE],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:oE};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(Kt.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Nv(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Do.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,i,o,a,s,l,c,u;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:Xc,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:Do.HEARTBEAT_INTERVAL,this.worker=(o=t==null?void 0:t.worker)!==null&&o!==void 0?o:!1,this.accessToken=(a=t==null?void 0:t.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(s=t==null?void 0:t.heartbeatCallback)!==null&&s!==void 0?s:Zs,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=t==null?void 0:t.reconnectAfterMs)!==null&&l!==void 0?l:(d=>gE[d-1]||yE),this.encode=(c=t==null?void 0:t.encode)!==null&&c!==void 0?c:((d,h)=>h(JSON.stringify(d))),this.decode=(u=t==null?void 0:t.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class md extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Ee(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class wE extends md{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class eu extends md{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var xE=function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(u){try{c(n.next(u))}catch(d){a(d)}}function l(u){try{c(n.throw(u))}catch(d){a(d)}}function c(u){u.done?o(u.value):i(u.value).then(s,l)}c((n=n.apply(e,t||[])).next())})};const Uv=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>so(async()=>{const{default:n}=await Promise.resolve().then(()=>oi);return{default:n}},void 0,import.meta.url).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},_E=()=>xE(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield so(()=>Promise.resolve().then(()=>oi),void 0,import.meta.url)).Response:Response}),tu=e=>{if(Array.isArray(e))return e.map(r=>tu(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[i]=tu(n)}),t},SE=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var yn=function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(u){try{c(n.next(u))}catch(d){a(d)}}function l(u){try{c(n.throw(u))}catch(d){a(d)}}function c(u){u.done?o(u.value):i(u.value).then(s,l)}c((n=n.apply(e,t||[])).next())})};const Qs=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),EE=(e,t,r)=>yn(void 0,void 0,void 0,function*(){const n=yield _E();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(i=>{const o=e.status||500,a=(i==null?void 0:i.statusCode)||o+"";t(new wE(Qs(i),o,a))}).catch(i=>{t(new eu(Qs(i),i))}):t(new eu(Qs(e),e))}),jE=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?i:(SE(n)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,t!=null&&t.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),r))};function lo(e,t,r,n,i,o){return yn(this,void 0,void 0,function*(){return new Promise((a,s)=>{e(r,jE(t,n,i,o)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>a(l)).catch(l=>EE(l,s,n))})})}function ya(e,t,r,n){return yn(this,void 0,void 0,function*(){return lo(e,"GET",t,r,n)})}function rr(e,t,r,n,i){return yn(this,void 0,void 0,function*(){return lo(e,"POST",t,n,i,r)})}function ru(e,t,r,n,i){return yn(this,void 0,void 0,function*(){return lo(e,"PUT",t,n,i,r)})}function CE(e,t,r,n){return yn(this,void 0,void 0,function*(){return lo(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function zv(e,t,r,n,i){return yn(this,void 0,void 0,function*(){return lo(e,"DELETE",t,n,i,r)})}var kE=function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(u){try{c(n.next(u))}catch(d){a(d)}}function l(u){try{c(n.throw(u))}catch(d){a(d)}}function c(u){u.done?o(u.value):i(u.value).then(s,l)}c((n=n.apply(e,t||[])).next())})};class PE{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return kE(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ee(t))return{data:null,error:t};throw t}})}}var AE=function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(u){try{c(n.next(u))}catch(d){a(d)}}function l(u){try{c(n.throw(u))}catch(d){a(d)}}function c(u){u.done?o(u.value):i(u.value).then(s,l)}c((n=n.apply(e,t||[])).next())})};class OE{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}asStream(){return new PE(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.execute().then(t,r)}execute(){return AE(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ee(t))return{data:null,error:t};throw t}})}}var it=function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(u){try{c(n.next(u))}catch(d){a(d)}}function l(u){try{c(n.throw(u))}catch(d){a(d)}}function c(u){u.done?o(u.value):i(u.value).then(s,l)}c((n=n.apply(e,t||[])).next())})};const TE={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Eh={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class RE{constructor(t,r={},n,i){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=Uv(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,i){return it(this,void 0,void 0,function*(){try{let o;const a=Object.assign(Object.assign({},Eh),i);let s=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",a.cacheControl),l&&o.append("metadata",this.encodeMetadata(l)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.append("cacheControl",a.cacheControl),l&&o.append("metadata",this.encodeMetadata(l))):(o=n,s["cache-control"]=`max-age=${a.cacheControl}`,s["content-type"]=a.contentType,l&&(s["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(s=Object.assign(Object.assign({},s),i.headers));const c=this._removeEmptyFolders(r),u=this._getFinalPath(c),d=yield(t=="PUT"?ru:rr)(this.fetch,`${this.url}/object/${u}`,o,Object.assign({headers:s},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:c,id:d.Id,fullPath:d.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ee(o))return{data:null,error:o};throw o}})}upload(t,r,n){return it(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,i){return it(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),a=this._getFinalPath(o),s=new URL(this.url+`/object/upload/sign/${a}`);s.searchParams.set("token",r);try{let l;const c=Object.assign({upsert:Eh.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const d=yield ru(this.fetch,s.toString(),l,{headers:u});return{data:{path:o,fullPath:d.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ee(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,r){return it(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const o=yield rr(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),a=new URL(this.url+o.url),s=a.searchParams.get("token");if(!s)throw new md("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:s},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ee(n))return{data:null,error:n};throw n}})}update(t,r,n){return it(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return it(this,void 0,void 0,function*(){try{return{data:yield rr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ee(i))return{data:null,error:i};throw i}})}copy(t,r,n){return it(this,void 0,void 0,function*(){try{return{data:{path:(yield rr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ee(i))return{data:null,error:i};throw i}})}createSignedUrl(t,r,n){return it(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),o=yield rr(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${a}`)},{data:o,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ee(i))return{data:null,error:i};throw i}})}createSignedUrls(t,r,n){return it(this,void 0,void 0,function*(){try{const i=yield rr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${o}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ee(i))return{data:null,error:i};throw i}})}download(t,r){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),a=o?`?${o}`:"",s=this._getFinalPath(t),l=()=>ya(this.fetch,`${this.url}/${i}/${s}${a}`,{headers:this.headers,noResolveJson:!0});return new OE(l,this.shouldThrowOnError)}info(t){return it(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield ya(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:tu(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ee(n))return{data:null,error:n};throw n}})}exists(t){return it(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield CE(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ee(n)&&n instanceof eu){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),i=[],o=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";o!==""&&i.push(o);const s=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${n}${c}`)}}}remove(t){return it(this,void 0,void 0,function*(){try{return{data:yield zv(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ee(r))return{data:null,error:r};throw r}})}list(t,r,n){return it(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},TE),r),{prefix:t||""});return{data:yield rr(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ee(i))return{data:null,error:i};throw i}})}listV2(t,r){return it(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield rr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ee(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const IE="2.12.2",DE={"X-Client-Info":`storage-js/${IE}`};var On=function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(u){try{c(n.next(u))}catch(d){a(d)}}function l(u){try{c(n.throw(u))}catch(d){a(d)}}function c(u){u.done?o(u.value):i(u.value).then(s,l)}c((n=n.apply(e,t||[])).next())})};class $E{constructor(t,r={},n,i){this.shouldThrowOnError=!1;const o=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href,this.headers=Object.assign(Object.assign({},DE),r),this.fetch=Uv(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return On(this,void 0,void 0,function*(){try{return{data:yield ya(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ee(t))return{data:null,error:t};throw t}})}getBucket(t){return On(this,void 0,void 0,function*(){try{return{data:yield ya(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ee(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return On(this,void 0,void 0,function*(){try{return{data:yield rr(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ee(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return On(this,void 0,void 0,function*(){try{return{data:yield ru(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ee(n))return{data:null,error:n};throw n}})}emptyBucket(t){return On(this,void 0,void 0,function*(){try{return{data:yield rr(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ee(r))return{data:null,error:r};throw r}})}deleteBucket(t){return On(this,void 0,void 0,function*(){try{return{data:yield zv(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ee(r))return{data:null,error:r};throw r}})}}class ME extends $E{constructor(t,r={},n,i){super(t,r,n,i)}from(t){return new RE(this.url,this.headers,t,this.fetch)}}const FE="2.58.0";let Ni="";typeof Deno<"u"?Ni="deno":typeof document<"u"?Ni="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ni="react-native":Ni="node";const NE={"X-Client-Info":`supabase-js-${Ni}/${FE}`},LE={headers:NE},BE={schema:"public"},UE={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},zE={};var WE=function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(u){try{c(n.next(u))}catch(d){a(d)}}function l(u){try{c(n.throw(u))}catch(d){a(d)}}function c(u){u.done?o(u.value):i(u.value).then(s,l)}c((n=n.apply(e,t||[])).next())})};const qE=e=>{let t;return e?t=e:typeof fetch>"u"?t=Rv:t=fetch,(...r)=>t(...r)},HE=()=>typeof Headers>"u"?Iv:Headers,KE=(e,t,r)=>{const n=qE(r),i=HE();return(o,a)=>WE(void 0,void 0,void 0,function*(){var s;const l=(s=yield t())!==null&&s!==void 0?s:e;let c=new i(a==null?void 0:a.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(o,Object.assign(Object.assign({},a),{headers:c}))})};var GE=function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(u){try{c(n.next(u))}catch(d){a(d)}}function l(u){try{c(n.throw(u))}catch(d){a(d)}}function c(u){u.done?o(u.value):i(u.value).then(s,l)}c((n=n.apply(e,t||[])).next())})};function YE(e){return e.endsWith("/")?e:e+"/"}function VE(e,t){var r,n;const{db:i,auth:o,realtime:a,global:s}=e,{db:l,auth:c,realtime:u,global:d}=t,h={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},c),o),realtime:Object.assign(Object.assign({},u),a),storage:{},global:Object.assign(Object.assign(Object.assign({},d),s),{headers:Object.assign(Object.assign({},(r=d==null?void 0:d.headers)!==null&&r!==void 0?r:{}),(n=s==null?void 0:s.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>GE(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function JE(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(YE(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Wv="2.72.0",Nn=30*1e3,nu=3,el=nu*Nn,XE="http://localhost:9999",ZE="supabase.auth.token",QE={"X-Client-Info":`gotrue-js/${Wv}`},iu="X-Supabase-Api-Version",qv={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},ej=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,tj=600*1e3;class gd extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Z(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class rj extends gd{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function nj(e){return Z(e)&&e.name==="AuthApiError"}class Hv extends gd{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class zr extends gd{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}}class Ir extends zr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function ij(e){return Z(e)&&e.name==="AuthSessionMissingError"}class wi extends zr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class $o extends zr{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Mo extends zr{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function oj(e){return Z(e)&&e.name==="AuthImplicitGrantRedirectError"}class jh extends zr{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ou extends zr{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function tl(e){return Z(e)&&e.name==="AuthRetryableFetchError"}class Ch extends zr{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class au extends zr{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const va="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),kh=` 	
\r=`.split(""),aj=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<kh.length;t+=1)e[kh[t].charCodeAt(0)]=-2;for(let t=0;t<va.length;t+=1)e[va[t].charCodeAt(0)]=t;return e})();function Ph(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(va[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(va[n]),t.queuedBits-=6}}function Kv(e,t,r){const n=aj[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Ah(e){const t=[],r=a=>{t.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=a=>{cj(a,n,r)};for(let a=0;a<e.length;a+=1)Kv(e.charCodeAt(a),i,o);return t.join("")}function sj(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function lj(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}sj(n,t)}}function cj(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if((e>>7-n&1)===0){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function uj(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)Kv(e.charCodeAt(i),r,n);return new Uint8Array(t)}function dj(e){const t=[];return lj(e,r=>t.push(r)),new Uint8Array(t)}function fj(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>Ph(i,r,n)),Ph(null,r,n),t.join("")}function hj(e){return Math.round(Date.now()/1e3)+e}function pj(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Ot=()=>typeof window<"u"&&typeof document<"u",Gr={tested:!1,writable:!1},Gv=()=>{if(!Ot())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Gr.tested)return Gr.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Gr.tested=!0,Gr.writable=!0}catch{Gr.tested=!0,Gr.writable=!1}return Gr.writable};function mj(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,o)=>{t[o]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const Yv=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>so(async()=>{const{default:n}=await Promise.resolve().then(()=>oi);return{default:n}},void 0,import.meta.url).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},gj=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Ln=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Yr=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Rr=async(e,t)=>{await e.removeItem(t)};class us{constructor(){this.promise=new us.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}us.promiseConstructor=Promise;function rl(e){const t=e.split(".");if(t.length!==3)throw new au("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!ej.test(t[n]))throw new au("JWT not in base64url format");return{header:JSON.parse(Ah(t[0])),payload:JSON.parse(Ah(t[1])),signature:uj(t[2]),raw:{header:t[0],payload:t[1]}}}async function yj(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function vj(e,t){return new Promise((n,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{const a=await e(o);if(!t(o,null,a)){n(a);return}}catch(a){if(!t(o,a)){i(a);return}}})()})}function bj(e){return("0"+e.toString(16)).substr(-2)}function wj(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let o=0;o<56;o++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,bj).join("")}async function xj(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}async function _j(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await xj(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Tn(e,t,r=!1){const n=wj();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await Ln(e,`${t}-code-verifier`,i);const o=await _j(n);return[o,n===o?"plain":"s256"]}const Sj=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Ej(e){const t=e.headers.get(iu);if(!t||!t.match(Sj))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function jj(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Cj(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const kj=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Rn(e){if(!kj.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function nl(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Oh(e){return JSON.parse(JSON.stringify(e))}var Pj=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};const Jr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Aj=[502,503,504];async function Th(e){var t;if(!gj(e))throw new ou(Jr(e),0);if(Aj.includes(e.status))throw new ou(Jr(e),e.status);let r;try{r=await e.json()}catch(o){throw new Hv(Jr(o),o)}let n;const i=Ej(e);if(i&&i.getTime()>=qv["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Ch(Jr(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Ir}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((o,a)=>o&&typeof a=="string",!0))throw new Ch(Jr(r),e.status,r.weak_password.reasons);throw new rj(Jr(r),e.status||500,n)}const Oj=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function ne(e,t,r,n){var i;const o=Object.assign({},n==null?void 0:n.headers);o[iu]||(o[iu]=qv["2024-01-01"].name),n!=null&&n.jwt&&(o.Authorization=`Bearer ${n.jwt}`);const a=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const s=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await Tj(e,t,r+s,{headers:o,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function Tj(e,t,r,n,i,o){const a=Oj(t,n,i,o);let s;try{s=await e(r,Object.assign({},a))}catch(l){throw console.error(l),new ou(Jr(l),0)}if(s.ok||await Th(s),n!=null&&n.noResolveJson)return s;try{return await s.json()}catch(l){await Th(l)}}function tr(e){var t;let r=null;$j(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=hj(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Rh(e){const t=tr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Mr(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Rj(e){return{data:e,error:null}}function Ij(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:o}=e,a=Pj(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),s={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:o},l=Object.assign({},a);return{data:{properties:s,user:l},error:null}}function Dj(e){return e}function $j(e){return e.access_token&&e.refresh_token&&e.expires_in}const il=["global","local","others"];var Mj=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};class Fj{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=Yv(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=il[0]){if(il.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${il.join(", ")}`);try{return await ne(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Z(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await ne(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Mr})}catch(n){if(Z(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Mj(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await ne(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:Ij,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Z(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await ne(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Mr})}catch(r){if(Z(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,o,a,s,l;try{const c={nextPage:null,lastPage:0,total:0},u=await ne(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:Dj});if(u.error)throw u.error;const d=await u.json(),h=(a=u.headers.get("x-total-count"))!==null&&a!==void 0?a:0,p=(l=(s=u.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(m=>{const g=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(m.split(";")[1].split("=")[1]);c[`${y}Page`]=g}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(Z(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){Rn(t);try{return await ne(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Mr})}catch(r){if(Z(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Rn(t);try{return await ne(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Mr})}catch(n){if(Z(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Rn(t);try{return await ne(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Mr})}catch(n){if(Z(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Rn(t.userId);try{const{data:r,error:n}=await ne(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(Z(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Rn(t.userId),Rn(t.id);try{return{data:await ne(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Z(r))return{data:null,error:r};throw r}}}function Ih(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function Nj(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const In={debug:!!(globalThis&&Gv()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Vv extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Lj extends Vv{}async function Bj(e,t,r){In.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),In.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){In.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{In.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw In.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Lj(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(In.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function Jv(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function Uj(e){return parseInt(e,16)}function zj(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function Wj(e){var t;const{chainId:r,domain:n,expirationTime:i,issuedAt:o=new Date,nonce:a,notBefore:s,requestId:l,resources:c,scheme:u,uri:d,version:h}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const p=Jv(e.address),m=u?`${u}://${n}`:n,g=e.statement?`${e.statement}
`:"",y=`${m} wants you to sign in with your Ethereum account:
${p}

${g}`;let b=`URI: ${d}
Version: ${h}
Chain ID: ${r}${a?`
Nonce: ${a}`:""}
Issued At: ${o.toISOString()}`;if(i&&(b+=`
Expiration Time: ${i.toISOString()}`),s&&(b+=`
Not Before: ${s.toISOString()}`),l&&(b+=`
Request ID: ${l}`),c){let w=`
Resources:`;for(const x of c){if(!x||typeof x!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${x}`);w+=`
- ${x}`}b+=w}return`${y}
${b}`}Nj();const qj={url:XE,storageKey:ZE,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:QE,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Dh(e,t,r){return await r()}const Dn={};class Yi{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Yi.nextInstanceID,Yi.nextInstanceID+=1,this.instanceID>0&&Ot()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},qj),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Fj({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Yv(i.fetch),this.lock=i.lock||Dh,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Ot()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Bj:this.lock=Dh,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:Gv()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Ih(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Ih(this.memoryStorage)),Ot()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=Dn[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Dn[this.storageKey]=Object.assign(Object.assign({},Dn[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Dn[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Dn[this.storageKey]=Object.assign(Object.assign({},Dn[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Wv}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=mj(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Ot()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:o}=await this._getSessionFromURL(r,n);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),oj(o)){const l=(t=o.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:a,redirectType:s}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",s),await this._saveSession(a),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Z(r)?{error:r}:{error:new Hv("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const o=await ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:tr}),{data:a,error:s}=o;if(s||!a)return{data:{user:null,session:null},error:s};const l=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(o){if(Z(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(t){var r,n,i;try{let o;if("email"in t){const{email:u,password:d,options:h}=t;let p=null,m=null;this.flowType==="pkce"&&([p,m]=await Tn(this.storage,this.storageKey)),o=await ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:u,password:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:m},xform:tr})}else if("phone"in t){const{phone:u,password:d,options:h}=t;o=await ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:tr})}else throw new $o("You must provide either an email or phone number and a password");const{data:a,error:s}=o;if(s||!a)return{data:{user:null,session:null},error:s};const l=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(o){if(Z(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(t){try{let r;if("email"in t){const{email:o,password:a,options:s}=t;r=await ne(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Rh})}else if("phone"in t){const{phone:o,password:a,options:s}=t;r=await ne(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Rh})}else throw new $o("You must provide either an email or phone number and a password");const{data:n,error:i}=r;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new wi}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(Z(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,i,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,i,o,a,s,l,c,u,d,h;let p,m;if("message"in t)p=t.message,m=t.signature;else{const{chain:g,wallet:y,statement:b,options:w}=t;let x;if(Ot())if(typeof y=="object")x=y;else{const A=window;if("ethereum"in A&&typeof A.ethereum=="object"&&"request"in A.ethereum&&typeof A.ethereum.request=="function")x=A.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=y}const _=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href),S=await x.request({method:"eth_requestAccounts"}).then(A=>A).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const E=Jv(S[0]);let j=(n=w==null?void 0:w.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!j){const A=await x.request({method:"eth_chainId"});j=Uj(A)}const P={domain:_.host,address:E,statement:b,uri:_.href,version:"1",chainId:j,nonce:(i=w==null?void 0:w.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(a=(o=w==null?void 0:w.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(s=w==null?void 0:w.signInWithEthereum)===null||s===void 0?void 0:s.expirationTime,notBefore:(l=w==null?void 0:w.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=w==null?void 0:w.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(u=w==null?void 0:w.signInWithEthereum)===null||u===void 0?void 0:u.resources};p=Wj(P),m=await x.request({method:"personal_sign",params:[zj(p),E]})}try{const{data:g,error:y}=await ne(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:m},!((d=t.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:tr});if(y)throw y;return!g||!g.session||!g.user?{data:{user:null,session:null},error:new wi}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:Object.assign({},g),error:y})}catch(g){if(Z(g))return{data:{user:null,session:null},error:g};throw g}}async signInWithSolana(t){var r,n,i,o,a,s,l,c,u,d,h,p;let m,g;if("message"in t)m=t.message,g=t.signature;else{const{chain:y,wallet:b,statement:w,options:x}=t;let _;if(Ot())if(typeof b=="object")_=b;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))_=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=b}const S=new URL((r=x==null?void 0:x.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const E=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},x==null?void 0:x.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),w?{statement:w}:null));let j;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")j=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)j=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in j&&"signature"in j&&(typeof j.signedMessage=="string"||j.signedMessage instanceof Uint8Array)&&j.signature instanceof Uint8Array)m=typeof j.signedMessage=="string"?j.signedMessage:new TextDecoder().decode(j.signedMessage),g=j.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${S.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...w?["",w,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(i=(n=x==null?void 0:x.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((o=x==null?void 0:x.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${x.signInWithSolana.notBefore}`]:[],...!((a=x==null?void 0:x.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${x.signInWithSolana.expirationTime}`]:[],...!((s=x==null?void 0:x.signInWithSolana)===null||s===void 0)&&s.chainId?[`Chain ID: ${x.signInWithSolana.chainId}`]:[],...!((l=x==null?void 0:x.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${x.signInWithSolana.nonce}`]:[],...!((c=x==null?void 0:x.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${x.signInWithSolana.requestId}`]:[],...!((d=(u=x==null?void 0:x.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||d===void 0)&&d.length?["Resources",...x.signInWithSolana.resources.map(j=>`- ${j}`)]:[]].join(`
`);const E=await _.signMessage(new TextEncoder().encode(m),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=E}}try{const{data:y,error:b}=await ne(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:fj(g)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:tr});if(b)throw b;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new wi}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:b})}catch(y){if(Z(y))return{data:{user:null,session:null},error:y};throw y}}async _exchangeCodeForSession(t){const r=await Yr(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:o,error:a}=await ne(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:tr});if(await Rr(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new wi}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:i??null}),error:a})}catch(o){if(Z(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:o,nonce:a}=t,s=await ne(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:o,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:tr}),{data:l,error:c}=s;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new wi}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(r){if(Z(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,i,o,a;try{if("email"in t){const{email:s,options:l}=t;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await Tn(this.storage,this.storageKey));const{error:d}=await ne(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:s,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in t){const{phone:s,options:l}=t,{data:c,error:u}=await ne(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:s,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(o=l==null?void 0:l.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new $o("You must provide either an email or phone number.")}catch(s){if(Z(s))return{data:{user:null,session:null},error:s};throw s}}async verifyOtp(t){var r,n;try{let i,o;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,o=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:s}=await ne(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:i,xform:tr});if(s)throw s;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,c=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(Z(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var r,n,i;try{let o=null,a=null;return this.flowType==="pkce"&&([o,a]=await Tn(this.storage,this.storageKey)),await ne(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:a}),headers:this.headers,xform:Rj})}catch(o){if(Z(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Ir;const{error:i}=await ne(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(Z(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:o}=t,{error:a}=await ne(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in t){const{phone:n,type:i,options:o}=t,{data:a,error:s}=await ne(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:s}}throw new $o("You must provide either an email or phone number and a type")}catch(r){if(Z(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Yr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<el:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const a=await Yr(this.userStorage,this.storageKey+"-user");a!=null&&a.user?t.user=a.user:t.user=nl()}if(this.storage.isServer&&t.user){let a=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,c,u)=>(!a&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:t},error:null}}const{session:i,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{session:null},error:o}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ne(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Mr}):await this._useSession(async r=>{var n,i,o;const{data:a,error:s}=r;if(s)throw s;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ir}:await ne(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0,xform:Mr})})}catch(r){if(Z(r))return ij(r)&&(await this._removeSession(),await Rr(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:o}=n;if(o)throw o;if(!i.session)throw new Ir;const a=i.session;let s=null,l=null;this.flowType==="pkce"&&t.email!=null&&([s,l]=await Tn(this.storage,this.storageKey));const{data:c,error:u}=await ne(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:s,code_challenge_method:l}),jwt:a.access_token,xform:Mr});if(u)throw u;return a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(n){if(Z(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Ir;const r=Date.now()/1e3;let n=r,i=!0,o=null;const{payload:a}=rl(t.access_token);if(a.exp&&(n=a.exp,i=n<=r),i){const{session:s,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!s)return{data:{user:null,session:null},error:null};o=s}else{const{data:s,error:l}=await this._getUser(t.access_token);if(l)throw l;o={access_token:t.access_token,refresh_token:t.refresh_token,user:s.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(r){if(Z(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:a,error:s}=r;if(s)throw s;t=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Ir;const{session:i,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Z(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Ot())throw new Mo("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Mo(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new jh("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Mo("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new jh("No code detected.");const{data:w,error:x}=await this._exchangeCodeForSession(t.code);if(x)throw x;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:o,refresh_token:a,expires_in:s,expires_at:l,token_type:c}=t;if(!o||!s||!a||!c)throw new Mo("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(s);let h=u+d;l&&(h=parseInt(l));const p=h-u;p*1e3<=Nn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${d}s`);const m=h-d;u-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,h,u):u-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,h,u);const{data:g,error:y}=await this._getUser(o);if(y)throw y;const b={provider_token:n,provider_refresh_token:i,access_token:o,expires_in:d,expires_at:h,refresh_token:a,token_type:c,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:b,redirectType:t.type},error:null}}catch(n){if(Z(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Yr(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:o}=r;if(o)return{error:o};const a=(n=i.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:s}=await this.admin.signOut(a,t);if(s&&!(nj(s)&&(s.status===404||s.status===401||s.status===403)))return{error:s}}return t!=="others"&&(await this._removeSession(),await Rr(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=pj(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:o},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await Tn(this.storage,this.storageKey,!0));try{return await ne(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(o){if(Z(o))return{data:null,error:o};throw o}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(Z(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:i}=await this._useSession(async o=>{var a,s,l,c,u;const{data:d,error:h}=o;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await ne(this.fetch,"GET",p,{headers:this.headers,jwt:(u=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(i)throw i;return Ot()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Z(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:o,error:a}=r;if(a)throw a;return await ne(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(Z(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await vj(async i=>(i>0&&await yj(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await ne(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:tr})),(i,o)=>{const a=200*Math.pow(2,i);return o&&tl(o)&&Date.now()+a-n<Nn})}catch(n){if(this._debug(r,"error",n),Z(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Ot()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await Yr(this.storage,this.storageKey);if(i&&this.userStorage){let a=await Yr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await Ln(this.userStorage,this.storageKey+"-user",a)),i.user=(t=a==null?void 0:a.user)!==null&&t!==void 0?t:nl()}else if(i&&!i.user&&!i.user){const a=await Yr(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(i.user=a.user,await Rr(this.storage,this.storageKey+"-user"),await Ln(this.storage,this.storageKey,i)):i.user=nl()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const o=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<el;if(this._debug(n,`session has${o?"":" not"} expired with margin of ${el}s`),o){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),tl(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:s}=await this._getUser(i.access_token);!s&&(a!=null&&a.user)?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Ir;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new us;const{data:o,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!o.session)throw new Ir;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const s={session:o.session,error:null};return this.refreshingDeferred.resolve(s),s}catch(o){if(this._debug(i,"error",o),Z(o)){const a={session:null,error:o};return tl(o)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(o),o}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const o=[],a=Array.from(this.stateChangeEmitters.values()).map(async s=>{try{await s.callback(t,r)}catch(l){o.push(l)}});if(await Promise.all(a),o.length>0){for(let s=0;s<o.length;s+=1)console.error(o[s]);throw o[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Ln(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const o=Oh(i);await Ln(this.storage,this.storageKey,o)}else{const i=Oh(r);await Ln(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Rr(this.storage,this.storageKey),await Rr(this.storage,this.storageKey+"-code-verifier"),await Rr(this.storage,this.storageKey+"-user"),this.userStorage&&await Rr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ot()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Nn);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/Nn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Nn}ms, refresh threshold is ${nu} ticks`),i<=nu&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Vv)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ot()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[o,a]=await Tn(this.storage,this.storageKey),s=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(s.toString())}if(n!=null&&n.queryParams){const o=new URLSearchParams(n.queryParams);i.push(o.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:o}=r;return o?{data:null,error:o}:await ne(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Z(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:o,error:a}=r;if(a)return{data:null,error:a};const s=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:c}=await ne(this.fetch,"POST",`${this.url}/factors`,{body:s,headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(Z(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:o}=r;if(o)return{data:null,error:o};const{data:a,error:s}=await ne(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return s?{data:null,error:s}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:s})})}catch(r){if(Z(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:o}=r;return o?{data:null,error:o}:await ne(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Z(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],i=n.filter(a=>a.factor_type==="totp"&&a.status==="verified"),o=n.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:n,totp:i,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:i},error:o}=t;if(o)return{data:null,error:o};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=rl(i.access_token);let s=null;a.aal&&(s=a.aal);let l=s;((n=(r=i.user.factors)===null||r===void 0?void 0:r.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const u=a.amr||[];return{data:{currentLevel:s,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(s=>s.kid===t);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(s=>s.kid===t),n&&this.jwks_cached_at+tj>i)return n;const{data:o,error:a}=await ne(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=i,n=o.keys.find(s=>s.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:p,error:m}=await this.getSession();if(m||!p.session)return{data:null,error:m};n=p.session.access_token}const{header:i,payload:o,signature:a,raw:{header:s,payload:l}}=rl(n);r!=null&&r.allowExpired||jj(o.exp);const c=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!c){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:o,header:i,signature:a},error:null}}const u=Cj(i.alg),d=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,d,a,dj(`${s}.${l}`)))throw new au("Invalid JWT signature");return{data:{claims:o,header:i,signature:a},error:null}}catch(n){if(Z(n))return{data:null,error:n};throw n}}}Yi.nextInstanceID=0;const Hj=Yi;class Kj extends Hj{constructor(t){super(t)}}var Gj=function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(u){try{c(n.next(u))}catch(d){a(d)}}function l(u){try{c(n.throw(u))}catch(d){a(d)}}function c(u){u.done?o(u.value):i(u.value).then(s,l)}c((n=n.apply(e,t||[])).next())})};class Yj{constructor(t,r,n){var i,o,a;this.supabaseUrl=t,this.supabaseKey=r;const s=JE(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const l=`sb-${s.hostname.split(".")[0]}-auth-token`,c={db:BE,realtime:zE,auth:Object.assign(Object.assign({},UE),{storageKey:l}),global:LE},u=VE(n??{},c);this.storageKey=(i=u.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=u.global.headers)!==null&&o!==void 0?o:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=u.auth)!==null&&a!==void 0?a:{},this.headers,u.global.fetch),this.fetch=KE(r,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new rE(new URL("rest/v1",s).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new ME(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new KS(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return Gj(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:o,storageKey:a,flowType:s,lock:l,debug:c},u,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Kj({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),u),storageKey:a,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:o,flowType:s,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new bE(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Vj=(e,t,r)=>new Yj(e,t,r);function Jj(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}Jj()&&console.warn("âš ï¸  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Xj="https://rjbgomsmplhldxnojkyz.supabase.co",Zj="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJqYmdvbXNtcGxobGR4bm9qa3l6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDQ0OTUwOTAsImV4cCI6MjA2MDA3MTA5MH0.FGoxQunc7nWaIwb1F9FdrmFgCSJ3ut34VwVg2w0g4l0",ct=Vj(Xj,Zj);var Xv={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},$h=M.createContext&&M.createContext(Xv),Qj=["attr","size","title"];function eC(e,t){if(e==null)return{};var r=tC(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function tC(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ba(){return ba=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ba.apply(this,arguments)}function Mh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function wa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Mh(Object(r),!0).forEach(function(n){rC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mh(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rC(e,t,r){return t=nC(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nC(e){var t=iC(e,"string");return typeof t=="symbol"?t:t+""}function iC(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zv(e){return e&&e.map((t,r)=>M.createElement(t.tag,wa({key:r},t.attr),Zv(t.child)))}function yd(e){return t=>M.createElement(oC,ba({attr:wa({},e.attr)},t),Zv(e.child))}function oC(e){var t=r=>{var{attr:n,size:i,title:o}=e,a=eC(e,Qj),s=i||r.size||"1em",l;return r.className&&(l=r.className),e.className&&(l=(l?l+" ":"")+e.className),M.createElement("svg",ba({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,a,{className:l,style:wa(wa({color:e.color||r.color},r.style),e.style),height:s,width:s,xmlns:"http://www.w3.org/2000/svg"}),o&&M.createElement("title",null,o),e.children)};return $h!==void 0?M.createElement($h.Consumer,null,r=>t(r)):t(Xv)}function aC(e){return yd({attr:{viewBox:"0 0 488 512"},child:[{tag:"path",attr:{d:"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"},child:[]}]})(e)}function vd(e){return yd({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"},child:[]}]})(e)}function bd(e){return yd({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(e)}function sC(){const{t:e}=Ce(),[t,r]=v.useState(""),[n,i]=v.useState(""),[o,a]=v.useState(!1),[s,l]=v.useState(""),[c,u]=v.useState(!0),[d,h]=v.useState(!1),p=Ft();v.useEffect(()=>{(async()=>{const{data:w}=await ct.auth.getSession();w!=null&&w.session&&p("/dashboard"),u(!1)})(),setTimeout(()=>h(!0),100)},[p]);const m=async b=>{b.preventDefault(),l("");const{data:w,error:x}=await ct.auth.signInWithPassword({email:t,password:n});if(x)return l(e("wrong_credentials"));if(!w.session)return l(e("email_not_confirmed"));await y(w.session.user)},g=async()=>{const b=`${window.location.origin}/dashboard`,{error:w}=await ct.auth.signInWithOAuth({provider:"google",options:{redirectTo:b}});w&&l("Error al conectar con Google.")},y=async b=>{try{const w=await fetch("http://127.0.0.1:8001/initialize_user",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({auth_user_id:b.id,email:b.email})});if(!w.ok)throw new Error("init failed");const x=await w.json();localStorage.setItem("client_id",x.client_id),localStorage.setItem("public_client_id",x.public_client_id),localStorage.setItem("user_id",b.id),p("/dashboard")}catch(w){console.error(w),l("Hubo un problema al iniciar sesiÃ³n. Intenta de nuevo.")}};return v.useEffect(()=>{if(!document.getElementById("loginResponsiveStyle")){const b=document.createElement("style");b.id="loginResponsiveStyle",b.textContent=`
        @keyframes pulseGlow {
          0%, 100% { box-shadow: 0 0 15px rgba(74,144,226,0.4); }
          50% { box-shadow: 0 0 25px rgba(163,217,177,0.7); }
        }
        @media (max-width: 768px) {
          .gif-container { display: none !important; }
          .login-side { width: 100% !important; }
        }
      `,document.head.appendChild(b)}},[]),c?f.jsx("div",{style:Fh,children:f.jsx("p",{style:{color:"#274472",fontSize:"1.1rem"},children:"Loading session..."})}):f.jsx("div",{style:Fh,children:f.jsxs("div",{style:lC,children:[f.jsx("div",{className:"gif-container",style:cC,children:f.jsx("img",{src:"/evost1.gif",alt:"Evolvian illustration",style:uC})}),f.jsx("div",{className:"login-side",style:dC,children:f.jsxs("div",{style:fC,children:[f.jsx("div",{style:hC,children:f.jsx("div",{style:{...pC,transform:d?"rotate(360deg)":"rotate(0deg)",transition:"transform 1s ease-in-out",animation:"pulseGlow 4s ease-in-out infinite"},children:f.jsx("img",{src:"/logo-evolvian.svg",alt:"Evolvian Logo",style:mC})})}),f.jsx("h1",{style:gC,children:"Evolvian"}),f.jsxs("form",{onSubmit:m,style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[f.jsx("div",{style:Nh,children:f.jsx("input",{type:"email",placeholder:e("email"),value:t,onChange:b=>r(b.target.value),required:!0,style:Lh,autoComplete:"email"})}),f.jsxs("div",{style:Nh,children:[f.jsx("input",{type:o?"text":"password",placeholder:e("password"),value:n,onChange:b=>i(b.target.value),required:!0,style:Lh,autoComplete:"current-password"}),f.jsx("div",{style:yC,onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),children:o?f.jsx(vd,{}):f.jsx(bd,{})})]}),s&&f.jsx("p",{style:{color:"#e63946",textAlign:"center",fontSize:"0.875rem"},children:s}),f.jsx("button",{type:"submit",style:vC,children:e("login")}),f.jsxs("div",{style:bC,children:[f.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.4rem"},children:[f.jsx("input",{type:"checkbox"}),e("remember_me")]}),f.jsx(Lr,{to:"/forgot-password",style:wC,children:e("forgot_password")})]})]}),f.jsxs("p",{style:xC,children:[e("no_account")," ",f.jsx(Lr,{to:"/register",style:_C,children:e("register_here")})]}),f.jsxs("div",{style:SC,children:[f.jsx("div",{style:Bh}),f.jsx("span",{style:{color:"#6b7280"},children:e("or")}),f.jsx("div",{style:Bh})]}),f.jsxs("button",{onClick:g,style:EC,children:[f.jsx(aC,{}),e("login_with_google")]})]})})]})})}const Fh={height:"100vh",width:"100vw",backgroundColor:"#ededed",display:"flex",alignItems:"center",justifyContent:"center",fontFamily:"Inter, system-ui, sans-serif"},lC={display:"flex",flexDirection:"row",width:"200%",maxWidth:"1100px",height:"700px",backgroundColor:"#ffffff",borderRadius:"20px",overflow:"hidden",boxShadow:"0 8px 40px rgba(39,68,114,0.15)",border:"1px solid #e5e7eb"},cC={width:"50%",backgroundColor:"transparent",display:"flex",alignItems:"stretch",justifyContent:"center",padding:"1rem"},uC={width:"130%",height:"100%",objectFit:"contain",borderRadius:"20px 20px 20px 20px"},dC={width:"50%",display:"flex",alignItems:"center",justifyContent:"center",padding:"2rem",backgroundColor:"#ffffff"},fC={width:"100%",maxWidth:"350px",textAlign:"center"},hC={display:"flex",justifyContent:"center",marginBottom:"1.2rem"},pC={width:"80px",height:"80px",borderRadius:"50%",background:"radial-gradient(circle, #a3d9b1 0%, #4a90e2 100%)",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden"},mC={width:"100%",height:"100%",objectFit:"cover"},gC={fontSize:"1.6rem",fontWeight:"700",color:"#274472",marginBottom:"1.8rem"},Nh={display:"flex",alignItems:"center",borderRadius:"8px",border:"1px solid #d1d5db",backgroundColor:"#f9fafb",height:"42px",paddingRight:"0.75rem"},Lh={width:"100%",padding:"0.6rem 1rem",backgroundColor:"transparent",border:"none",outline:"none",color:"#1b2a41",fontSize:"1rem"},yC={color:"#6b7280",cursor:"pointer",fontSize:"1.1rem"},vC={backgroundColor:"#4a90e2",padding:"0.8rem",color:"white",borderRadius:"8px",fontWeight:"600",border:"none",cursor:"pointer",fontSize:"1rem",marginTop:"0.5rem"},bC={display:"flex",justifyContent:"space-between",fontSize:"0.875rem",color:"#6b7280",marginTop:"0.75rem"},wC={color:"#4a90e2",textDecoration:"underline"},xC={textAlign:"center",fontSize:"0.875rem",color:"#6b7280",marginTop:"2rem"},_C={color:"#f5a623",fontWeight:"600",textDecoration:"underline"},SC={display:"flex",alignItems:"center",gap:"1rem",margin:"2rem 0"},Bh={flex:1,height:"1px",backgroundColor:"#e5e7eb"},EC={width:"100%",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",padding:"0.8rem",border:"1px solid #4a90e2",borderRadius:"8px",backgroundColor:"#fff",color:"#274472",cursor:"pointer",fontSize:"1rem",fontWeight:"500"};function jC(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}const CC=e=>{switch(e){case"success":return AC;case"info":return TC;case"warning":return OC;case"error":return RC;default:return null}},kC=Array(12).fill(0),PC=({visible:e,className:t})=>M.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},M.createElement("div",{className:"sonner-spinner"},kC.map((r,n)=>M.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),AC=M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},M.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),OC=M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},M.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),TC=M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},M.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),RC=M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},M.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),IC=M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},M.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),M.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),DC=()=>{const[e,t]=M.useState(document.hidden);return M.useEffect(()=>{const r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e};let su=1;class $C{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const r=this.subscribers.indexOf(t);this.subscribers.splice(r,1)}),this.publish=t=>{this.subscribers.forEach(r=>r(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var r;const{message:n,...i}=t,o=typeof(t==null?void 0:t.id)=="number"||((r=t.id)==null?void 0:r.length)>0?t.id:su++,a=this.toasts.find(l=>l.id===o),s=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(o)&&this.dismissedToasts.delete(o),a?this.toasts=this.toasts.map(l=>l.id===o?(this.publish({...l,...t,id:o,title:n}),{...l,...t,id:o,dismissible:s,title:n}):l):this.addToast({title:n,...i,dismissible:s,id:o}),o},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:t,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),t),this.message=(t,r)=>this.create({...r,message:t}),this.error=(t,r)=>this.create({...r,message:t,type:"error"}),this.success=(t,r)=>this.create({...r,type:"success",message:t}),this.info=(t,r)=>this.create({...r,type:"info",message:t}),this.warning=(t,r)=>this.create({...r,type:"warning",message:t}),this.loading=(t,r)=>this.create({...r,type:"loading",message:t}),this.promise=(t,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:t,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const i=Promise.resolve(t instanceof Function?t():t);let o=n!==void 0,a;const s=i.then(async c=>{if(a=["resolve",c],M.isValidElement(c))o=!1,this.create({id:n,type:"default",message:c});else if(FC(c)&&!c.ok){o=!1;const d=typeof r.error=="function"?await r.error(`HTTP error! status: ${c.status}`):r.error,h=typeof r.description=="function"?await r.description(`HTTP error! status: ${c.status}`):r.description,m=typeof d=="object"&&!M.isValidElement(d)?d:{message:d};this.create({id:n,type:"error",description:h,...m})}else if(c instanceof Error){o=!1;const d=typeof r.error=="function"?await r.error(c):r.error,h=typeof r.description=="function"?await r.description(c):r.description,m=typeof d=="object"&&!M.isValidElement(d)?d:{message:d};this.create({id:n,type:"error",description:h,...m})}else if(r.success!==void 0){o=!1;const d=typeof r.success=="function"?await r.success(c):r.success,h=typeof r.description=="function"?await r.description(c):r.description,m=typeof d=="object"&&!M.isValidElement(d)?d:{message:d};this.create({id:n,type:"success",description:h,...m})}}).catch(async c=>{if(a=["reject",c],r.error!==void 0){o=!1;const u=typeof r.error=="function"?await r.error(c):r.error,d=typeof r.description=="function"?await r.description(c):r.description,p=typeof u=="object"&&!M.isValidElement(u)?u:{message:u};this.create({id:n,type:"error",description:d,...p})}}).finally(()=>{o&&(this.dismiss(n),n=void 0),r.finally==null||r.finally.call(r)}),l=()=>new Promise((c,u)=>s.then(()=>a[0]==="reject"?u(a[1]):c(a[1])).catch(u));return typeof n!="string"&&typeof n!="number"?{unwrap:l}:Object.assign(n,{unwrap:l})},this.custom=(t,r)=>{const n=(r==null?void 0:r.id)||su++;return this.create({jsx:t(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const ot=new $C,MC=(e,t)=>{const r=(t==null?void 0:t.id)||su++;return ot.addToast({title:e,...t,id:r}),r},FC=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",NC=MC,LC=()=>ot.toasts,BC=()=>ot.getActiveToasts(),Je=Object.assign(NC,{success:ot.success,info:ot.info,warning:ot.warning,error:ot.error,custom:ot.custom,message:ot.message,promise:ot.promise,dismiss:ot.dismiss,loading:ot.loading},{getHistory:LC,getToasts:BC});jC("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Fo(e){return e.label!==void 0}const UC=3,zC="24px",WC="16px",Uh=4e3,qC=356,HC=14,KC=45,GC=200;function Qt(...e){return e.filter(Boolean).join(" ")}function YC(e){const[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}const VC=e=>{var t,r,n,i,o,a,s,l,c;const{invert:u,toast:d,unstyled:h,interacting:p,setHeights:m,visibleToasts:g,heights:y,index:b,toasts:w,expanded:x,removeToast:_,defaultRichColors:S,closeButton:E,style:j,cancelButtonStyle:P,actionButtonStyle:A,className:I="",descriptionClassName:O="",duration:D,position:B,gap:T,expandByDefault:N,classNames:F,icons:G,closeButtonAriaLabel:V="Close toast"}=e,[J,de]=M.useState(null),[ie,z]=M.useState(null),[X,oe]=M.useState(!1),[re,He]=M.useState(!1),[zt,L]=M.useState(!1),[$,W]=M.useState(!1),[q,R]=M.useState(!1),[Ke,le]=M.useState(0),[Qe,Ge]=M.useState(0),ht=M.useRef(d.duration||D||Uh),vi=M.useRef(null),cr=M.useRef(null),t_=b===0,r_=b+1<=g,pt=d.type,_n=d.dismissible!==!1,n_=d.className||"",i_=d.descriptionClassName||"",Ao=M.useMemo(()=>y.findIndex(ee=>ee.toastId===d.id)||0,[y,d.id]),o_=M.useMemo(()=>{var ee;return(ee=d.closeButton)!=null?ee:E},[d.closeButton,E]),Zf=M.useMemo(()=>d.duration||D||Uh,[d.duration,D]),Ks=M.useRef(0),Sn=M.useRef(0),Qf=M.useRef(0),En=M.useRef(null),[a_,s_]=B.split("-"),eh=M.useMemo(()=>y.reduce((ee,Re,Ye)=>Ye>=Ao?ee:ee+Re.height,0),[y,Ao]),th=DC(),l_=d.invert||u,Gs=pt==="loading";Sn.current=M.useMemo(()=>Ao*T+eh,[Ao,eh]),M.useEffect(()=>{ht.current=Zf},[Zf]),M.useEffect(()=>{oe(!0)},[]),M.useEffect(()=>{const ee=cr.current;if(ee){const Re=ee.getBoundingClientRect().height;return Ge(Re),m(Ye=>[{toastId:d.id,height:Re,position:d.position},...Ye]),()=>m(Ye=>Ye.filter(mt=>mt.toastId!==d.id))}},[m,d.id]),M.useLayoutEffect(()=>{if(!X)return;const ee=cr.current,Re=ee.style.height;ee.style.height="auto";const Ye=ee.getBoundingClientRect().height;ee.style.height=Re,Ge(Ye),m(mt=>mt.find(Be=>Be.toastId===d.id)?mt.map(Be=>Be.toastId===d.id?{...Be,height:Ye}:Be):[{toastId:d.id,height:Ye,position:d.position},...mt])},[X,d.title,d.description,m,d.id,d.jsx,d.action,d.cancel]);const Tr=M.useCallback(()=>{He(!0),le(Sn.current),m(ee=>ee.filter(Re=>Re.toastId!==d.id)),setTimeout(()=>{_(d)},GC)},[d,_,m,Sn]);M.useEffect(()=>{if(d.promise&&pt==="loading"||d.duration===1/0||d.type==="loading")return;let ee;return x||p||th?(()=>{if(Qf.current<Ks.current){const mt=new Date().getTime()-Ks.current;ht.current=ht.current-mt}Qf.current=new Date().getTime()})():(()=>{ht.current!==1/0&&(Ks.current=new Date().getTime(),ee=setTimeout(()=>{d.onAutoClose==null||d.onAutoClose.call(d,d),Tr()},ht.current))})(),()=>clearTimeout(ee)},[x,p,d,pt,th,Tr]),M.useEffect(()=>{d.delete&&(Tr(),d.onDismiss==null||d.onDismiss.call(d,d))},[Tr,d.delete]);function c_(){var ee;if(G!=null&&G.loading){var Re;return M.createElement("div",{className:Qt(F==null?void 0:F.loader,d==null||(Re=d.classNames)==null?void 0:Re.loader,"sonner-loader"),"data-visible":pt==="loading"},G.loading)}return M.createElement(PC,{className:Qt(F==null?void 0:F.loader,d==null||(ee=d.classNames)==null?void 0:ee.loader),visible:pt==="loading"})}const u_=d.icon||(G==null?void 0:G[pt])||CC(pt);var rh,nh;return M.createElement("li",{tabIndex:0,ref:cr,className:Qt(I,n_,F==null?void 0:F.toast,d==null||(t=d.classNames)==null?void 0:t.toast,F==null?void 0:F.default,F==null?void 0:F[pt],d==null||(r=d.classNames)==null?void 0:r[pt]),"data-sonner-toast":"","data-rich-colors":(rh=d.richColors)!=null?rh:S,"data-styled":!(d.jsx||d.unstyled||h),"data-mounted":X,"data-promise":!!d.promise,"data-swiped":q,"data-removed":re,"data-visible":r_,"data-y-position":a_,"data-x-position":s_,"data-index":b,"data-front":t_,"data-swiping":zt,"data-dismissible":_n,"data-type":pt,"data-invert":l_,"data-swipe-out":$,"data-swipe-direction":ie,"data-expanded":!!(x||N&&X),"data-testid":d.testId,style:{"--index":b,"--toasts-before":b,"--z-index":w.length-b,"--offset":`${re?Ke:Sn.current}px`,"--initial-height":N?"auto":`${Qe}px`,...j,...d.style},onDragEnd:()=>{L(!1),de(null),En.current=null},onPointerDown:ee=>{ee.button!==2&&(Gs||!_n||(vi.current=new Date,le(Sn.current),ee.target.setPointerCapture(ee.pointerId),ee.target.tagName!=="BUTTON"&&(L(!0),En.current={x:ee.clientX,y:ee.clientY})))},onPointerUp:()=>{var ee,Re,Ye;if($||!_n)return;En.current=null;const mt=Number(((ee=cr.current)==null?void 0:ee.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Oo=Number(((Re=cr.current)==null?void 0:Re.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Be=new Date().getTime()-((Ye=vi.current)==null?void 0:Ye.getTime()),Ct=J==="x"?mt:Oo,To=Math.abs(Ct)/Be;if(Math.abs(Ct)>=KC||To>.11){le(Sn.current),d.onDismiss==null||d.onDismiss.call(d,d),z(J==="x"?mt>0?"right":"left":Oo>0?"down":"up"),Tr(),W(!0);return}else{var Wt,qt;(Wt=cr.current)==null||Wt.style.setProperty("--swipe-amount-x","0px"),(qt=cr.current)==null||qt.style.setProperty("--swipe-amount-y","0px")}R(!1),L(!1),de(null)},onPointerMove:ee=>{var Re,Ye,mt;if(!En.current||!_n||((Re=window.getSelection())==null?void 0:Re.toString().length)>0)return;const Be=ee.clientY-En.current.y,Ct=ee.clientX-En.current.x;var To;const Wt=(To=e.swipeDirections)!=null?To:YC(B);!J&&(Math.abs(Ct)>1||Math.abs(Be)>1)&&de(Math.abs(Ct)>Math.abs(Be)?"x":"y");let qt={x:0,y:0};const ih=Kr=>1/(1.5+Math.abs(Kr)/20);if(J==="y"){if(Wt.includes("top")||Wt.includes("bottom"))if(Wt.includes("top")&&Be<0||Wt.includes("bottom")&&Be>0)qt.y=Be;else{const Kr=Be*ih(Be);qt.y=Math.abs(Kr)<Math.abs(Be)?Kr:Be}}else if(J==="x"&&(Wt.includes("left")||Wt.includes("right")))if(Wt.includes("left")&&Ct<0||Wt.includes("right")&&Ct>0)qt.x=Ct;else{const Kr=Ct*ih(Ct);qt.x=Math.abs(Kr)<Math.abs(Ct)?Kr:Ct}(Math.abs(qt.x)>0||Math.abs(qt.y)>0)&&R(!0),(Ye=cr.current)==null||Ye.style.setProperty("--swipe-amount-x",`${qt.x}px`),(mt=cr.current)==null||mt.style.setProperty("--swipe-amount-y",`${qt.y}px`)}},o_&&!d.jsx&&pt!=="loading"?M.createElement("button",{"aria-label":V,"data-disabled":Gs,"data-close-button":!0,onClick:Gs||!_n?()=>{}:()=>{Tr(),d.onDismiss==null||d.onDismiss.call(d,d)},className:Qt(F==null?void 0:F.closeButton,d==null||(n=d.classNames)==null?void 0:n.closeButton)},(nh=G==null?void 0:G.close)!=null?nh:IC):null,(pt||d.icon||d.promise)&&d.icon!==null&&((G==null?void 0:G[pt])!==null||d.icon)?M.createElement("div",{"data-icon":"",className:Qt(F==null?void 0:F.icon,d==null||(i=d.classNames)==null?void 0:i.icon)},d.promise||d.type==="loading"&&!d.icon?d.icon||c_():null,d.type!=="loading"?u_:null):null,M.createElement("div",{"data-content":"",className:Qt(F==null?void 0:F.content,d==null||(o=d.classNames)==null?void 0:o.content)},M.createElement("div",{"data-title":"",className:Qt(F==null?void 0:F.title,d==null||(a=d.classNames)==null?void 0:a.title)},d.jsx?d.jsx:typeof d.title=="function"?d.title():d.title),d.description?M.createElement("div",{"data-description":"",className:Qt(O,i_,F==null?void 0:F.description,d==null||(s=d.classNames)==null?void 0:s.description)},typeof d.description=="function"?d.description():d.description):null),M.isValidElement(d.cancel)?d.cancel:d.cancel&&Fo(d.cancel)?M.createElement("button",{"data-button":!0,"data-cancel":!0,style:d.cancelButtonStyle||P,onClick:ee=>{Fo(d.cancel)&&_n&&(d.cancel.onClick==null||d.cancel.onClick.call(d.cancel,ee),Tr())},className:Qt(F==null?void 0:F.cancelButton,d==null||(l=d.classNames)==null?void 0:l.cancelButton)},d.cancel.label):null,M.isValidElement(d.action)?d.action:d.action&&Fo(d.action)?M.createElement("button",{"data-button":!0,"data-action":!0,style:d.actionButtonStyle||A,onClick:ee=>{Fo(d.action)&&(d.action.onClick==null||d.action.onClick.call(d.action,ee),!ee.defaultPrevented&&Tr())},className:Qt(F==null?void 0:F.actionButton,d==null||(c=d.classNames)==null?void 0:c.actionButton)},d.action.label):null)};function zh(){if(typeof window>"u"||typeof document>"u")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function JC(e,t){const r={};return[e,t].forEach((n,i)=>{const o=i===1,a=o?"--mobile-offset":"--offset",s=o?WC:zC;function l(c){["top","right","bottom","left"].forEach(u=>{r[`${a}-${u}`]=typeof c=="number"?`${c}px`:c})}typeof n=="number"||typeof n=="string"?l(n):typeof n=="object"?["top","right","bottom","left"].forEach(c=>{n[c]===void 0?r[`${a}-${c}`]=s:r[`${a}-${c}`]=typeof n[c]=="number"?`${n[c]}px`:n[c]}):l(s)}),r}const XC=M.forwardRef(function(t,r){const{id:n,invert:i,position:o="bottom-right",hotkey:a=["altKey","KeyT"],expand:s,closeButton:l,className:c,offset:u,mobileOffset:d,theme:h="light",richColors:p,duration:m,style:g,visibleToasts:y=UC,toastOptions:b,dir:w=zh(),gap:x=HC,icons:_,containerAriaLabel:S="Notifications"}=t,[E,j]=M.useState([]),P=M.useMemo(()=>n?E.filter(X=>X.toasterId===n):E.filter(X=>!X.toasterId),[E,n]),A=M.useMemo(()=>Array.from(new Set([o].concat(P.filter(X=>X.position).map(X=>X.position)))),[P,o]),[I,O]=M.useState([]),[D,B]=M.useState(!1),[T,N]=M.useState(!1),[F,G]=M.useState(h!=="system"?h:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),V=M.useRef(null),J=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),de=M.useRef(null),ie=M.useRef(!1),z=M.useCallback(X=>{j(oe=>{var re;return(re=oe.find(He=>He.id===X.id))!=null&&re.delete||ot.dismiss(X.id),oe.filter(({id:He})=>He!==X.id)})},[]);return M.useEffect(()=>ot.subscribe(X=>{if(X.dismiss){requestAnimationFrame(()=>{j(oe=>oe.map(re=>re.id===X.id?{...re,delete:!0}:re))});return}setTimeout(()=>{US.flushSync(()=>{j(oe=>{const re=oe.findIndex(He=>He.id===X.id);return re!==-1?[...oe.slice(0,re),{...oe[re],...X},...oe.slice(re+1)]:[X,...oe]})})})}),[E]),M.useEffect(()=>{if(h!=="system"){G(h);return}if(h==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?G("dark"):G("light")),typeof window>"u")return;const X=window.matchMedia("(prefers-color-scheme: dark)");try{X.addEventListener("change",({matches:oe})=>{G(oe?"dark":"light")})}catch{X.addListener(({matches:re})=>{try{G(re?"dark":"light")}catch(He){console.error(He)}})}},[h]),M.useEffect(()=>{E.length<=1&&B(!1)},[E]),M.useEffect(()=>{const X=oe=>{var re;if(a.every(L=>oe[L]||oe.code===L)){var zt;B(!0),(zt=V.current)==null||zt.focus()}oe.code==="Escape"&&(document.activeElement===V.current||(re=V.current)!=null&&re.contains(document.activeElement))&&B(!1)};return document.addEventListener("keydown",X),()=>document.removeEventListener("keydown",X)},[a]),M.useEffect(()=>{if(V.current)return()=>{de.current&&(de.current.focus({preventScroll:!0}),de.current=null,ie.current=!1)}},[V.current]),M.createElement("section",{ref:r,"aria-label":`${S} ${J}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},A.map((X,oe)=>{var re;const[He,zt]=X.split("-");return P.length?M.createElement("ol",{key:X,dir:w==="auto"?zh():w,tabIndex:-1,ref:V,className:c,"data-sonner-toaster":!0,"data-sonner-theme":F,"data-y-position":He,"data-x-position":zt,style:{"--front-toast-height":`${((re=I[0])==null?void 0:re.height)||0}px`,"--width":`${qC}px`,"--gap":`${x}px`,...g,...JC(u,d)},onBlur:L=>{ie.current&&!L.currentTarget.contains(L.relatedTarget)&&(ie.current=!1,de.current&&(de.current.focus({preventScroll:!0}),de.current=null))},onFocus:L=>{L.target instanceof HTMLElement&&L.target.dataset.dismissible==="false"||ie.current||(ie.current=!0,de.current=L.relatedTarget)},onMouseEnter:()=>B(!0),onMouseMove:()=>B(!0),onMouseLeave:()=>{T||B(!1)},onDragEnd:()=>B(!1),onPointerDown:L=>{L.target instanceof HTMLElement&&L.target.dataset.dismissible==="false"||N(!0)},onPointerUp:()=>N(!1)},P.filter(L=>!L.position&&oe===0||L.position===X).map((L,$)=>{var W,q;return M.createElement(VC,{key:L.id,icons:_,index:$,toast:L,defaultRichColors:p,duration:(W=b==null?void 0:b.duration)!=null?W:m,className:b==null?void 0:b.className,descriptionClassName:b==null?void 0:b.descriptionClassName,invert:i,visibleToasts:y,closeButton:(q=b==null?void 0:b.closeButton)!=null?q:l,interacting:T,position:X,style:b==null?void 0:b.style,unstyled:b==null?void 0:b.unstyled,classNames:b==null?void 0:b.classNames,cancelButtonStyle:b==null?void 0:b.cancelButtonStyle,actionButtonStyle:b==null?void 0:b.actionButtonStyle,closeButtonAriaLabel:b==null?void 0:b.closeButtonAriaLabel,removeToast:z,toasts:P.filter(R=>R.position==L.position),heights:I.filter(R=>R.position==L.position),setHeights:O,expandByDefault:s,gap:x,expanded:D,swipeDirections:t.swipeDirections})})):null}))});function ZC(){const{t:e}=Ce(),[t,r]=v.useState(""),[n,i]=v.useState(""),[o,a]=v.useState(""),[s,l]=v.useState(!1),[c,u]=v.useState(!1),d=Ft();v.useEffect(()=>{if(setTimeout(()=>u(!0),100),!document.getElementById("pulseGlow")){const p=document.createElement("style");p.id="pulseGlow",p.textContent=`
        @keyframes pulseGlow {
          0%, 100% { box-shadow: 0 0 15px rgba(74,144,226,0.4); }
          50% { box-shadow: 0 0 25px rgba(163,217,177,0.7); }
        }
      `,document.head.appendChild(p)}},[]);const h=async p=>{if(p.preventDefault(),n!==o){Je.error(e("passwords_do_not_match")||"Las contraseÃ±as no coinciden");return}if(!/^[A-Za-z0-9]{8,}$/.test(n)){Je.error(`${e("invalid_password_format")} ${e("password_hint")}`);return}try{const y=await(await fetch("http://127.0.0.1:8001/check_email_exists",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t})})).json();if(y.exists){Je.error(`${e("email_already_registered")} ${y.provider}`);return}const{data:b,error:w}=await ct.auth.signUp({email:t,password:n});if(w){Je.error(e("error_creating_account")+": "+w.message);return}if(!b.session){Je.success(e("account_created_check_email")),setTimeout(()=>d("/login"),3e3);return}if(!(await fetch("http://127.0.0.1:8001/initialize_user",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({auth_user_id:b.user.id,email:b.user.email})})).ok){Je.error(e("error_initializing_account"));return}Je.success(e("account_created_redirecting")),setTimeout(()=>d("/dashboard"),2e3)}catch(g){console.error(g),Je.error(e("unexpected_error"))}};return f.jsx("div",{style:QC,children:f.jsxs("div",{style:ek,children:[f.jsx("div",{style:tk,children:f.jsx("div",{style:{...rk,transform:c?"rotate(360deg)":"rotate(0deg)",transition:"transform 1s ease-in-out",animation:"pulseGlow 4s ease-in-out infinite"},children:f.jsx("img",{src:"/logo-evolvian.svg",alt:"Evolvian Logo",style:nk})})}),f.jsx("h1",{style:ik,children:e("create_account")}),f.jsxs("form",{onSubmit:h,style:{display:"flex",flexDirection:"column",gap:"1rem",marginTop:"1.5rem"},children:[f.jsx("div",{style:ol,children:f.jsx("input",{type:"email",placeholder:e("email"),value:t,onChange:p=>r(p.target.value),required:!0,style:al})}),f.jsxs("div",{style:ol,children:[f.jsx("input",{type:s?"text":"password",placeholder:e("password"),value:n,onChange:p=>i(p.target.value),required:!0,style:al}),f.jsx("div",{style:ok,onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),children:s?f.jsx(vd,{}):f.jsx(bd,{})})]}),f.jsx("p",{style:ak,children:e("password_hint")}),f.jsx("div",{style:ol,children:f.jsx("input",{type:"password",placeholder:e("confirm_password")||"Confirm password",value:o,onChange:p=>a(p.target.value),required:!0,style:al})}),f.jsx("button",{type:"submit",style:sk,children:e("create_account")})]}),f.jsxs("p",{style:lk,children:[e("already_have_account")," ",f.jsx(Lr,{to:"/login",style:ck,children:e("login_here")})]})]})})}const QC={height:"100vh",width:"100vw",backgroundColor:"#f9fafb",display:"flex",alignItems:"center",justifyContent:"center",fontFamily:"Inter, system-ui, sans-serif"},ek={width:"100%",maxWidth:"400px",backgroundColor:"#ffffff",borderRadius:"20px",padding:"2.5rem 2rem",boxShadow:"0 8px 40px rgba(39,68,114,0.1)",textAlign:"center",border:"1px solid #e5e7eb"},tk={display:"flex",justifyContent:"center",marginBottom:"1.2rem"},rk={width:"80px",height:"80px",borderRadius:"50%",background:"radial-gradient(circle, #a3d9b1 0%, #4a90e2 100%)",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden"},nk={width:"100%",height:"100%",objectFit:"cover"},ik={fontSize:"1.6rem",fontWeight:"700",color:"#274472",marginBottom:"0.5rem"},ol={display:"flex",alignItems:"center",borderRadius:"8px",border:"1px solid #d1d5db",backgroundColor:"#f9fafb",height:"42px",paddingRight:"0.75rem"},al={width:"100%",padding:"0.6rem 1rem",backgroundColor:"transparent",border:"none",outline:"none",color:"#1b2a41",fontSize:"1rem"},ok={color:"#6b7280",cursor:"pointer",fontSize:"1.1rem"},ak={fontSize:"0.75rem",color:"#6b7280",marginTop:"-0.5rem",marginBottom:"0.5rem",textAlign:"left",paddingLeft:"0.25rem"},sk={backgroundColor:"#4a90e2",padding:"0.8rem",color:"white",borderRadius:"8px",fontWeight:"600",border:"none",cursor:"pointer",fontSize:"1rem",marginTop:"0.5rem"},lk={textAlign:"center",fontSize:"0.875rem",color:"#6b7280",marginTop:"2rem"},ck={color:"#f5a623",fontWeight:"600",textDecoration:"underline"};function uk(){const{t:e}=Ce(),t=Ft(),[r,n]=v.useState(!1);return v.useEffect(()=>{setTimeout(()=>n(!0),100);const i=setTimeout(()=>{t("/login")},4e3);if(!document.getElementById("pulseGlow")){const o=document.createElement("style");o.id="pulseGlow",o.textContent=`
        @keyframes pulseGlow {
          0%, 100% { box-shadow: 0 0 15px rgba(74,144,226,0.4); }
          50% { box-shadow: 0 0 25px rgba(163,217,177,0.7); }
        }
      `,document.head.appendChild(o)}return()=>clearTimeout(i)},[t]),f.jsx("div",{style:dk,children:f.jsxs("div",{style:fk,children:[f.jsx("div",{style:hk,children:f.jsx("div",{style:{...pk,transform:r?"rotate(360deg)":"rotate(0deg)",transition:"transform 1s ease-in-out",animation:"pulseGlow 4s ease-in-out infinite"},children:f.jsx("img",{src:"/logo-evolvian.svg",alt:"Evolvian Logo",style:mk})})}),f.jsxs("h2",{style:gk,children:["âœ… ",e("email_confirmed_successfully")]}),f.jsx("p",{style:yk,children:e("redirecting_to_login")})]})})}const dk={height:"100vh",width:"100vw",backgroundColor:"#f9fafb",display:"flex",alignItems:"center",justifyContent:"center",fontFamily:"Inter, system-ui, sans-serif"},fk={width:"100%",maxWidth:"400px",backgroundColor:"#ffffff",borderRadius:"20px",padding:"2.5rem 2rem",boxShadow:"0 8px 40px rgba(39,68,114,0.1)",textAlign:"center",border:"1px solid #e5e7eb"},hk={display:"flex",justifyContent:"center",marginBottom:"1.5rem"},pk={width:"80px",height:"80px",borderRadius:"50%",background:"radial-gradient(circle, #a3d9b1 0%, #4a90e2 100%)",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden"},mk={width:"100%",height:"100%",objectFit:"cover"},gk={fontSize:"1.3rem",fontWeight:"700",color:"#274472",marginBottom:"0.75rem"},yk={fontSize:"0.95rem",color:"#6b7280"};function vk(){const{t:e}=Ce(),[t,r]=v.useState(""),[n,i]=v.useState(!1);v.useEffect(()=>{if(setTimeout(()=>i(!0),100),!document.getElementById("pulseGlow")){const a=document.createElement("style");a.id="pulseGlow",a.textContent=`
        @keyframes pulseGlow {
          0%, 100% { box-shadow: 0 0 15px rgba(74,144,226,0.4); }
          50% { box-shadow: 0 0 25px rgba(163,217,177,0.7); }
        }
      `,document.head.appendChild(a)}},[]);const o=async a=>{a.preventDefault();const{error:s}=await ct.auth.resetPasswordForEmail(t,{redirectTo:`${window.location.origin}/reset-password`});s?(console.error("âŒ Error al enviar reset:",s.message),Je.error(e("error_sending_reset_email"))):Je.success(e("check_your_email"))};return f.jsx("div",{style:bk,children:f.jsxs("div",{style:wk,children:[f.jsx("div",{style:xk,children:f.jsx("div",{style:{..._k,transform:n?"rotate(360deg)":"rotate(0deg)",transition:"transform 1s ease-in-out",animation:"pulseGlow 4s ease-in-out infinite"},children:f.jsx("img",{src:"/logo-evolvian.svg",alt:"Evolvian Logo",style:Sk})})}),f.jsx("h1",{style:Ek,children:e("recover_password")}),f.jsx("p",{style:jk,children:e("enter_your_email")}),f.jsxs("form",{onSubmit:o,style:{display:"flex",flexDirection:"column",gap:"1rem",marginTop:"1.5rem"},children:[f.jsx("div",{style:Ck,children:f.jsx("input",{type:"email",placeholder:e("email"),value:t,onChange:a=>r(a.target.value),required:!0,style:kk})}),f.jsx("button",{type:"submit",style:Pk,children:e("send_email")})]}),f.jsxs("p",{style:Ak,children:[e("already_have_access")," ",f.jsx(Lr,{to:"/login",style:Ok,children:e("login")})]})]})})}const bk={height:"100vh",width:"100vw",backgroundColor:"#f9fafb",display:"flex",alignItems:"center",justifyContent:"center",fontFamily:"Inter, system-ui, sans-serif"},wk={width:"100%",maxWidth:"400px",backgroundColor:"#ffffff",borderRadius:"20px",padding:"2.5rem 2rem",boxShadow:"0 8px 40px rgba(39,68,114,0.1)",textAlign:"center",border:"1px solid #e5e7eb"},xk={display:"flex",justifyContent:"center",marginBottom:"1.2rem"},_k={width:"80px",height:"80px",borderRadius:"50%",background:"radial-gradient(circle, #a3d9b1 0%, #4a90e2 100%)",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden"},Sk={width:"100%",height:"100%",objectFit:"cover"},Ek={fontSize:"1.6rem",fontWeight:"700",color:"#274472",marginBottom:"0.5rem"},jk={fontSize:"0.95rem",color:"#6b7280",marginBottom:"1rem"},Ck={display:"flex",alignItems:"center",borderRadius:"8px",border:"1px solid #d1d5db",backgroundColor:"#f9fafb",height:"42px",paddingRight:"0.75rem"},kk={width:"100%",padding:"0.6rem 1rem",backgroundColor:"transparent",border:"none",outline:"none",color:"#1b2a41",fontSize:"1rem"},Pk={backgroundColor:"#4a90e2",padding:"0.8rem",color:"white",borderRadius:"8px",fontWeight:"600",border:"none",cursor:"pointer",fontSize:"1rem",marginTop:"0.5rem"},Ak={textAlign:"center",fontSize:"0.875rem",color:"#6b7280",marginTop:"2rem"},Ok={color:"#f5a623",fontWeight:"600",textDecoration:"underline"};function Tk(){const{t:e}=Ce(),t=Ft(),[r,n]=v.useState(""),[i,o]=v.useState(!1),[a,s]=v.useState(!1),[l,c]=v.useState(!1);v.useEffect(()=>{window.location.hash.includes("access_token")?c(!0):(Je.error(e("invalid_token")),t("/forgot-password"))},[t,e]);const u=async d=>{d.preventDefault(),s(!0);const{error:h}=await ct.auth.updateUser({password:r});h?Je.error(`âŒ ${e("error_updating_password")}: ${h.message}`):(Je.success(`ðŸ”’ ${e("password_updated_successfully")}`),t("/login")),s(!1)};return l?f.jsx("div",{style:Rk,children:f.jsxs("div",{style:Ik,children:[f.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[f.jsx("img",{src:"/logo-evolvian.svg",alt:"Logo Evolvian",style:{width:"64px",height:"64px",margin:"0 auto 1rem",animation:"spin 6s linear infinite"}}),f.jsx("h1",{style:Dk,children:e("new_password")}),f.jsx("p",{style:$k,children:e("enter_new_password")})]}),f.jsxs("form",{onSubmit:u,style:Mk,children:[f.jsxs("div",{style:Fk,children:[f.jsx("input",{type:i?"text":"password",placeholder:e("new_password_placeholder"),value:r,onChange:d=>n(d.target.value),required:!0,style:Nk}),f.jsx("div",{style:Lk,onClick:()=>o(d=>!d),children:i?f.jsx(vd,{}):f.jsx(bd,{})})]}),f.jsx("button",{type:"submit",disabled:a,style:{...Bk,opacity:a?.7:1,cursor:a?"not-allowed":"pointer"},children:e(a?"updating":"update_password")})]})]})}):null}const Rk={height:"100vh",width:"100vw",backgroundColor:"#ffffff",display:"flex",alignItems:"center",justifyContent:"center",padding:"1rem",fontFamily:"Inter, system-ui, sans-serif"},Ik={width:"100%",maxWidth:"400px",backgroundColor:"#f8fafc",borderRadius:"1.5rem",padding:"2rem",color:"#274472",boxShadow:"0 10px 30px rgba(0,0,0,0.08)",border:"1px solid #e5e7eb",textAlign:"center"},Dk={fontSize:"1.6rem",fontWeight:"bold",color:"#274472",marginBottom:"0.5rem"},$k={fontSize:"0.9rem",color:"#6b7280",marginBottom:"1rem"},Mk={display:"flex",flexDirection:"column",gap:"1rem",textAlign:"left"},Fk={display:"flex",alignItems:"center",border:"1px solid #274472",borderRadius:"8px",backgroundColor:"#ffffff",height:"42px",paddingRight:"0.75rem",boxShadow:"0 2px 4px rgba(0,0,0,0.05)"},Nk={width:"100%",padding:"0.6rem 1rem",background:"transparent",border:"none",borderRadius:"8px",color:"#274472",fontSize:"1rem",outline:"none"},Lk={color:"#4a90e2",cursor:"pointer",fontSize:"1.1rem",transition:"color 0.2s"},Bk={backgroundColor:"#4a90e2",padding:"0.7rem",color:"#ffffff",borderRadius:"8px",fontWeight:"bold",border:"none",fontSize:"1rem",marginTop:"1rem",transition:"background-color 0.3s ease"};if(typeof document<"u"&&!document.getElementById("spin-keyframes")){const e=document.createElement("style");e.id="spin-keyframes",e.textContent=`
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
  `,document.head.appendChild(e)}function Uk(){const{t:e}=Ce(),[t,r]=v.useState(""),[n,i]=v.useState(!1),[o,a]=v.useState(!1),[s,l]=v.useState(!1);v.useEffect(()=>{if(setTimeout(()=>l(!0),100),!document.getElementById("pulseGlow")){const u=document.createElement("style");u.id="pulseGlow",u.textContent=`
        @keyframes pulseGlow {
          0%, 100% { box-shadow: 0 0 15px rgba(74,144,226,0.4); }
          50% { box-shadow: 0 0 25px rgba(163,217,177,0.7); }
        }
      `,document.head.appendChild(u)}},[]);const c=async u=>{u.preventDefault(),i(!0);const{error:d}=await ct.auth.signInWithOtp({email:t,options:{redirectTo:`${window.location.origin}/dashboard`}});d?Je.error(e("error_sending_login_link")):(Je.success(e("check_your_email_login_link")),a(!0)),i(!1)};return f.jsx("div",{style:zk,children:f.jsxs("div",{style:Wk,children:[f.jsx("div",{style:qk,children:f.jsx("div",{style:{...Hk,transform:s?"rotate(360deg)":"rotate(0deg)",transition:"transform 1s ease-in-out",animation:"pulseGlow 4s ease-in-out infinite"},children:f.jsx("img",{src:"/logo-evolvian.svg",alt:"Evolvian Logo",style:Kk})})}),f.jsx("h1",{style:Gk,children:e("access_verification")}),f.jsx("p",{style:Yk,children:e("confirm_email_to_continue")}),o?f.jsx("p",{style:Xk,children:e("email_link_sent")}):f.jsxs("form",{onSubmit:c,style:{display:"flex",flexDirection:"column",gap:"1rem",marginTop:"1.5rem"},children:[f.jsx("input",{type:"email",placeholder:e("email"),value:t,onChange:u=>r(u.target.value),required:!0,style:Vk}),f.jsx("button",{type:"submit",disabled:n,style:{...Jk,opacity:n?.7:1,cursor:n?"not-allowed":"pointer"},children:e(n?"sending":"send_login_link")})]})]})})}const zk={height:"100vh",width:"100vw",backgroundColor:"#f9fafb",display:"flex",alignItems:"center",justifyContent:"center",fontFamily:"Inter, system-ui, sans-serif"},Wk={width:"100%",maxWidth:"400px",backgroundColor:"#ffffff",borderRadius:"20px",padding:"2.5rem 2rem",boxShadow:"0 8px 40px rgba(39,68,114,0.1)",textAlign:"center",border:"1px solid #e5e7eb"},qk={display:"flex",justifyContent:"center",marginBottom:"1.2rem"},Hk={width:"80px",height:"80px",borderRadius:"50%",background:"radial-gradient(circle, #a3d9b1 0%, #4a90e2 100%)",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden"},Kk={width:"100%",height:"100%",objectFit:"cover"},Gk={fontSize:"1.6rem",fontWeight:"700",color:"#274472",marginBottom:"0.5rem"},Yk={fontSize:"0.95rem",color:"#6b7280",marginBottom:"1rem"},Vk={width:"100%",padding:"0.6rem 1rem",backgroundColor:"#f9fafb",border:"1px solid #d1d5db",borderRadius:"8px",color:"#1b2a41",fontSize:"1rem"},Jk={backgroundColor:"#4a90e2",padding:"0.8rem",color:"white",borderRadius:"8px",fontWeight:"600",border:"none",cursor:"pointer",fontSize:"1rem",transition:"background 0.3s ease"},Xk={color:"#4a90e2",fontSize:"0.95rem",fontWeight:"500",marginTop:"1rem"};function Zk(e){const[t,r]=v.useState(null);return v.useEffect(()=>{if(!e)return;(async()=>{try{const a=await(await fetch(`http://127.0.0.1:8001/accepted_terms?client_id=${e}`)).json();r(a.has_accepted)}catch(o){console.error("âŒ Error al verificar aceptaciÃ³n de tÃ©rminos:",o),r(!1)}})()},[e]),{hasAccepted:t,acceptTerms:async()=>{try{if(!(await fetch("http://127.0.0.1:8001/accept_terms",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:e})})).ok)throw new Error("Error al registrar aceptaciÃ³n");r(!0)}catch(i){console.error("âŒ Error al aceptar tÃ©rminos:",i)}}}}function Nt(){const[e,t]=v.useState(()=>{const r=localStorage.getItem("client_id");return r&&r!=="undefined"&&r!=="null"?r:null});return v.useEffect(()=>{const r=n=>{if(n.key==="client_id"){const i=n.newValue;i&&i!=="undefined"&&i!=="null"&&t(i)}};return window.addEventListener("storage",r),()=>window.removeEventListener("storage",r)},[]),e}function Qk(){const e=Ft(),[t,r]=v.useState(!1),n=Nt(),{hasAccepted:i,acceptTerms:o}=Zk(n),a=async()=>{r(!0);const s=localStorage.getItem("user_id");console.log("ðŸ§  Obtenido user_id desde localStorage:",s);try{if(s){const c=await(await fetch(`http://127.0.0.1:8001/clear_new_user_flag?user_id=${s}`,{method:"POST"})).json();console.log("âœ… Respuesta de clear_new_user_flag:",c),console.log("ðŸ”„ Refrescando sesiÃ³n despuÃ©s de limpiar bandera..."),await ct.auth.refreshSession(),sessionStorage.removeItem("alreadyRedirected")}else console.warn("âš ï¸ user_id no estÃ¡ disponible en localStorage");!i&&n&&(console.log("ðŸ“© Aceptando tÃ©rminos con client_id:",n),await o()),console.log("âž¡ï¸ Redirigiendo a /dashboard..."),e("/dashboard",{replace:!0})}catch(l){console.error("âŒ Error en Welcome:",l),e("/dashboard",{replace:!0})}finally{r(!1)}};return i===null?f.jsx("div",{style:{color:"white",padding:"2rem"},children:"Cargando..."}):f.jsx("div",{style:{height:"100vh",backgroundColor:"#0f1c2e",display:"flex",alignItems:"center",justifyContent:"center",fontFamily:"system-ui, sans-serif",padding:"2rem",color:"white"},children:f.jsxs("div",{style:{backgroundColor:"#1b2a41",padding:"3rem",borderRadius:"1.5rem",maxWidth:"600px",width:"100%",textAlign:"center",boxShadow:"0 0 30px rgba(0,0,0,0.2)",border:"1px solid #274472"},children:[f.jsx("img",{src:"/logo-evolvian.svg",alt:"Evolvian",style:{width:"60px",marginBottom:"1.5rem"}}),f.jsx("h1",{style:{fontSize:"1.8rem",color:"#a3d9b1",marginBottom:"1rem"},children:"Bienvenido a Evolvian, tu nuevo copiloto de conocimiento."}),f.jsxs("p",{style:{fontSize:"1rem",color:"#ededed",marginBottom:"1.5rem"},children:["Has dado el primer paso hacia una forma mÃ¡s rÃ¡pida, segura y precisa de resolver tus dudas, compartir respuestas y empoderar a tus usuarios.",f.jsx("br",{}),f.jsx("br",{}),"Evolvian es un asistente de inteligencia artificial que entiende tus documentos y responde como si fueras tÃº. AquÃ­ empieza todo."]}),f.jsx("button",{onClick:a,disabled:t,style:{backgroundColor:"#2eb39a",color:"white",fontSize:"1rem",padding:"0.8rem 1.6rem",border:"none",borderRadius:"8px",fontWeight:"bold",cursor:t?"not-allowed":"pointer"},children:t?"Cargando...":"Ir al panel"})]})})}function eP(){return f.jsxs("div",{style:{padding:"2rem"},children:[f.jsx("h2",{children:"404 â€“ PÃ¡gina no encontrada"}),f.jsx("p",{children:"La ruta que intentaste no existe."})]})}function tP(){const[e]=Ov(),t=e.get("public_client_id");return t?f.jsx("div",{style:{margin:0,padding:0,width:"100vw",height:"100vh",backgroundColor:"#ededed",fontFamily:"system-ui, sans-serif",display:"flex",justifyContent:"center",alignItems:"center"},children:f.jsxs("div",{style:{width:"360px",height:"520px",backgroundColor:"#ffffff",border:"2px solid #4a90e2",borderRadius:"16px",boxShadow:"0 6px 24px rgba(0,0,0,0.15)",overflow:"hidden"},children:[f.jsx(ss,{clientId:t})," "]})}):f.jsx("div",{style:{padding:"2rem",fontFamily:"system-ui, sans-serif",color:"#e74c3c",textAlign:"center"},children:"âš ï¸ No se proporcionÃ³ un public_client_id."})}function rP(){const[e,t]=v.useState("");return v.useEffect(()=>{const r=new URLSearchParams(window.location.search),n=r.get("client_id")||r.get("public_client_id");n&&t(n)},[]),e?f.jsx("div",{style:{width:"100%",height:"100%",backgroundColor:"#ffffff"},children:f.jsx(ss,{clientId:e})}):f.jsx("p",{style:{padding:"1rem"},children:"âŒ Client ID no encontrado."})}const nP=["Afghanistan","Albania","Germany","Andorra","Angola","Saudi Arabia","Algeria","Argentina","Armenia","Australia","Austria","Azerbaijan","Bahamas","Bangladesh","Bahrain","Belgium","Belize","Benin","Belarus","Bolivia","Bosnia and Herzegovina","Botswana","Brazil","Brunei","Bulgaria","Burkina Faso","Burundi","Cape Verde","Cambodia","Cameroon","Canada","Chile","China","Cyprus","Colombia","Comoros","South Korea","Ivory Coast","Costa Rica","Croatia","Denmark","Djibouti","Dominica","Ecuador","Egypt","El Salvador","United Arab Emirates","Slovakia","Slovenia","Spain","United States","Estonia","Ethiopia","Philippines","Finland","France","Gabon","Gambia","Georgia","Ghana","Greece","Guatemala","Guyana","Honduras","Hungary","India","Indonesia","Iraq","Iran","Ireland","Iceland","Marshall Islands","Israel","Italy","Jamaica","Japan","Jordan","Kazakhstan","Kenya","Kyrgyzstan","Kuwait","Laos","Latvia","Lebanon","Liberia","Libya","Liechtenstein","Lithuania","Luxembourg","North Macedonia","Madagascar","Malaysia","Malawi","Maldives","Mali","Malta","Morocco","Mauritius","Mauritania","Mexico","Moldova","Monaco","Mongolia","Montenegro","Mozambique","Namibia","Nepal","Nicaragua","Niger","Nigeria","Norway","New Zealand","Oman","Netherlands","Pakistan","Panama","Papua New Guinea","Paraguay","Peru","Poland","Portugal","Qatar","United Kingdom","Central African Republic","Czech Republic","Democratic Republic of the Congo","Dominican Republic","Rwanda","Romania","Russia","Samoa","San Marino","Saint Lucia","Senegal","Serbia","Seychelles","Singapore","Syria","Somalia","Sri Lanka","South Africa","Sudan","Sweden","Switzerland","Suriname","Thailand","Tanzania","Tajikistan","East Timor","Togo","Tonga","Trinidad and Tobago","Tunisia","Turkey","Turkmenistan","Ukraine","Uganda","Uruguay","Uzbekistan","Vanuatu","Vatican City","Venezuela","Vietnam","Yemen","Zambia","Zimbabwe"],iP=["Software","Education","Healthcare","Finance","Retail","Manufacturing","Consulting","Other"],oP=["Founder / CEO","CMO / Marketing Manager","Customer Support","Operations Manager","Sales Executive","IT Manager","Product Manager","Developer / Engineer","HR / People","Other"],aP=["Chat Widget","WhatsApp","Email","Others"],sP=["1-10 employees","11-50 employees","51-200 employees","201-500 employees","501-1000 employees","More than 1000 employees"],sl=["welcome_intro","personalization","terms","plan"],lP={position:"fixed",inset:0,background:"rgba(15, 28, 46, 0.6)",backdropFilter:"blur(6px)",WebkitBackdropFilter:"blur(6px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999,animation:"fadeIn 0.3s ease-in-out"},cP={background:"#1b2a41",border:"2px solid #274472",borderRadius:"20px",padding:"2.5rem 3rem",width:"95%",maxWidth:"780px",color:"#fff",textAlign:"center",boxShadow:"0 8px 28px rgba(0,0,0,0.35)",animation:"scaleIn 0.25s ease-in-out"},xi={fontSize:"1.8rem",color:"#a3d9b1",marginBottom:"1rem"},_i={fontSize:"1rem",color:"#ededed",marginBottom:"1.5rem",lineHeight:1.6},No={padding:"0.8rem",borderRadius:"8px",border:"1px solid #4a90e2",backgroundColor:"#0f1c2e",color:"white",outline:"none"},Wh={color:"#4a90e2",textDecoration:"underline"},qh={color:"#4a90e2",textDecoration:"underline",fontWeight:"500"},uP={display:"flex",flexDirection:"column",gap:"1rem",marginTop:"1rem"},Hh=(e=!1)=>({background:e?"#274472":"#2eb39a",color:e?"#bbb":"#fff",padding:"10px 24px",borderRadius:"8px",fontWeight:600,border:"none",cursor:e?"not-allowed":"pointer",marginLeft:"1rem",transition:"all 0.2s ease",opacity:e?.6:1}),dP={background:"#4b5563",color:"#fff",padding:"10px 24px",borderRadius:"8px",fontWeight:500,border:"none",cursor:"pointer"},Kh={color:"#ededed",fontSize:"0.9rem",display:"block",marginBottom:"0.3rem"},fP={backgroundColor:"rgba(39, 68, 114, 0.15)",border:"1px solid #274472",borderRadius:"10px",padding:"1rem 1.2rem",marginTop:"1.5rem",color:"#ededed",fontSize:"0.9rem",lineHeight:1.6},hP={display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(220px, 1fr))",gap:"0.75rem 1rem",marginTop:"1rem",textAlign:"left"},pP={display:"flex",alignItems:"center",gap:"0.6rem",padding:"0.65rem 0.9rem",backgroundColor:"rgba(255, 255, 255, 0.05)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"10px",transition:"all 0.25s ease",fontSize:"0.95rem",color:"#ededed"},mP={fontSize:"1.25rem",flexShrink:0,width:"26px",textAlign:"center"},gP={fontWeight:500,letterSpacing:"0.2px",color:"#a3d9b1"},yP=e=>{const t=e.toLowerCase();return t.includes("whatsapp")?"ðŸ’¬":t.includes("email")?"ðŸ“§":t.includes("custom")||t.includes("prompt")?"âœ¨":t.includes("branding")||t.includes("powered")?"ðŸŽ¨":t.includes("chat")?"ðŸ¤–":t.includes("calendar")?"ðŸ“…":t.includes("limit")?"âœ…":"ðŸ”¹"};function vP({onClose:e}){const{t}=Ce(),[r,n]=v.useState(1),[i,o]=v.useState(!1),[a,s]=v.useState({industry:"",role:"",country:"",channels:[],companySize:""}),[l,c]=v.useState(null),[u,d]=v.useState(null),[h,p]=v.useState(!1);v.useEffect(()=>{async function _(){try{const S=localStorage.getItem("client_id");if(!S)throw new Error("client_id not found in localStorage");const E=await fetch(`http://127.0.0.1:8001/client_settings?client_id=${S}`);if(!E.ok)throw new Error(`HTTP ${E.status}: ${await E.text()}`);const j=await E.json();c(j)}catch(S){console.error("âŒ Error loading settings:",S)}}_()},[]);const m=async()=>{try{o(!0),sessionStorage.setItem("alreadyRedirected","true"),e()}catch(_){console.error("âŒ Error in handleContinue:",_)}finally{o(!1)}},g=async()=>{if(d(null),r===3&&!h){d("Please confirm that you agree to our Terms and Privacy Policy.");return}if(r===3)try{const _=localStorage.getItem("client_id");if(!_)throw new Error("client_id not found");if(!(await fetch("http://127.0.0.1:8001/save_client_profile",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:_,industry:a.industry,role:a.role,country:a.country,channels:a.channels,company_size:a.companySize})})).ok)throw new Error("Error saving client profile");if(!(await fetch("http://127.0.0.1:8001/accept_terms",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:_})})).ok)throw new Error("Error accepting terms and conditions");n(j=>Math.min(j+1,sl.length))}catch(_){console.error("âŒ Error in step 3:",_),d("There was an issue saving your consent. Please try again.")}else n(_=>Math.min(_+1,sl.length))},y=()=>n(_=>Math.max(_-1,1)),b=_=>s(S=>({...S,[_.target.name]:_.target.value})),w=_=>{s(S=>{const j=S.channels.includes(_)?S.channels.filter(P=>P!==_):[...S.channels,_];return{...S,channels:j}})},x=()=>{var _,S,E;switch(r){case 1:return f.jsxs(f.Fragment,{children:[f.jsx("img",{src:"/logo-evolvian.svg",alt:"Evolvian Logo",style:{width:"80px",marginBottom:"1.5rem"}}),f.jsx("h1",{style:xi,children:"Welcome to Evolvian"}),f.jsx("p",{style:_i,children:"Letâ€™s personalize your assistant experience in a few quick steps."})]});case 2:return f.jsxs(f.Fragment,{children:[f.jsx("h2",{style:xi,children:"Personalize Your Experience"}),f.jsx("p",{style:_i,children:"Tell us a bit about your company so we can tailor your assistant better."}),f.jsxs("div",{style:uP,children:[f.jsxs("select",{name:"industry",value:a.industry,onChange:b,style:No,children:[f.jsx("option",{value:"",children:"Select your industry"}),iP.map(j=>f.jsx("option",{children:j},j))]}),f.jsxs("select",{name:"role",value:a.role,onChange:b,style:No,children:[f.jsx("option",{value:"",children:"Select your role"}),oP.map(j=>f.jsx("option",{children:j},j))]}),f.jsxs("select",{name:"country",value:a.country,onChange:b,style:No,children:[f.jsx("option",{value:"",children:"Select your country"}),nP.map(j=>f.jsx("option",{children:j},j))]}),f.jsxs("div",{style:{textAlign:"left",marginTop:"1rem"},children:[f.jsx("p",{style:{..._i,color:"#ededed",marginBottom:"0.5rem"},children:"Which channels are you interested in?"}),aP.map(j=>f.jsxs("label",{style:Kh,children:[f.jsx("input",{type:"checkbox",checked:a.channels.includes(j),onChange:()=>w(j),style:{marginRight:"0.5rem"}}),j]},j))]}),f.jsxs("select",{name:"companySize",value:a.companySize,onChange:b,style:No,children:[f.jsx("option",{value:"",children:"Select company size"}),sP.map(j=>f.jsx("option",{children:j},j))]})]})]});case 3:return f.jsxs(f.Fragment,{children:[f.jsx("h2",{style:xi,children:"Terms and Conditions"}),f.jsxs("p",{style:_i,children:["Please review our"," ",f.jsx("a",{href:"/terms",target:"_blank",rel:"noopener noreferrer",style:Wh,children:"Terms and Conditions"})," ","and"," ",f.jsx("a",{href:"/privacypolicy",target:"_blank",rel:"noopener noreferrer",style:Wh,children:"Privacy Policy"})," ","to understand how your data is used and protected."]}),f.jsxs("div",{style:fP,children:[f.jsx("strong",{style:{color:"#a3d9b1"},children:"Note:"})," By clicking"," ",f.jsx("strong",{style:{color:"#f5a623"},children:"Continue"}),", you agree to our"," ",f.jsx("a",{href:"/terms",target:"_blank",rel:"noopener noreferrer",style:qh,children:"Terms and Conditions"})," ","and"," ",f.jsx("a",{href:"/privacypolicy",target:"_blank",rel:"noopener noreferrer",style:qh,children:"Privacy Policy"}),". Your consent will be securely stored for compliance."]}),f.jsx("div",{style:{marginTop:"1.5rem",textAlign:"left"},children:f.jsxs("label",{style:Kh,children:[f.jsx("input",{type:"checkbox",checked:h,onChange:()=>p(!h),style:{marginRight:"0.6rem"}}),"I have read and agree to the Terms and Privacy Policy."]})}),u&&f.jsx("p",{style:{color:"#f87171",marginTop:"1rem",fontSize:"0.9rem"},children:u})]});case 4:return l&&f.jsxs(f.Fragment,{children:[f.jsx("h2",{style:xi,children:"Your Current Plan"}),f.jsxs("p",{style:_i,children:["You are currently on the ",f.jsx("strong",{children:((_=l.plan)==null?void 0:_.name)||"Free"})," plan."]}),((E=(S=l.plan)==null?void 0:S.plan_features)==null?void 0:E.length)>0&&f.jsxs(f.Fragment,{children:[f.jsx("h3",{style:{...xi,fontSize:"1.3rem",color:"#4a90e2"},children:"Included Features"}),f.jsx("div",{style:hP,children:l.plan.plan_features.map((j,P)=>f.jsxs("div",{style:pP,children:[f.jsx("span",{style:mP,children:yP(j.feature)}),f.jsx("span",{style:gP,children:j.feature.replaceAll("_"," ").replace(/\b\w/g,A=>A.toUpperCase())})]},P))})]})]});default:return null}};return f.jsx("div",{style:lP,children:f.jsxs("div",{style:cP,children:[x(),f.jsxs("div",{style:{marginTop:"2rem",display:"flex",justifyContent:"center"},children:[r>1&&f.jsx("button",{onClick:y,style:dP,children:"Back"}),r<sl.length?f.jsx("button",{onClick:g,style:Hh(r===3&&!h),disabled:r===3&&!h,title:r===3&&!h?"Please agree to continue":"",children:r===3?"Continue":"Next"}):f.jsx("button",{onClick:m,style:Hh(i),disabled:i,children:i?"Loading...":"Start"})]})]})})}const Qv=document.createElement("style");Qv.innerHTML=`
@keyframes fadeIn {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}
@keyframes scaleIn {
  from { opacity: 0; transform: scale(0.95); }
  to { opacity: 1; transform: scale(1); }
}`;document.head.appendChild(Qv);const se=Je;function e0(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=e0(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function ve(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=e0(e))&&(n&&(n+=" "),n+=t);return n}var ll={},cl={},Gh;function bP(){return Gh||(Gh=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(cl)),cl}var ul={},Yh;function t0(){return Yh||(Yh=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(ul)),ul}var dl={},Vh;function r0(){return Vh||(Vh=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(dl)),dl}var fl={},Jh;function wd(){return Jh||(Jh=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){const n=[],i=r.length;if(i===0)return n;let o=0,a="",s="",l=!1;for(r.charCodeAt(0)===46&&(n.push(""),o++);o<i;){const c=r[o];s?c==="\\"&&o+1<i?(o++,a+=r[o]):c===s?s="":a+=c:l?c==='"'||c==="'"?s=c:c==="]"?(l=!1,n.push(a),a=""):a+=c:c==="["?(l=!0,a&&(n.push(a),a="")):c==="."?a&&(n.push(a),a=""):a+=c,o++}return a&&n.push(a),n}e.toPath=t})(fl)),fl}var Xh;function xd(){return Xh||(Xh=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bP(),r=t0(),n=r0(),i=wd();function o(s,l,c){if(s==null)return c;switch(typeof l){case"string":{if(t.isUnsafeProperty(l))return c;const u=s[l];return u===void 0?r.isDeepKey(l)?o(s,i.toPath(l),c):c:u}case"number":case"symbol":{typeof l=="number"&&(l=n.toKey(l));const u=s[l];return u===void 0?c:u}default:{if(Array.isArray(l))return a(s,l,c);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),t.isUnsafeProperty(l))return c;const u=s[l];return u===void 0?c:u}}}function a(s,l,c){if(l.length===0)return c;let u=s;for(let d=0;d<l.length;d++){if(u==null||t.isUnsafeProperty(l[d]))return c;u=u[l[d]]}return u===void 0?c:u}e.get=o})(ll)),ll}var hl,Zh;function wP(){return Zh||(Zh=1,hl=xd().get),hl}var xP=wP();const qn=sr(xP);var pl={exports:{}},fe={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qh;function _P(){if(Qh)return fe;Qh=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),a=Symbol.for("react.context"),s=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.suspense_list"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.for("react.view_transition"),p=Symbol.for("react.client.reference");function m(g){if(typeof g=="object"&&g!==null){var y=g.$$typeof;switch(y){case e:switch(g=g.type,g){case r:case i:case n:case l:case c:case h:return g;default:switch(g=g&&g.$$typeof,g){case a:case s:case d:case u:return g;case o:return g;default:return y}}case t:return y}}}return fe.ContextConsumer=o,fe.ContextProvider=a,fe.Element=e,fe.ForwardRef=s,fe.Fragment=r,fe.Lazy=d,fe.Memo=u,fe.Portal=t,fe.Profiler=i,fe.StrictMode=n,fe.Suspense=l,fe.SuspenseList=c,fe.isContextConsumer=function(g){return m(g)===o},fe.isContextProvider=function(g){return m(g)===a},fe.isElement=function(g){return typeof g=="object"&&g!==null&&g.$$typeof===e},fe.isForwardRef=function(g){return m(g)===s},fe.isFragment=function(g){return m(g)===r},fe.isLazy=function(g){return m(g)===d},fe.isMemo=function(g){return m(g)===u},fe.isPortal=function(g){return m(g)===t},fe.isProfiler=function(g){return m(g)===i},fe.isStrictMode=function(g){return m(g)===n},fe.isSuspense=function(g){return m(g)===l},fe.isSuspenseList=function(g){return m(g)===c},fe.isValidElementType=function(g){return typeof g=="string"||typeof g=="function"||g===r||g===i||g===n||g===l||g===c||typeof g=="object"&&g!==null&&(g.$$typeof===d||g.$$typeof===u||g.$$typeof===a||g.$$typeof===o||g.$$typeof===s||g.$$typeof===p||g.getModuleId!==void 0)},fe.typeOf=m,fe}var ep;function SP(){return ep||(ep=1,pl.exports=_P()),pl.exports}var EP=SP(),st=e=>e===0?0:e>0?1:-1,xt=e=>typeof e=="number"&&e!=+e,tn=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,H=e=>(typeof e=="number"||e instanceof Number)&&!xt(e),or=e=>H(e)||typeof e=="string",jP=0,Vi=e=>{var t=++jP;return"".concat(e||"").concat(t)},Vt=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!H(t)&&typeof t!="string")return n;var o;if(tn(t)){if(r==null)return n;var a=t.indexOf("%");o=r*parseFloat(t.slice(0,a))/100}else o=+t;return xt(o)&&(o=n),i&&r!=null&&o>r&&(o=r),o},n0=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1};function et(e,t,r){return H(e)&&H(t)?e+r*(t-e):t}function CP(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):qn(n,t))===r)}var $e=e=>e===null||typeof e>"u",co=e=>$e(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),kP=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function _d(e){if(typeof e!="string")return!1;var t=kP;return t.includes(e)}var PP=["viewBox","children"],tp=["points","pathLength"],ml={svg:PP,polygon:tp,polyline:tp},AP=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(v.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{_d(i)&&(n[i]=(o=>r[i](r,o)))}),n},OP=(e,t,r)=>n=>(e(t,r,n),null),Sd=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(i=>{var o=e[i];_d(i)&&typeof o=="function"&&(n||(n={}),n[i]=OP(o,t,r))}),n},TP=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function i0(e){if(typeof e!="string")return!1;var t=TP;return t.includes(e)}function ai(e){var t=Object.entries(e).filter(r=>{var[n]=r;return i0(n)});return Object.fromEntries(t)}var rp=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",np=null,gl=null,o0=e=>{if(e===np&&Array.isArray(gl))return gl;var t=[];return v.Children.forEach(e,r=>{$e(r)||(EP.isFragment(r)?t=t.concat(o0(r.props.children)):t.push(r))}),gl=t,np=e,t};function RP(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(i=>rp(i)):n=[rp(t)],o0(e).forEach(i=>{var o=qn(i,"type.displayName")||qn(i,"type.name");n.indexOf(o)!==-1&&r.push(i)}),r}var IP=(e,t,r,n)=>{var i;if(typeof t=="symbol"||typeof t=="number")return!0;var o=(i=n&&(ml==null?void 0:ml[n]))!==null&&i!==void 0?i:[],a=t.startsWith("data-"),s=typeof e!="function"&&(!!n&&o.includes(t)||i0(t)),l=!!r&&_d(t);return a||s||l},qe=(e,t,r)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(v.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var i={};return Object.keys(n).forEach(o=>{var a;IP((a=n)===null||a===void 0?void 0:a[o],o,t,r)&&(i[o]=n[o])}),i},DP=["children","width","height","viewBox","className","style","title","desc"];function lu(){return lu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lu.apply(null,arguments)}function $P(e,t){if(e==null)return{};var r,n,i=MP(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function MP(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var a0=v.forwardRef((e,t)=>{var{children:r,width:n,height:i,viewBox:o,className:a,style:s,title:l,desc:c}=e,u=$P(e,DP),d=o||{width:n,height:i,x:0,y:0},h=ve("recharts-surface",a);return v.createElement("svg",lu({},qe(u,!0,"svg"),{className:h,width:n,height:i,style:s,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height),ref:t}),v.createElement("title",null,l),v.createElement("desc",null,c),r)}),FP=["children","className"];function cu(){return cu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cu.apply(null,arguments)}function NP(e,t){if(e==null)return{};var r,n,i=LP(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function LP(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Br=v.forwardRef((e,t)=>{var{children:r,className:n}=e,i=NP(e,FP),o=ve("recharts-layer",n);return v.createElement("g",cu({className:o},qe(i,!0),{ref:t}),r)}),BP=v.createContext(null);function me(e){return function(){return e}}const s0=Math.cos,xa=Math.sin,Xt=Math.sqrt,_a=Math.PI,ds=2*_a,uu=Math.PI,du=2*uu,Xr=1e-6,UP=du-Xr;function l0(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function zP(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return l0;const r=10**t;return function(n){this._+=n[0];for(let i=1,o=n.length;i<o;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class WP{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?l0:zP(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,o,a){this._append`C${+t},${+r},${+n},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(t,r,n,i,o){if(t=+t,r=+r,n=+n,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,l=n-t,c=i-r,u=a-t,d=s-r,h=u*u+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Xr)if(!(Math.abs(d*l-c*u)>Xr)||!o)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-a,m=i-s,g=l*l+c*c,y=p*p+m*m,b=Math.sqrt(g),w=Math.sqrt(h),x=o*Math.tan((uu-Math.acos((g+h-y)/(2*b*w)))/2),_=x/w,S=x/b;Math.abs(_-1)>Xr&&this._append`L${t+_*u},${r+_*d}`,this._append`A${o},${o},0,0,${+(d*p>u*m)},${this._x1=t+S*l},${this._y1=r+S*c}`}}arc(t,r,n,i,o,a){if(t=+t,r=+r,n=+n,a=!!a,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(i),l=n*Math.sin(i),c=t+s,u=r+l,d=1^a,h=a?i-o:o-i;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>Xr||Math.abs(this._y1-u)>Xr)&&this._append`L${c},${u}`,n&&(h<0&&(h=h%du+du),h>UP?this._append`A${n},${n},0,1,${d},${t-s},${r-l}A${n},${n},0,1,${d},${this._x1=c},${this._y1=u}`:h>Xr&&this._append`A${n},${n},0,${+(h>=uu)},${d},${this._x1=t+n*Math.cos(o)},${this._y1=r+n*Math.sin(o)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function Ed(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new WP(t)}function jd(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function c0(e){this._context=e}c0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function fs(e){return new c0(e)}function u0(e){return e[0]}function d0(e){return e[1]}function f0(e,t){var r=me(!0),n=null,i=fs,o=null,a=Ed(s);e=typeof e=="function"?e:e===void 0?u0:me(e),t=typeof t=="function"?t:t===void 0?d0:me(t);function s(l){var c,u=(l=jd(l)).length,d,h=!1,p;for(n==null&&(o=i(p=a())),c=0;c<=u;++c)!(c<u&&r(d=l[c],c,l))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+e(d,c,l),+t(d,c,l));if(p)return o=null,p+""||null}return s.x=function(l){return arguments.length?(e=typeof l=="function"?l:me(+l),s):e},s.y=function(l){return arguments.length?(t=typeof l=="function"?l:me(+l),s):t},s.defined=function(l){return arguments.length?(r=typeof l=="function"?l:me(!!l),s):r},s.curve=function(l){return arguments.length?(i=l,n!=null&&(o=i(n)),s):i},s.context=function(l){return arguments.length?(l==null?n=o=null:o=i(n=l),s):n},s}function Lo(e,t,r){var n=null,i=me(!0),o=null,a=fs,s=null,l=Ed(c);e=typeof e=="function"?e:e===void 0?u0:me(+e),t=typeof t=="function"?t:me(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?d0:me(+r);function c(d){var h,p,m,g=(d=jd(d)).length,y,b=!1,w,x=new Array(g),_=new Array(g);for(o==null&&(s=a(w=l())),h=0;h<=g;++h){if(!(h<g&&i(y=d[h],h,d))===b)if(b=!b)p=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),m=h-1;m>=p;--m)s.point(x[m],_[m]);s.lineEnd(),s.areaEnd()}b&&(x[h]=+e(y,h,d),_[h]=+t(y,h,d),s.point(n?+n(y,h,d):x[h],r?+r(y,h,d):_[h]))}if(w)return s=null,w+""||null}function u(){return f0().defined(i).curve(a).context(o)}return c.x=function(d){return arguments.length?(e=typeof d=="function"?d:me(+d),n=null,c):e},c.x0=function(d){return arguments.length?(e=typeof d=="function"?d:me(+d),c):e},c.x1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:me(+d),c):n},c.y=function(d){return arguments.length?(t=typeof d=="function"?d:me(+d),r=null,c):t},c.y0=function(d){return arguments.length?(t=typeof d=="function"?d:me(+d),c):t},c.y1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:me(+d),c):r},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(r)},c.lineX1=function(){return u().x(n).y(t)},c.defined=function(d){return arguments.length?(i=typeof d=="function"?d:me(!!d),c):i},c.curve=function(d){return arguments.length?(a=d,o!=null&&(s=a(o)),c):a},c.context=function(d){return arguments.length?(d==null?o=s=null:s=a(o=d),c):o},c}class h0{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function qP(e){return new h0(e,!0)}function HP(e){return new h0(e,!1)}const Cd={draw(e,t){const r=Xt(t/_a);e.moveTo(r,0),e.arc(0,0,r,0,ds)}},KP={draw(e,t){const r=Xt(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},p0=Xt(1/3),GP=p0*2,YP={draw(e,t){const r=Xt(t/GP),n=r*p0;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},VP={draw(e,t){const r=Xt(t),n=-r/2;e.rect(n,n,r,r)}},JP=.8908130915292852,m0=xa(_a/10)/xa(7*_a/10),XP=xa(ds/10)*m0,ZP=-s0(ds/10)*m0,QP={draw(e,t){const r=Xt(t*JP),n=XP*r,i=ZP*r;e.moveTo(0,-r),e.lineTo(n,i);for(let o=1;o<5;++o){const a=ds*o/5,s=s0(a),l=xa(a);e.lineTo(l*r,-s*r),e.lineTo(s*n-l*i,l*n+s*i)}e.closePath()}},yl=Xt(3),eA={draw(e,t){const r=-Xt(t/(yl*3));e.moveTo(0,r*2),e.lineTo(-yl*r,-r),e.lineTo(yl*r,-r),e.closePath()}},kt=-.5,Pt=Xt(3)/2,fu=1/Xt(12),tA=(fu/2+1)*3,rA={draw(e,t){const r=Xt(t/tA),n=r/2,i=r*fu,o=n,a=r*fu+r,s=-o,l=a;e.moveTo(n,i),e.lineTo(o,a),e.lineTo(s,l),e.lineTo(kt*n-Pt*i,Pt*n+kt*i),e.lineTo(kt*o-Pt*a,Pt*o+kt*a),e.lineTo(kt*s-Pt*l,Pt*s+kt*l),e.lineTo(kt*n+Pt*i,kt*i-Pt*n),e.lineTo(kt*o+Pt*a,kt*a-Pt*o),e.lineTo(kt*s+Pt*l,kt*l-Pt*s),e.closePath()}};function nA(e,t){let r=null,n=Ed(i);e=typeof e=="function"?e:me(e||Cd),t=typeof t=="function"?t:me(t===void 0?64:+t);function i(){let o;if(r||(r=o=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),o)return r=null,o+""||null}return i.type=function(o){return arguments.length?(e=typeof o=="function"?o:me(o),i):e},i.size=function(o){return arguments.length?(t=typeof o=="function"?o:me(+o),i):t},i.context=function(o){return arguments.length?(r=o??null,i):r},i}function Sa(){}function Ea(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function g0(e){this._context=e}g0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ea(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ea(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function iA(e){return new g0(e)}function y0(e){this._context=e}y0.prototype={areaStart:Sa,areaEnd:Sa,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Ea(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function oA(e){return new y0(e)}function v0(e){this._context=e}v0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Ea(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function aA(e){return new v0(e)}function b0(e){this._context=e}b0.prototype={areaStart:Sa,areaEnd:Sa,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function sA(e){return new b0(e)}function ip(e){return e<0?-1:1}function op(e,t,r){var n=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(n||i<0&&-0),a=(r-e._y1)/(i||n<0&&-0),s=(o*i+a*n)/(n+i);return(ip(o)+ip(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function ap(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function vl(e,t,r){var n=e._x0,i=e._y0,o=e._x1,a=e._y1,s=(o-n)/3;e._context.bezierCurveTo(n+s,i+s*t,o-s,a-s*r,o,a)}function ja(e){this._context=e}ja.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:vl(this,this._t0,ap(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,vl(this,ap(this,r=op(this,e,t)),r);break;default:vl(this,this._t0,r=op(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function w0(e){this._context=new x0(e)}(w0.prototype=Object.create(ja.prototype)).point=function(e,t){ja.prototype.point.call(this,t,e)};function x0(e){this._context=e}x0.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,o){this._context.bezierCurveTo(t,e,n,r,o,i)}};function lA(e){return new ja(e)}function cA(e){return new w0(e)}function _0(e){this._context=e}_0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=sp(e),i=sp(t),o=0,a=1;a<r;++o,++a)this._context.bezierCurveTo(n[0][o],i[0][o],n[1][o],i[1][o],e[a],t[a]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function sp(e){var t,r=e.length-1,n,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,o[t]=4,a[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/o[t-1],o[t]-=n,a[t]-=n*a[t-1];for(i[r-1]=a[r-1]/o[r-1],t=r-2;t>=0;--t)i[t]=(a[t]-i[t+1])/o[t];for(o[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function uA(e){return new _0(e)}function hs(e,t){this._context=e,this._t=t}hs.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function dA(e){return new hs(e,.5)}function fA(e){return new hs(e,0)}function hA(e){return new hs(e,1)}function Hn(e,t){if((a=e.length)>1)for(var r=1,n,i,o=e[t[0]],a,s=o.length;r<a;++r)for(i=o,o=e[t[r]],n=0;n<s;++n)o[n][1]+=o[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function hu(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function pA(e,t){return e[t]}function mA(e){const t=[];return t.key=e,t}function gA(){var e=me([]),t=hu,r=Hn,n=pA;function i(o){var a=Array.from(e.apply(this,arguments),mA),s,l=a.length,c=-1,u;for(const d of o)for(s=0,++c;s<l;++s)(a[s][c]=[0,+n(d,a[s].key,c,o)]).data=d;for(s=0,u=jd(t(a));s<l;++s)a[u[s]].index=s;return r(a,u),a}return i.keys=function(o){return arguments.length?(e=typeof o=="function"?o:me(Array.from(o)),i):e},i.value=function(o){return arguments.length?(n=typeof o=="function"?o:me(+o),i):n},i.order=function(o){return arguments.length?(t=o==null?hu:typeof o=="function"?o:me(Array.from(o)),i):t},i.offset=function(o){return arguments.length?(r=o??Hn,i):r},i}function yA(e,t){if((n=e.length)>0){for(var r,n,i=0,o=e[0].length,a;i<o;++i){for(a=r=0;r<n;++r)a+=e[r][i][1]||0;if(a)for(r=0;r<n;++r)e[r][i][1]/=a}Hn(e,t)}}function vA(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,o=n.length;r<o;++r){for(var a=0,s=0;a<i;++a)s+=e[a][r][1]||0;n[r][1]+=n[r][0]=-s/2}Hn(e,t)}}function bA(e,t){if(!(!((a=e.length)>0)||!((o=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,o,a;n<o;++n){for(var s=0,l=0,c=0;s<a;++s){for(var u=e[t[s]],d=u[n][1]||0,h=u[n-1][1]||0,p=(d-h)/2,m=0;m<s;++m){var g=e[t[m]],y=g[n][1]||0,b=g[n-1][1]||0;p+=y-b}l+=d,c+=p*d}i[n-1][1]+=i[n-1][0]=r,l&&(r-=c/l)}i[n-1][1]+=i[n-1][0]=r,Hn(e,t)}}var wA=["type","size","sizeType"];function pu(){return pu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pu.apply(null,arguments)}function lp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function cp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lp(Object(r),!0).forEach(function(n){xA(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lp(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xA(e,t,r){return(t=_A(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _A(e){var t=SA(e,"string");return typeof t=="symbol"?t:t+""}function SA(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function EA(e,t){if(e==null)return{};var r,n,i=jA(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function jA(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var S0={symbolCircle:Cd,symbolCross:KP,symbolDiamond:YP,symbolSquare:VP,symbolStar:QP,symbolTriangle:eA,symbolWye:rA},CA=Math.PI/180,kA=e=>{var t="symbol".concat(co(e));return S0[t]||Cd},PA=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*CA;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},AA=(e,t)=>{S0["symbol".concat(co(e))]=t},E0=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,i=EA(e,wA),o=cp(cp({},i),{},{type:t,size:r,sizeType:n}),a="circle";typeof t=="string"&&(a=t);var s=()=>{var h=kA(a),p=nA().type(h).size(PA(r,n,a));return p()},{className:l,cx:c,cy:u}=o,d=qe(o,!0);return c===+c&&u===+u&&r===+r?v.createElement("path",pu({},d,{className:ve("recharts-symbols",l),transform:"translate(".concat(c,", ").concat(u,")"),d:s()})):null};E0.registerSymbol=AA;var bl={},wl={},up;function OA(){return up||(up=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const i=new Map;for(let o=0;o<r.length;o++){const a=r[o],s=n(a);i.has(s)||i.set(s,a)}return Array.from(i.values())}e.uniqBy=t})(wl)),wl}var xl={},dp;function j0(){return dp||(dp=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(xl)),xl}var _l={},Sl={},El={},fp;function TA(){return fp||(fp=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(El)),El}var hp;function kd(){return hp||(hp=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=TA();function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(Sl)),Sl}var jl={},pp;function RA(){return pp||(pp=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(jl)),jl}var mp;function IA(){return mp||(mp=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kd(),r=RA();function n(i){return r.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=n})(_l)),_l}var Cl={},kl={},gp;function DA(){return gp||(gp=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xd();function r(n){return function(i){return t.get(i,n)}}e.property=r})(kl)),kl}var Pl={},Al={},Ol={},Tl={},yp;function C0(){return yp||(yp=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(Tl)),Tl}var Rl={},vp;function k0(){return vp||(vp=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(Rl)),Rl}var Il={},bp;function P0(){return bp||(bp=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(Il)),Il}var wp;function $A(){return wp||(wp=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Pd(),r=C0(),n=k0(),i=P0();function o(d,h,p){return typeof p!="function"?t.isMatch(d,h):a(d,h,function m(g,y,b,w,x,_){const S=p(g,y,b,w,x,_);return S!==void 0?!!S:a(g,y,m,_)},new Map)}function a(d,h,p,m){if(h===d)return!0;switch(typeof h){case"object":return s(d,h,p,m);case"function":return Object.keys(h).length>0?a(d,{...h},p,m):i.eq(d,h);default:return r.isObject(d)?typeof h=="string"?h==="":!0:i.eq(d,h)}}function s(d,h,p,m){if(h==null)return!0;if(Array.isArray(h))return c(d,h,p,m);if(h instanceof Map)return l(d,h,p,m);if(h instanceof Set)return u(d,h,p,m);const g=Object.keys(h);if(d==null)return g.length===0;if(g.length===0)return!0;if(m&&m.has(h))return m.get(h)===d;m&&m.set(h,d);try{for(let y=0;y<g.length;y++){const b=g[y];if(!n.isPrimitive(d)&&!(b in d)||h[b]===void 0&&d[b]!==void 0||h[b]===null&&d[b]!==null||!p(d[b],h[b],b,d,h,m))return!1}return!0}finally{m&&m.delete(h)}}function l(d,h,p,m){if(h.size===0)return!0;if(!(d instanceof Map))return!1;for(const[g,y]of h.entries()){const b=d.get(g);if(p(b,y,g,d,h,m)===!1)return!1}return!0}function c(d,h,p,m){if(h.length===0)return!0;if(!Array.isArray(d))return!1;const g=new Set;for(let y=0;y<h.length;y++){const b=h[y];let w=!1;for(let x=0;x<d.length;x++){if(g.has(x))continue;const _=d[x];let S=!1;if(p(_,b,y,d,h,m)&&(S=!0),S){g.add(x),w=!0;break}}if(!w)return!1}return!0}function u(d,h,p,m){return h.size===0?!0:d instanceof Set?c([...d],[...h],p,m):!1}e.isMatchWith=o,e.isSetMatch=u})(Ol)),Ol}var xp;function Pd(){return xp||(xp=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$A();function r(n,i){return t.isMatchWith(n,i,()=>{})}e.isMatch=r})(Al)),Al}var Dl={},$l={},Ml={},_p;function MA(){return _p||(_p=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(Ml)),Ml}var Fl={},Sp;function A0(){return Sp||(Sp=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(Fl)),Fl}var Nl={},Ep;function O0(){return Ep||(Ep=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",o="[object Arguments]",a="[object Symbol]",s="[object Date]",l="[object Map]",c="[object Set]",u="[object Array]",d="[object Function]",h="[object ArrayBuffer]",p="[object Object]",m="[object Error]",g="[object DataView]",y="[object Uint8Array]",b="[object Uint8ClampedArray]",w="[object Uint16Array]",x="[object Uint32Array]",_="[object BigUint64Array]",S="[object Int8Array]",E="[object Int16Array]",j="[object Int32Array]",P="[object BigInt64Array]",A="[object Float32Array]",I="[object Float64Array]";e.argumentsTag=o,e.arrayBufferTag=h,e.arrayTag=u,e.bigInt64ArrayTag=P,e.bigUint64ArrayTag=_,e.booleanTag=i,e.dataViewTag=g,e.dateTag=s,e.errorTag=m,e.float32ArrayTag=A,e.float64ArrayTag=I,e.functionTag=d,e.int16ArrayTag=E,e.int32ArrayTag=j,e.int8ArrayTag=S,e.mapTag=l,e.numberTag=n,e.objectTag=p,e.regexpTag=t,e.setTag=c,e.stringTag=r,e.symbolTag=a,e.uint16ArrayTag=w,e.uint32ArrayTag=x,e.uint8ArrayTag=y,e.uint8ClampedArrayTag=b})(Nl)),Nl}var Ll={},jp;function FA(){return jp||(jp=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(Ll)),Ll}var Cp;function T0(){return Cp||(Cp=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=MA(),r=A0(),n=O0(),i=k0(),o=FA();function a(u,d){return s(u,void 0,u,new Map,d)}function s(u,d,h,p=new Map,m=void 0){const g=m==null?void 0:m(u,d,h,p);if(g!==void 0)return g;if(i.isPrimitive(u))return u;if(p.has(u))return p.get(u);if(Array.isArray(u)){const y=new Array(u.length);p.set(u,y);for(let b=0;b<u.length;b++)y[b]=s(u[b],b,h,p,m);return Object.hasOwn(u,"index")&&(y.index=u.index),Object.hasOwn(u,"input")&&(y.input=u.input),y}if(u instanceof Date)return new Date(u.getTime());if(u instanceof RegExp){const y=new RegExp(u.source,u.flags);return y.lastIndex=u.lastIndex,y}if(u instanceof Map){const y=new Map;p.set(u,y);for(const[b,w]of u)y.set(b,s(w,b,h,p,m));return y}if(u instanceof Set){const y=new Set;p.set(u,y);for(const b of u)y.add(s(b,void 0,h,p,m));return y}if(typeof Buffer<"u"&&Buffer.isBuffer(u))return u.subarray();if(o.isTypedArray(u)){const y=new(Object.getPrototypeOf(u)).constructor(u.length);p.set(u,y);for(let b=0;b<u.length;b++)y[b]=s(u[b],b,h,p,m);return y}if(u instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&u instanceof SharedArrayBuffer)return u.slice(0);if(u instanceof DataView){const y=new DataView(u.buffer.slice(0),u.byteOffset,u.byteLength);return p.set(u,y),l(y,u,h,p,m),y}if(typeof File<"u"&&u instanceof File){const y=new File([u],u.name,{type:u.type});return p.set(u,y),l(y,u,h,p,m),y}if(u instanceof Blob){const y=new Blob([u],{type:u.type});return p.set(u,y),l(y,u,h,p,m),y}if(u instanceof Error){const y=new u.constructor;return p.set(u,y),y.message=u.message,y.name=u.name,y.stack=u.stack,y.cause=u.cause,l(y,u,h,p,m),y}if(typeof u=="object"&&c(u)){const y=Object.create(Object.getPrototypeOf(u));return p.set(u,y),l(y,u,h,p,m),y}return u}function l(u,d,h=u,p,m){const g=[...Object.keys(d),...t.getSymbols(d)];for(let y=0;y<g.length;y++){const b=g[y],w=Object.getOwnPropertyDescriptor(u,b);(w==null||w.writable)&&(u[b]=s(d[b],b,h,p,m))}}function c(u){switch(r.getTag(u)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=a,e.cloneDeepWithImpl=s,e.copyProperties=l})($l)),$l}var kp;function NA(){return kp||(kp=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=T0();function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(Dl)),Dl}var Pp;function LA(){return Pp||(Pp=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Pd(),r=NA();function n(i){return i=r.cloneDeep(i),o=>t.isMatch(o,i)}e.matches=n})(Pl)),Pl}var Bl={},Ul={},zl={},Ap;function BA(){return Ap||(Ap=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=T0(),r=O0();function n(i,o){return t.cloneDeepWith(i,(a,s,l,c)=>{const u=o==null?void 0:o(a,s,l,c);if(u!==void 0)return u;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case r.numberTag:case r.stringTag:case r.booleanTag:{const d=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(d,i),d}case r.argumentsTag:{const d={};return t.copyProperties(d,i),d.length=i.length,d[Symbol.iterator]=i[Symbol.iterator],d}default:return}})}e.cloneDeepWith=n})(zl)),zl}var Op;function UA(){return Op||(Op=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=BA();function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(Ul)),Ul}var Wl={},ql={},Tp;function R0(){return Tp||(Tp=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(ql)),ql}var Hl={},Rp;function zA(){return Rp||(Rp=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=A0();function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(Hl)),Hl}var Ip;function WA(){return Ip||(Ip=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=t0(),r=R0(),n=zA(),i=wd();function o(a,s){let l;if(Array.isArray(s)?l=s:typeof s=="string"&&t.isDeepKey(s)&&(a==null?void 0:a[s])==null?l=i.toPath(s):l=[s],l.length===0)return!1;let c=a;for(let u=0;u<l.length;u++){const d=l[u];if((c==null||!Object.hasOwn(c,d))&&!((Array.isArray(c)||n.isArguments(c))&&r.isIndex(d)&&d<c.length))return!1;c=c[d]}return!0}e.has=o})(Wl)),Wl}var Dp;function qA(){return Dp||(Dp=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Pd(),r=r0(),n=UA(),i=xd(),o=WA();function a(s,l){switch(typeof s){case"object":{Object.is(s==null?void 0:s.valueOf(),-0)&&(s="-0");break}case"number":{s=r.toKey(s);break}}return l=n.cloneDeep(l),function(c){const u=i.get(c,s);return u===void 0?o.has(c,s):l===void 0?u===void 0:t.isMatch(u,l)}}e.matchesProperty=a})(Bl)),Bl}var $p;function HA(){return $p||($p=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=j0(),r=DA(),n=LA(),i=qA();function o(a){if(a==null)return t.identity;switch(typeof a){case"function":return a;case"object":return Array.isArray(a)&&a.length===2?i.matchesProperty(a[0],a[1]):n.matches(a);case"string":case"symbol":case"number":return r.property(a)}}e.iteratee=o})(Cl)),Cl}var Mp;function KA(){return Mp||(Mp=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=OA(),r=j0(),n=IA(),i=HA();function o(a,s=r.identity){return n.isArrayLikeObject(a)?t.uniqBy(Array.from(a),i.iteratee(s)):[]}e.uniqBy=o})(bl)),bl}var Kl,Fp;function GA(){return Fp||(Fp=1,Kl=KA().uniqBy),Kl}var YA=GA();const Np=sr(YA);function VA(e,t,r){return t===!0?Np(e,r):typeof t=="function"?Np(e,t):e}var Gl={exports:{}},Yl={},Vl={exports:{}},Jl={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lp;function JA(){if(Lp)return Jl;Lp=1;var e=id();function t(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,i=e.useEffect,o=e.useLayoutEffect,a=e.useDebugValue;function s(d,h){var p=h(),m=n({inst:{value:p,getSnapshot:h}}),g=m[0].inst,y=m[1];return o(function(){g.value=p,g.getSnapshot=h,l(g)&&y({inst:g})},[d,p,h]),i(function(){return l(g)&&y({inst:g}),d(function(){l(g)&&y({inst:g})})},[d]),a(p),p}function l(d){var h=d.getSnapshot;d=d.value;try{var p=h();return!r(d,p)}catch{return!0}}function c(d,h){return h()}var u=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:s;return Jl.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:u,Jl}var Bp;function XA(){return Bp||(Bp=1,Vl.exports=JA()),Vl.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Up;function ZA(){if(Up)return Yl;Up=1;var e=id(),t=XA();function r(c,u){return c===u&&(c!==0||1/c===1/u)||c!==c&&u!==u}var n=typeof Object.is=="function"?Object.is:r,i=t.useSyncExternalStore,o=e.useRef,a=e.useEffect,s=e.useMemo,l=e.useDebugValue;return Yl.useSyncExternalStoreWithSelector=function(c,u,d,h,p){var m=o(null);if(m.current===null){var g={hasValue:!1,value:null};m.current=g}else g=m.current;m=s(function(){function b(E){if(!w){if(w=!0,x=E,E=h(E),p!==void 0&&g.hasValue){var j=g.value;if(p(j,E))return _=j}return _=E}if(j=_,n(x,E))return j;var P=h(E);return p!==void 0&&p(j,P)?(x=E,j):(x=E,_=P)}var w=!1,x,_,S=d===void 0?null:d;return[function(){return b(u())},S===null?void 0:function(){return b(S())}]},[u,d,h,p]);var y=i(c,m[0],m[1]);return a(function(){g.hasValue=!0,g.value=y},[y]),l(y),y},Yl}var zp;function QA(){return zp||(zp=1,Gl.exports=ZA()),Gl.exports}var eO=QA(),Ad=v.createContext(null),tO=e=>e,Me=()=>{var e=v.useContext(Ad);return e?e.store.dispatch:tO},da=()=>{},rO=()=>da,nO=(e,t)=>e===t;function K(e){var t=v.useContext(Ad);return eO.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:rO,t?t.store.getState:da,t?t.store.getState:da,t?e:da,nO)}function iO(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function oO(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function aO(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var Wp=e=>Array.isArray(e)?e:[e];function sO(e){const t=Array.isArray(e[0])?e[0]:e;return aO(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function lO(e,t){const r=[],{length:n}=e;for(let i=0;i<n;i++)r.push(e[i].apply(null,t));return r}var cO=class{constructor(e){this.value=e}deref(){return this.value}},uO=typeof WeakRef<"u"?WeakRef:cO,dO=0,qp=1;function Bo(){return{s:dO,v:void 0,o:null,p:null}}function I0(e,t={}){let r=Bo();const{resultEqualityCheck:n}=t;let i,o=0;function a(){var d;let s=r;const{length:l}=arguments;for(let h=0,p=l;h<p;h++){const m=arguments[h];if(typeof m=="function"||typeof m=="object"&&m!==null){let g=s.o;g===null&&(s.o=g=new WeakMap);const y=g.get(m);y===void 0?(s=Bo(),g.set(m,s)):s=y}else{let g=s.p;g===null&&(s.p=g=new Map);const y=g.get(m);y===void 0?(s=Bo(),g.set(m,s)):s=y}}const c=s;let u;if(s.s===qp)u=s.v;else if(u=e.apply(null,arguments),o++,n){const h=((d=i==null?void 0:i.deref)==null?void 0:d.call(i))??i;h!=null&&n(h,u)&&(u=h,o!==0&&o--),i=typeof u=="object"&&u!==null||typeof u=="function"?new uO(u):u}return c.s=qp,c.v=u,u}return a.clearCache=()=>{r=Bo(),a.resetResultsCount()},a.resultsCount=()=>o,a.resetResultsCount=()=>{o=0},a}function fO(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...i)=>{let o=0,a=0,s,l={},c=i.pop();typeof c=="object"&&(l=c,c=i.pop()),iO(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const u={...r,...l},{memoize:d,memoizeOptions:h=[],argsMemoize:p=I0,argsMemoizeOptions:m=[]}=u,g=Wp(h),y=Wp(m),b=sO(i),w=d(function(){return o++,c.apply(null,arguments)},...g),x=p(function(){a++;const S=lO(b,arguments);return s=w.apply(null,S),s},...y);return Object.assign(x,{resultFunc:c,memoizedResultFunc:w,dependencies:b,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>s,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:d,argsMemoize:p})};return Object.assign(n,{withTypes:()=>n}),n}var k=fO(I0),hO=Object.assign((e,t=k)=>{oO(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(o=>e[o]);return t(n,(...o)=>o.reduce((a,s,l)=>(a[r[l]]=s,a),{}))},{withTypes:()=>hO}),Xl={},Zl={},Ql={},Hp;function pO(){return Hp||(Hp=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,o)=>{if(n!==i){const a=t(n),s=t(i);if(a===s&&a===0){if(n<i)return o==="desc"?1:-1;if(n>i)return o==="desc"?-1:1}return o==="desc"?s-a:a-s}return 0};e.compareValues=r})(Ql)),Ql}var ec={},tc={},Kp;function D0(){return Kp||(Kp=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(tc)),tc}var Gp;function mO(){return Gp||(Gp=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=D0(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(o,a){return Array.isArray(o)?!1:typeof o=="number"||typeof o=="boolean"||o==null||t.isSymbol(o)?!0:typeof o=="string"&&(n.test(o)||!r.test(o))||a!=null&&Object.hasOwn(a,o)}e.isKey=i})(ec)),ec}var Yp;function gO(){return Yp||(Yp=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pO(),r=mO(),n=wd();function i(o,a,s,l){if(o==null)return[];s=l?void 0:s,Array.isArray(o)||(o=Object.values(o)),Array.isArray(a)||(a=a==null?[null]:[a]),a.length===0&&(a=[null]),Array.isArray(s)||(s=s==null?[]:[s]),s=s.map(p=>String(p));const c=(p,m)=>{let g=p;for(let y=0;y<m.length&&g!=null;++y)g=g[m[y]];return g},u=(p,m)=>m==null||p==null?m:typeof p=="object"&&"key"in p?Object.hasOwn(m,p.key)?m[p.key]:c(m,p.path):typeof p=="function"?p(m):Array.isArray(p)?c(m,p):typeof m=="object"?m[p]:m,d=a.map(p=>(Array.isArray(p)&&p.length===1&&(p=p[0]),p==null||typeof p=="function"||Array.isArray(p)||r.isKey(p)?p:{key:p,path:n.toPath(p)}));return o.map(p=>({original:p,criteria:d.map(m=>u(m,p))})).slice().sort((p,m)=>{for(let g=0;g<d.length;g++){const y=t.compareValues(p.criteria[g],m.criteria[g],s[g]);if(y!==0)return y}return 0}).map(p=>p.original)}e.orderBy=i})(Zl)),Zl}var rc={},Vp;function yO(){return Vp||(Vp=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const i=[],o=Math.floor(n),a=(s,l)=>{for(let c=0;c<s.length;c++){const u=s[c];Array.isArray(u)&&l<o?a(u,l+1):i.push(u)}};return a(r,0),i}e.flatten=t})(rc)),rc}var nc={},Jp;function $0(){return Jp||(Jp=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=R0(),r=kd(),n=C0(),i=P0();function o(a,s,l){return n.isObject(l)&&(typeof s=="number"&&r.isArrayLike(l)&&t.isIndex(s)&&s<l.length||typeof s=="string"&&s in l)?i.eq(l[s],a):!1}e.isIterateeCall=o})(nc)),nc}var Xp;function vO(){return Xp||(Xp=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gO(),r=yO(),n=$0();function i(o,...a){const s=a.length;return s>1&&n.isIterateeCall(o,a[0],a[1])?a=[]:s>2&&n.isIterateeCall(a[0],a[1],a[2])&&(a=[a[0]]),t.orderBy(o,r.flatten(a),["asc"])}e.sortBy=i})(Xl)),Xl}var ic,Zp;function bO(){return Zp||(Zp=1,ic=vO().sortBy),ic}var wO=bO();const ps=sr(wO);var M0=e=>e.legend.settings,xO=e=>e.legend.size,_O=e=>e.legend.payload;k([_O,M0],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?ps(n,r):n});var Uo=1;function SO(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=v.useState({height:0,left:0,top:0,width:0}),n=v.useCallback(i=>{if(i!=null){var o=i.getBoundingClientRect(),a={height:o.height,left:o.left,top:o.top,width:o.width};(Math.abs(a.height-t.height)>Uo||Math.abs(a.left-t.left)>Uo||Math.abs(a.top-t.top)>Uo||Math.abs(a.width-t.width)>Uo)&&r({height:a.height,left:a.left,top:a.top,width:a.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function Ue(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var EO=typeof Symbol=="function"&&Symbol.observable||"@@observable",Qp=EO,oc=()=>Math.random().toString(36).substring(7).split("").join("."),jO={INIT:`@@redux/INIT${oc()}`,REPLACE:`@@redux/REPLACE${oc()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${oc()}`},Ca=jO;function Od(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function F0(e,t,r){if(typeof e!="function")throw new Error(Ue(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Ue(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Ue(1));return r(F0)(e,t)}let n=e,i=t,o=new Map,a=o,s=0,l=!1;function c(){a===o&&(a=new Map,o.forEach((y,b)=>{a.set(b,y)}))}function u(){if(l)throw new Error(Ue(3));return i}function d(y){if(typeof y!="function")throw new Error(Ue(4));if(l)throw new Error(Ue(5));let b=!0;c();const w=s++;return a.set(w,y),function(){if(b){if(l)throw new Error(Ue(6));b=!1,c(),a.delete(w),o=null}}}function h(y){if(!Od(y))throw new Error(Ue(7));if(typeof y.type>"u")throw new Error(Ue(8));if(typeof y.type!="string")throw new Error(Ue(17));if(l)throw new Error(Ue(9));try{l=!0,i=n(i,y)}finally{l=!1}return(o=a).forEach(w=>{w()}),y}function p(y){if(typeof y!="function")throw new Error(Ue(10));n=y,h({type:Ca.REPLACE})}function m(){const y=d;return{subscribe(b){if(typeof b!="object"||b===null)throw new Error(Ue(11));function w(){const _=b;_.next&&_.next(u())}return w(),{unsubscribe:y(w)}},[Qp](){return this}}}return h({type:Ca.INIT}),{dispatch:h,subscribe:d,getState:u,replaceReducer:p,[Qp]:m}}function CO(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Ca.INIT})>"u")throw new Error(Ue(12));if(typeof r(void 0,{type:Ca.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Ue(13))})}function N0(e){const t=Object.keys(e),r={};for(let o=0;o<t.length;o++){const a=t[o];typeof e[a]=="function"&&(r[a]=e[a])}const n=Object.keys(r);let i;try{CO(r)}catch(o){i=o}return function(a={},s){if(i)throw i;let l=!1;const c={};for(let u=0;u<n.length;u++){const d=n[u],h=r[d],p=a[d],m=h(p,s);if(typeof m>"u")throw s&&s.type,new Error(Ue(14));c[d]=m,l=l||m!==p}return l=l||n.length!==Object.keys(a).length,l?c:a}}function ka(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function kO(...e){return t=>(r,n)=>{const i=t(r,n);let o=()=>{throw new Error(Ue(15))};const a={getState:i.getState,dispatch:(l,...c)=>o(l,...c)},s=e.map(l=>l(a));return o=ka(...s)(i.dispatch),{...i,dispatch:o}}}function L0(e){return Od(e)&&"type"in e&&typeof e.type=="string"}var B0=Symbol.for("immer-nothing"),em=Symbol.for("immer-draftable"),_t=Symbol.for("immer-state");function Gt(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Kn=Object.getPrototypeOf;function fn(e){return!!e&&!!e[_t]}function xr(e){var t;return e?U0(e)||Array.isArray(e)||!!e[em]||!!((t=e.constructor)!=null&&t[em])||uo(e)||gs(e):!1}var PO=Object.prototype.constructor.toString();function U0(e){if(!e||typeof e!="object")return!1;const t=Kn(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===PO}function Pa(e,t){ms(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function ms(e){const t=e[_t];return t?t.type_:Array.isArray(e)?1:uo(e)?2:gs(e)?3:0}function mu(e,t){return ms(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function z0(e,t,r){const n=ms(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function AO(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function uo(e){return e instanceof Map}function gs(e){return e instanceof Set}function Zr(e){return e.copy_||e.base_}function gu(e,t){if(uo(e))return new Map(e);if(gs(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=U0(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[_t];let i=Reflect.ownKeys(n);for(let o=0;o<i.length;o++){const a=i[o],s=n[a];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(n[a]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[a]})}return Object.create(Kn(e),n)}else{const n=Kn(e);if(n!==null&&r)return{...e};const i=Object.create(n);return Object.assign(i,e)}}function Td(e,t=!1){return ys(e)||fn(e)||!xr(e)||(ms(e)>1&&Object.defineProperties(e,{set:{value:zo},add:{value:zo},clear:{value:zo},delete:{value:zo}}),Object.freeze(e),t&&Object.values(e).forEach(r=>Td(r,!0))),e}function zo(){Gt(2)}function ys(e){return Object.isFrozen(e)}var OO={};function hn(e){const t=OO[e];return t||Gt(0,e),t}var Ji;function W0(){return Ji}function TO(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function tm(e,t){t&&(hn("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function yu(e){vu(e),e.drafts_.forEach(RO),e.drafts_=null}function vu(e){e===Ji&&(Ji=e.parent_)}function rm(e){return Ji=TO(Ji,e)}function RO(e){const t=e[_t];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function nm(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[_t].modified_&&(yu(t),Gt(4)),xr(e)&&(e=Aa(t,e),t.parent_||Oa(t,e)),t.patches_&&hn("Patches").generateReplacementPatches_(r[_t].base_,e,t.patches_,t.inversePatches_)):e=Aa(t,r,[]),yu(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==B0?e:void 0}function Aa(e,t,r){if(ys(t))return t;const n=t[_t];if(!n)return Pa(t,(i,o)=>im(e,n,t,i,o,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return Oa(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const i=n.copy_;let o=i,a=!1;n.type_===3&&(o=new Set(i),i.clear(),a=!0),Pa(o,(s,l)=>im(e,n,i,s,l,r,a)),Oa(e,i,!1),r&&e.patches_&&hn("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function im(e,t,r,n,i,o,a){if(fn(i)){const s=o&&t&&t.type_!==3&&!mu(t.assigned_,n)?o.concat(n):void 0,l=Aa(e,i,s);if(z0(r,n,l),fn(l))e.canAutoFreeze_=!1;else return}else a&&r.add(i);if(xr(i)&&!ys(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Aa(e,i),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(uo(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&Oa(e,i)}}function Oa(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Td(t,r)}function IO(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:W0(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,o=Rd;r&&(i=[n],o=Xi);const{revoke:a,proxy:s}=Proxy.revocable(i,o);return n.draft_=s,n.revoke_=a,s}var Rd={get(e,t){if(t===_t)return e;const r=Zr(e);if(!mu(r,t))return DO(e,r,t);const n=r[t];return e.finalized_||!xr(n)?n:n===ac(e.base_,t)?(sc(e),e.copy_[t]=wu(n,e)):n},has(e,t){return t in Zr(e)},ownKeys(e){return Reflect.ownKeys(Zr(e))},set(e,t,r){const n=q0(Zr(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=ac(Zr(e),t),o=i==null?void 0:i[_t];if(o&&o.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(AO(r,i)&&(r!==void 0||mu(e.base_,t)))return!0;sc(e),bu(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return ac(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,sc(e),bu(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Zr(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){Gt(11)},getPrototypeOf(e){return Kn(e.base_)},setPrototypeOf(){Gt(12)}},Xi={};Pa(Rd,(e,t)=>{Xi[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Xi.deleteProperty=function(e,t){return Xi.set.call(this,e,t,void 0)};Xi.set=function(e,t,r){return Rd.set.call(this,e[0],t,r,e[0])};function ac(e,t){const r=e[_t];return(r?Zr(r):e)[t]}function DO(e,t,r){var i;const n=q0(t,r);return n?"value"in n?n.value:(i=n.get)==null?void 0:i.call(e.draft_):void 0}function q0(e,t){if(!(t in e))return;let r=Kn(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Kn(r)}}function bu(e){e.modified_||(e.modified_=!0,e.parent_&&bu(e.parent_))}function sc(e){e.copy_||(e.copy_=gu(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var $O=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const o=r;r=t;const a=this;return function(l=o,...c){return a.produce(l,u=>r.call(this,u,...c))}}typeof r!="function"&&Gt(6),n!==void 0&&typeof n!="function"&&Gt(7);let i;if(xr(t)){const o=rm(this),a=wu(t,void 0);let s=!0;try{i=r(a),s=!1}finally{s?yu(o):vu(o)}return tm(o,n),nm(i,o)}else if(!t||typeof t!="object"){if(i=r(t),i===void 0&&(i=t),i===B0&&(i=void 0),this.autoFreeze_&&Td(i,!0),n){const o=[],a=[];hn("Patches").generateReplacementPatches_(t,i,o,a),n(o,a)}return i}else Gt(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(a,...s)=>this.produceWithPatches(a,l=>t(l,...s));let n,i;return[this.produce(t,r,(a,s)=>{n=a,i=s}),n,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){xr(e)||Gt(8),fn(e)&&(e=vr(e));const t=rm(this),r=wu(e,void 0);return r[_t].isManual_=!0,vu(t),r}finishDraft(e,t){const r=e&&e[_t];(!r||!r.isManual_)&&Gt(9);const{scope_:n}=r;return tm(n,t),nm(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const i=t[r];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}r>-1&&(t=t.slice(r+1));const n=hn("Patches").applyPatches_;return fn(e)?n(e,t):this.produce(e,i=>n(i,t))}};function wu(e,t){const r=uo(e)?hn("MapSet").proxyMap_(e,t):gs(e)?hn("MapSet").proxySet_(e,t):IO(e,t);return(t?t.scope_:W0()).drafts_.push(r),r}function vr(e){return fn(e)||Gt(10,e),H0(e)}function H0(e){if(!xr(e)||ys(e))return e;const t=e[_t];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=gu(e,t.scope_.immer_.useStrictShallowCopy_)}else r=gu(e,!0);return Pa(r,(n,i)=>{z0(r,n,H0(i))}),t&&(t.finalized_=!1),r}var MO=new $O,K0=MO.produce;function G0(e){return({dispatch:r,getState:n})=>i=>o=>typeof o=="function"?o(r,n,e):i(o)}var FO=G0(),NO=G0,LO=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?ka:ka.apply(null,arguments)};function $t(e,t){function r(...n){if(t){let i=t(...n);if(!i)throw new Error(wt(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>L0(n)&&n.type===e,r}var Y0=class Li extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Li.prototype)}static get[Symbol.species](){return Li}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Li(...t[0].concat(this)):new Li(...t.concat(this))}};function om(e){return xr(e)?K0(e,()=>{}):e}function Wo(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function BO(e){return typeof e=="boolean"}var UO=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:o=!0}=t??{};let a=new Y0;return r&&(BO(r)?a.push(FO):a.push(NO(r.extraArgument))),a},zO="RTK_autoBatch",am=e=>t=>{setTimeout(t,e)},WO=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let i=!0,o=!1,a=!1;const s=new Set,l=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:am(10):e.type==="callback"?e.queueNotification:am(e.timeout),c=()=>{a=!1,o&&(o=!1,s.forEach(u=>u()))};return Object.assign({},n,{subscribe(u){const d=()=>i&&u(),h=n.subscribe(d);return s.add(u),()=>{h(),s.delete(u)}},dispatch(u){var d;try{return i=!((d=u==null?void 0:u.meta)!=null&&d[zO]),o=!i,o&&(a||(a=!0,l(c))),n.dispatch(u)}finally{i=!0}}})},qO=e=>function(r){const{autoBatch:n=!0}=r??{};let i=new Y0(e);return n&&i.push(WO(typeof n=="object"?n:void 0)),i};function HO(e){const t=UO(),{reducer:r=void 0,middleware:n,devTools:i=!0,preloadedState:o=void 0,enhancers:a=void 0}=e||{};let s;if(typeof r=="function")s=r;else if(Od(r))s=N0(r);else throw new Error(wt(1));let l;typeof n=="function"?l=n(t):l=t();let c=ka;i&&(c=LO({trace:!1,...typeof i=="object"&&i}));const u=kO(...l),d=qO(u);let h=typeof a=="function"?a(d):d();const p=c(...h);return F0(s,o,p)}function V0(e){const t={},r=[];let n;const i={addCase(o,a){const s=typeof o=="string"?o:o.type;if(!s)throw new Error(wt(28));if(s in t)throw new Error(wt(29));return t[s]=a,i},addAsyncThunk(o,a){return a.pending&&(t[o.pending.type]=a.pending),a.rejected&&(t[o.rejected.type]=a.rejected),a.fulfilled&&(t[o.fulfilled.type]=a.fulfilled),a.settled&&r.push({matcher:o.settled,reducer:a.settled}),i},addMatcher(o,a){return r.push({matcher:o,reducer:a}),i},addDefaultCase(o){return n=o,i}};return e(i),[t,r,n]}function KO(e){return typeof e=="function"}function GO(e,t){let[r,n,i]=V0(t),o;if(KO(e))o=()=>om(e());else{const s=om(e);o=()=>s}function a(s=o(),l){let c=[r[l.type],...n.filter(({matcher:u})=>u(l)).map(({reducer:u})=>u)];return c.filter(u=>!!u).length===0&&(c=[i]),c.reduce((u,d)=>{if(d)if(fn(u)){const p=d(u,l);return p===void 0?u:p}else{if(xr(u))return K0(u,h=>d(h,l));{const h=d(u,l);if(h===void 0){if(u===null)return u;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return u},s)}return a.getInitialState=o,a}var YO="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",VO=(e=21)=>{let t="",r=e;for(;r--;)t+=YO[Math.random()*64|0];return t},JO=Symbol.for("rtk-slice-createasyncthunk");function XO(e,t){return`${e}/${t}`}function ZO({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[JO];return function(i){const{name:o,reducerPath:a=o}=i;if(!o)throw new Error(wt(11));const s=(typeof i.reducers=="function"?i.reducers(eT()):i.reducers)||{},l=Object.keys(s),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(_,S){const E=typeof _=="string"?_:_.type;if(!E)throw new Error(wt(12));if(E in c.sliceCaseReducersByType)throw new Error(wt(13));return c.sliceCaseReducersByType[E]=S,u},addMatcher(_,S){return c.sliceMatchers.push({matcher:_,reducer:S}),u},exposeAction(_,S){return c.actionCreators[_]=S,u},exposeCaseReducer(_,S){return c.sliceCaseReducersByName[_]=S,u}};l.forEach(_=>{const S=s[_],E={reducerName:_,type:XO(o,_),createNotation:typeof i.reducers=="function"};rT(S)?iT(E,S,u,t):tT(E,S,u)});function d(){const[_={},S=[],E=void 0]=typeof i.extraReducers=="function"?V0(i.extraReducers):[i.extraReducers],j={..._,...c.sliceCaseReducersByType};return GO(i.initialState,P=>{for(let A in j)P.addCase(A,j[A]);for(let A of c.sliceMatchers)P.addMatcher(A.matcher,A.reducer);for(let A of S)P.addMatcher(A.matcher,A.reducer);E&&P.addDefaultCase(E)})}const h=_=>_,p=new Map,m=new WeakMap;let g;function y(_,S){return g||(g=d()),g(_,S)}function b(){return g||(g=d()),g.getInitialState()}function w(_,S=!1){function E(P){let A=P[_];return typeof A>"u"&&S&&(A=Wo(m,E,b)),A}function j(P=h){const A=Wo(p,S,()=>new WeakMap);return Wo(A,P,()=>{const I={};for(const[O,D]of Object.entries(i.selectors??{}))I[O]=QO(D,P,()=>Wo(m,P,b),S);return I})}return{reducerPath:_,getSelectors:j,get selectors(){return j(E)},selectSlice:E}}const x={name:o,reducer:y,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:b,...w(a),injectInto(_,{reducerPath:S,...E}={}){const j=S??a;return _.inject({reducerPath:j,reducer:y},E),{...x,...w(j,!0)}}};return x}}function QO(e,t,r,n){function i(o,...a){let s=t(o);return typeof s>"u"&&n&&(s=r()),e(s,...a)}return i.unwrapped=e,i}var jt=ZO();function eT(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function tT({type:e,reducerName:t,createNotation:r},n,i){let o,a;if("reducer"in n){if(r&&!nT(n))throw new Error(wt(17));o=n.reducer,a=n.prepare}else o=n;i.addCase(e,o).exposeCaseReducer(t,o).exposeAction(t,a?$t(e,a):$t(e))}function rT(e){return e._reducerDefinitionType==="asyncThunk"}function nT(e){return e._reducerDefinitionType==="reducerWithPrepare"}function iT({type:e,reducerName:t},r,n,i){if(!i)throw new Error(wt(18));const{payloadCreator:o,fulfilled:a,pending:s,rejected:l,settled:c,options:u}=r,d=i(e,o,u);n.exposeAction(t,d),a&&n.addCase(d.fulfilled,a),s&&n.addCase(d.pending,s),l&&n.addCase(d.rejected,l),c&&n.addMatcher(d.settled,c),n.exposeCaseReducer(t,{fulfilled:a||qo,pending:s||qo,rejected:l||qo,settled:c||qo})}function qo(){}var oT="task",J0="listener",X0="completed",Id="cancelled",aT=`task-${Id}`,sT=`task-${X0}`,xu=`${J0}-${Id}`,lT=`${J0}-${X0}`,vs=class{constructor(e){Ys(this,"name","TaskAbortError");Ys(this,"message");this.code=e,this.message=`${oT} ${Id} (reason: ${e})`}},Dd=(e,t)=>{if(typeof e!="function")throw new TypeError(wt(32))},Ta=()=>{},Z0=(e,t=Ta)=>(e.catch(t),e),Q0=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),sn=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},ln=e=>{if(e.aborted){const{reason:t}=e;throw new vs(t)}};function eb(e,t){let r=Ta;return new Promise((n,i)=>{const o=()=>i(new vs(e.reason));if(e.aborted){o();return}r=Q0(e,o),t.finally(()=>r()).then(n,i)}).finally(()=>{r=Ta})}var cT=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof vs?"cancelled":"rejected",error:r}}finally{t==null||t()}},Ra=e=>t=>Z0(eb(e,t).then(r=>(ln(e),r))),tb=e=>{const t=Ra(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:Un}=Object,sm={},bs="listenerMiddleware",uT=(e,t)=>{const r=n=>Q0(e,()=>sn(n,e.reason));return(n,i)=>{Dd(n);const o=new AbortController;r(o);const a=cT(async()=>{ln(e),ln(o.signal);const s=await n({pause:Ra(o.signal),delay:tb(o.signal),signal:o.signal});return ln(o.signal),s},()=>sn(o,sT));return i!=null&&i.autoJoin&&t.push(a.catch(Ta)),{result:Ra(e)(a),cancel(){sn(o,aT)}}}},dT=(e,t)=>{const r=async(n,i)=>{ln(t);let o=()=>{};const s=[new Promise((l,c)=>{let u=e({predicate:n,effect:(d,h)=>{h.unsubscribe(),l([d,h.getState(),h.getOriginalState()])}});o=()=>{u(),c()}})];i!=null&&s.push(new Promise(l=>setTimeout(l,i,null)));try{const l=await eb(t,Promise.race(s));return ln(t),l}finally{o()}};return(n,i)=>Z0(r(n,i))},rb=e=>{let{type:t,actionCreator:r,matcher:n,predicate:i,effect:o}=e;if(t)i=$t(t).match;else if(r)t=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(wt(21));return Dd(o),{predicate:i,type:t,effect:o}},nb=Un(e=>{const{type:t,predicate:r,effect:n}=rb(e);return{id:VO(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(wt(22))}}},{withTypes:()=>nb}),lm=(e,t)=>{const{type:r,effect:n,predicate:i}=rb(t);return Array.from(e.values()).find(o=>(typeof r=="string"?o.type===r:o.predicate===i)&&o.effect===n)},_u=e=>{e.pending.forEach(t=>{sn(t,xu)})},fT=e=>()=>{e.forEach(_u),e.clear()},cm=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},ib=Un($t(`${bs}/add`),{withTypes:()=>ib}),hT=$t(`${bs}/removeAll`),ob=Un($t(`${bs}/remove`),{withTypes:()=>ob}),pT=(...e)=>{console.error(`${bs}/error`,...e)},fo=(e={})=>{const t=new Map,{extra:r,onError:n=pT}=e;Dd(n);const i=u=>(u.unsubscribe=()=>t.delete(u.id),t.set(u.id,u),d=>{u.unsubscribe(),d!=null&&d.cancelActive&&_u(u)}),o=u=>{const d=lm(t,u)??nb(u);return i(d)};Un(o,{withTypes:()=>o});const a=u=>{const d=lm(t,u);return d&&(d.unsubscribe(),u.cancelActive&&_u(d)),!!d};Un(a,{withTypes:()=>a});const s=async(u,d,h,p)=>{const m=new AbortController,g=dT(o,m.signal),y=[];try{u.pending.add(m),await Promise.resolve(u.effect(d,Un({},h,{getOriginalState:p,condition:(b,w)=>g(b,w).then(Boolean),take:g,delay:tb(m.signal),pause:Ra(m.signal),extra:r,signal:m.signal,fork:uT(m.signal,y),unsubscribe:u.unsubscribe,subscribe:()=>{t.set(u.id,u)},cancelActiveListeners:()=>{u.pending.forEach((b,w,x)=>{b!==m&&(sn(b,xu),x.delete(b))})},cancel:()=>{sn(m,xu),u.pending.delete(m)},throwIfCancelled:()=>{ln(m.signal)}})))}catch(b){b instanceof vs||cm(n,b,{raisedBy:"effect"})}finally{await Promise.all(y),sn(m,lT),u.pending.delete(m)}},l=fT(t);return{middleware:u=>d=>h=>{if(!L0(h))return d(h);if(ib.match(h))return o(h.payload);if(hT.match(h)){l();return}if(ob.match(h))return a(h.payload);let p=u.getState();const m=()=>{if(p===sm)throw new Error(wt(23));return p};let g;try{if(g=d(h),t.size>0){const y=u.getState(),b=Array.from(t.values());for(const w of b){let x=!1;try{x=w.predicate(h,y,p)}catch(_){x=!1,cm(n,_,{raisedBy:"predicate"})}x&&s(w,h,u,m)}}}finally{p=sm}return g},startListening:o,stopListening:a,clearListeners:l}};function wt(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var mT={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},ab=jt({name:"chartLayout",initialState:mT,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,i,o;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(o=t.payload.left)!==null&&o!==void 0?o:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:gT,setLayout:yT,setChartSize:vT,setScale:bT}=ab.actions,wT=ab.reducer;function um(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function dm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?um(Object(r),!0).forEach(function(n){xT(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):um(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xT(e,t,r){return(t=_T(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _T(e){var t=ST(e,"string");return typeof t=="symbol"?t:t+""}function ST(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ia=Math.PI/180,ET=e=>e*180/Math.PI,We=(e,t,r,n)=>({x:e+Math.cos(-Ia*n)*r,y:t+Math.sin(-Ia*n)*r}),jT=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},CT=(e,t)=>{var{x:r,y:n}=e,{x:i,y:o}=t;return Math.sqrt((r-i)**2+(n-o)**2)},kT=(e,t)=>{var{x:r,y:n}=e,{cx:i,cy:o}=t,a=CT({x:r,y:n},{x:i,y:o});if(a<=0)return{radius:a,angle:0};var s=(r-i)/a,l=Math.acos(s);return n>o&&(l=2*Math.PI-l),{radius:a,angle:ET(l),angleInRadian:l}},PT=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),i=Math.floor(r/360),o=Math.min(n,i);return{startAngle:t-o*360,endAngle:r-o*360}},AT=(e,t)=>{var{startAngle:r,endAngle:n}=t,i=Math.floor(r/360),o=Math.floor(n/360),a=Math.min(i,o);return e+a*360},OT=(e,t)=>{var{x:r,y:n}=e,{radius:i,angle:o}=kT({x:r,y:n},t),{innerRadius:a,outerRadius:s}=t;if(i<a||i>s||i===0)return null;var{startAngle:l,endAngle:c}=PT(t),u=o,d;if(l<=c){for(;u>c;)u-=360;for(;u<l;)u+=360;d=u>=l&&u<=c}else{for(;u>l;)u-=360;for(;u<c;)u+=360;d=u>=c&&u<=l}return d?dm(dm({},t),{},{radius:i,angle:AT(u,t)}):null};function sb(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function fm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Rt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fm(Object(r),!0).forEach(function(n){TT(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fm(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TT(e,t,r){return(t=RT(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RT(e){var t=IT(e,"string");return typeof t=="symbol"?t:t+""}function IT(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nt(e,t,r){return $e(e)||$e(t)?r:or(t)?qn(e,t,r):typeof t=="function"?t(e):r}var DT=(e,t,r,n,i)=>{var o,a=-1,s=(o=t==null?void 0:t.length)!==null&&o!==void 0?o:0;if(s<=1||e==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var l=0;l<s;l++){var c=l>0?r[l-1].coordinate:r[s-1].coordinate,u=r[l].coordinate,d=l>=s-1?r[0].coordinate:r[l+1].coordinate,h=void 0;if(st(u-c)!==st(d-u)){var p=[];if(st(d-u)===st(i[1]-i[0])){h=d;var m=u+i[1]-i[0];p[0]=Math.min(m,(m+c)/2),p[1]=Math.max(m,(m+c)/2)}else{h=c;var g=d+i[1]-i[0];p[0]=Math.min(u,(g+u)/2),p[1]=Math.max(u,(g+u)/2)}var y=[Math.min(u,(h+u)/2),Math.max(u,(h+u)/2)];if(e>y[0]&&e<=y[1]||e>=p[0]&&e<=p[1]){({index:a}=r[l]);break}}else{var b=Math.min(c,d),w=Math.max(c,d);if(e>(b+u)/2&&e<=(w+u)/2){({index:a}=r[l]);break}}}else if(t){for(var x=0;x<s;x++)if(x===0&&e<=(t[x].coordinate+t[x+1].coordinate)/2||x>0&&x<s-1&&e>(t[x].coordinate+t[x-1].coordinate)/2&&e<=(t[x].coordinate+t[x+1].coordinate)/2||x===s-1&&e>(t[x].coordinate+t[x-1].coordinate)/2){({index:a}=t[x]);break}}return a},$T=(e,t,r)=>{if(t&&r){var{width:n,height:i}=r,{align:o,verticalAlign:a,layout:s}=t;if((s==="vertical"||s==="horizontal"&&a==="middle")&&o!=="center"&&H(e[o]))return Rt(Rt({},e),{},{[o]:e[o]+(n||0)});if((s==="horizontal"||s==="vertical"&&o==="center")&&a!=="middle"&&H(e[a]))return Rt(Rt({},e),{},{[a]:e[a]+(i||0)})}return e},vn=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",lb=(e,t,r,n)=>{if(n)return e.map(s=>s.coordinate);var i,o,a=e.map(s=>(s.coordinate===t&&(i=!0),s.coordinate===r&&(o=!0),s.coordinate));return i||a.push(t),o||a.push(r),a},cb=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:i,range:o,scale:a,realScaleType:s,isCategorical:l,categoricalDomain:c,tickCount:u,ticks:d,niceTicks:h,axisType:p}=e;if(!a)return null;var m=s==="scaleBand"&&a.bandwidth?a.bandwidth()/2:2,g=i==="category"&&a.bandwidth?a.bandwidth()/m:0;if(g=p==="angleAxis"&&o&&o.length>=2?st(o[0]-o[1])*2*g:g,d||h){var y=(d||h||[]).map((b,w)=>{var x=n?n.indexOf(b):b;return{coordinate:a(x)+g,value:b,offset:g,index:w}});return y.filter(b=>!xt(b.coordinate))}return l&&c?c.map((b,w)=>({coordinate:a(b)+g,value:b,index:w,offset:g})):a.ticks&&u!=null?a.ticks(u).map((b,w)=>({coordinate:a(b)+g,value:b,offset:g,index:w})):a.domain().map((b,w)=>({coordinate:a(b)+g,value:n?n[b]:b,index:w,offset:g}))},hm=1e-4,MT=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),i=Math.min(n[0],n[1])-hm,o=Math.max(n[0],n[1])+hm,a=e(t[0]),s=e(t[r-1]);(a<i||a>o||s<i||s>o)&&e.domain([t[0],t[r-1]])}},FT=(e,t)=>{if(!t||t.length!==2||!H(t[0])||!H(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!H(e[0])||e[0]<r)&&(i[0]=r),(!H(e[1])||e[1]>n)&&(i[1]=n),i[0]>n&&(i[0]=n),i[1]<r&&(i[1]=r),i},NT=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var i=0,o=0,a=0;a<t;++a){var s=xt(e[a][r][1])?e[a][r][0]:e[a][r][1];s>=0?(e[a][r][0]=i,e[a][r][1]=i+s,i=e[a][r][1]):(e[a][r][0]=o,e[a][r][1]=o+s,o=e[a][r][1])}},LT=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var i=0,o=0;o<t;++o){var a=xt(e[o][r][1])?e[o][r][0]:e[o][r][1];a>=0?(e[o][r][0]=i,e[o][r][1]=i+a,i=e[o][r][1]):(e[o][r][0]=0,e[o][r][1]=0)}},BT={sign:NT,expand:yA,none:Hn,silhouette:vA,wiggle:bA,positive:LT},UT=(e,t,r)=>{var n=BT[r],i=gA().keys(t).value((o,a)=>+nt(o,a,0)).order(hu).offset(n);return i(e)};function zT(e){return e==null?void 0:String(e)}var pm=e=>{var{axis:t,ticks:r,offset:n,bandSize:i,entry:o,index:a}=e;if(t.type==="category")return r[a]?r[a].coordinate+n:null;var s=nt(o,t.dataKey,t.scale.domain()[a]);return $e(s)?null:t.scale(s)-i/2+n},WT=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return n<=0&&i>=0?0:i<0?i:n}return r[0]},qT=e=>{var t=e.flat(2).filter(H);return[Math.min(...t),Math.max(...t)]},HT=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],KT=(e,t,r)=>{if(e!=null)return HT(Object.keys(e).reduce((n,i)=>{var o=e[i],{stackedData:a}=o,s=a.reduce((l,c)=>{var u=sb(c,t,r),d=qT(u);return[Math.min(l[0],d[0]),Math.max(l[1],d[1])]},[1/0,-1/0]);return[Math.min(s[0],n[0]),Math.max(s[1],n[1])]},[1/0,-1/0]))},mm=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,gm=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,$d=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var i=ps(t,u=>u.coordinate),o=1/0,a=1,s=i.length;a<s;a++){var l=i[a],c=i[a-1];o=Math.min((l.coordinate||0)-(c.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0};function ym(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:i,name:o}=e;return Rt(Rt({},t),{},{dataKey:r,payload:n,value:i,name:o})}function ub(e,t){if(e)return String(e);if(typeof t=="string")return t}function GT(e,t,r,n,i){if(r==="horizontal"||r==="vertical"){var o=e>=i.left&&e<=i.left+i.width&&t>=i.top&&t<=i.top+i.height;return o?{x:e,y:t}:null}return n?OT({x:e,y:t},n):null}var YT=(e,t,r,n)=>{var i=t.find(c=>c&&c.index===r);if(i){if(e==="horizontal")return{x:i.coordinate,y:n.y};if(e==="vertical")return{x:n.x,y:i.coordinate};if(e==="centric"){var o=i.coordinate,{radius:a}=n;return Rt(Rt(Rt({},n),We(n.cx,n.cy,a,o)),{},{angle:o,radius:a})}var s=i.coordinate,{angle:l}=n;return Rt(Rt(Rt({},n),We(n.cx,n.cy,s,l)),{},{angle:l,radius:s})}return{x:0,y:0}},VT=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,jr=e=>e.layout.width,Cr=e=>e.layout.height,JT=e=>e.layout.scale,db=e=>e.layout.margin,ws=k(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),xs=k(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),XT="data-recharts-item-index",ZT="data-recharts-item-data-key",ho=60;function vm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ho(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vm(Object(r),!0).forEach(function(n){QT(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vm(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QT(e,t,r){return(t=e2(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function e2(e){var t=t2(e,"string");return typeof t=="symbol"?t:t+""}function t2(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var r2=e=>e.brush.height;function n2(e){var t=xs(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:ho;return r+i}return r},0)}function i2(e){var t=xs(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:ho;return r+i}return r},0)}function o2(e){var t=ws(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function a2(e){var t=ws(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var Fe=k([jr,Cr,db,r2,n2,i2,o2,a2,M0,xO],(e,t,r,n,i,o,a,s,l,c)=>{var u={left:(r.left||0)+i,right:(r.right||0)+o},d={top:(r.top||0)+a,bottom:(r.bottom||0)+s},h=Ho(Ho({},d),u),p=h.bottom;h.bottom+=n,h=$T(h,l,c);var m=e-h.left-h.right,g=t-h.top-h.bottom;return Ho(Ho({brushBottom:p},h),{},{width:Math.max(m,0),height:Math.max(g,0)})}),s2=k(Fe,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),Md=k(jr,Cr,(e,t)=>({x:0,y:0,width:e,height:t})),l2=v.createContext(null),Lt=()=>v.useContext(l2)!=null,_s=e=>e.brush,Ss=k([_s,Fe,db],(e,t,r)=>({height:e.height,x:H(e.x)?e.x:t.left,y:H(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:H(e.width)?e.width:t.width})),Fd=()=>{var e,t=Lt(),r=K(s2),n=K(Ss),i=(e=K(_s))===null||e===void 0?void 0:e.padding;return!t||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},c2={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},fb=()=>{var e;return(e=K(Fe))!==null&&e!==void 0?e:c2},hb=()=>K(jr),pb=()=>K(Cr),ue=e=>e.layout.layoutType,Nd=()=>K(ue),u2={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},mb=jt({name:"legend",initialState:u2,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var r=vr(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)}}}),{setLegendSize:Sz,setLegendSettings:Ez,addLegendPayload:d2,removeLegendPayload:f2}=mb.actions,h2=mb.reducer;function Su(){return Su=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Su.apply(null,arguments)}function bm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function lc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bm(Object(r),!0).forEach(function(n){p2(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bm(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function p2(e,t,r){return(t=m2(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m2(e){var t=g2(e,"string");return typeof t=="symbol"?t:t+""}function g2(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function y2(e){return Array.isArray(e)&&or(e[0])&&or(e[1])?e.join(" ~ "):e}var v2=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:i={},payload:o,formatter:a,itemSorter:s,wrapperClassName:l,labelClassName:c,label:u,labelFormatter:d,accessibilityLayer:h=!1}=e,p=()=>{if(o&&o.length){var S={padding:0,margin:0},E=(s?ps(o,s):o).map((j,P)=>{if(j.type==="none")return null;var A=j.formatter||a||y2,{value:I,name:O}=j,D=I,B=O;if(A){var T=A(I,O,j,P,o);if(Array.isArray(T))[D,B]=T;else if(T!=null)D=T;else return null}var N=lc({display:"block",paddingTop:4,paddingBottom:4,color:j.color||"#000"},n);return v.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(P),style:N},or(B)?v.createElement("span",{className:"recharts-tooltip-item-name"},B):null,or(B)?v.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,v.createElement("span",{className:"recharts-tooltip-item-value"},D),v.createElement("span",{className:"recharts-tooltip-item-unit"},j.unit||""))});return v.createElement("ul",{className:"recharts-tooltip-item-list",style:S},E)}return null},m=lc({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),g=lc({margin:0},i),y=!$e(u),b=y?u:"",w=ve("recharts-default-tooltip",l),x=ve("recharts-tooltip-label",c);y&&d&&o!==void 0&&o!==null&&(b=d(u,o));var _=h?{role:"status","aria-live":"assertive"}:{};return v.createElement("div",Su({className:w,style:m},_),v.createElement("p",{className:x,style:g},v.isValidElement(b)?b:"".concat(b)),p())},Si="recharts-tooltip-wrapper",b2={visibility:"hidden"};function w2(e){var{coordinate:t,translateX:r,translateY:n}=e;return ve(Si,{["".concat(Si,"-right")]:H(r)&&t&&H(t.x)&&r>=t.x,["".concat(Si,"-left")]:H(r)&&t&&H(t.x)&&r<t.x,["".concat(Si,"-bottom")]:H(n)&&t&&H(t.y)&&n>=t.y,["".concat(Si,"-top")]:H(n)&&t&&H(t.y)&&n<t.y})}function wm(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:i,position:o,reverseDirection:a,tooltipDimension:s,viewBox:l,viewBoxDimension:c}=e;if(o&&H(o[n]))return o[n];var u=r[n]-s-(i>0?i:0),d=r[n]+i;if(t[n])return a[n]?u:d;var h=l[n];if(h==null)return 0;if(a[n]){var p=u,m=h;return p<m?Math.max(d,h):Math.max(u,h)}if(c==null)return 0;var g=d+s,y=h+c;return g>y?Math.max(u,h):Math.max(d,h)}function x2(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function _2(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:i,reverseDirection:o,tooltipBox:a,useTranslate3d:s,viewBox:l}=e,c,u,d;return a.height>0&&a.width>0&&r?(u=wm({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:o,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),d=wm({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:o,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),c=x2({translateX:u,translateY:d,useTranslate3d:s})):c=b2,{cssProperties:c,cssClasses:w2({translateX:u,translateY:d,coordinate:r})}}function xm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ko(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xm(Object(r),!0).forEach(function(n){Eu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xm(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Eu(e,t,r){return(t=S2(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S2(e){var t=E2(e,"string");return typeof t=="symbol"?t:t+""}function E2(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class j2 extends v.PureComponent{constructor(){super(...arguments),Eu(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Eu(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,i,o;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(o=this.props.coordinate)===null||o===void 0?void 0:o.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:o,coordinate:a,hasPayload:s,isAnimationActive:l,offset:c,position:u,reverseDirection:d,useTranslate3d:h,viewBox:p,wrapperStyle:m,lastBoundingBox:g,innerRef:y,hasPortalFromProps:b}=this.props,{cssClasses:w,cssProperties:x}=_2({allowEscapeViewBox:r,coordinate:a,offsetTopLeft:c,position:u,reverseDirection:d,tooltipBox:{height:g.height,width:g.width},useTranslate3d:h,viewBox:p}),_=b?{}:Ko(Ko({transition:l&&t?"transform ".concat(n,"ms ").concat(i):void 0},x),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&s?"visible":"hidden",position:"absolute",top:0,left:0}),S=Ko(Ko({},_),{},{visibility:!this.state.dismissed&&t&&s?"visible":"hidden"},m);return v.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:w,style:S,ref:y},o)}}var C2=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),si={devToolsEnabled:!1,isSsr:C2()},gb=()=>K(e=>e.rootProps.accessibilityLayer);function St(e){return Number.isFinite(e)}function Da(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function ju(){return ju=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ju.apply(null,arguments)}function _m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Sm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_m(Object(r),!0).forEach(function(n){k2(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_m(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function k2(e,t,r){return(t=P2(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P2(e){var t=A2(e,"string");return typeof t=="symbol"?t:t+""}function A2(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Em={curveBasisClosed:oA,curveBasisOpen:aA,curveBasis:iA,curveBumpX:qP,curveBumpY:HP,curveLinearClosed:sA,curveLinear:fs,curveMonotoneX:lA,curveMonotoneY:cA,curveNatural:uA,curveStep:dA,curveStepAfter:hA,curveStepBefore:fA},Go=e=>St(e.x)&&St(e.y),Ei=e=>e.x,ji=e=>e.y,O2=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(co(e));return(r==="curveMonotone"||r==="curveBump")&&t?Em["".concat(r).concat(t==="vertical"?"Y":"X")]:Em[r]||fs},T2=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:i,connectNulls:o=!1}=e,a=O2(t,i),s=o?r.filter(Go):r,l;if(Array.isArray(n)){var c=o?n.filter(d=>Go(d)):n,u=s.map((d,h)=>Sm(Sm({},d),{},{base:c[h]}));return i==="vertical"?l=Lo().y(ji).x1(Ei).x0(d=>d.base.x):l=Lo().x(Ei).y1(ji).y0(d=>d.base.y),l.defined(Go).curve(a),l(u)}return i==="vertical"&&H(n)?l=Lo().y(ji).x1(Ei).x0(n):H(n)?l=Lo().x(Ei).y1(ji).y0(n):l=f0().x(Ei).y(ji),l.defined(Go).curve(a),l(s)},R2=e=>{var{className:t,points:r,path:n,pathRef:i}=e;if((!r||!r.length)&&!n)return null;var o=r&&r.length?T2(e):n;return v.createElement("path",ju({},ai(e),AP(e),{className:ve("recharts-curve",t),d:o===null?void 0:o,ref:i}))},I2=["x","y","top","left","width","height","className"];function Cu(){return Cu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cu.apply(null,arguments)}function jm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function D2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jm(Object(r),!0).forEach(function(n){$2(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jm(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $2(e,t,r){return(t=M2(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function M2(e){var t=F2(e,"string");return typeof t=="symbol"?t:t+""}function F2(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function N2(e,t){if(e==null)return{};var r,n,i=L2(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function L2(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var B2=(e,t,r,n,i,o)=>"M".concat(e,",").concat(i,"v").concat(n,"M").concat(o,",").concat(t,"h").concat(r),U2=e=>{var{x:t=0,y:r=0,top:n=0,left:i=0,width:o=0,height:a=0,className:s}=e,l=N2(e,I2),c=D2({x:t,y:r,top:n,left:i,width:o,height:a},l);return!H(t)||!H(r)||!H(o)||!H(a)||!H(n)||!H(i)?null:v.createElement("path",Cu({},qe(c,!0),{className:ve("recharts-cross",s),d:B2(t,r,o,a,n,i)}))};function z2(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function Cm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function W2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Cm(Object(r),!0).forEach(function(n){q2(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cm(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function q2(e,t,r){return(t=H2(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function H2(e){var t=K2(e,"string");return typeof t=="symbol"?t:t+""}function K2(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bt(e,t){var r=W2({},e),n=t,i=Object.keys(t),o=i.reduce((a,s)=>(a[s]===void 0&&n[s]!==void 0&&(a[s]=n[s]),a),r);return o}function G2(){}function km(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Pm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?km(Object(r),!0).forEach(function(n){Y2(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):km(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Y2(e,t,r){return(t=V2(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function V2(e){var t=J2(e,"string");return typeof t=="symbol"?t:t+""}function J2(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var X2=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),yb=(e,t,r)=>e.map(n=>"".concat(X2(n)," ").concat(t,"ms ").concat(r)).join(","),Z2=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(i=>n.includes(i))),Zi=(e,t)=>Object.keys(t).reduce((r,n)=>Pm(Pm({},r),{},{[n]:e(n,t[n])}),{});function Am(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ze(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Am(Object(r),!0).forEach(function(n){Q2(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Am(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Q2(e,t,r){return(t=eR(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eR(e){var t=tR(e,"string");return typeof t=="symbol"?t:t+""}function tR(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $a=(e,t,r)=>e+(t-e)*r,ku=e=>{var{from:t,to:r}=e;return t!==r},vb=(e,t,r)=>{var n=Zi((i,o)=>{if(ku(o)){var[a,s]=e(o.from,o.to,o.velocity);return ze(ze({},o),{},{from:a,velocity:s})}return o},t);return r<1?Zi((i,o)=>ku(o)?ze(ze({},o),{},{velocity:$a(o.velocity,n[i].velocity,r),from:$a(o.from,n[i].from,r)}):o,t):vb(e,n,r-1)};function rR(e,t,r,n,i,o){var a,s=n.reduce((h,p)=>ze(ze({},h),{},{[p]:{from:e[p],velocity:0,to:t[p]}}),{}),l=()=>Zi((h,p)=>p.from,s),c=()=>!Object.values(s).filter(ku).length,u=null,d=h=>{a||(a=h);var p=h-a,m=p/r.dt;s=vb(r,s,m),i(ze(ze(ze({},e),t),l())),a=h,c()||(u=o.setTimeout(d))};return()=>(u=o.setTimeout(d),()=>{u()})}function nR(e,t,r,n,i,o,a){var s=null,l=i.reduce((d,h)=>ze(ze({},d),{},{[h]:[e[h],t[h]]}),{}),c,u=d=>{c||(c=d);var h=(d-c)/n,p=Zi((g,y)=>$a(...y,r(h)),l);if(o(ze(ze(ze({},e),t),p)),h<1)s=a.setTimeout(u);else{var m=Zi((g,y)=>$a(...y,r(1)),l);o(ze(ze(ze({},e),t),m))}};return()=>(s=a.setTimeout(u),()=>{s()})}const iR=(e,t,r,n,i,o)=>{var a=Z2(e,t);return r.isStepper===!0?rR(e,t,r,a,i,o):nR(e,t,r,n,a,i,o)};var Ma=1e-4,bb=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],wb=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),Om=(e,t)=>r=>{var n=bb(e,t);return wb(n,r)},oR=(e,t)=>r=>{var n=bb(e,t),i=[...n.map((o,a)=>o*a).slice(1),0];return wb(i,r)},Tm=function(){for(var t,r,n,i,o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];if(a.length===1)switch(a[0]){case"linear":[t,n,r,i]=[0,0,1,1];break;case"ease":[t,n,r,i]=[.25,.1,.25,1];break;case"ease-in":[t,n,r,i]=[.42,0,1,1];break;case"ease-out":[t,n,r,i]=[.42,0,.58,1];break;case"ease-in-out":[t,n,r,i]=[0,0,.58,1];break;default:{var l=a[0].split("(");l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4&&([t,n,r,i]=l[1].split(")")[0].split(",").map(m=>parseFloat(m)))}}else a.length===4&&([t,n,r,i]=a);var c=Om(t,r),u=Om(n,i),d=oR(t,r),h=m=>m>1?1:m<0?0:m,p=m=>{for(var g=m>1?1:m,y=g,b=0;b<8;++b){var w=c(y)-g,x=d(y);if(Math.abs(w-g)<Ma||x<Ma)return u(y);y=h(y-w/x)}return u(y)};return p.isStepper=!1,p},aR=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=t,o=(a,s,l)=>{var c=-(a-s)*r,u=l*n,d=l+(c-u)*i/1e3,h=l*i/1e3+a;return Math.abs(h-s)<Ma&&Math.abs(d)<Ma?[s,0]:[h,d]};return o.isStepper=!0,o.dt=i,o},sR=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Tm(e);case"spring":return aR();default:if(e.split("(")[0]==="cubic-bezier")return Tm(e)}return typeof e=="function"?e:null};function lR(e){var t,r=()=>null,n=!1,i=null,o=a=>{if(!n){if(Array.isArray(a)){if(!a.length)return;var s=a,[l,...c]=s;if(typeof l=="number"){i=e.setTimeout(o.bind(null,c),l);return}o(l),i=e.setTimeout(o.bind(null,c));return}typeof a=="string"&&(t=a,r(t)),typeof a=="object"&&(t=a,r(t)),typeof a=="function"&&a()}};return{stop:()=>{n=!0},start:a=>{n=!1,i&&(i(),i=null),o(a)},subscribe:a=>(r=a,()=>{r=()=>null}),getTimeoutController:()=>e}}class cR{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,o=a=>{a-n>=r?t(a):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(o))};return i=requestAnimationFrame(o),()=>{cancelAnimationFrame(i)}}}function uR(){return lR(new cR)}var dR=v.createContext(uR);function fR(e,t){var r=v.useContext(dR);return v.useMemo(()=>t??r(e),[e,t,r])}var hR={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},Rm={t:0},cc={t:1};function Ld(e){var t=Bt(e,hR),{isActive:r,canBegin:n,duration:i,easing:o,begin:a,onAnimationEnd:s,onAnimationStart:l,children:c}=t,u=fR(t.animationId,t.animationManager),[d,h]=v.useState(r?Rm:cc),p=v.useRef(null);return v.useEffect(()=>{r||h(cc)},[r]),v.useEffect(()=>{if(!r||!n)return G2;var m=iR(Rm,cc,sR(o),i,h,u.getTimeoutController()),g=()=>{p.current=m()};return u.start([l,a,g,i,s]),()=>{u.stop(),p.current&&p.current(),s()}},[r,n,i,o,a,l,s,u]),c(d.t)}function Bd(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=v.useRef(Vi(t)),n=v.useRef(e);return n.current!==e&&(r.current=Vi(t),n.current=e),r.current}function Im(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Dm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Im(Object(r),!0).forEach(function(n){pR(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Im(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pR(e,t,r){return(t=mR(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mR(e){var t=gR(e,"string");return typeof t=="symbol"?t:t+""}function gR(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fa(){return Fa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fa.apply(null,arguments)}var $m=(e,t,r,n,i)=>{var o=Math.min(Math.abs(r)/2,Math.abs(n)/2),a=n>=0?1:-1,s=r>=0?1:-1,l=n>=0&&r>=0||n<0&&r<0?1:0,c;if(o>0&&i instanceof Array){for(var u=[0,0,0,0],d=0,h=4;d<h;d++)u[d]=i[d]>o?o:i[d];c="M".concat(e,",").concat(t+a*u[0]),u[0]>0&&(c+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(l,",").concat(e+s*u[0],",").concat(t)),c+="L ".concat(e+r-s*u[1],",").concat(t),u[1]>0&&(c+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(l,`,
        `).concat(e+r,",").concat(t+a*u[1])),c+="L ".concat(e+r,",").concat(t+n-a*u[2]),u[2]>0&&(c+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(l,`,
        `).concat(e+r-s*u[2],",").concat(t+n)),c+="L ".concat(e+s*u[3],",").concat(t+n),u[3]>0&&(c+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(l,`,
        `).concat(e,",").concat(t+n-a*u[3])),c+="Z"}else if(o>0&&i===+i&&i>0){var p=Math.min(o,i);c="M ".concat(e,",").concat(t+a*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(e+s*p,",").concat(t,`
            L `).concat(e+r-s*p,",").concat(t,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(e+r,",").concat(t+a*p,`
            L `).concat(e+r,",").concat(t+n-a*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(e+r-s*p,",").concat(t+n,`
            L `).concat(e+s*p,",").concat(t+n,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(e,",").concat(t+n-a*p," Z")}else c="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return c},yR={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},xb=e=>{var t=Bt(e,yR),r=v.useRef(null),[n,i]=v.useState(-1);v.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var T=r.current.getTotalLength();T&&i(T)}catch{}},[]);var{x:o,y:a,width:s,height:l,radius:c,className:u}=t,{animationEasing:d,animationDuration:h,animationBegin:p,isAnimationActive:m,isUpdateAnimationActive:g}=t,y=v.useRef(s),b=v.useRef(l),w=v.useRef(o),x=v.useRef(a),_=v.useMemo(()=>({x:o,y:a,width:s,height:l,radius:c}),[o,a,s,l,c]),S=Bd(_,"rectangle-");if(o!==+o||a!==+a||s!==+s||l!==+l||s===0||l===0)return null;var E=ve("recharts-rectangle",u);if(!g)return v.createElement("path",Fa({},qe(t,!0),{className:E,d:$m(o,a,s,l,c)}));var j=y.current,P=b.current,A=w.current,I=x.current,O="0px ".concat(n===-1?1:n,"px"),D="".concat(n,"px 0px"),B=yb(["strokeDasharray"],h,typeof d=="string"?d:void 0);return v.createElement(Ld,{animationId:S,key:S,canBegin:n>0,duration:h,easing:d,isActive:g,begin:p},T=>{var N=et(j,s,T),F=et(P,l,T),G=et(A,o,T),V=et(I,a,T);r.current&&(y.current=N,b.current=F,w.current=G,x.current=V);var J;return m?T>0?J={transition:B,strokeDasharray:D}:J={strokeDasharray:O}:J={strokeDasharray:D},v.createElement("path",Fa({},qe(t,!0),{className:E,d:$m(G,V,N,F,c),ref:r,style:Dm(Dm({},J),t.style)}))})};function _b(e){var{cx:t,cy:r,radius:n,startAngle:i,endAngle:o}=e,a=We(t,r,n,i),s=We(t,r,n,o);return{points:[a,s],cx:t,cy:r,radius:n,startAngle:i,endAngle:o}}function Pu(){return Pu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pu.apply(null,arguments)}var vR=(e,t)=>{var r=st(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},Yo=e=>{var{cx:t,cy:r,radius:n,angle:i,sign:o,isExternal:a,cornerRadius:s,cornerIsExternal:l}=e,c=s*(a?1:-1)+n,u=Math.asin(s/c)/Ia,d=l?i:i+o*u,h=We(t,r,c,d),p=We(t,r,n,d),m=l?i-o*u:i,g=We(t,r,c*Math.cos(u*Ia),m);return{center:h,circleTangency:p,lineTangency:g,theta:u}},Sb=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:o,endAngle:a}=e,s=vR(o,a),l=o+s,c=We(t,r,i,o),u=We(t,r,i,l),d="M ".concat(c.x,",").concat(c.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(s)>180),",").concat(+(o>l),`,
    `).concat(u.x,",").concat(u.y,`
  `);if(n>0){var h=We(t,r,n,o),p=We(t,r,n,l);d+="L ".concat(p.x,",").concat(p.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(s)>180),",").concat(+(o<=l),`,
            `).concat(h.x,",").concat(h.y," Z")}else d+="L ".concat(t,",").concat(r," Z");return d},bR=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,cornerRadius:o,forceCornerRadius:a,cornerIsExternal:s,startAngle:l,endAngle:c}=e,u=st(c-l),{circleTangency:d,lineTangency:h,theta:p}=Yo({cx:t,cy:r,radius:i,angle:l,sign:u,cornerRadius:o,cornerIsExternal:s}),{circleTangency:m,lineTangency:g,theta:y}=Yo({cx:t,cy:r,radius:i,angle:c,sign:-u,cornerRadius:o,cornerIsExternal:s}),b=s?Math.abs(l-c):Math.abs(l-c)-p-y;if(b<0)return a?"M ".concat(h.x,",").concat(h.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):Sb({cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:l,endAngle:c});var w="M ".concat(h.x,",").concat(h.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(d.x,",").concat(d.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(b>180),",").concat(+(u<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(g.x,",").concat(g.y,`
  `);if(n>0){var{circleTangency:x,lineTangency:_,theta:S}=Yo({cx:t,cy:r,radius:n,angle:l,sign:u,isExternal:!0,cornerRadius:o,cornerIsExternal:s}),{circleTangency:E,lineTangency:j,theta:P}=Yo({cx:t,cy:r,radius:n,angle:c,sign:-u,isExternal:!0,cornerRadius:o,cornerIsExternal:s}),A=s?Math.abs(l-c):Math.abs(l-c)-S-P;if(A<0&&o===0)return"".concat(w,"L").concat(t,",").concat(r,"Z");w+="L".concat(j.x,",").concat(j.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(E.x,",").concat(E.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(A>180),",").concat(+(u>0),",").concat(x.x,",").concat(x.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(_.x,",").concat(_.y,"Z")}else w+="L".concat(t,",").concat(r,"Z");return w},wR={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Eb=e=>{var t=Bt(e,wR),{cx:r,cy:n,innerRadius:i,outerRadius:o,cornerRadius:a,forceCornerRadius:s,cornerIsExternal:l,startAngle:c,endAngle:u,className:d}=t;if(o<i||c===u)return null;var h=ve("recharts-sector",d),p=o-i,m=Vt(a,p,0,!0),g;return m>0&&Math.abs(c-u)<360?g=bR({cx:r,cy:n,innerRadius:i,outerRadius:o,cornerRadius:Math.min(m,p/2),forceCornerRadius:s,cornerIsExternal:l,startAngle:c,endAngle:u}):g=Sb({cx:r,cy:n,innerRadius:i,outerRadius:o,startAngle:c,endAngle:u}),v.createElement("path",Pu({},qe(t,!0),{className:h,d:g}))};function xR(e,t,r){var n,i,o,a;if(e==="horizontal")n=t.x,o=n,i=r.top,a=r.top+r.height;else if(e==="vertical")i=t.y,a=i,n=r.left,o=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:s,cy:l,innerRadius:c,outerRadius:u,angle:d}=t,h=We(s,l,c,d),p=We(s,l,u,d);n=h.x,i=h.y,o=p.x,a=p.y}else return _b(t);return[{x:n,y:i},{x:o,y:a}]}var uc={},dc={},fc={},Mm;function _R(){return Mm||(Mm=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=D0();function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(fc)),fc}var Fm;function SR(){return Fm||(Fm=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_R();function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(dc)),dc}var Nm;function ER(){return Nm||(Nm=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$0(),r=SR();function n(i,o,a){a&&typeof a!="number"&&t.isIterateeCall(i,o,a)&&(o=a=void 0),i=r.toFinite(i),o===void 0?(o=i,i=0):o=r.toFinite(o),a=a===void 0?i<o?1:-1:r.toFinite(a);const s=Math.max(Math.ceil((o-i)/(a||1)),0),l=new Array(s);for(let c=0;c<s;c++)l[c]=i,i+=a;return l}e.range=n})(uc)),uc}var hc,Lm;function jR(){return Lm||(Lm=1,hc=ER().range),hc}var CR=jR();const jb=sr(CR);function Nr(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function kR(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Ud(e){let t,r,n;e.length!==2?(t=Nr,r=(s,l)=>Nr(e(s),l),n=(s,l)=>e(s)-l):(t=e===Nr||e===kR?e:PR,r=e,n=e);function i(s,l,c=0,u=s.length){if(c<u){if(t(l,l)!==0)return u;do{const d=c+u>>>1;r(s[d],l)<0?c=d+1:u=d}while(c<u)}return c}function o(s,l,c=0,u=s.length){if(c<u){if(t(l,l)!==0)return u;do{const d=c+u>>>1;r(s[d],l)<=0?c=d+1:u=d}while(c<u)}return c}function a(s,l,c=0,u=s.length){const d=i(s,l,c,u-1);return d>c&&n(s[d-1],l)>-n(s[d],l)?d-1:d}return{left:i,center:a,right:o}}function PR(){return 0}function Cb(e){return e===null?NaN:+e}function*AR(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const OR=Ud(Nr),po=OR.right;Ud(Cb).center;class Bm extends Map{constructor(t,r=IR){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(Um(this,t))}has(t){return super.has(Um(this,t))}set(t,r){return super.set(TR(this,t),r)}delete(t){return super.delete(RR(this,t))}}function Um({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function TR({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function RR({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function IR(e){return e!==null&&typeof e=="object"?e.valueOf():e}function DR(e=Nr){if(e===Nr)return kb;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function kb(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const $R=Math.sqrt(50),MR=Math.sqrt(10),FR=Math.sqrt(2);function Na(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),o=n/Math.pow(10,i),a=o>=$R?10:o>=MR?5:o>=FR?2:1;let s,l,c;return i<0?(c=Math.pow(10,-i)/a,s=Math.round(e*c),l=Math.round(t*c),s/c<e&&++s,l/c>t&&--l,c=-c):(c=Math.pow(10,i)*a,s=Math.round(e/c),l=Math.round(t/c),s*c<e&&++s,l*c>t&&--l),l<s&&.5<=r&&r<2?Na(e,t,r*2):[s,l,c]}function Au(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,o,a]=n?Na(t,e,r):Na(e,t,r);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(n)if(a<0)for(let c=0;c<s;++c)l[c]=(o-c)/-a;else for(let c=0;c<s;++c)l[c]=(o-c)*a;else if(a<0)for(let c=0;c<s;++c)l[c]=(i+c)/-a;else for(let c=0;c<s;++c)l[c]=(i+c)*a;return l}function Ou(e,t,r){return t=+t,e=+e,r=+r,Na(e,t,r)[2]}function Tu(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?Ou(t,e,r):Ou(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function zm(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function Wm(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function Pb(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?kb:DR(i);n>r;){if(n-r>600){const l=n-r+1,c=t-r+1,u=Math.log(l),d=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*d*(l-d)/l)*(c-l/2<0?-1:1),p=Math.max(r,Math.floor(t-c*d/l+h)),m=Math.min(n,Math.floor(t+(l-c)*d/l+h));Pb(e,t,p,m,i)}const o=e[t];let a=r,s=n;for(Ci(e,r,t),i(e[n],o)>0&&Ci(e,r,n);a<s;){for(Ci(e,a,s),++a,--s;i(e[a],o)<0;)++a;for(;i(e[s],o)>0;)--s}i(e[r],o)===0?Ci(e,r,s):(++s,Ci(e,s,n)),s<=t&&(r=s+1),t<=s&&(n=s-1)}return e}function Ci(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function NR(e,t,r){if(e=Float64Array.from(AR(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return Wm(e);if(t>=1)return zm(e);var n,i=(n-1)*t,o=Math.floor(i),a=zm(Pb(e,o).subarray(0,o+1)),s=Wm(e.subarray(o+1));return a+(s-a)*(i-o)}}function LR(e,t,r=Cb){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,o=Math.floor(i),a=+r(e[o],o,e),s=+r(e[o+1],o+1,e);return a+(s-a)*(i-o)}}function BR(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,o=new Array(i);++n<i;)o[n]=e+n*r;return o}function Ut(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function kr(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Ru=Symbol("implicit");function zd(){var e=new Bm,t=[],r=[],n=Ru;function i(o){let a=e.get(o);if(a===void 0){if(n!==Ru)return n;e.set(o,a=t.push(o)-1)}return r[a%r.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new Bm;for(const a of o)e.has(a)||e.set(a,t.push(a)-1);return i},i.range=function(o){return arguments.length?(r=Array.from(o),i):r.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return zd(t,r).unknown(n)},Ut.apply(i,arguments),i}function Wd(){var e=zd().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,o,a,s=!1,l=0,c=0,u=.5;delete e.unknown;function d(){var h=t().length,p=i<n,m=p?i:n,g=p?n:i;o=(g-m)/Math.max(1,h-l+c*2),s&&(o=Math.floor(o)),m+=(g-m-o*(h-l))*u,a=o*(1-l),s&&(m=Math.round(m),a=Math.round(a));var y=BR(h).map(function(b){return m+o*b});return r(p?y.reverse():y)}return e.domain=function(h){return arguments.length?(t(h),d()):t()},e.range=function(h){return arguments.length?([n,i]=h,n=+n,i=+i,d()):[n,i]},e.rangeRound=function(h){return[n,i]=h,n=+n,i=+i,s=!0,d()},e.bandwidth=function(){return a},e.step=function(){return o},e.round=function(h){return arguments.length?(s=!!h,d()):s},e.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),d()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),d()):l},e.paddingOuter=function(h){return arguments.length?(c=+h,d()):c},e.align=function(h){return arguments.length?(u=Math.max(0,Math.min(1,h)),d()):u},e.copy=function(){return Wd(t(),[n,i]).round(s).paddingInner(l).paddingOuter(c).align(u)},Ut.apply(d(),arguments)}function Ab(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Ab(t())},e}function UR(){return Ab(Wd.apply(null,arguments).paddingInner(1))}function qd(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function Ob(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function mo(){}var Qi=.7,La=1/Qi,zn="\\s*([+-]?\\d+)\\s*",eo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ir="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",zR=/^#([0-9a-f]{3,8})$/,WR=new RegExp(`^rgb\\(${zn},${zn},${zn}\\)$`),qR=new RegExp(`^rgb\\(${ir},${ir},${ir}\\)$`),HR=new RegExp(`^rgba\\(${zn},${zn},${zn},${eo}\\)$`),KR=new RegExp(`^rgba\\(${ir},${ir},${ir},${eo}\\)$`),GR=new RegExp(`^hsl\\(${eo},${ir},${ir}\\)$`),YR=new RegExp(`^hsla\\(${eo},${ir},${ir},${eo}\\)$`),qm={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};qd(mo,to,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Hm,formatHex:Hm,formatHex8:VR,formatHsl:JR,formatRgb:Km,toString:Km});function Hm(){return this.rgb().formatHex()}function VR(){return this.rgb().formatHex8()}function JR(){return Tb(this).formatHsl()}function Km(){return this.rgb().formatRgb()}function to(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=zR.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?Gm(t):r===3?new lt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Vo(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Vo(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=WR.exec(e))?new lt(t[1],t[2],t[3],1):(t=qR.exec(e))?new lt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=HR.exec(e))?Vo(t[1],t[2],t[3],t[4]):(t=KR.exec(e))?Vo(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=GR.exec(e))?Jm(t[1],t[2]/100,t[3]/100,1):(t=YR.exec(e))?Jm(t[1],t[2]/100,t[3]/100,t[4]):qm.hasOwnProperty(e)?Gm(qm[e]):e==="transparent"?new lt(NaN,NaN,NaN,0):null}function Gm(e){return new lt(e>>16&255,e>>8&255,e&255,1)}function Vo(e,t,r,n){return n<=0&&(e=t=r=NaN),new lt(e,t,r,n)}function XR(e){return e instanceof mo||(e=to(e)),e?(e=e.rgb(),new lt(e.r,e.g,e.b,e.opacity)):new lt}function Iu(e,t,r,n){return arguments.length===1?XR(e):new lt(e,t,r,n??1)}function lt(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}qd(lt,Iu,Ob(mo,{brighter(e){return e=e==null?La:Math.pow(La,e),new lt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Qi:Math.pow(Qi,e),new lt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new lt(cn(this.r),cn(this.g),cn(this.b),Ba(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ym,formatHex:Ym,formatHex8:ZR,formatRgb:Vm,toString:Vm}));function Ym(){return`#${rn(this.r)}${rn(this.g)}${rn(this.b)}`}function ZR(){return`#${rn(this.r)}${rn(this.g)}${rn(this.b)}${rn((isNaN(this.opacity)?1:this.opacity)*255)}`}function Vm(){const e=Ba(this.opacity);return`${e===1?"rgb(":"rgba("}${cn(this.r)}, ${cn(this.g)}, ${cn(this.b)}${e===1?")":`, ${e})`}`}function Ba(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function cn(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function rn(e){return e=cn(e),(e<16?"0":"")+e.toString(16)}function Jm(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Yt(e,t,r,n)}function Tb(e){if(e instanceof Yt)return new Yt(e.h,e.s,e.l,e.opacity);if(e instanceof mo||(e=to(e)),!e)return new Yt;if(e instanceof Yt)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),o=Math.max(t,r,n),a=NaN,s=o-i,l=(o+i)/2;return s?(t===o?a=(r-n)/s+(r<n)*6:r===o?a=(n-t)/s+2:a=(t-r)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new Yt(a,s,l,e.opacity)}function QR(e,t,r,n){return arguments.length===1?Tb(e):new Yt(e,t,r,n??1)}function Yt(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}qd(Yt,QR,Ob(mo,{brighter(e){return e=e==null?La:Math.pow(La,e),new Yt(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Qi:Math.pow(Qi,e),new Yt(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new lt(pc(e>=240?e-240:e+120,i,n),pc(e,i,n),pc(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new Yt(Xm(this.h),Jo(this.s),Jo(this.l),Ba(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Ba(this.opacity);return`${e===1?"hsl(":"hsla("}${Xm(this.h)}, ${Jo(this.s)*100}%, ${Jo(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Xm(e){return e=(e||0)%360,e<0?e+360:e}function Jo(e){return Math.max(0,Math.min(1,e||0))}function pc(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Hd=e=>()=>e;function eI(e,t){return function(r){return e+r*t}}function tI(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function rI(e){return(e=+e)==1?Rb:function(t,r){return r-t?tI(t,r,e):Hd(isNaN(t)?r:t)}}function Rb(e,t){var r=t-e;return r?eI(e,r):Hd(isNaN(e)?t:e)}const Zm=(function e(t){var r=rI(t);function n(i,o){var a=r((i=Iu(i)).r,(o=Iu(o)).r),s=r(i.g,o.g),l=r(i.b,o.b),c=Rb(i.opacity,o.opacity);return function(u){return i.r=a(u),i.g=s(u),i.b=l(u),i.opacity=c(u),i+""}}return n.gamma=e,n})(1);function nI(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(o){for(i=0;i<r;++i)n[i]=e[i]*(1-o)+t[i]*o;return n}}function iI(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function oI(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),o=new Array(r),a;for(a=0;a<n;++a)i[a]=li(e[a],t[a]);for(;a<r;++a)o[a]=t[a];return function(s){for(a=0;a<n;++a)o[a]=i[a](s);return o}}function aI(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Ua(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function sI(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=li(e[i],t[i]):n[i]=t[i];return function(o){for(i in r)n[i]=r[i](o);return n}}var Du=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,mc=new RegExp(Du.source,"g");function lI(e){return function(){return e}}function cI(e){return function(t){return e(t)+""}}function uI(e,t){var r=Du.lastIndex=mc.lastIndex=0,n,i,o,a=-1,s=[],l=[];for(e=e+"",t=t+"";(n=Du.exec(e))&&(i=mc.exec(t));)(o=i.index)>r&&(o=t.slice(r,o),s[a]?s[a]+=o:s[++a]=o),(n=n[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:Ua(n,i)})),r=mc.lastIndex;return r<t.length&&(o=t.slice(r),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?cI(l[0].x):lI(t):(t=l.length,function(c){for(var u=0,d;u<t;++u)s[(d=l[u]).i]=d.x(c);return s.join("")})}function li(e,t){var r=typeof t,n;return t==null||r==="boolean"?Hd(t):(r==="number"?Ua:r==="string"?(n=to(t))?(t=n,Zm):uI:t instanceof to?Zm:t instanceof Date?aI:iI(t)?nI:Array.isArray(t)?oI:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?sI:Ua)(e,t)}function Kd(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function dI(e,t){t===void 0&&(t=e,e=li);for(var r=0,n=t.length-1,i=t[0],o=new Array(n<0?0:n);r<n;)o[r]=e(i,i=t[++r]);return function(a){var s=Math.max(0,Math.min(n-1,Math.floor(a*=n)));return o[s](a-s)}}function fI(e){return function(){return e}}function za(e){return+e}var Qm=[0,1];function rt(e){return e}function $u(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:fI(isNaN(t)?NaN:.5)}function hI(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function pI(e,t,r){var n=e[0],i=e[1],o=t[0],a=t[1];return i<n?(n=$u(i,n),o=r(a,o)):(n=$u(n,i),o=r(o,a)),function(s){return o(n(s))}}function mI(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),o=new Array(n),a=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<n;)i[a]=$u(e[a],e[a+1]),o[a]=r(t[a],t[a+1]);return function(s){var l=po(e,s,1,n)-1;return o[l](i[l](s))}}function go(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Es(){var e=Qm,t=Qm,r=li,n,i,o,a=rt,s,l,c;function u(){var h=Math.min(e.length,t.length);return a!==rt&&(a=hI(e[0],e[h-1])),s=h>2?mI:pI,l=c=null,d}function d(h){return h==null||isNaN(h=+h)?o:(l||(l=s(e.map(n),t,r)))(n(a(h)))}return d.invert=function(h){return a(i((c||(c=s(t,e.map(n),Ua)))(h)))},d.domain=function(h){return arguments.length?(e=Array.from(h,za),u()):e.slice()},d.range=function(h){return arguments.length?(t=Array.from(h),u()):t.slice()},d.rangeRound=function(h){return t=Array.from(h),r=Kd,u()},d.clamp=function(h){return arguments.length?(a=h?!0:rt,u()):a!==rt},d.interpolate=function(h){return arguments.length?(r=h,u()):r},d.unknown=function(h){return arguments.length?(o=h,d):o},function(h,p){return n=h,i=p,u()}}function Gd(){return Es()(rt,rt)}function gI(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Wa(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Gn(e){return e=Wa(Math.abs(e)),e?e[1]:NaN}function yI(e,t){return function(r,n){for(var i=r.length,o=[],a=0,s=e[0],l=0;i>0&&s>0&&(l+s+1>n&&(s=Math.max(1,n-l)),o.push(r.substring(i-=s,i+s)),!((l+=s+1)>n));)s=e[a=(a+1)%e.length];return o.reverse().join(t)}}function vI(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var bI=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ro(e){if(!(t=bI.exec(e)))throw new Error("invalid format: "+e);var t;return new Yd({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}ro.prototype=Yd.prototype;function Yd(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Yd.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function wI(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var Ib;function xI(e,t){var r=Wa(e,t);if(!r)return e+"";var n=r[0],i=r[1],o=i-(Ib=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=n.length;return o===a?n:o>a?n+new Array(o-a+1).join("0"):o>0?n.slice(0,o)+"."+n.slice(o):"0."+new Array(1-o).join("0")+Wa(e,Math.max(0,t+o-1))[0]}function eg(e,t){var r=Wa(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const tg={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:gI,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>eg(e*100,t),r:eg,s:xI,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function rg(e){return e}var ng=Array.prototype.map,ig=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"];function _I(e){var t=e.grouping===void 0||e.thousands===void 0?rg:yI(ng.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?rg:vI(ng.call(e.numerals,String)),a=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"âˆ’":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(d){d=ro(d);var h=d.fill,p=d.align,m=d.sign,g=d.symbol,y=d.zero,b=d.width,w=d.comma,x=d.precision,_=d.trim,S=d.type;S==="n"?(w=!0,S="g"):tg[S]||(x===void 0&&(x=12),_=!0,S="g"),(y||h==="0"&&p==="=")&&(y=!0,h="0",p="=");var E=g==="$"?r:g==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",j=g==="$"?n:/[%p]/.test(S)?a:"",P=tg[S],A=/[defgprs%]/.test(S);x=x===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x));function I(O){var D=E,B=j,T,N,F;if(S==="c")B=P(O)+B,O="";else{O=+O;var G=O<0||1/O<0;if(O=isNaN(O)?l:P(Math.abs(O),x),_&&(O=wI(O)),G&&+O==0&&m!=="+"&&(G=!1),D=(G?m==="("?m:s:m==="-"||m==="("?"":m)+D,B=(S==="s"?ig[8+Ib/3]:"")+B+(G&&m==="("?")":""),A){for(T=-1,N=O.length;++T<N;)if(F=O.charCodeAt(T),48>F||F>57){B=(F===46?i+O.slice(T+1):O.slice(T))+B,O=O.slice(0,T);break}}}w&&!y&&(O=t(O,1/0));var V=D.length+O.length+B.length,J=V<b?new Array(b-V+1).join(h):"";switch(w&&y&&(O=t(J+O,J.length?b-B.length:1/0),J=""),p){case"<":O=D+O+B+J;break;case"=":O=D+J+O+B;break;case"^":O=J.slice(0,V=J.length>>1)+D+O+B+J.slice(V);break;default:O=J+D+O+B;break}return o(O)}return I.toString=function(){return d+""},I}function u(d,h){var p=c((d=ro(d),d.type="f",d)),m=Math.max(-8,Math.min(8,Math.floor(Gn(h)/3)))*3,g=Math.pow(10,-m),y=ig[8+m/3];return function(b){return p(g*b)+y}}return{format:c,formatPrefix:u}}var Xo,Vd,Db;SI({thousands:",",grouping:[3],currency:["$",""]});function SI(e){return Xo=_I(e),Vd=Xo.format,Db=Xo.formatPrefix,Xo}function EI(e){return Math.max(0,-Gn(Math.abs(e)))}function jI(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Gn(t)/3)))*3-Gn(Math.abs(e)))}function CI(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Gn(t)-Gn(e))+1}function $b(e,t,r,n){var i=Tu(e,t,r),o;switch(n=ro(n??",f"),n.type){case"s":{var a=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(o=jI(i,a))&&(n.precision=o),Db(n,a)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(o=CI(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=o-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(o=EI(i))&&(n.precision=o-(n.type==="%")*2);break}}return Vd(n)}function Wr(e){var t=e.domain;return e.ticks=function(r){var n=t();return Au(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return $b(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,o=n.length-1,a=n[i],s=n[o],l,c,u=10;for(s<a&&(c=a,a=s,s=c,c=i,i=o,o=c);u-- >0;){if(c=Ou(a,s,r),c===l)return n[i]=a,n[o]=s,t(n);if(c>0)a=Math.floor(a/c)*c,s=Math.ceil(s/c)*c;else if(c<0)a=Math.ceil(a*c)/c,s=Math.floor(s*c)/c;else break;l=c}return e},e}function Mb(){var e=Gd();return e.copy=function(){return go(e,Mb())},Ut.apply(e,arguments),Wr(e)}function Fb(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,za),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return Fb(e).unknown(t)},e=arguments.length?Array.from(e,za):[0,1],Wr(r)}function Nb(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],o=e[n],a;return o<i&&(a=r,r=n,n=a,a=i,i=o,o=a),e[r]=t.floor(i),e[n]=t.ceil(o),e}function og(e){return Math.log(e)}function ag(e){return Math.exp(e)}function kI(e){return-Math.log(-e)}function PI(e){return-Math.exp(-e)}function AI(e){return isFinite(e)?+("1e"+e):e<0?0:e}function OI(e){return e===10?AI:e===Math.E?Math.exp:t=>Math.pow(e,t)}function TI(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function sg(e){return(t,r)=>-e(-t,r)}function Jd(e){const t=e(og,ag),r=t.domain;let n=10,i,o;function a(){return i=TI(n),o=OI(n),r()[0]<0?(i=sg(i),o=sg(o),e(kI,PI)):e(og,ag),t}return t.base=function(s){return arguments.length?(n=+s,a()):n},t.domain=function(s){return arguments.length?(r(s),a()):r()},t.ticks=s=>{const l=r();let c=l[0],u=l[l.length-1];const d=u<c;d&&([c,u]=[u,c]);let h=i(c),p=i(u),m,g;const y=s==null?10:+s;let b=[];if(!(n%1)&&p-h<y){if(h=Math.floor(h),p=Math.ceil(p),c>0){for(;h<=p;++h)for(m=1;m<n;++m)if(g=h<0?m/o(-h):m*o(h),!(g<c)){if(g>u)break;b.push(g)}}else for(;h<=p;++h)for(m=n-1;m>=1;--m)if(g=h>0?m/o(-h):m*o(h),!(g<c)){if(g>u)break;b.push(g)}b.length*2<y&&(b=Au(c,u,y))}else b=Au(h,p,Math.min(p-h,y)).map(o);return d?b.reverse():b},t.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=ro(l)).precision==null&&(l.trim=!0),l=Vd(l)),s===1/0)return l;const c=Math.max(1,n*s/t.ticks().length);return u=>{let d=u/o(Math.round(i(u)));return d*n<n-.5&&(d*=n),d<=c?l(u):""}},t.nice=()=>r(Nb(r(),{floor:s=>o(Math.floor(i(s))),ceil:s=>o(Math.ceil(i(s)))})),t}function Lb(){const e=Jd(Es()).domain([1,10]);return e.copy=()=>go(e,Lb()).base(e.base()),Ut.apply(e,arguments),e}function lg(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function cg(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Xd(e){var t=1,r=e(lg(t),cg(t));return r.constant=function(n){return arguments.length?e(lg(t=+n),cg(t)):t},Wr(r)}function Bb(){var e=Xd(Es());return e.copy=function(){return go(e,Bb()).constant(e.constant())},Ut.apply(e,arguments)}function ug(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function RI(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function II(e){return e<0?-e*e:e*e}function Zd(e){var t=e(rt,rt),r=1;function n(){return r===1?e(rt,rt):r===.5?e(RI,II):e(ug(r),ug(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},Wr(t)}function Qd(){var e=Zd(Es());return e.copy=function(){return go(e,Qd()).exponent(e.exponent())},Ut.apply(e,arguments),e}function DI(){return Qd.apply(null,arguments).exponent(.5)}function dg(e){return Math.sign(e)*e*e}function $I(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function Ub(){var e=Gd(),t=[0,1],r=!1,n;function i(o){var a=$I(e(o));return isNaN(a)?n:r?Math.round(a):a}return i.invert=function(o){return e.invert(dg(o))},i.domain=function(o){return arguments.length?(e.domain(o),i):e.domain()},i.range=function(o){return arguments.length?(e.range((t=Array.from(o,za)).map(dg)),i):t.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(r=!!o,i):r},i.clamp=function(o){return arguments.length?(e.clamp(o),i):e.clamp()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return Ub(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Ut.apply(i,arguments),Wr(i)}function zb(){var e=[],t=[],r=[],n;function i(){var a=0,s=Math.max(1,t.length);for(r=new Array(s-1);++a<s;)r[a-1]=LR(e,a/s);return o}function o(a){return a==null||isNaN(a=+a)?n:t[po(r,a)]}return o.invertExtent=function(a){var s=t.indexOf(a);return s<0?[NaN,NaN]:[s>0?r[s-1]:e[0],s<r.length?r[s]:e[e.length-1]]},o.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let s of a)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Nr),i()},o.range=function(a){return arguments.length?(t=Array.from(a),i()):t.slice()},o.unknown=function(a){return arguments.length?(n=a,o):n},o.quantiles=function(){return r.slice()},o.copy=function(){return zb().domain(e).range(t).unknown(n)},Ut.apply(o,arguments)}function Wb(){var e=0,t=1,r=1,n=[.5],i=[0,1],o;function a(l){return l!=null&&l<=l?i[po(n,l,0,r)]:o}function s(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return a}return a.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,s()):[e,t]},a.range=function(l){return arguments.length?(r=(i=Array.from(l)).length-1,s()):i.slice()},a.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[e,n[0]]:c>=r?[n[r-1],t]:[n[c-1],n[c]]},a.unknown=function(l){return arguments.length&&(o=l),a},a.thresholds=function(){return n.slice()},a.copy=function(){return Wb().domain([e,t]).range(i).unknown(o)},Ut.apply(Wr(a),arguments)}function qb(){var e=[.5],t=[0,1],r,n=1;function i(o){return o!=null&&o<=o?t[po(e,o,0,n)]:r}return i.domain=function(o){return arguments.length?(e=Array.from(o),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(o){return arguments.length?(t=Array.from(o),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(o){var a=t.indexOf(o);return[e[a-1],e[a]]},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return qb().domain(e).range(t).unknown(r)},Ut.apply(i,arguments)}const gc=new Date,yc=new Date;function Oe(e,t,r,n){function i(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(e(o=new Date(+o)),o),i.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),i.round=o=>{const a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=(o,a)=>(t(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,s)=>{const l=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return l;let c;do l.push(c=new Date(+o)),t(o,s),e(o);while(c<o&&o<a);return l},i.filter=o=>Oe(a=>{if(a>=a)for(;e(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;t(a,-1),!o(a););else for(;--s>=0;)for(;t(a,1),!o(a););}),r&&(i.count=(o,a)=>(gc.setTime(+o),yc.setTime(+a),e(gc),e(yc),Math.floor(r(gc,yc))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(n?a=>n(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const qa=Oe(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);qa.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Oe(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):qa);qa.range;const mr=1e3,It=mr*60,gr=It*60,_r=gr*24,ef=_r*7,fg=_r*30,vc=_r*365,nn=Oe(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*mr)},(e,t)=>(t-e)/mr,e=>e.getUTCSeconds());nn.range;const tf=Oe(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*mr)},(e,t)=>{e.setTime(+e+t*It)},(e,t)=>(t-e)/It,e=>e.getMinutes());tf.range;const rf=Oe(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*It)},(e,t)=>(t-e)/It,e=>e.getUTCMinutes());rf.range;const nf=Oe(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*mr-e.getMinutes()*It)},(e,t)=>{e.setTime(+e+t*gr)},(e,t)=>(t-e)/gr,e=>e.getHours());nf.range;const of=Oe(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*gr)},(e,t)=>(t-e)/gr,e=>e.getUTCHours());of.range;const yo=Oe(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*It)/_r,e=>e.getDate()-1);yo.range;const js=Oe(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/_r,e=>e.getUTCDate()-1);js.range;const Hb=Oe(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/_r,e=>Math.floor(e/_r));Hb.range;function bn(e){return Oe(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*It)/ef)}const Cs=bn(0),Ha=bn(1),MI=bn(2),FI=bn(3),Yn=bn(4),NI=bn(5),LI=bn(6);Cs.range;Ha.range;MI.range;FI.range;Yn.range;NI.range;LI.range;function wn(e){return Oe(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/ef)}const ks=wn(0),Ka=wn(1),BI=wn(2),UI=wn(3),Vn=wn(4),zI=wn(5),WI=wn(6);ks.range;Ka.range;BI.range;UI.range;Vn.range;zI.range;WI.range;const af=Oe(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());af.range;const sf=Oe(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());sf.range;const Sr=Oe(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Sr.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Oe(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Sr.range;const Er=Oe(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Er.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Oe(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Er.range;function Kb(e,t,r,n,i,o){const a=[[nn,1,mr],[nn,5,5*mr],[nn,15,15*mr],[nn,30,30*mr],[o,1,It],[o,5,5*It],[o,15,15*It],[o,30,30*It],[i,1,gr],[i,3,3*gr],[i,6,6*gr],[i,12,12*gr],[n,1,_r],[n,2,2*_r],[r,1,ef],[t,1,fg],[t,3,3*fg],[e,1,vc]];function s(c,u,d){const h=u<c;h&&([c,u]=[u,c]);const p=d&&typeof d.range=="function"?d:l(c,u,d),m=p?p.range(c,+u+1):[];return h?m.reverse():m}function l(c,u,d){const h=Math.abs(u-c)/d,p=Ud(([,,y])=>y).right(a,h);if(p===a.length)return e.every(Tu(c/vc,u/vc,d));if(p===0)return qa.every(Math.max(Tu(c,u,d),1));const[m,g]=a[h/a[p-1][2]<a[p][2]/h?p-1:p];return m.every(g)}return[s,l]}const[qI,HI]=Kb(Er,sf,ks,Hb,of,rf),[KI,GI]=Kb(Sr,af,Cs,yo,nf,tf);function bc(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function wc(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function ki(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function YI(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,o=e.days,a=e.shortDays,s=e.months,l=e.shortMonths,c=Pi(i),u=Ai(i),d=Pi(o),h=Ai(o),p=Pi(a),m=Ai(a),g=Pi(s),y=Ai(s),b=Pi(l),w=Ai(l),x={a:G,A:V,b:J,B:de,c:null,d:vg,e:vg,f:yD,g:kD,G:AD,H:pD,I:mD,j:gD,L:Gb,m:vD,M:bD,p:ie,q:z,Q:xg,s:_g,S:wD,u:xD,U:_D,V:SD,w:ED,W:jD,x:null,X:null,y:CD,Y:PD,Z:OD,"%":wg},_={a:X,A:oe,b:re,B:He,c:null,d:bg,e:bg,f:DD,g:qD,G:KD,H:TD,I:RD,j:ID,L:Vb,m:$D,M:MD,p:zt,q:L,Q:xg,s:_g,S:FD,u:ND,U:LD,V:BD,w:UD,W:zD,x:null,X:null,y:WD,Y:HD,Z:GD,"%":wg},S={a:I,A:O,b:D,B,c:T,d:gg,e:gg,f:uD,g:mg,G:pg,H:yg,I:yg,j:aD,L:cD,m:oD,M:sD,p:A,q:iD,Q:fD,s:hD,S:lD,u:QI,U:eD,V:tD,w:ZI,W:rD,x:N,X:F,y:mg,Y:pg,Z:nD,"%":dD};x.x=E(r,x),x.X=E(n,x),x.c=E(t,x),_.x=E(r,_),_.X=E(n,_),_.c=E(t,_);function E($,W){return function(q){var R=[],Ke=-1,le=0,Qe=$.length,Ge,ht,vi;for(q instanceof Date||(q=new Date(+q));++Ke<Qe;)$.charCodeAt(Ke)===37&&(R.push($.slice(le,Ke)),(ht=hg[Ge=$.charAt(++Ke)])!=null?Ge=$.charAt(++Ke):ht=Ge==="e"?" ":"0",(vi=W[Ge])&&(Ge=vi(q,ht)),R.push(Ge),le=Ke+1);return R.push($.slice(le,Ke)),R.join("")}}function j($,W){return function(q){var R=ki(1900,void 0,1),Ke=P(R,$,q+="",0),le,Qe;if(Ke!=q.length)return null;if("Q"in R)return new Date(R.Q);if("s"in R)return new Date(R.s*1e3+("L"in R?R.L:0));if(W&&!("Z"in R)&&(R.Z=0),"p"in R&&(R.H=R.H%12+R.p*12),R.m===void 0&&(R.m="q"in R?R.q:0),"V"in R){if(R.V<1||R.V>53)return null;"w"in R||(R.w=1),"Z"in R?(le=wc(ki(R.y,0,1)),Qe=le.getUTCDay(),le=Qe>4||Qe===0?Ka.ceil(le):Ka(le),le=js.offset(le,(R.V-1)*7),R.y=le.getUTCFullYear(),R.m=le.getUTCMonth(),R.d=le.getUTCDate()+(R.w+6)%7):(le=bc(ki(R.y,0,1)),Qe=le.getDay(),le=Qe>4||Qe===0?Ha.ceil(le):Ha(le),le=yo.offset(le,(R.V-1)*7),R.y=le.getFullYear(),R.m=le.getMonth(),R.d=le.getDate()+(R.w+6)%7)}else("W"in R||"U"in R)&&("w"in R||(R.w="u"in R?R.u%7:"W"in R?1:0),Qe="Z"in R?wc(ki(R.y,0,1)).getUTCDay():bc(ki(R.y,0,1)).getDay(),R.m=0,R.d="W"in R?(R.w+6)%7+R.W*7-(Qe+5)%7:R.w+R.U*7-(Qe+6)%7);return"Z"in R?(R.H+=R.Z/100|0,R.M+=R.Z%100,wc(R)):bc(R)}}function P($,W,q,R){for(var Ke=0,le=W.length,Qe=q.length,Ge,ht;Ke<le;){if(R>=Qe)return-1;if(Ge=W.charCodeAt(Ke++),Ge===37){if(Ge=W.charAt(Ke++),ht=S[Ge in hg?W.charAt(Ke++):Ge],!ht||(R=ht($,q,R))<0)return-1}else if(Ge!=q.charCodeAt(R++))return-1}return R}function A($,W,q){var R=c.exec(W.slice(q));return R?($.p=u.get(R[0].toLowerCase()),q+R[0].length):-1}function I($,W,q){var R=p.exec(W.slice(q));return R?($.w=m.get(R[0].toLowerCase()),q+R[0].length):-1}function O($,W,q){var R=d.exec(W.slice(q));return R?($.w=h.get(R[0].toLowerCase()),q+R[0].length):-1}function D($,W,q){var R=b.exec(W.slice(q));return R?($.m=w.get(R[0].toLowerCase()),q+R[0].length):-1}function B($,W,q){var R=g.exec(W.slice(q));return R?($.m=y.get(R[0].toLowerCase()),q+R[0].length):-1}function T($,W,q){return P($,t,W,q)}function N($,W,q){return P($,r,W,q)}function F($,W,q){return P($,n,W,q)}function G($){return a[$.getDay()]}function V($){return o[$.getDay()]}function J($){return l[$.getMonth()]}function de($){return s[$.getMonth()]}function ie($){return i[+($.getHours()>=12)]}function z($){return 1+~~($.getMonth()/3)}function X($){return a[$.getUTCDay()]}function oe($){return o[$.getUTCDay()]}function re($){return l[$.getUTCMonth()]}function He($){return s[$.getUTCMonth()]}function zt($){return i[+($.getUTCHours()>=12)]}function L($){return 1+~~($.getUTCMonth()/3)}return{format:function($){var W=E($+="",x);return W.toString=function(){return $},W},parse:function($){var W=j($+="",!1);return W.toString=function(){return $},W},utcFormat:function($){var W=E($+="",_);return W.toString=function(){return $},W},utcParse:function($){var W=j($+="",!0);return W.toString=function(){return $},W}}}var hg={"-":"",_:" ",0:"0"},Ne=/^\s*\d+/,VI=/^%/,JI=/[\\^$*+?|[\]().{}]/g;function ae(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",o=i.length;return n+(o<r?new Array(r-o+1).join(t)+i:i)}function XI(e){return e.replace(JI,"\\$&")}function Pi(e){return new RegExp("^(?:"+e.map(XI).join("|")+")","i")}function Ai(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function ZI(e,t,r){var n=Ne.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function QI(e,t,r){var n=Ne.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function eD(e,t,r){var n=Ne.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function tD(e,t,r){var n=Ne.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function rD(e,t,r){var n=Ne.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function pg(e,t,r){var n=Ne.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function mg(e,t,r){var n=Ne.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function nD(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function iD(e,t,r){var n=Ne.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function oD(e,t,r){var n=Ne.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function gg(e,t,r){var n=Ne.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function aD(e,t,r){var n=Ne.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function yg(e,t,r){var n=Ne.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function sD(e,t,r){var n=Ne.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function lD(e,t,r){var n=Ne.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function cD(e,t,r){var n=Ne.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function uD(e,t,r){var n=Ne.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function dD(e,t,r){var n=VI.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function fD(e,t,r){var n=Ne.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function hD(e,t,r){var n=Ne.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function vg(e,t){return ae(e.getDate(),t,2)}function pD(e,t){return ae(e.getHours(),t,2)}function mD(e,t){return ae(e.getHours()%12||12,t,2)}function gD(e,t){return ae(1+yo.count(Sr(e),e),t,3)}function Gb(e,t){return ae(e.getMilliseconds(),t,3)}function yD(e,t){return Gb(e,t)+"000"}function vD(e,t){return ae(e.getMonth()+1,t,2)}function bD(e,t){return ae(e.getMinutes(),t,2)}function wD(e,t){return ae(e.getSeconds(),t,2)}function xD(e){var t=e.getDay();return t===0?7:t}function _D(e,t){return ae(Cs.count(Sr(e)-1,e),t,2)}function Yb(e){var t=e.getDay();return t>=4||t===0?Yn(e):Yn.ceil(e)}function SD(e,t){return e=Yb(e),ae(Yn.count(Sr(e),e)+(Sr(e).getDay()===4),t,2)}function ED(e){return e.getDay()}function jD(e,t){return ae(Ha.count(Sr(e)-1,e),t,2)}function CD(e,t){return ae(e.getFullYear()%100,t,2)}function kD(e,t){return e=Yb(e),ae(e.getFullYear()%100,t,2)}function PD(e,t){return ae(e.getFullYear()%1e4,t,4)}function AD(e,t){var r=e.getDay();return e=r>=4||r===0?Yn(e):Yn.ceil(e),ae(e.getFullYear()%1e4,t,4)}function OD(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ae(t/60|0,"0",2)+ae(t%60,"0",2)}function bg(e,t){return ae(e.getUTCDate(),t,2)}function TD(e,t){return ae(e.getUTCHours(),t,2)}function RD(e,t){return ae(e.getUTCHours()%12||12,t,2)}function ID(e,t){return ae(1+js.count(Er(e),e),t,3)}function Vb(e,t){return ae(e.getUTCMilliseconds(),t,3)}function DD(e,t){return Vb(e,t)+"000"}function $D(e,t){return ae(e.getUTCMonth()+1,t,2)}function MD(e,t){return ae(e.getUTCMinutes(),t,2)}function FD(e,t){return ae(e.getUTCSeconds(),t,2)}function ND(e){var t=e.getUTCDay();return t===0?7:t}function LD(e,t){return ae(ks.count(Er(e)-1,e),t,2)}function Jb(e){var t=e.getUTCDay();return t>=4||t===0?Vn(e):Vn.ceil(e)}function BD(e,t){return e=Jb(e),ae(Vn.count(Er(e),e)+(Er(e).getUTCDay()===4),t,2)}function UD(e){return e.getUTCDay()}function zD(e,t){return ae(Ka.count(Er(e)-1,e),t,2)}function WD(e,t){return ae(e.getUTCFullYear()%100,t,2)}function qD(e,t){return e=Jb(e),ae(e.getUTCFullYear()%100,t,2)}function HD(e,t){return ae(e.getUTCFullYear()%1e4,t,4)}function KD(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Vn(e):Vn.ceil(e),ae(e.getUTCFullYear()%1e4,t,4)}function GD(){return"+0000"}function wg(){return"%"}function xg(e){return+e}function _g(e){return Math.floor(+e/1e3)}var $n,Xb,Zb;YD({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function YD(e){return $n=YI(e),Xb=$n.format,$n.parse,Zb=$n.utcFormat,$n.utcParse,$n}function VD(e){return new Date(e)}function JD(e){return e instanceof Date?+e:+new Date(+e)}function lf(e,t,r,n,i,o,a,s,l,c){var u=Gd(),d=u.invert,h=u.domain,p=c(".%L"),m=c(":%S"),g=c("%I:%M"),y=c("%I %p"),b=c("%a %d"),w=c("%b %d"),x=c("%B"),_=c("%Y");function S(E){return(l(E)<E?p:s(E)<E?m:a(E)<E?g:o(E)<E?y:n(E)<E?i(E)<E?b:w:r(E)<E?x:_)(E)}return u.invert=function(E){return new Date(d(E))},u.domain=function(E){return arguments.length?h(Array.from(E,JD)):h().map(VD)},u.ticks=function(E){var j=h();return e(j[0],j[j.length-1],E??10)},u.tickFormat=function(E,j){return j==null?S:c(j)},u.nice=function(E){var j=h();return(!E||typeof E.range!="function")&&(E=t(j[0],j[j.length-1],E??10)),E?h(Nb(j,E)):u},u.copy=function(){return go(u,lf(e,t,r,n,i,o,a,s,l,c))},u}function XD(){return Ut.apply(lf(KI,GI,Sr,af,Cs,yo,nf,tf,nn,Xb).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function ZD(){return Ut.apply(lf(qI,HI,Er,sf,ks,js,of,rf,nn,Zb).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Ps(){var e=0,t=1,r,n,i,o,a=rt,s=!1,l;function c(d){return d==null||isNaN(d=+d)?l:a(i===0?.5:(d=(o(d)-r)*i,s?Math.max(0,Math.min(1,d)):d))}c.domain=function(d){return arguments.length?([e,t]=d,r=o(e=+e),n=o(t=+t),i=r===n?0:1/(n-r),c):[e,t]},c.clamp=function(d){return arguments.length?(s=!!d,c):s},c.interpolator=function(d){return arguments.length?(a=d,c):a};function u(d){return function(h){var p,m;return arguments.length?([p,m]=h,a=d(p,m),c):[a(0),a(1)]}}return c.range=u(li),c.rangeRound=u(Kd),c.unknown=function(d){return arguments.length?(l=d,c):l},function(d){return o=d,r=d(e),n=d(t),i=r===n?0:1/(n-r),c}}function qr(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Qb(){var e=Wr(Ps()(rt));return e.copy=function(){return qr(e,Qb())},kr.apply(e,arguments)}function ew(){var e=Jd(Ps()).domain([1,10]);return e.copy=function(){return qr(e,ew()).base(e.base())},kr.apply(e,arguments)}function tw(){var e=Xd(Ps());return e.copy=function(){return qr(e,tw()).constant(e.constant())},kr.apply(e,arguments)}function cf(){var e=Zd(Ps());return e.copy=function(){return qr(e,cf()).exponent(e.exponent())},kr.apply(e,arguments)}function QD(){return cf.apply(null,arguments).exponent(.5)}function rw(){var e=[],t=rt;function r(n){if(n!=null&&!isNaN(n=+n))return t((po(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Nr),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,o)=>NR(e,o/n))},r.copy=function(){return rw(t).domain(e)},kr.apply(r,arguments)}function As(){var e=0,t=.5,r=1,n=1,i,o,a,s,l,c=rt,u,d=!1,h;function p(g){return isNaN(g=+g)?h:(g=.5+((g=+u(g))-o)*(n*g<n*o?s:l),c(d?Math.max(0,Math.min(1,g)):g))}p.domain=function(g){return arguments.length?([e,t,r]=g,i=u(e=+e),o=u(t=+t),a=u(r=+r),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),n=o<i?-1:1,p):[e,t,r]},p.clamp=function(g){return arguments.length?(d=!!g,p):d},p.interpolator=function(g){return arguments.length?(c=g,p):c};function m(g){return function(y){var b,w,x;return arguments.length?([b,w,x]=y,c=dI(g,[b,w,x]),p):[c(0),c(.5),c(1)]}}return p.range=m(li),p.rangeRound=m(Kd),p.unknown=function(g){return arguments.length?(h=g,p):h},function(g){return u=g,i=g(e),o=g(t),a=g(r),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),n=o<i?-1:1,p}}function nw(){var e=Wr(As()(rt));return e.copy=function(){return qr(e,nw())},kr.apply(e,arguments)}function iw(){var e=Jd(As()).domain([.1,1,10]);return e.copy=function(){return qr(e,iw()).base(e.base())},kr.apply(e,arguments)}function ow(){var e=Xd(As());return e.copy=function(){return qr(e,ow()).constant(e.constant())},kr.apply(e,arguments)}function uf(){var e=Zd(As());return e.copy=function(){return qr(e,uf()).exponent(e.exponent())},kr.apply(e,arguments)}function e$(){return uf.apply(null,arguments).exponent(.5)}const Bi=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Wd,scaleDiverging:nw,scaleDivergingLog:iw,scaleDivergingPow:uf,scaleDivergingSqrt:e$,scaleDivergingSymlog:ow,scaleIdentity:Fb,scaleImplicit:Ru,scaleLinear:Mb,scaleLog:Lb,scaleOrdinal:zd,scalePoint:UR,scalePow:Qd,scaleQuantile:zb,scaleQuantize:Wb,scaleRadial:Ub,scaleSequential:Qb,scaleSequentialLog:ew,scaleSequentialPow:cf,scaleSequentialQuantile:rw,scaleSequentialSqrt:QD,scaleSequentialSymlog:tw,scaleSqrt:DI,scaleSymlog:Bb,scaleThreshold:qb,scaleTime:XD,scaleUtc:ZD,tickFormat:$b},Symbol.toStringTag,{value:"Module"}));var Hr=e=>e.chartData,t$=k([Hr],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),df=(e,t,r,n)=>n?t$(e):Hr(e);function Jn(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(St(t)&&St(r))return!0}return!1}function Sg(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function r$(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,i,o;if(St(r))i=r;else if(typeof r=="function")return;if(St(n))o=n;else if(typeof n=="function")return;var a=[i,o];if(Jn(a))return a}}function n$(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(Jn(n))return Sg(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[i,o]=e,a,s;if(i==="auto")t!=null&&(a=Math.min(...t));else if(H(i))a=i;else if(typeof i=="function")try{t!=null&&(a=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&mm.test(i)){var l=mm.exec(i);if(l==null||t==null)a=void 0;else{var c=+l[1];a=t[0]-c}}else a=t==null?void 0:t[0];if(o==="auto")t!=null&&(s=Math.max(...t));else if(H(o))s=o;else if(typeof o=="function")try{t!=null&&(s=o(t==null?void 0:t[1]))}catch{}else if(typeof o=="string"&&gm.test(o)){var u=gm.exec(o);if(u==null||t==null)s=void 0;else{var d=+u[1];s=t[1]+d}}else s=t==null?void 0:t[1];var h=[a,s];if(Jn(h))return t==null?h:Sg(h,t,r)}}}var ci=1e9,i$={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},hf,we=!0,Mt="[DecimalError] ",un=Mt+"Invalid argument: ",ff=Mt+"Exponent out of range: ",ui=Math.floor,Qr=Math.pow,o$=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,bt,De=1e7,ye=7,aw=9007199254740991,Ga=ui(aw/ye),U={};U.absoluteValue=U.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};U.comparedTo=U.cmp=function(e){var t,r,n,i,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(n=o.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return n===i?0:n>i^o.s<0?1:-1};U.decimalPlaces=U.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*ye;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};U.dividedBy=U.div=function(e){return br(this,new this.constructor(e))};U.dividedToIntegerBy=U.idiv=function(e){var t=this,r=t.constructor;return he(br(t,new r(e),0,1),r.precision)};U.equals=U.eq=function(e){return!this.cmp(e)};U.exponent=function(){return je(this)};U.greaterThan=U.gt=function(e){return this.cmp(e)>0};U.greaterThanOrEqualTo=U.gte=function(e){return this.cmp(e)>=0};U.isInteger=U.isint=function(){return this.e>this.d.length-2};U.isNegative=U.isneg=function(){return this.s<0};U.isPositive=U.ispos=function(){return this.s>0};U.isZero=function(){return this.s===0};U.lessThan=U.lt=function(e){return this.cmp(e)<0};U.lessThanOrEqualTo=U.lte=function(e){return this.cmp(e)<1};U.logarithm=U.log=function(e){var t,r=this,n=r.constructor,i=n.precision,o=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(bt))throw Error(Mt+"NaN");if(r.s<1)throw Error(Mt+(r.s?"NaN":"-Infinity"));return r.eq(bt)?new n(0):(we=!1,t=br(no(r,o),no(e,o),o),we=!0,he(t,i))};U.minus=U.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?cw(t,e):sw(t,(e.s=-e.s,e))};U.modulo=U.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(Mt+"NaN");return r.s?(we=!1,t=br(r,e,0,1).times(e),we=!0,r.minus(t)):he(new n(r),i)};U.naturalExponential=U.exp=function(){return lw(this)};U.naturalLogarithm=U.ln=function(){return no(this)};U.negated=U.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};U.plus=U.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?sw(t,e):cw(t,(e.s=-e.s,e))};U.precision=U.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(un+e);if(t=je(i)+1,n=i.d.length-1,r=n*ye+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};U.squareRoot=U.sqrt=function(){var e,t,r,n,i,o,a,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(Mt+"NaN")}for(e=je(s),we=!1,i=Math.sqrt(+s),i==0||i==1/0?(t=nr(s.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=ui((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new l(t)):n=new l(i.toString()),r=l.precision,i=a=r+3;;)if(o=n,n=o.plus(br(s,o,a+2)).times(.5),nr(o.d).slice(0,a)===(t=nr(n.d)).slice(0,a)){if(t=t.slice(a-3,a+1),i==a&&t=="4999"){if(he(o,r+1,0),o.times(o).eq(s)){n=o;break}}else if(t!="9999")break;a+=4}return we=!0,he(n,r)};U.times=U.mul=function(e){var t,r,n,i,o,a,s,l,c,u=this,d=u.constructor,h=u.d,p=(e=new d(e)).d;if(!u.s||!e.s)return new d(0);for(e.s*=u.s,r=u.e+e.e,l=h.length,c=p.length,l<c&&(o=h,h=p,p=o,a=l,l=c,c=a),o=[],a=l+c,n=a;n--;)o.push(0);for(n=c;--n>=0;){for(t=0,i=l+n;i>n;)s=o[i]+p[n]*h[i-n-1]+t,o[i--]=s%De|0,t=s/De|0;o[i]=(o[i]+t)%De|0}for(;!o[--a];)o.pop();return t?++r:o.shift(),e.d=o,e.e=r,we?he(e,d.precision):e};U.toDecimalPlaces=U.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(ar(e,0,ci),t===void 0?t=n.rounding:ar(t,0,8),he(r,e+je(r)+1,t))};U.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=pn(n,!0):(ar(e,0,ci),t===void 0?t=i.rounding:ar(t,0,8),n=he(new i(n),e+1,t),r=pn(n,!0,e+1)),r};U.toFixed=function(e,t){var r,n,i=this,o=i.constructor;return e===void 0?pn(i):(ar(e,0,ci),t===void 0?t=o.rounding:ar(t,0,8),n=he(new o(i),e+je(i)+1,t),r=pn(n.abs(),!1,e+je(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};U.toInteger=U.toint=function(){var e=this,t=e.constructor;return he(new t(e),je(e)+1,t.rounding)};U.toNumber=function(){return+this};U.toPower=U.pow=function(e){var t,r,n,i,o,a,s=this,l=s.constructor,c=12,u=+(e=new l(e));if(!e.s)return new l(bt);if(s=new l(s),!s.s){if(e.s<1)throw Error(Mt+"Infinity");return s}if(s.eq(bt))return s;if(n=l.precision,e.eq(bt))return he(s,n);if(t=e.e,r=e.d.length-1,a=t>=r,o=s.s,a){if((r=u<0?-u:u)<=aw){for(i=new l(bt),t=Math.ceil(n/ye+4),we=!1;r%2&&(i=i.times(s),jg(i.d,t)),r=ui(r/2),r!==0;)s=s.times(s),jg(s.d,t);return we=!0,e.s<0?new l(bt).div(i):he(i,n)}}else if(o<0)throw Error(Mt+"NaN");return o=o<0&&e.d[Math.max(t,r)]&1?-1:1,s.s=1,we=!1,i=e.times(no(s,n+c)),we=!0,i=lw(i),i.s=o,i};U.toPrecision=function(e,t){var r,n,i=this,o=i.constructor;return e===void 0?(r=je(i),n=pn(i,r<=o.toExpNeg||r>=o.toExpPos)):(ar(e,1,ci),t===void 0?t=o.rounding:ar(t,0,8),i=he(new o(i),e,t),r=je(i),n=pn(i,e<=r||r<=o.toExpNeg,e)),n};U.toSignificantDigits=U.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(ar(e,1,ci),t===void 0?t=n.rounding:ar(t,0,8)),he(new n(r),e,t)};U.toString=U.valueOf=U.val=U.toJSON=U[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=je(e),r=e.constructor;return pn(e,t<=r.toExpNeg||t>=r.toExpPos)};function sw(e,t){var r,n,i,o,a,s,l,c,u=e.constructor,d=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),we?he(t,d):t;if(l=e.d,c=t.d,a=e.e,i=t.e,l=l.slice(),o=a-i,o){for(o<0?(n=l,o=-o,s=c.length):(n=c,i=a,s=l.length),a=Math.ceil(d/ye),s=a>s?a+1:s+1,o>s&&(o=s,n.length=1),n.reverse();o--;)n.push(0);n.reverse()}for(s=l.length,o=c.length,s-o<0&&(o=s,n=c,c=l,l=n),r=0;o;)r=(l[--o]=l[o]+c[o]+r)/De|0,l[o]%=De;for(r&&(l.unshift(r),++i),s=l.length;l[--s]==0;)l.pop();return t.d=l,t.e=i,we?he(t,d):t}function ar(e,t,r){if(e!==~~e||e<t||e>r)throw Error(un+e)}function nr(e){var t,r,n,i=e.length-1,o="",a=e[0];if(i>0){for(o+=a,t=1;t<i;t++)n=e[t]+"",r=ye-n.length,r&&(o+=Dr(r)),o+=n;a=e[t],n=a+"",r=ye-n.length,r&&(o+=Dr(r))}else if(a===0)return"0";for(;a%10===0;)a/=10;return o+a}var br=(function(){function e(n,i){var o,a=0,s=n.length;for(n=n.slice();s--;)o=n[s]*i+a,n[s]=o%De|0,a=o/De|0;return a&&n.unshift(a),n}function t(n,i,o,a){var s,l;if(o!=a)l=o>a?1:-1;else for(s=l=0;s<o;s++)if(n[s]!=i[s]){l=n[s]>i[s]?1:-1;break}return l}function r(n,i,o){for(var a=0;o--;)n[o]-=a,a=n[o]<i[o]?1:0,n[o]=a*De+n[o]-i[o];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,o,a){var s,l,c,u,d,h,p,m,g,y,b,w,x,_,S,E,j,P,A=n.constructor,I=n.s==i.s?1:-1,O=n.d,D=i.d;if(!n.s)return new A(n);if(!i.s)throw Error(Mt+"Division by zero");for(l=n.e-i.e,j=D.length,S=O.length,p=new A(I),m=p.d=[],c=0;D[c]==(O[c]||0);)++c;if(D[c]>(O[c]||0)&&--l,o==null?w=o=A.precision:a?w=o+(je(n)-je(i))+1:w=o,w<0)return new A(0);if(w=w/ye+2|0,c=0,j==1)for(u=0,D=D[0],w++;(c<S||u)&&w--;c++)x=u*De+(O[c]||0),m[c]=x/D|0,u=x%D|0;else{for(u=De/(D[0]+1)|0,u>1&&(D=e(D,u),O=e(O,u),j=D.length,S=O.length),_=j,g=O.slice(0,j),y=g.length;y<j;)g[y++]=0;P=D.slice(),P.unshift(0),E=D[0],D[1]>=De/2&&++E;do u=0,s=t(D,g,j,y),s<0?(b=g[0],j!=y&&(b=b*De+(g[1]||0)),u=b/E|0,u>1?(u>=De&&(u=De-1),d=e(D,u),h=d.length,y=g.length,s=t(d,g,h,y),s==1&&(u--,r(d,j<h?P:D,h))):(u==0&&(s=u=1),d=D.slice()),h=d.length,h<y&&d.unshift(0),r(g,d,y),s==-1&&(y=g.length,s=t(D,g,j,y),s<1&&(u++,r(g,j<y?P:D,y))),y=g.length):s===0&&(u++,g=[0]),m[c++]=u,s&&g[0]?g[y++]=O[_]||0:(g=[O[_]],y=1);while((_++<S||g[0]!==void 0)&&w--)}return m[0]||m.shift(),p.e=l,he(p,a?o+je(p)+1:o)}})();function lw(e,t){var r,n,i,o,a,s,l=0,c=0,u=e.constructor,d=u.precision;if(je(e)>16)throw Error(ff+je(e));if(!e.s)return new u(bt);for(we=!1,s=d,a=new u(.03125);e.abs().gte(.1);)e=e.times(a),c+=5;for(n=Math.log(Qr(2,c))/Math.LN10*2+5|0,s+=n,r=i=o=new u(bt),u.precision=s;;){if(i=he(i.times(e),s),r=r.times(++l),a=o.plus(br(i,r,s)),nr(a.d).slice(0,s)===nr(o.d).slice(0,s)){for(;c--;)o=he(o.times(o),s);return u.precision=d,t==null?(we=!0,he(o,d)):o}o=a}}function je(e){for(var t=e.e*ye,r=e.d[0];r>=10;r/=10)t++;return t}function xc(e,t,r){if(t>e.LN10.sd())throw we=!0,r&&(e.precision=r),Error(Mt+"LN10 precision limit exceeded");return he(new e(e.LN10),t)}function Dr(e){for(var t="";e--;)t+="0";return t}function no(e,t){var r,n,i,o,a,s,l,c,u,d=1,h=10,p=e,m=p.d,g=p.constructor,y=g.precision;if(p.s<1)throw Error(Mt+(p.s?"NaN":"-Infinity"));if(p.eq(bt))return new g(0);if(t==null?(we=!1,c=y):c=t,p.eq(10))return t==null&&(we=!0),xc(g,c);if(c+=h,g.precision=c,r=nr(m),n=r.charAt(0),o=je(p),Math.abs(o)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=nr(p.d),n=r.charAt(0),d++;o=je(p),n>1?(p=new g("0."+r),o++):p=new g(n+"."+r.slice(1))}else return l=xc(g,c+2,y).times(o+""),p=no(new g(n+"."+r.slice(1)),c-h).plus(l),g.precision=y,t==null?(we=!0,he(p,y)):p;for(s=a=p=br(p.minus(bt),p.plus(bt),c),u=he(p.times(p),c),i=3;;){if(a=he(a.times(u),c),l=s.plus(br(a,new g(i),c)),nr(l.d).slice(0,c)===nr(s.d).slice(0,c))return s=s.times(2),o!==0&&(s=s.plus(xc(g,c+2,y).times(o+""))),s=br(s,new g(d),c),g.precision=y,t==null?(we=!0,he(s,y)):s;s=l,i+=2}}function Eg(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=ui(r/ye),e.d=[],n=(r+1)%ye,r<0&&(n+=ye),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=ye;n<i;)e.d.push(+t.slice(n,n+=ye));t=t.slice(n),n=ye-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),we&&(e.e>Ga||e.e<-Ga))throw Error(ff+r)}else e.s=0,e.e=0,e.d=[0];return e}function he(e,t,r){var n,i,o,a,s,l,c,u,d=e.d;for(a=1,o=d[0];o>=10;o/=10)a++;if(n=t-a,n<0)n+=ye,i=t,c=d[u=0];else{if(u=Math.ceil((n+1)/ye),o=d.length,u>=o)return e;for(c=o=d[u],a=1;o>=10;o/=10)a++;n%=ye,i=n-ye+a}if(r!==void 0&&(o=Qr(10,a-i-1),s=c/o%10|0,l=t<0||d[u+1]!==void 0||c%o,l=r<4?(s||l)&&(r==0||r==(e.s<0?3:2)):s>5||s==5&&(r==4||l||r==6&&(n>0?i>0?c/Qr(10,a-i):0:d[u-1])%10&1||r==(e.s<0?8:7))),t<1||!d[0])return l?(o=je(e),d.length=1,t=t-o-1,d[0]=Qr(10,(ye-t%ye)%ye),e.e=ui(-t/ye)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(n==0?(d.length=u,o=1,u--):(d.length=u+1,o=Qr(10,ye-n),d[u]=i>0?(c/Qr(10,a-i)%Qr(10,i)|0)*o:0),l)for(;;)if(u==0){(d[0]+=o)==De&&(d[0]=1,++e.e);break}else{if(d[u]+=o,d[u]!=De)break;d[u--]=0,o=1}for(n=d.length;d[--n]===0;)d.pop();if(we&&(e.e>Ga||e.e<-Ga))throw Error(ff+je(e));return e}function cw(e,t){var r,n,i,o,a,s,l,c,u,d,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),we?he(t,p):t;if(l=e.d,d=t.d,n=t.e,c=e.e,l=l.slice(),a=c-n,a){for(u=a<0,u?(r=l,a=-a,s=d.length):(r=d,n=c,s=l.length),i=Math.max(Math.ceil(p/ye),s)+2,a>i&&(a=i,r.length=1),r.reverse(),i=a;i--;)r.push(0);r.reverse()}else{for(i=l.length,s=d.length,u=i<s,u&&(s=i),i=0;i<s;i++)if(l[i]!=d[i]){u=l[i]<d[i];break}a=0}for(u&&(r=l,l=d,d=r,t.s=-t.s),s=l.length,i=d.length-s;i>0;--i)l[s++]=0;for(i=d.length;i>a;){if(l[--i]<d[i]){for(o=i;o&&l[--o]===0;)l[o]=De-1;--l[o],l[i]+=De}l[i]-=d[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(t.d=l,t.e=n,we?he(t,p):t):new h(0)}function pn(e,t,r){var n,i=je(e),o=nr(e.d),a=o.length;return t?(r&&(n=r-a)>0?o=o.charAt(0)+"."+o.slice(1)+Dr(n):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Dr(-i-1)+o,r&&(n=r-a)>0&&(o+=Dr(n))):i>=a?(o+=Dr(i+1-a),r&&(n=r-i-1)>0&&(o=o+"."+Dr(n))):((n=i+1)<a&&(o=o.slice(0,n)+"."+o.slice(n)),r&&(n=r-a)>0&&(i+1===a&&(o+="."),o+=Dr(n))),e.s<0?"-"+o:o}function jg(e,t){if(e.length>t)return e.length=t,!0}function uw(e){var t,r,n;function i(o){var a=this;if(!(a instanceof i))return new i(o);if(a.constructor=i,o instanceof i){a.s=o.s,a.e=o.e,a.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(un+o);if(o>0)a.s=1;else if(o<0)o=-o,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(o===~~o&&o<1e7){a.e=0,a.d=[o];return}return Eg(a,o.toString())}else if(typeof o!="string")throw Error(un+o);if(o.charCodeAt(0)===45?(o=o.slice(1),a.s=-1):a.s=1,o$.test(o))Eg(a,o);else throw Error(un+o)}if(i.prototype=U,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=uw,i.config=i.set=a$,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function a$(e){if(!e||typeof e!="object")throw Error(Mt+"Object expected");var t,r,n,i=["precision",1,ci,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(ui(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(un+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(un+r+": "+n);return this}var hf=uw(i$);bt=new hf(1);const ce=hf;var s$=e=>e,dw={},fw=e=>e===dw,Cg=e=>function t(){return arguments.length===0||arguments.length===1&&fw(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},hw=(e,t)=>e===1?t:Cg(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var o=n.filter(a=>a!==dw).length;return o>=e?t(...n):hw(e-o,Cg(function(){for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];var c=n.map(u=>fw(u)?s.shift():u);return t(...c,...s)}))}),Os=e=>hw(e.length,e),Mu=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},l$=Os((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),c$=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return s$;var i=r.reverse(),o=i[0],a=i.slice(1);return function(){return a.reduce((s,l)=>l(s),o(...arguments))}},Fu=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),pw=e=>{var t=null,r=null;return function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return t&&i.every((a,s)=>{var l;return a===((l=t)===null||l===void 0?void 0:l[s])})||(t=i,r=e(...i)),r}};function mw(e){var t;return e===0?t=1:t=Math.floor(new ce(e).abs().log(10).toNumber())+1,t}function gw(e,t,r){for(var n=new ce(e),i=0,o=[];n.lt(t)&&i<1e5;)o.push(n.toNumber()),n=n.add(r),i++;return o}Os((e,t,r)=>{var n=+e,i=+t;return n+r*(i-n)});Os((e,t,r)=>{var n=t-+e;return n=n||1/0,(r-e)/n});Os((e,t,r)=>{var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});var yw=e=>{var[t,r]=e,[n,i]=[t,r];return t>r&&([n,i]=[r,t]),[n,i]},vw=(e,t,r)=>{if(e.lte(0))return new ce(0);var n=mw(e.toNumber()),i=new ce(10).pow(n),o=e.div(i),a=n!==1?.05:.1,s=new ce(Math.ceil(o.div(a).toNumber())).add(r).mul(a),l=s.mul(i);return t?new ce(l.toNumber()):new ce(Math.ceil(l.toNumber()))},u$=(e,t,r)=>{var n=new ce(1),i=new ce(e);if(!i.isint()&&r){var o=Math.abs(e);o<1?(n=new ce(10).pow(mw(e)-1),i=new ce(Math.floor(i.div(n).toNumber())).mul(n)):o>1&&(i=new ce(Math.floor(e)))}else e===0?i=new ce(Math.floor((t-1)/2)):r||(i=new ce(Math.floor(e)));var a=Math.floor((t-1)/2),s=c$(l$(l=>i.add(new ce(l-a).mul(n)).toNumber()),Mu);return s(0,t)},bw=function(t,r,n,i){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new ce(0),tickMin:new ce(0),tickMax:new ce(0)};var a=vw(new ce(r).sub(t).div(n-1),i,o),s;t<=0&&r>=0?s=new ce(0):(s=new ce(t).add(r).div(2),s=s.sub(new ce(s).mod(a)));var l=Math.ceil(s.sub(t).div(a).toNumber()),c=Math.ceil(new ce(r).sub(s).div(a).toNumber()),u=l+c+1;return u>n?bw(t,r,n,i,o+1):(u<n&&(c=r>0?c+(n-u):c,l=r>0?l:l+(n-u)),{step:a,tickMin:s.sub(new ce(l).mul(a)),tickMax:s.add(new ce(c).mul(a))})};function d$(e){var[t,r]=e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(n,2),[a,s]=yw([t,r]);if(a===-1/0||s===1/0){var l=s===1/0?[a,...Mu(0,n-1).map(()=>1/0)]:[...Mu(0,n-1).map(()=>-1/0),s];return t>r?Fu(l):l}if(a===s)return u$(a,n,i);var{step:c,tickMin:u,tickMax:d}=bw(a,s,o,i,0),h=gw(u,d.add(new ce(.1).mul(c)),c);return t>r?Fu(h):h}function f$(e,t){var[r,n]=e,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,a]=yw([r,n]);if(o===-1/0||a===1/0)return[r,n];if(o===a)return[o];var s=Math.max(t,2),l=vw(new ce(a).sub(o).div(s-1),i,0),c=[...gw(new ce(o),new ce(a),l),a];return i===!1&&(c=c.map(u=>Math.round(u))),r>n?Fu(c):c}var h$=pw(d$),p$=pw(f$),ww=e=>e.rootProps.maxBarSize,m$=e=>e.rootProps.barGap,xw=e=>e.rootProps.barCategoryGap,g$=e=>e.rootProps.barSize,Ts=e=>e.rootProps.stackOffset,pf=e=>e.options.chartName,mf=e=>e.rootProps.syncId,_w=e=>e.rootProps.syncMethod,gf=e=>e.options.eventEmitter,hr={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},vt={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Rs=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},y$={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:hr.angleAxisId,includeHidden:!1,name:void 0,reversed:hr.reversed,scale:hr.scale,tick:hr.tick,tickCount:void 0,ticks:void 0,type:hr.type,unit:void 0},v$={allowDataOverflow:vt.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:vt.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:vt.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:vt.scale,tick:vt.tick,tickCount:vt.tickCount,ticks:void 0,type:vt.type,unit:void 0},b$={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:hr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:hr.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:hr.scale,tick:hr.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},w$={allowDataOverflow:vt.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:vt.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:vt.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:vt.scale,tick:vt.tick,tickCount:vt.tickCount,ticks:void 0,type:"category",unit:void 0},yf=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?b$:y$,vf=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?w$:v$,Is=e=>e.polarOptions,bf=k([jr,Cr,Fe],jT),Sw=k([Is,bf],(e,t)=>{if(e!=null)return Vt(e.innerRadius,t,0)}),Ew=k([Is,bf],(e,t)=>{if(e!=null)return Vt(e.outerRadius,t,t*.8)}),x$=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},jw=k([Is],x$);k([yf,jw],Rs);var Cw=k([bf,Sw,Ew],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});k([vf,Cw],Rs);var kw=k([ue,Is,Sw,Ew,jr,Cr],(e,t,r,n,i,o)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:a,cy:s,startAngle:l,endAngle:c}=t;return{cx:Vt(a,i,i/2),cy:Vt(s,o,o/2),innerRadius:r,outerRadius:n,startAngle:l,endAngle:c,clockWise:!1}}}),ke=(e,t)=>t,Ds=(e,t,r)=>r;function wf(e){return e==null?void 0:e.id}var Te=e=>{var t=ue(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},di=e=>e.tooltip.settings.axisId,Le=e=>{var t=Te(e),r=di(e);return vo(e,t,r)},Pw=k([Le],e=>e==null?void 0:e.dataKey);function Aw(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:i,dataKey:o}=r,a=new Map;return e.forEach(s=>{var l,c=(l=s.data)!==null&&l!==void 0?l:n;if(!(c==null||c.length===0)){var u=wf(s);c.forEach((d,h)=>{var p=o==null||i?h:String(nt(d,o,null)),m=nt(d,s.dataKey,0),g;a.has(p)?g=a.get(p):g={},Object.assign(g,{[u]:m}),a.set(p,g)})}}),Array.from(a.values())}function $s(e){return e.stackId!=null&&e.dataKey!=null}function kg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ya(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kg(Object(r),!0).forEach(function(n){_$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _$(e,t,r){return(t=S$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S$(e){var t=E$(e,"string");return typeof t=="symbol"?t:t+""}function E$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Nu=[0,"auto"],gt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Ow=(e,t)=>e.cartesianAxis.xAxis[t],Pr=(e,t)=>{var r=Ow(e,t);return r??gt},yt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Nu,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:ho},Tw=(e,t)=>e.cartesianAxis.yAxis[t],Ar=(e,t)=>{var r=Tw(e,t);return r??yt},j$={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},xf=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??j$},ft=(e,t,r)=>{switch(t){case"xAxis":return Pr(e,r);case"yAxis":return Ar(e,r);case"zAxis":return xf(e,r);case"angleAxis":return yf(e,r);case"radiusAxis":return vf(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},C$=(e,t,r)=>{switch(t){case"xAxis":return Pr(e,r);case"yAxis":return Ar(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},vo=(e,t,r)=>{switch(t){case"xAxis":return Pr(e,r);case"yAxis":return Ar(e,r);case"angleAxis":return yf(e,r);case"radiusAxis":return vf(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Rw=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function Iw(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var _f=e=>e.graphicalItems.cartesianItems,k$=k([ke,Ds],Iw),Dw=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),bo=k([_f,ft,k$],Dw),$w=k([bo],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter($s)),Mw=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),Fw=k([bo],Mw),Nw=e=>e.map(t=>t.data).filter(Boolean).flat(1),P$=k([bo],Nw),Lw=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=t;return e.length>0?e:r.slice(n,i+1)},Sf=k([P$,df],Lw),Bw=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:nt(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(i=>({value:nt(i,n)}))):e.map(n=>({value:n})),Ms=k([Sf,ft,bo],Bw);function Uw(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function xn(e){return e.filter(t=>or(t)||t instanceof Date).map(Number).filter(t=>xt(t)===!1)}function A$(e,t,r){return!r||typeof t!="number"||xt(t)?[]:r.length?xn(r.flatMap(n=>{var i=nt(e,n.dataKey),o,a;if(Array.isArray(i)?[o,a]=i:o=a=i,!(!St(o)||!St(a)))return[t-o,t+a]})):[]}var O$=k([$w,df,Le],Aw),zw=(e,t,r)=>{var n={},i=t.reduce((o,a)=>(a.stackId==null||(o[a.stackId]==null&&(o[a.stackId]=[]),o[a.stackId].push(a)),o),n);return Object.fromEntries(Object.entries(i).map(o=>{var[a,s]=o,l=s.map(wf);return[a,{stackedData:UT(e,l,r),graphicalItems:s}]}))},Lu=k([O$,$w,Ts],zw),Ww=(e,t,r)=>{var{dataStartIndex:n,dataEndIndex:i}=t;if(r!=="zAxis"){var o=KT(e,n,i);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},T$=k([Lu,Hr,ke],Ww),qw=(e,t,r,n,i)=>r.length>0?e.flatMap(o=>r.flatMap(a=>{var s,l,c=(s=n[a.id])===null||s===void 0?void 0:s.filter(d=>Uw(i,d)),u=nt(o,(l=t.dataKey)!==null&&l!==void 0?l:a.dataKey);return{value:u,errorDomain:A$(o,u,c)}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(o=>({value:nt(o,t.dataKey),errorDomain:[]})):e.map(o=>({value:o,errorDomain:[]})),Fs=e=>e.errorBars,Hw=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>Uw(r,n));k([Fw,Fs,ke],Hw);var R$=k([Sf,ft,Fw,Fs,ke],qw);function I$(e){var{value:t}=e;if(or(t)||t instanceof Date)return t}var Pg=e=>{var t=e.flatMap(n=>[n.value,n.errorDomain]).flat(1),r=xn(t);if(r.length!==0)return[Math.min(...r),Math.max(...r)]},D$=(e,t,r)=>{var n=e.map(I$).filter(i=>i!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&n0(n))?jb(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},Ef=e=>{var t;if(e==null||!("domain"in e))return Nu;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=xn(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:Nu},Va=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var o=i.flat(),a=Math.min(...o),s=Math.max(...o);return[a,s]}},Kw=e=>e.referenceElements.dots,fi=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),$$=k([Kw,ke,Ds],fi),Gw=e=>e.referenceElements.areas,M$=k([Gw,ke,Ds],fi),Yw=e=>e.referenceElements.lines,F$=k([Yw,ke,Ds],fi),Vw=(e,t)=>{var r=xn(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},N$=k($$,ke,Vw),Jw=(e,t)=>{var r=xn(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},L$=k([M$,ke],Jw),Xw=(e,t)=>{var r=xn(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},B$=k(F$,ke,Xw),U$=k(N$,B$,L$,(e,t,r)=>Va(e,r,t)),z$=k([ft],Ef),Zw=(e,t,r,n,i,o,a)=>{var s=r$(t,e.allowDataOverflow);if(s!=null)return s;var l=o==="vertical"&&a==="xAxis"||o==="horizontal"&&a==="yAxis",c=l?Va(r,i,Pg(n)):Va(i,Pg(n));return n$(t,c,e.allowDataOverflow)},W$=k([ft,z$,T$,R$,U$,ue,ke],Zw),q$=[0,1],Qw=(e,t,r,n,i,o,a)=>{if(!((e==null||r==null||r.length===0)&&a===void 0)){var{dataKey:s,type:l}=e,c=vn(t,o);return c&&s==null?jb(0,r.length):l==="category"?D$(n,e,c):i==="expand"?q$:a}},jf=k([ft,ue,Sf,Ms,Ts,ke,W$],Qw),ex=(e,t,r,n,i)=>{if(e!=null){var{scale:o,type:a}=e;if(o==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":a==="category"?"band":"linear";if(typeof o=="string"){var s="scale".concat(co(o));return s in Bi?s:"point"}}},wo=k([ft,ue,Rw,pf,ke],ex);function H$(e){if(e!=null){if(e in Bi)return Bi[e]();var t="scale".concat(co(e));if(t in Bi)return Bi[t]()}}function Cf(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var i=H$(t);if(i!=null){var o=i.domain(r).range(n);return MT(o),o}}}var tx=(e,t,r)=>{var n=Ef(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Jn(e))return h$(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Jn(e))return p$(e,t.tickCount,t.allowDecimals)}},kf=k([jf,vo,wo],tx),rx=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&Jn(t)&&Array.isArray(r)&&r.length>0){var i=t[0],o=r[0],a=t[1],s=r[r.length-1];return[Math.min(i,o),Math.max(a,s)]}return t},K$=k([ft,jf,kf,ke],rx),G$=k(Ms,ft,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(xn(e.map(s=>s.value))).sort((s,l)=>s-l);if(n.length<2)return 1/0;var i=n[n.length-1]-n[0];if(i===0)return 1/0;for(var o=0;o<n.length-1;o++){var a=n[o+1]-n[o];r=Math.min(r,a)}return r/i}}),nx=k(G$,ue,xw,Fe,(e,t,r,n)=>n,(e,t,r,n,i)=>{if(!St(e))return 0;var o=t==="vertical"?n.height:n.width;if(i==="gap")return e*o/2;if(i==="no-gap"){var a=Vt(r,e*o),s=e*o/2;return s-a-(s-a)/o*a}return 0}),Y$=(e,t)=>{var r=Pr(e,t);return r==null||typeof r.padding!="string"?0:nx(e,"xAxis",t,r.padding)},V$=(e,t)=>{var r=Ar(e,t);return r==null||typeof r.padding!="string"?0:nx(e,"yAxis",t,r.padding)},J$=k(Pr,Y$,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((r=i.left)!==null&&r!==void 0?r:0)+t,right:((n=i.right)!==null&&n!==void 0?n:0)+t}}),X$=k(Ar,V$,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((r=i.top)!==null&&r!==void 0?r:0)+t,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+t}}),Z$=k([Fe,J$,Ss,_s,(e,t,r)=>r],(e,t,r,n,i)=>{var{padding:o}=n;return i?[o.left,r.width-o.right]:[e.left+t.left,e.left+e.width-t.right]}),Q$=k([Fe,ue,X$,Ss,_s,(e,t,r)=>r],(e,t,r,n,i,o)=>{var{padding:a}=i;return o?[n.height-a.bottom,a.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),xo=(e,t,r,n)=>{var i;switch(t){case"xAxis":return Z$(e,r,n);case"yAxis":return Q$(e,r,n);case"zAxis":return(i=xf(e,r))===null||i===void 0?void 0:i.range;case"angleAxis":return jw(e);case"radiusAxis":return Cw(e,r);default:return}},ix=k([ft,xo],Rs),hi=k([ft,wo,K$,ix],Cf);k([bo,Fs,ke],Hw);function ox(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Ns=(e,t)=>t,Ls=(e,t,r)=>r,eM=k(ws,Ns,Ls,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(ox)),tM=k(xs,Ns,Ls,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(ox)),ax=(e,t)=>({width:e.width,height:t.height}),rM=(e,t)=>{var r=typeof t.width=="number"?t.width:ho;return{width:r,height:e.height}},sx=k(Fe,Pr,ax),nM=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},iM=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},oM=k(Cr,Fe,eM,Ns,Ls,(e,t,r,n,i)=>{var o={},a;return r.forEach(s=>{var l=ax(t,s);a==null&&(a=nM(t,n,e));var c=n==="top"&&!i||n==="bottom"&&i;o[s.id]=a-Number(c)*l.height,a+=(c?-1:1)*l.height}),o}),aM=k(jr,Fe,tM,Ns,Ls,(e,t,r,n,i)=>{var o={},a;return r.forEach(s=>{var l=rM(t,s);a==null&&(a=iM(t,n,e));var c=n==="left"&&!i||n==="right"&&i;o[s.id]=a-Number(c)*l.width,a+=(c?-1:1)*l.width}),o}),sM=(e,t)=>{var r=Pr(e,t);if(r!=null)return oM(e,r.orientation,r.mirror)},lM=k([Fe,Pr,sM,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r==null?void 0:r[n];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),cM=(e,t)=>{var r=Ar(e,t);if(r!=null)return aM(e,r.orientation,r.mirror)},uM=k([Fe,Ar,cM,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r==null?void 0:r[n];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),lx=k(Fe,Ar,(e,t)=>{var r=typeof t.width=="number"?t.width:ho;return{width:r,height:e.height}}),Ag=(e,t,r)=>{switch(t){case"xAxis":return sx(e,r).width;case"yAxis":return lx(e,r).height;default:return}},cx=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:o,dataKey:a}=r,s=vn(e,n),l=t.map(c=>c.value);if(a&&s&&o==="category"&&i&&n0(l))return l}},Pf=k([ue,Ms,ft,ke],cx),ux=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:o}=r,a=vn(e,n);if(a&&(i==="number"||o!=="auto"))return t.map(s=>s.value)}},Af=k([ue,Ms,vo,ke],ux),Og=k([ue,C$,wo,hi,Pf,Af,xo,kf,ke],(e,t,r,n,i,o,a,s,l)=>{if(t==null)return null;var c=vn(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:o,duplicateDomain:i,isCategorical:c,niceTicks:s,range:a,realScaleType:r,scale:n}}),dM=(e,t,r,n,i,o,a,s,l)=>{if(!(t==null||n==null)){var c=vn(e,l),{type:u,ticks:d,tickCount:h}=t,p=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,m=u==="category"&&n.bandwidth?n.bandwidth()/p:0;m=l==="angleAxis"&&o!=null&&o.length>=2?st(o[0]-o[1])*2*m:m;var g=d||i;if(g){var y=g.map((b,w)=>{var x=a?a.indexOf(b):b;return{index:w,coordinate:n(x)+m,value:b,offset:m}});return y.filter(b=>!xt(b.coordinate))}return c&&s?s.map((b,w)=>({coordinate:n(b)+m,value:b,index:w,offset:m})):n.ticks?n.ticks(h).map(b=>({coordinate:n(b)+m,value:b,offset:m})):n.domain().map((b,w)=>({coordinate:n(b)+m,value:a?a[b]:b,index:w,offset:m}))}},dx=k([ue,vo,wo,hi,kf,xo,Pf,Af,ke],dM),fM=(e,t,r,n,i,o,a)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var s=vn(e,a),{tickCount:l}=t,c=0;return c=a==="angleAxis"&&(n==null?void 0:n.length)>=2?st(n[0]-n[1])*2*c:c,s&&o?o.map((u,d)=>({coordinate:r(u)+c,value:u,index:d,offset:c})):r.ticks?r.ticks(l).map(u=>({coordinate:r(u)+c,value:u,offset:c})):r.domain().map((u,d)=>({coordinate:r(u)+c,value:i?i[u]:u,index:d,offset:c}))}},Xn=k([ue,vo,hi,xo,Pf,Af,ke],fM),Zn=k(ft,hi,(e,t)=>{if(!(e==null||t==null))return Ya(Ya({},e),{},{scale:t})}),hM=k([ft,wo,jf,ix],Cf);k((e,t,r)=>xf(e,r),hM,(e,t)=>{if(!(e==null||t==null))return Ya(Ya({},e),{},{scale:t})});var pM=k([ue,ws,xs],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),fx=e=>e.options.defaultTooltipEventType,hx=e=>e.options.validateTooltipEventTypes;function px(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function Of(e,t){var r=fx(e),n=hx(e);return px(t,r,n)}function mM(e){return K(t=>Of(t,e))}var mx=(e,t)=>{var r,n=Number(t);if(!(xt(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},gM=e=>e.tooltip.settings,Fr={active:!1,index:null,dataKey:void 0,coordinate:void 0},yM={itemInteraction:{click:Fr,hover:Fr},axisInteraction:{click:Fr,hover:Fr},keyboardInteraction:Fr,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},gx=jt({name:"tooltip",initialState:yM,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var r=vr(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:vM,removeTooltipEntrySettings:bM,setTooltipSettingsState:wM,setActiveMouseOverItemIndex:yx,mouseLeaveItem:xM,mouseLeaveChart:vx,setActiveClickItemIndex:_M,setMouseOverAxisIndex:bx,setMouseClickAxisIndex:SM,setSyncInteraction:Bu,setKeyboardInteraction:Uu}=gx.actions,EM=gx.reducer;function Tg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Zo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Tg(Object(r),!0).forEach(function(n){jM(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jM(e,t,r){return(t=CM(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CM(e){var t=kM(e,"string");return typeof t=="symbol"?t:t+""}function kM(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function PM(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function AM(e){return e.index!=null}var wx=(e,t,r,n)=>{if(t==null)return Fr;var i=PM(e,t,r);if(i==null)return Fr;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var o=e.settings.active===!0;if(AM(i)){if(o)return Zo(Zo({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return Zo(Zo({},Fr),{},{coordinate:i.coordinate})},Tf=(e,t)=>{var r=e==null?void 0:e.index;if(r==null)return null;var n=Number(r);if(!St(n))return r;var i=0,o=1/0;return t.length>0&&(o=t.length-1),String(Math.max(i,Math.min(n,o)))},xx=(e,t,r,n,i,o,a,s)=>{if(!(o==null||s==null)){var l=a[0],c=l==null?void 0:s(l.positions,o);if(c!=null)return c;var u=i==null?void 0:i[Number(o)];if(u)switch(r){case"horizontal":return{x:u.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:u.coordinate}}}},_x=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return r==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(o=>{var a;return((a=o.settings)===null||a===void 0?void 0:a.dataKey)===i})},_o=e=>e.options.tooltipPayloadSearcher,pi=e=>e.tooltip;function Rg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ig(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Rg(Object(r),!0).forEach(function(n){OM(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OM(e,t,r){return(t=TM(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TM(e){var t=RM(e,"string");return typeof t=="symbol"?t:t+""}function RM(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function IM(e,t){return e??t}var Sx=(e,t,r,n,i,o,a)=>{if(!(t==null||o==null)){var{chartData:s,computedData:l,dataStartIndex:c,dataEndIndex:u}=r,d=[];return e.reduce((h,p)=>{var m,{dataDefinedOnItem:g,settings:y}=p,b=IM(g,s),w=Array.isArray(b)?sb(b,c,u):b,x=(m=y==null?void 0:y.dataKey)!==null&&m!==void 0?m:n,_=y==null?void 0:y.nameKey,S;if(n&&Array.isArray(w)&&!Array.isArray(w[0])&&a==="axis"?S=CP(w,n,i):S=o(w,t,l,_),Array.isArray(S))S.forEach(j=>{var P=Ig(Ig({},y),{},{name:j.name,unit:j.unit,color:void 0,fill:void 0});h.push(ym({tooltipEntrySettings:P,dataKey:j.dataKey,payload:j.payload,value:nt(j.payload,j.dataKey),name:j.name}))});else{var E;h.push(ym({tooltipEntrySettings:y,dataKey:x,payload:S,value:nt(S,x),name:(E=nt(S,_))!==null&&E!==void 0?E:y==null?void 0:y.name}))}return h},d)}},Rf=k([Le,ue,Rw,pf,Te],ex),DM=k([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),$M=k([Te,di],Iw),So=k([DM,Le,$M],Dw),MM=k([So],e=>e.filter($s)),FM=k([So],Nw),mi=k([FM,Hr],Lw),NM=k([MM,Hr,Le],Aw),If=k([mi,Le,So],Bw),LM=k([Le],Ef),BM=k([So],e=>e.filter($s)),UM=k([NM,BM,Ts],zw),zM=k([UM,Hr,Te],Ww),WM=k([So],Mw),qM=k([mi,Le,WM,Fs,Te],qw),HM=k([Kw,Te,di],fi),KM=k([HM,Te],Vw),GM=k([Gw,Te,di],fi),YM=k([GM,Te],Jw),VM=k([Yw,Te,di],fi),JM=k([VM,Te],Xw),XM=k([KM,JM,YM],Va),ZM=k([Le,LM,zM,qM,XM,ue,Te],Zw),Ex=k([Le,ue,mi,If,Ts,Te,ZM],Qw),QM=k([Ex,Le,Rf],tx),eF=k([Le,Ex,QM,Te],rx),jx=e=>{var t=Te(e),r=di(e),n=!1;return xo(e,t,r,n)},Cx=k([Le,jx],Rs),kx=k([Le,Rf,eF,Cx],Cf),tF=k([ue,If,Le,Te],cx),rF=k([ue,If,Le,Te],ux),nF=(e,t,r,n,i,o,a,s)=>{if(t){var{type:l}=t,c=vn(e,s);if(n){var u=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,d=l==="category"&&n.bandwidth?n.bandwidth()/u:0;return d=s==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?st(i[0]-i[1])*2*d:d,c&&a?a.map((h,p)=>({coordinate:n(h)+d,value:h,index:p,offset:d})):n.domain().map((h,p)=>({coordinate:n(h)+d,value:o?o[h]:h,index:p,offset:d}))}}},Or=k([ue,Le,Rf,kx,jx,tF,rF,Te],nF),Df=k([fx,hx,gM],(e,t,r)=>px(r.shared,e,t)),Px=e=>e.tooltip.settings.trigger,$f=e=>e.tooltip.settings.defaultIndex,Bs=k([pi,Df,Px,$f],wx),Qn=k([Bs,mi],Tf),Ax=k([Or,Qn],mx),Ox=k([Bs],e=>{if(e)return e.dataKey}),Tx=k([pi,Df,Px,$f],_x),iF=k([jr,Cr,ue,Fe,Or,$f,Tx,_o],xx),oF=k([Bs,iF],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),aF=k([Bs],e=>e.active),sF=k([Tx,Qn,Hr,Pw,Ax,_o,Df],Sx);k([sF],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function Dg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function $g(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Dg(Object(r),!0).forEach(function(n){lF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lF(e,t,r){return(t=cF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cF(e){var t=uF(e,"string");return typeof t=="symbol"?t:t+""}function uF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dF=()=>K(Le),fF=()=>{var e=dF(),t=K(Or),r=K(kx);return $d($g($g({},e),{},{scale:r}),t)},hF=()=>K(pf),Mf=(e,t)=>t,Rx=(e,t,r)=>r,Ff=(e,t,r,n)=>n,pF=k(Or,e=>ps(e,t=>t.coordinate)),Nf=k([pi,Mf,Rx,Ff],wx),Ix=k([Nf,mi],Tf),mF=(e,t,r)=>{if(t!=null){var n=pi(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},Dx=k([pi,Mf,Rx,Ff],_x),Ja=k([jr,Cr,ue,Fe,Or,Ff,Dx,_o],xx),gF=k([Nf,Ja],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),$x=k(Or,Ix,mx),yF=k([Dx,Ix,Hr,Pw,$x,_o,Mf],Sx),vF=k([Nf],e=>({isActive:e.active,activeIndex:e.index})),bF=(e,t,r,n,i,o,a,s)=>{if(!(!e||!t||!n||!i||!o)){var l=GT(e.chartX,e.chartY,t,r,s);if(l){var c=VT(l,t),u=DT(c,a,o,n,i),d=YT(t,o,u,l);return{activeIndex:String(u),activeCoordinate:d}}}};function zu(){return zu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zu.apply(null,arguments)}function Mg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Qo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Mg(Object(r),!0).forEach(function(n){wF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wF(e,t,r){return(t=xF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xF(e){var t=_F(e,"string");return typeof t=="symbol"?t:t+""}function _F(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SF(e){var{coordinate:t,payload:r,index:n,offset:i,tooltipAxisBandSize:o,layout:a,cursor:s,tooltipEventType:l,chartName:c}=e,u=t,d=r,h=n;if(!s||!u||c!=="ScatterChart"&&l!=="axis")return null;var p,m;if(c==="ScatterChart")p=u,m=U2;else if(c==="BarChart")p=z2(a,u,i,o),m=xb;else if(a==="radial"){var{cx:g,cy:y,radius:b,startAngle:w,endAngle:x}=_b(u);p={cx:g,cy:y,startAngle:w,endAngle:x,innerRadius:b,outerRadius:b},m=Eb}else p={points:xR(a,u,i)},m=R2;var _=typeof s=="object"&&"className"in s?s.className:void 0,S=Qo(Qo(Qo(Qo({stroke:"#ccc",pointerEvents:"none"},i),p),qe(s,!1)),{},{payload:d,payloadIndex:h,className:ve("recharts-tooltip-cursor",_)});return v.isValidElement(s)?v.cloneElement(s,S):v.createElement(m,S)}function EF(e){var t=fF(),r=fb(),n=Nd(),i=hF();return v.createElement(SF,zu({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:n,tooltipAxisBandSize:t,chartName:i}))}var Mx=v.createContext(null),jF=()=>v.useContext(Mx),_c={exports:{}},Fg;function CF(){return Fg||(Fg=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function o(l,c,u,d,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new i(u,d||l,h),m=r?r+c:c;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],p]:l._events[m].push(p):(l._events[m]=p,l._eventsCount++),l}function a(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var c=[],u,d;if(this._eventsCount===0)return c;for(d in u=this._events)t.call(u,d)&&c.push(r?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},s.prototype.listeners=function(c){var u=r?r+c:c,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,p=d.length,m=new Array(p);h<p;h++)m[h]=d[h].fn;return m},s.prototype.listenerCount=function(c){var u=r?r+c:c,d=this._events[u];return d?d.fn?1:d.length:0},s.prototype.emit=function(c,u,d,h,p,m){var g=r?r+c:c;if(!this._events[g])return!1;var y=this._events[g],b=arguments.length,w,x;if(y.fn){switch(y.once&&this.removeListener(c,y.fn,void 0,!0),b){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,u),!0;case 3:return y.fn.call(y.context,u,d),!0;case 4:return y.fn.call(y.context,u,d,h),!0;case 5:return y.fn.call(y.context,u,d,h,p),!0;case 6:return y.fn.call(y.context,u,d,h,p,m),!0}for(x=1,w=new Array(b-1);x<b;x++)w[x-1]=arguments[x];y.fn.apply(y.context,w)}else{var _=y.length,S;for(x=0;x<_;x++)switch(y[x].once&&this.removeListener(c,y[x].fn,void 0,!0),b){case 1:y[x].fn.call(y[x].context);break;case 2:y[x].fn.call(y[x].context,u);break;case 3:y[x].fn.call(y[x].context,u,d);break;case 4:y[x].fn.call(y[x].context,u,d,h);break;default:if(!w)for(S=1,w=new Array(b-1);S<b;S++)w[S-1]=arguments[S];y[x].fn.apply(y[x].context,w)}}return!0},s.prototype.on=function(c,u,d){return o(this,c,u,d,!1)},s.prototype.once=function(c,u,d){return o(this,c,u,d,!0)},s.prototype.removeListener=function(c,u,d,h){var p=r?r+c:c;if(!this._events[p])return this;if(!u)return a(this,p),this;var m=this._events[p];if(m.fn)m.fn===u&&(!h||m.once)&&(!d||m.context===d)&&a(this,p);else{for(var g=0,y=[],b=m.length;g<b;g++)(m[g].fn!==u||h&&!m[g].once||d&&m[g].context!==d)&&y.push(m[g]);y.length?this._events[p]=y.length===1?y[0]:y:a(this,p)}return this},s.prototype.removeAllListeners=function(c){var u;return c?(u=r?r+c:c,this._events[u]&&a(this,u)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,e.exports=s})(_c)),_c.exports}var kF=CF();const PF=sr(kF);var io=new PF,Wu="recharts.syncEvent.tooltip",Ng="recharts.syncEvent.brush";function AF(e,t){if(t){var r=Number.parseInt(t,10);if(!xt(r))return e==null?void 0:e[r]}}var OF={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},Fx=jt({name:"options",initialState:OF,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),TF=Fx.reducer,{createEventEmitter:RF}=Fx.actions;function IF(e){return e.tooltip.syncInteraction}var DF={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},Nx=jt({name:"chartData",initialState:DF,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:Lg,setDataStartEndIndexes:$F,setComputedData:jz}=Nx.actions,MF=Nx.reducer,FF=["x","y"];function Bg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Vr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Bg(Object(r),!0).forEach(function(n){NF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NF(e,t,r){return(t=LF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LF(e){var t=BF(e,"string");return typeof t=="symbol"?t:t+""}function BF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function UF(e,t){if(e==null)return{};var r,n,i=zF(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function zF(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Lx=()=>{};function WF(){var e=K(mf),t=K(gf),r=Me(),n=K(_w),i=K(Or),o=Nd(),a=Fd(),s=K(l=>l.rootProps.className);v.useEffect(()=>{if(e==null)return Lx;var l=(c,u,d)=>{if(t!==d&&e===c){if(n==="index"){var h;if(a&&u!==null&&u!==void 0&&(h=u.payload)!==null&&h!==void 0&&h.coordinate){var p=u.payload.coordinate,{x:m,y:g}=p,y=UF(p,FF),b=Vr(Vr(Vr({},y),typeof m=="number"&&{x:Math.max(a.x,Math.min(m,a.x+a.width))}),typeof g=="number"&&{y:Math.max(a.y,Math.min(g,a.y+a.height))}),w=Vr(Vr({},u),{},{payload:Vr(Vr({},u.payload),{},{coordinate:b})});r(w)}else r(u);return}if(i!=null){var x;if(typeof n=="function"){var _={activeTooltipIndex:u.payload.index==null?void 0:Number(u.payload.index),isTooltipActive:u.payload.active,activeIndex:u.payload.index==null?void 0:Number(u.payload.index),activeLabel:u.payload.label,activeDataKey:u.payload.dataKey,activeCoordinate:u.payload.coordinate},S=n(i,_);x=i[S]}else n==="value"&&(x=i.find(B=>String(B.value)===u.payload.label));var{coordinate:E}=u.payload;if(x==null||u.payload.active===!1||E==null||a==null){r(Bu({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:j,y:P}=E,A=Math.min(j,a.x+a.width),I=Math.min(P,a.y+a.height),O={x:o==="horizontal"?x.coordinate:A,y:o==="horizontal"?I:x.coordinate},D=Bu({active:u.payload.active,coordinate:O,dataKey:u.payload.dataKey,index:String(x.index),label:u.payload.label});r(D)}}};return io.on(Wu,l),()=>{io.off(Wu,l)}},[s,r,t,e,n,i,o,a])}function qF(){var e=K(mf),t=K(gf),r=Me();v.useEffect(()=>{if(e==null)return Lx;var n=(i,o,a)=>{t!==a&&e===i&&r($F(o))};return io.on(Ng,n),()=>{io.off(Ng,n)}},[r,t,e])}function HF(){var e=Me();v.useEffect(()=>{e(RF())},[e]),WF(),qF()}function KF(e,t,r,n,i,o){var a=K(h=>mF(h,e,t)),s=K(gf),l=K(mf),c=K(_w),u=K(IF),d=u==null?void 0:u.active;v.useEffect(()=>{if(!d&&l!=null&&s!=null){var h=Bu({active:o,coordinate:r,dataKey:a,index:i,label:typeof n=="number"?String(n):n});io.emit(Wu,l,h,s)}},[d,r,a,i,n,s,l,c,o])}function Ug(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function zg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ug(Object(r),!0).forEach(function(n){GF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ug(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GF(e,t,r){return(t=YF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YF(e){var t=VF(e,"string");return typeof t=="symbol"?t:t+""}function VF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function JF(e){return e.dataKey}function XF(e,t){return v.isValidElement(e)?v.cloneElement(e,t):typeof e=="function"?v.createElement(e,t):v.createElement(v2,t)}var Wg=[],ZF={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!si.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function QF(e){var t=Bt(e,ZF),{active:r,allowEscapeViewBox:n,animationDuration:i,animationEasing:o,content:a,filterNull:s,isAnimationActive:l,offset:c,payloadUniqBy:u,position:d,reverseDirection:h,useTranslate3d:p,wrapperStyle:m,cursor:g,shared:y,trigger:b,defaultIndex:w,portal:x,axisId:_}=t,S=Me(),E=typeof w=="number"?String(w):w;v.useEffect(()=>{S(wM({shared:y,trigger:b,axisId:_,active:r,defaultIndex:E}))},[S,y,b,_,r,E]);var j=Fd(),P=gb(),A=mM(y),{activeIndex:I,isActive:O}=K(re=>vF(re,A,b,E)),D=K(re=>yF(re,A,b,E)),B=K(re=>$x(re,A,b,E)),T=K(re=>gF(re,A,b,E)),N=D,F=jF(),G=r??O,[V,J]=SO([N,G]),de=A==="axis"?B:void 0;KF(A,b,T,de,I,G);var ie=x??F;if(ie==null)return null;var z=N??Wg;G||(z=Wg),s&&z.length&&(z=VA(N.filter(re=>re.value!=null&&(re.hide!==!0||t.includeHidden)),u,JF));var X=z.length>0,oe=v.createElement(j2,{allowEscapeViewBox:n,animationDuration:i,animationEasing:o,isAnimationActive:l,active:G,coordinate:T,hasPayload:X,offset:c,position:d,reverseDirection:h,useTranslate3d:p,viewBox:j,wrapperStyle:m,lastBoundingBox:V,innerRef:J,hasPortalFromProps:!!x},XF(a,zg(zg({},t),{},{payload:z,label:de,active:G,coordinate:T,accessibilityLayer:P})));return v.createElement(v.Fragment,null,Tv.createPortal(oe,ie),G&&v.createElement(EF,{cursor:g,tooltipEventType:A,coordinate:T,payload:N,index:I}))}var Sc={},Ec={},jc={},qg;function eN(){return qg||(qg=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:i,edges:o}={}){let a,s=null;const l=o!=null&&o.includes("leading"),c=o==null||o.includes("trailing"),u=()=>{s!==null&&(r.apply(a,s),a=void 0,s=null)},d=()=>{c&&u(),g()};let h=null;const p=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,d()},n)},m=()=>{h!==null&&(clearTimeout(h),h=null)},g=()=>{m(),a=void 0,s=null},y=()=>{u()},b=function(...w){if(i!=null&&i.aborted)return;a=this,s=w;const x=h==null;p(),l&&x&&u()};return b.schedule=p,b.cancel=g,b.flush=y,i==null||i.addEventListener("abort",g,{once:!0}),b}e.debounce=t})(jc)),jc}var Hg;function tN(){return Hg||(Hg=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eN();function r(n,i=0,o={}){typeof o!="object"&&(o={});const{leading:a=!1,trailing:s=!0,maxWait:l}=o,c=Array(2);a&&(c[0]="leading"),s&&(c[1]="trailing");let u,d=null;const h=t.debounce(function(...g){u=n.apply(this,g),d=null},i,{edges:c}),p=function(...g){return l!=null&&(d===null&&(d=Date.now()),Date.now()-d>=l)?(u=n.apply(this,g),d=Date.now(),h.cancel(),h.schedule(),u):(h.apply(this,g),u)},m=()=>(h.flush(),u);return p.cancel=h.cancel,p.flush=m,p}e.debounce=r})(Ec)),Ec}var Kg;function rN(){return Kg||(Kg=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tN();function r(n,i=0,o={}){const{leading:a=!0,trailing:s=!0}=o;return t.debounce(n,i,{leading:a,maxWait:i,trailing:s})}e.throttle=r})(Sc)),Sc}var Cc,Gg;function nN(){return Gg||(Gg=1,Cc=rN().throttle),Cc}var iN=nN();const oN=sr(iN);var qi=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o]};function Yg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function kc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Yg(Object(r),!0).forEach(function(n){aN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aN(e,t,r){return(t=sN(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sN(e){var t=lN(e,"string");return typeof t=="symbol"?t:t+""}function lN(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cN=v.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:i="100%",height:o="100%",minWidth:a=0,minHeight:s,maxHeight:l,children:c,debounce:u=0,id:d,className:h,onResize:p,style:m={}}=e,g=v.useRef(null),y=v.useRef();y.current=p,v.useImperativeHandle(t,()=>g.current);var[b,w]=v.useState({containerWidth:n.width,containerHeight:n.height}),x=v.useCallback((S,E)=>{w(j=>{var P=Math.round(S),A=Math.round(E);return j.containerWidth===P&&j.containerHeight===A?j:{containerWidth:P,containerHeight:A}})},[]);v.useEffect(()=>{var S=A=>{var I,{width:O,height:D}=A[0].contentRect;x(O,D),(I=y.current)===null||I===void 0||I.call(y,O,D)};u>0&&(S=oN(S,u,{trailing:!0,leading:!1}));var E=new ResizeObserver(S),{width:j,height:P}=g.current.getBoundingClientRect();return x(j,P),E.observe(g.current),()=>{E.disconnect()}},[x,u]);var _=v.useMemo(()=>{var{containerWidth:S,containerHeight:E}=b;if(S<0||E<0)return null;qi(tn(i)||tn(o),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,o),qi(!r||r>0,"The aspect(%s) must be greater than zero.",r);var j=tn(i)?S:i,P=tn(o)?E:o;return r&&r>0&&(j?P=j/r:P&&(j=P*r),l&&P>l&&(P=l)),qi(j>0||P>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,j,P,i,o,a,s,r),v.Children.map(c,A=>v.cloneElement(A,{width:j,height:P,style:kc({width:j,height:P},A.props.style)}))},[r,c,o,l,s,a,b,i]);return v.createElement("div",{id:d?"".concat(d):void 0,className:ve("recharts-responsive-container",h),style:kc(kc({},m),{},{width:i,height:o,minWidth:a,minHeight:s,maxHeight:l}),ref:g},v.createElement("div",{style:{width:0,height:0,overflow:"visible"}},_))}),Bx=e=>null;Bx.displayName="Cell";function uN(e,t,r){return(t=dN(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dN(e){var t=fN(e,"string");return typeof t=="symbol"?t:t+""}function fN(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class hN{constructor(t){uN(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function Vg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function pN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Vg(Object(r),!0).forEach(function(n){mN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mN(e,t,r){return(t=gN(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gN(e){var t=yN(e,"string");return typeof t=="symbol"?t:t+""}function yN(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vN={cacheSize:2e3,enableCache:!0},Ux=pN({},vN),Jg=new hN(Ux.cacheSize),bN={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Xg="recharts_measurement_span";function wN(e,t){var r=t.fontSize||"",n=t.fontFamily||"",i=t.fontWeight||"",o=t.fontStyle||"",a=t.letterSpacing||"",s=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(o,"|").concat(a,"|").concat(s)}var Zg=(e,t)=>{try{var r=document.getElementById(Xg);r||(r=document.createElement("span"),r.setAttribute("id",Xg),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,bN,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Hi=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||si.isSsr)return{width:0,height:0};if(!Ux.enableCache)return Zg(t,r);var n=wN(t,r),i=Jg.get(n);if(i)return i;var o=Zg(t,r);return Jg.set(n,o),o},Qg=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ey=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,xN=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,_N=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,zx={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},SN=Object.keys(zx),Bn="NaN";function EN(e,t){return e*zx[t]}class at{static parse(t){var r,[,n,i]=(r=_N.exec(t))!==null&&r!==void 0?r:[];return new at(parseFloat(n),i??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,xt(t)&&(this.unit=""),r!==""&&!xN.test(r)&&(this.num=NaN,this.unit=""),SN.includes(r)&&(this.num=EN(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new at(NaN,""):new at(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new at(NaN,""):new at(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new at(NaN,""):new at(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new at(NaN,""):new at(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return xt(this.num)}}function Wx(e){if(e.includes(Bn))return Bn;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,i,o]=(r=Qg.exec(t))!==null&&r!==void 0?r:[],a=at.parse(n??""),s=at.parse(o??""),l=i==="*"?a.multiply(s):a.divide(s);if(l.isNaN())return Bn;t=t.replace(Qg,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var c,[,u,d,h]=(c=ey.exec(t))!==null&&c!==void 0?c:[],p=at.parse(u??""),m=at.parse(h??""),g=d==="+"?p.add(m):p.subtract(m);if(g.isNaN())return Bn;t=t.replace(ey,g.toString())}return t}var ty=/\(([^()]*)\)/;function jN(e){for(var t=e,r;(r=ty.exec(t))!=null;){var[,n]=r;t=t.replace(ty,Wx(n))}return t}function CN(e){var t=e.replace(/\s+/g,"");return t=jN(t),t=Wx(t),t}function kN(e){try{return CN(e)}catch{return Bn}}function Pc(e){var t=kN(e.slice(5,-1));return t===Bn?"":t}var PN=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],AN=["dx","dy","angle","className","breakAll"];function qu(){return qu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qu.apply(null,arguments)}function ry(e,t){if(e==null)return{};var r,n,i=ON(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function ON(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var qx=/[ \f\n\r\t\v\u2028\u2029]+/,Hx=e=>{var{children:t,breakAll:r,style:n}=e;try{var i=[];$e(t)||(r?i=t.toString().split(""):i=t.toString().split(qx));var o=i.map(s=>({word:s,width:Hi(s,n).width})),a=r?0:Hi("Â ",n).width;return{wordsWithComputedWidth:o,spaceWidth:a}}catch{return null}},TN=(e,t,r,n,i)=>{var{maxLines:o,children:a,style:s,breakAll:l}=e,c=H(o),u=a,d=function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return O.reduce((D,B)=>{var{word:T,width:N}=B,F=D[D.length-1];if(F&&(n==null||i||F.width+N+r<Number(n)))F.words.push(T),F.width+=N+r;else{var G={words:[T],width:N};D.push(G)}return D},[])},h=d(t),p=I=>I.reduce((O,D)=>O.width>D.width?O:D);if(!c||i)return h;var m=h.length>o||p(h).width>Number(n);if(!m)return h;for(var g="â€¦",y=I=>{var O=u.slice(0,I),D=Hx({breakAll:l,style:s,children:O+g}).wordsWithComputedWidth,B=d(D),T=B.length>o||p(B).width>Number(n);return[T,B]},b=0,w=u.length-1,x=0,_;b<=w&&x<=u.length-1;){var S=Math.floor((b+w)/2),E=S-1,[j,P]=y(E),[A]=y(S);if(!j&&!A&&(b=S+1),j&&A&&(w=S-1),!j&&A){_=P;break}x++}return _||h},ny=e=>{var t=$e(e)?[]:e.toString().split(qx);return[{words:t}]},RN=e=>{var{width:t,scaleToFit:r,children:n,style:i,breakAll:o,maxLines:a}=e;if((t||r)&&!si.isSsr){var s,l,c=Hx({breakAll:o,children:n,style:i});if(c){var{wordsWithComputedWidth:u,spaceWidth:d}=c;s=u,l=d}else return ny(n);return TN({breakAll:o,children:n,maxLines:a,style:i},s,l,t,r)}return ny(n)},iy="#808080",Lf=v.forwardRef((e,t)=>{var{x:r=0,y:n=0,lineHeight:i="1em",capHeight:o="0.71em",scaleToFit:a=!1,textAnchor:s="start",verticalAnchor:l="end",fill:c=iy}=e,u=ry(e,PN),d=v.useMemo(()=>RN({breakAll:u.breakAll,children:u.children,maxLines:u.maxLines,scaleToFit:a,style:u.style,width:u.width}),[u.breakAll,u.children,u.maxLines,a,u.style,u.width]),{dx:h,dy:p,angle:m,className:g,breakAll:y}=u,b=ry(u,AN);if(!or(r)||!or(n)||d.length===0)return null;var w=r+(H(h)?h:0),x=n+(H(p)?p:0),_;switch(l){case"start":_=Pc("calc(".concat(o,")"));break;case"middle":_=Pc("calc(".concat((d.length-1)/2," * -").concat(i," + (").concat(o," / 2))"));break;default:_=Pc("calc(".concat(d.length-1," * -").concat(i,")"));break}var S=[];if(a){var E=d[0].width,{width:j}=u;S.push("scale(".concat(H(j)?j/E:1,")"))}return m&&S.push("rotate(".concat(m,", ").concat(w,", ").concat(x,")")),S.length&&(b.transform=S.join(" ")),v.createElement("text",qu({},qe(b,!0),{ref:t,x:w,y:x,className:ve("recharts-text",g),textAnchor:s,fill:c.includes("url")?iy:c}),d.map((P,A)=>{var I=P.words.join(y?"":" ");return v.createElement("tspan",{x:w,dy:A===0?_:i,key:"".concat(I,"-").concat(A)},I)}))});Lf.displayName="Text";var IN=["labelRef"];function DN(e,t){if(e==null)return{};var r,n,i=$N(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function $N(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function oy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Se(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oy(Object(r),!0).forEach(function(n){MN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MN(e,t,r){return(t=FN(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FN(e){var t=NN(e,"string");return typeof t=="symbol"?t:t+""}function NN(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pr(){return pr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pr.apply(null,arguments)}var Kx=v.createContext(null),LN=e=>{var{x:t,y:r,width:n,height:i,children:o}=e,a=v.useMemo(()=>({x:t,y:r,width:n,height:i}),[t,r,n,i]);return v.createElement(Kx.Provider,{value:a},o)},Gx=()=>{var e=v.useContext(Kx),t=Fd();return e||t},BN=v.createContext(null),UN=()=>{var e=v.useContext(BN),t=K(kw);return e||t},zN=e=>{var{value:t,formatter:r}=e,n=$e(e.children)?t:e.children;return typeof r=="function"?r(n):n},Bf=e=>e!=null&&typeof e=="function",WN=(e,t)=>{var r=st(t-e),n=Math.min(Math.abs(t-e),360);return r*n},qN=(e,t,r,n,i)=>{var{offset:o,className:a}=e,{cx:s,cy:l,innerRadius:c,outerRadius:u,startAngle:d,endAngle:h,clockWise:p}=i,m=(c+u)/2,g=WN(d,h),y=g>=0?1:-1,b,w;switch(t){case"insideStart":b=d+y*o,w=p;break;case"insideEnd":b=h-y*o,w=!p;break;case"end":b=h+y*o,w=p;break;default:throw new Error("Unsupported position ".concat(t))}w=g<=0?w:!w;var x=We(s,l,m,b),_=We(s,l,m,b+(w?1:-1)*359),S="M".concat(x.x,",").concat(x.y,`
    A`).concat(m,",").concat(m,",0,1,").concat(w?0:1,`,
    `).concat(_.x,",").concat(_.y),E=$e(e.id)?Vi("recharts-radial-line-"):e.id;return v.createElement("text",pr({},n,{dominantBaseline:"central",className:ve("recharts-radial-bar-label",a)}),v.createElement("defs",null,v.createElement("path",{id:E,d:S})),v.createElement("textPath",{xlinkHref:"#".concat(E)},r))},HN=(e,t,r)=>{var{cx:n,cy:i,innerRadius:o,outerRadius:a,startAngle:s,endAngle:l}=e,c=(s+l)/2;if(r==="outside"){var{x:u,y:d}=We(n,i,a+t,c);return{x:u,y:d,textAnchor:u>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var h=(o+a)/2,{x:p,y:m}=We(n,i,h,c);return{x:p,y:m,textAnchor:"middle",verticalAnchor:"middle"}},Yx=e=>"cx"in e&&H(e.cx),KN=(e,t)=>{var{parentViewBox:r,offset:n,position:i}=e,o;r!=null&&!Yx(r)&&(o=r);var{x:a,y:s,width:l,height:c}=t,u=c>=0?1:-1,d=u*n,h=u>0?"end":"start",p=u>0?"start":"end",m=l>=0?1:-1,g=m*n,y=m>0?"end":"start",b=m>0?"start":"end";if(i==="top"){var w={x:a+l/2,y:s-u*n,textAnchor:"middle",verticalAnchor:h};return Se(Se({},w),o?{height:Math.max(s-o.y,0),width:l}:{})}if(i==="bottom"){var x={x:a+l/2,y:s+c+d,textAnchor:"middle",verticalAnchor:p};return Se(Se({},x),o?{height:Math.max(o.y+o.height-(s+c),0),width:l}:{})}if(i==="left"){var _={x:a-g,y:s+c/2,textAnchor:y,verticalAnchor:"middle"};return Se(Se({},_),o?{width:Math.max(_.x-o.x,0),height:c}:{})}if(i==="right"){var S={x:a+l+g,y:s+c/2,textAnchor:b,verticalAnchor:"middle"};return Se(Se({},S),o?{width:Math.max(o.x+o.width-S.x,0),height:c}:{})}var E=o?{width:l,height:c}:{};return i==="insideLeft"?Se({x:a+g,y:s+c/2,textAnchor:b,verticalAnchor:"middle"},E):i==="insideRight"?Se({x:a+l-g,y:s+c/2,textAnchor:y,verticalAnchor:"middle"},E):i==="insideTop"?Se({x:a+l/2,y:s+d,textAnchor:"middle",verticalAnchor:p},E):i==="insideBottom"?Se({x:a+l/2,y:s+c-d,textAnchor:"middle",verticalAnchor:h},E):i==="insideTopLeft"?Se({x:a+g,y:s+d,textAnchor:b,verticalAnchor:p},E):i==="insideTopRight"?Se({x:a+l-g,y:s+d,textAnchor:y,verticalAnchor:p},E):i==="insideBottomLeft"?Se({x:a+g,y:s+c-d,textAnchor:b,verticalAnchor:h},E):i==="insideBottomRight"?Se({x:a+l-g,y:s+c-d,textAnchor:y,verticalAnchor:h},E):i&&typeof i=="object"&&(H(i.x)||tn(i.x))&&(H(i.y)||tn(i.y))?Se({x:a+Vt(i.x,l),y:s+Vt(i.y,c),textAnchor:"end",verticalAnchor:"end"},E):Se({x:a+l/2,y:s+c/2,textAnchor:"middle",verticalAnchor:"middle"},E)},GN={offset:5};function $r(e){var t=Bt(e,GN),{viewBox:r,position:n,value:i,children:o,content:a,className:s="",textBreakAll:l,labelRef:c}=t,u=UN(),d=Gx(),h=n==="center"?d:u??d,p=r||h;if(!p||$e(i)&&$e(o)&&!v.isValidElement(a)&&typeof a!="function")return null;var m=Se(Se({},t),{},{viewBox:p});if(v.isValidElement(a)){var{labelRef:g}=m,y=DN(m,IN);return v.cloneElement(a,y)}var b;if(typeof a=="function"){if(b=v.createElement(a,m),v.isValidElement(b))return b}else b=zN(t);var w=Yx(p),x=qe(t,!0);if(w&&(n==="insideStart"||n==="insideEnd"||n==="end"))return qN(t,n,b,x,p);var _=w?HN(p,t.offset,t.position):KN(t,p);return v.createElement(Lf,pr({ref:c,className:ve("recharts-label",s)},x,_,{breakAll:l}),b)}$r.displayName="Label";var YN=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?v.createElement($r,pr({key:"label-implicit"},n)):or(e)?v.createElement($r,pr({key:"label-implicit",value:e},n)):v.isValidElement(e)?e.type===$r?v.cloneElement(e,Se({key:"label-implicit"},n)):v.createElement($r,pr({key:"label-implicit",content:e},n)):Bf(e)?v.createElement($r,pr({key:"label-implicit",content:e},n)):e&&typeof e=="object"?v.createElement($r,pr({},e,{key:"label-implicit"},n)):null};function VN(e){var{label:t}=e,r=Gx();return YN(t,r)||null}var Ac={},Oc={},ay;function JN(){return ay||(ay=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(Oc)),Oc}var Tc={},sy;function XN(){return sy||(sy=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(Tc)),Tc}var ly;function ZN(){return ly||(ly=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=JN(),r=XN(),n=kd();function i(o){if(n.isArrayLike(o))return t.last(r.toArray(o))}e.last=i})(Ac)),Ac}var Rc,cy;function QN(){return cy||(cy=1,Rc=ZN().last),Rc}var eL=QN();const tL=sr(eL);var rL=["valueAccessor"],nL=["dataKey","clockWise","id","textBreakAll"];function Xa(){return Xa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xa.apply(null,arguments)}function uy(e,t){if(e==null)return{};var r,n,i=iL(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function iL(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var oL=e=>Array.isArray(e.value)?tL(e.value):e.value,Vx=v.createContext(void 0),aL=Vx.Provider,Jx=v.createContext(void 0);Jx.Provider;function sL(){return v.useContext(Vx)}function lL(){return v.useContext(Jx)}function fa(e){var{valueAccessor:t=oL}=e,r=uy(e,rL),{dataKey:n,clockWise:i,id:o,textBreakAll:a}=r,s=uy(r,nL),l=sL(),c=lL(),u=l||c;return!u||!u.length?null:v.createElement(Br,{className:"recharts-label-list"},u.map((d,h)=>{var p,m=$e(n)?t(d,h):nt(d&&d.payload,n),g=$e(o)?{}:{id:"".concat(o,"-").concat(h)};return v.createElement($r,Xa({},qe(d,!0),s,g,{fill:(p=r.fill)!==null&&p!==void 0?p:d.fill,parentViewBox:d.parentViewBox,value:m,textBreakAll:a,viewBox:d.viewBox,key:"label-".concat(h),index:h}))}))}fa.displayName="LabelList";function cL(e){var{label:t}=e;return t?t===!0?v.createElement(fa,{key:"labelList-implicit"}):v.isValidElement(t)||Bf(t)?v.createElement(fa,{key:"labelList-implicit",content:t}):typeof t=="object"?v.createElement(fa,Xa({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}var uL={radiusAxis:{},angleAxis:{}},Xx=jt({name:"polarAxis",initialState:uL,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:Cz,removeRadiusAxis:kz,addAngleAxis:Pz,removeAngleAxis:Az}=Xx.actions,dL=Xx.reducer,Ic={},dy;function fL(){return dy||(dy=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var i;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const o=r[Symbol.toStringTag];return o==null||!((i=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&i.writable)?!1:r.toString()===`[object ${o}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(Ic)),Ic}var Dc,fy;function hL(){return fy||(fy=1,Dc=fL().isPlainObject),Dc}var pL=hL();const mL=sr(pL);function hy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function py(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hy(Object(r),!0).forEach(function(n){gL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gL(e,t,r){return(t=yL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yL(e){var t=vL(e,"string");return typeof t=="symbol"?t:t+""}function vL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Za(){return Za=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Za.apply(null,arguments)}var my=(e,t,r,n,i)=>{var o=r-n,a;return a="M ".concat(e,",").concat(t),a+="L ".concat(e+r,",").concat(t),a+="L ".concat(e+r-o/2,",").concat(t+i),a+="L ".concat(e+r-o/2-n,",").concat(t+i),a+="L ".concat(e,",").concat(t," Z"),a},bL={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},wL=e=>{var t=Bt(e,bL),{x:r,y:n,upperWidth:i,lowerWidth:o,height:a,className:s}=t,{animationEasing:l,animationDuration:c,animationBegin:u,isUpdateAnimationActive:d}=t,h=v.useRef(),[p,m]=v.useState(-1),g=v.useRef(i),y=v.useRef(o),b=v.useRef(a),w=v.useRef(r),x=v.useRef(n),_=Bd(e,"trapezoid-");if(v.useEffect(()=>{if(h.current&&h.current.getTotalLength)try{var T=h.current.getTotalLength();T&&m(T)}catch{}},[]),r!==+r||n!==+n||i!==+i||o!==+o||a!==+a||i===0&&o===0||a===0)return null;var S=ve("recharts-trapezoid",s);if(!d)return v.createElement("g",null,v.createElement("path",Za({},qe(t,!0),{className:S,d:my(r,n,i,o,a)})));var E=g.current,j=y.current,P=b.current,A=w.current,I=x.current,O="0px ".concat(p===-1?1:p,"px"),D="".concat(p,"px 0px"),B=yb(["strokeDasharray"],c,l);return v.createElement(Ld,{animationId:_,key:_,canBegin:p>0,duration:c,easing:l,isActive:d,begin:u},T=>{var N=et(E,i,T),F=et(j,o,T),G=et(P,a,T),V=et(A,r,T),J=et(I,n,T);h.current&&(g.current=N,y.current=F,b.current=G,w.current=V,x.current=J);var de=T>0?{transition:B,strokeDasharray:D}:{strokeDasharray:O};return v.createElement("path",Za({},qe(t,!0),{className:S,d:my(V,J,N,F,G),ref:h,style:py(py({},de),t.style)}))})},xL=["option","shapeType","propTransformer","activeClassName","isActive"];function _L(e,t){if(e==null)return{};var r,n,i=SL(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function SL(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function gy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Qa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gy(Object(r),!0).forEach(function(n){EL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EL(e,t,r){return(t=jL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jL(e){var t=CL(e,"string");return typeof t=="symbol"?t:t+""}function CL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kL(e,t){return Qa(Qa({},t),e)}function PL(e,t){return e==="symbols"}function yy(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return v.createElement(xb,r);case"trapezoid":return v.createElement(wL,r);case"sector":return v.createElement(Eb,r);case"symbols":if(PL(t))return v.createElement(E0,r);break;default:return null}}function AL(e){return v.isValidElement(e)?e.props:e}function OL(e){var{option:t,shapeType:r,propTransformer:n=kL,activeClassName:i="recharts-active-shape",isActive:o}=e,a=_L(e,xL),s;if(v.isValidElement(t))s=v.cloneElement(t,Qa(Qa({},a),AL(t)));else if(typeof t=="function")s=t(a);else if(mL(t)&&typeof t!="boolean"){var l=n(t,a);s=v.createElement(yy,{shapeType:r,elementProps:l})}else{var c=a;s=v.createElement(yy,{shapeType:r,elementProps:c})}return o?v.createElement(Br,{className:i},s):s}var Zx=(e,t)=>{var r=Me();return(n,i)=>o=>{e==null||e(n,i,o),r(yx({activeIndex:String(i),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}},Qx=e=>{var t=Me();return(r,n)=>i=>{e==null||e(r,n,i),t(xM())}},e1=(e,t)=>{var r=Me();return(n,i)=>o=>{e==null||e(n,i,o),r(_M({activeIndex:String(i),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}};function TL(e){var{fn:t,args:r}=e,n=Me(),i=Lt();return v.useEffect(()=>{if(!i){var o=t(r);return n(vM(o)),()=>{n(bM(o))}}},[t,r,n,i]),null}var RL=()=>{};function IL(e){var{legendPayload:t}=e,r=Me(),n=Lt();return v.useEffect(()=>n?RL:(r(d2(t)),()=>{r(f2(t))}),[r,n,t]),null}var $c,DL=()=>{var[e]=v.useState(()=>Vi("uid-"));return e},$L=($c=m_.useId)!==null&&$c!==void 0?$c:DL;function ML(e,t){var r=$L();return t||(e?"".concat(e,"-").concat(r):r)}var FL=v.createContext(void 0),NL=e=>{var{id:t,type:r,children:n}=e,i=ML("recharts-".concat(r),t);return v.createElement(FL.Provider,{value:i},n(i))},LL={cartesianItems:[],polarItems:[]},t1=jt({name:"graphicalItems",initialState:LL,reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:r,next:n}=t.payload,i=vr(e).cartesianItems.indexOf(r);i>-1&&(e.cartesianItems[i]=n)},removeCartesianGraphicalItem(e,t){var r=vr(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var r=vr(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)}}}),{addCartesianGraphicalItem:BL,replaceCartesianGraphicalItem:UL,removeCartesianGraphicalItem:zL,addPolarGraphicalItem:Oz,removePolarGraphicalItem:Tz}=t1.actions,WL=t1.reducer;function qL(e){var t=Me(),r=v.useRef(null);return v.useEffect(()=>{r.current===null?t(BL(e)):r.current!==e&&t(UL({prev:r.current,next:e})),r.current=e},[t,e]),v.useEffect(()=>()=>{r.current&&(t(zL(r.current)),r.current=null)},[t]),null}function vy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function by(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vy(Object(r),!0).forEach(function(n){HL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HL(e,t,r){return(t=KL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KL(e){var t=GL(e,"string");return typeof t=="symbol"?t:t+""}function GL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var YL={xAxis:{},yAxis:{},zAxis:{}},r1=jt({name:"cartesianAxis",initialState:YL,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload;e.yAxis[r]&&(e.yAxis[r]=by(by({},e.yAxis[r]),{},{width:n}))}}}),{addXAxis:VL,removeXAxis:JL,addYAxis:XL,removeYAxis:ZL,addZAxis:Rz,removeZAxis:Iz,updateYAxisWidth:QL}=r1.actions,e4=r1.reducer,t4=k([Fe],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),r4=k([t4,jr,Cr],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),n1=()=>K(r4),n4="Invariant failed";function i4(e,t){throw new Error(n4)}var o4=["x","y"];function Hu(){return Hu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hu.apply(null,arguments)}function wy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Oi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wy(Object(r),!0).forEach(function(n){a4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function a4(e,t,r){return(t=s4(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s4(e){var t=l4(e,"string");return typeof t=="symbol"?t:t+""}function l4(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function c4(e,t){if(e==null)return{};var r,n,i=u4(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function u4(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function d4(e,t){var{x:r,y:n}=e,i=c4(e,o4),o="".concat(r),a=parseInt(o,10),s="".concat(n),l=parseInt(s,10),c="".concat(t.height||i.height),u=parseInt(c,10),d="".concat(t.width||i.width),h=parseInt(d,10);return Oi(Oi(Oi(Oi(Oi({},t),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:u,width:h,name:t.name,radius:t.radius})}function Uf(e){return v.createElement(OL,Hu({shapeType:"rectangle",propTransformer:d4,activeClassName:"recharts-active-bar"},e))}var f4=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,i)=>{if(H(t))return t;var o=H(n)||$e(n);return o?t(n,i):(o||i4(),r)}},h4={},i1=jt({name:"errorBars",initialState:h4,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:i}=t.payload;e[r]&&(e[r]=e[r].map(o=>o.dataKey===n.dataKey&&o.direction===n.direction?i:o))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(i=>i.dataKey!==n.dataKey||i.direction!==n.direction))}}}),{addErrorBar:Dz,replaceErrorBar:$z,removeErrorBar:Mz}=i1.actions,p4=i1.reducer,m4=["children"];function g4(e,t){if(e==null)return{};var r,n,i=y4(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function y4(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var v4={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},b4=v.createContext(v4);function w4(e){var{children:t}=e,r=g4(e,m4);return v.createElement(b4.Provider,{value:r},t)}function o1(e,t){var r,n,i=K(c=>Pr(c,e)),o=K(c=>Ar(c,t)),a=(r=i==null?void 0:i.allowDataOverflow)!==null&&r!==void 0?r:gt.allowDataOverflow,s=(n=o==null?void 0:o.allowDataOverflow)!==null&&n!==void 0?n:yt.allowDataOverflow,l=a||s;return{needClip:l,needClipX:a,needClipY:s}}function x4(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,i=n1(),{needClipX:o,needClipY:a,needClip:s}=o1(t,r);if(!s)return null;var{x:l,y:c,width:u,height:d}=i;return v.createElement("clipPath",{id:"clipPath-".concat(n)},v.createElement("rect",{x:o?l:l-u/2,y:a?c:c-d/2,width:o?u:u*2,height:a?d:d*2}))}var _4=["onMouseEnter","onMouseLeave","onClick"],S4=["value","background","tooltipPosition"],E4=["id"],j4=["onMouseEnter","onClick","onMouseLeave"];function Ur(){return Ur=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ur.apply(null,arguments)}function xy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function tt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xy(Object(r),!0).forEach(function(n){C4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function C4(e,t,r){return(t=k4(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function k4(e){var t=P4(e,"string");return typeof t=="symbol"?t:t+""}function P4(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function es(e,t){if(e==null)return{};var r,n,i=A4(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function A4(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var O4=e=>{var{dataKey:t,name:r,fill:n,legendType:i,hide:o}=e;return[{inactive:o,dataKey:t,type:i,color:n,value:ub(r,t),payload:e}]};function T4(e){var{dataKey:t,stroke:r,strokeWidth:n,fill:i,name:o,hide:a,unit:s}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:i,dataKey:t,nameKey:void 0,name:ub(o,t),hide:a,type:e.tooltipType,color:e.fill,unit:s}}}function R4(e){var t=K(Qn),{data:r,dataKey:n,background:i,allOtherBarProps:o}=e,{onMouseEnter:a,onMouseLeave:s,onClick:l}=o,c=es(o,_4),u=Zx(a,n),d=Qx(s),h=e1(l,n);if(!i||r==null)return null;var p=qe(i,!1);return v.createElement(v.Fragment,null,r.map((m,g)=>{var{value:y,background:b,tooltipPosition:w}=m,x=es(m,S4);if(!b)return null;var _=u(m,g),S=d(m,g),E=h(m,g),j=tt(tt(tt(tt(tt({option:i,isActive:String(g)===t},x),{},{fill:"#eee"},b),p),Sd(c,m,g)),{},{onMouseEnter:_,onMouseLeave:S,onClick:E,dataKey:n,index:g,className:"recharts-bar-background-rectangle"});return v.createElement(Uf,Ur({key:"background-bar-".concat(j.index)},j))}))}function I4(e){var{showLabels:t,children:r,rects:n}=e,i=n==null?void 0:n.map(o=>{var a={x:o.x,y:o.y,width:o.width,height:o.height};return tt(tt({},a),{},{value:o.value,payload:o.payload,parentViewBox:o.parentViewBox,viewBox:a,fill:o.fill})});return v.createElement(aL,{value:t?i:void 0},r)}function D4(e){var{shape:t,activeBar:r,baseProps:n,entry:i,index:o,dataKey:a}=e,s=K(Qn),l=K(Ox),c=r&&String(o)===s&&(l==null||a===l),u=c?r:t;return v.createElement(Uf,Ur({},n,i,{isActive:c,option:u,index:o,dataKey:a}))}function $4(e){var{shape:t,baseProps:r,entry:n,index:i,dataKey:o}=e;return v.createElement(Uf,Ur({},r,n,{isActive:!1,option:t,index:i,dataKey:o}))}function M4(e){var{data:t,props:r}=e,n=ai(r),{id:i}=n,o=es(n,E4),{shape:a,dataKey:s,activeBar:l}=r,{onMouseEnter:c,onClick:u,onMouseLeave:d}=r,h=es(r,j4),p=Zx(c,s),m=Qx(d),g=e1(u,s);return t?v.createElement(v.Fragment,null,t.map((y,b)=>v.createElement(Br,Ur({className:"recharts-bar-rectangle"},Sd(h,y,b),{onMouseEnter:p(y,b),onMouseLeave:m(y,b),onClick:g(y,b),key:"rectangle-".concat(y==null?void 0:y.x,"-").concat(y==null?void 0:y.y,"-").concat(y==null?void 0:y.value,"-").concat(b)}),l?v.createElement(D4,{shape:a,activeBar:l,baseProps:o,entry:y,index:b,dataKey:s}):v.createElement($4,{shape:a,baseProps:o,entry:y,index:b,dataKey:s})))):null}function F4(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:i,isAnimationActive:o,animationBegin:a,animationDuration:s,animationEasing:l,onAnimationEnd:c,onAnimationStart:u}=t,d=r.current,h=Bd(t,"recharts-bar-"),[p,m]=v.useState(!1),g=!p,y=v.useCallback(()=>{typeof c=="function"&&c(),m(!1)},[c]),b=v.useCallback(()=>{typeof u=="function"&&u(),m(!0)},[u]);return v.createElement(I4,{showLabels:g,rects:n},v.createElement(Ld,{animationId:h,begin:a,duration:s,isActive:o,easing:l,onAnimationEnd:y,onAnimationStart:b,key:h},w=>{var x=w===1?n:n==null?void 0:n.map((_,S)=>{var E=d&&d[S];if(E)return tt(tt({},_),{},{x:et(E.x,_.x,w),y:et(E.y,_.y,w),width:et(E.width,_.width,w),height:et(E.height,_.height,w)});if(i==="horizontal"){var j=et(0,_.height,w);return tt(tt({},_),{},{y:_.y+_.height-j,height:j})}var P=et(0,_.width,w);return tt(tt({},_),{},{width:P})});return w>0&&(r.current=x??null),x==null?null:v.createElement(Br,null,v.createElement(M4,{props:t,data:x}))}),v.createElement(cL,{label:t.label}),t.children)}function N4(e){var t=v.useRef(null);return v.createElement(F4,{previousRectanglesRef:t,props:e})}var a1=0,L4=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:nt(e,t)}};class B4 extends v.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:i,xAxisId:o,yAxisId:a,needClip:s,background:l,id:c}=this.props;if(t||r==null)return null;var u=ve("recharts-bar",i),d=c;return v.createElement(Br,{className:u,id:c},s&&v.createElement("defs",null,v.createElement(x4,{clipPathId:d,xAxisId:o,yAxisId:a})),v.createElement(Br,{className:"recharts-bar-rectangles",clipPath:s?"url(#clipPath-".concat(d,")"):void 0},v.createElement(R4,{data:r,dataKey:n,background:l,allOtherBarProps:this.props}),v.createElement(N4,this.props)))}}var U4={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!si.isSsr,legendType:"rect",minPointSize:a1,xAxisId:0,yAxisId:0};function z4(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:o,activeBar:a,animationBegin:s,animationDuration:l,animationEasing:c,isAnimationActive:u}=e,{needClip:d}=o1(t,r),h=Nd(),p=Lt(),m=RP(e.children,Bx),g=K(w=>gB(w,t,r,p,e.id,m));if(h!=="vertical"&&h!=="horizontal")return null;var y,b=g==null?void 0:g[0];return b==null||b.height==null||b.width==null?y=0:y=h==="vertical"?b.height/2:b.width/2,v.createElement(w4,{xAxisId:t,yAxisId:r,data:g,dataPointFormatter:L4,errorBarOffset:y},v.createElement(B4,Ur({},e,{layout:h,needClip:d,data:g,xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:o,activeBar:a,animationBegin:s,animationDuration:l,animationEasing:c,isAnimationActive:u})))}function W4(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:i,bandSize:o,xAxis:a,yAxis:s,xAxisTicks:l,yAxisTicks:c,stackedData:u,displayedData:d,offset:h,cells:p,parentViewBox:m}=e,g=t==="horizontal"?s:a,y=u?g.scale.domain():null,b=WT({numericAxis:g});return d.map((w,x)=>{var _,S,E,j,P,A;u?_=FT(u[x],y):(_=nt(w,r),Array.isArray(_)||(_=[b,_]));var I=f4(n,a1)(_[1],x);if(t==="horizontal"){var O,[D,B]=[s.scale(_[0]),s.scale(_[1])];S=pm({axis:a,ticks:l,bandSize:o,offset:i.offset,entry:w,index:x}),E=(O=B??D)!==null&&O!==void 0?O:void 0,j=i.size;var T=D-B;if(P=xt(T)?0:T,A={x:S,y:h.top,width:j,height:h.height},Math.abs(I)>0&&Math.abs(P)<Math.abs(I)){var N=st(P||I)*(Math.abs(I)-Math.abs(P));E-=N,P+=N}}else{var[F,G]=[a.scale(_[0]),a.scale(_[1])];if(S=F,E=pm({axis:s,ticks:c,bandSize:o,offset:i.offset,entry:w,index:x}),j=G-F,P=i.size,A={x:h.left,y:E,width:h.width,height:P},Math.abs(I)>0&&Math.abs(j)<Math.abs(I)){var V=st(j||I)*(Math.abs(I)-Math.abs(j));j+=V}}if(S==null||E==null||j==null||P==null)return null;var J=tt(tt({},w),{},{x:S,y:E,width:j,height:P,value:u?_:_[1],payload:w,background:A,tooltipPosition:{x:S+j/2,y:E+P/2},parentViewBox:m},p&&p[x]&&p[x].props);return J}).filter(Boolean)}function q4(e){var t=Bt(e,U4),r=Lt();return v.createElement(NL,{id:t.id,type:"bar"},n=>v.createElement(v.Fragment,null,v.createElement(IL,{legendPayload:O4(t)}),v.createElement(TL,{fn:T4,args:t}),v.createElement(qL,{type:"bar",id:n,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:zT(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),v.createElement(z4,Ur({},t,{id:n}))))}var Ku=v.memo(q4);Ku.displayName="Bar";function _y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ea(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_y(Object(r),!0).forEach(function(n){H4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_y(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function H4(e,t,r){return(t=K4(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K4(e){var t=G4(e,"string");return typeof t=="symbol"?t:t+""}function G4(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Y4=(e,t)=>t,V4=(e,t,r)=>r,J4=(e,t,r,n)=>n,X4=(e,t,r,n,i)=>i,Eo=k([_f,X4],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),Z4=k([Eo],e=>e==null?void 0:e.maxBarSize),Q4=(e,t,r,n,i,o)=>o,Sy=(e,t,r)=>{var n=r??e;if(!$e(n))return Vt(n,t,0)},eB=k([ue,_f,Y4,V4,J4],(e,t,r,n,i)=>t.filter(o=>e==="horizontal"?o.xAxisId===r:o.yAxisId===n).filter(o=>o.isPanorama===i).filter(o=>o.hide===!1).filter(o=>o.type==="bar")),tB=(e,t,r,n)=>{var i=ue(e);return i==="horizontal"?Lu(e,"yAxis",r,n):Lu(e,"xAxis",t,n)},rB=(e,t,r)=>{var n=ue(e);return n==="horizontal"?Ag(e,"xAxis",t):Ag(e,"yAxis",r)},nB=(e,t,r)=>{var n={},i=e.filter($s),o=e.filter(c=>c.stackId==null),a=i.reduce((c,u)=>(c[u.stackId]||(c[u.stackId]=[]),c[u.stackId].push(u),c),n),s=Object.entries(a).map(c=>{var[u,d]=c,h=d.map(m=>m.dataKey),p=Sy(t,r,d[0].barSize);return{stackId:u,dataKeys:h,barSize:p}}),l=o.map(c=>{var u=[c.dataKey].filter(h=>h!=null),d=Sy(t,r,c.barSize);return{stackId:void 0,dataKeys:u,barSize:d}});return[...s,...l]},iB=k([eB,g$,rB],nB),oB=(e,t,r,n,i)=>{var o,a,s=Eo(e,t,r,n,i);if(s!=null){var l=ue(e),c=ww(e),{maxBarSize:u}=s,d=$e(u)?c:u,h,p;return l==="horizontal"?(h=Zn(e,"xAxis",t,n),p=Xn(e,"xAxis",t,n)):(h=Zn(e,"yAxis",r,n),p=Xn(e,"yAxis",r,n)),(o=(a=$d(h,p,!0))!==null&&a!==void 0?a:d)!==null&&o!==void 0?o:0}},s1=(e,t,r,n)=>{var i=ue(e),o,a;return i==="horizontal"?(o=Zn(e,"xAxis",t,n),a=Xn(e,"xAxis",t,n)):(o=Zn(e,"yAxis",r,n),a=Xn(e,"yAxis",r,n)),$d(o,a)};function aB(e,t,r,n,i){var o=n.length;if(!(o<1)){var a=Vt(e,r,0,!0),s,l=[];if(St(n[0].barSize)){var c=!1,u=r/o,d=n.reduce((b,w)=>b+(w.barSize||0),0);d+=(o-1)*a,d>=r&&(d-=(o-1)*a,a=0),d>=r&&u>0&&(c=!0,u*=.9,d=o*u);var h=(r-d)/2>>0,p={offset:h-a,size:0};s=n.reduce((b,w)=>{var x,_={stackId:w.stackId,dataKeys:w.dataKeys,position:{offset:p.offset+p.size+a,size:c?u:(x=w.barSize)!==null&&x!==void 0?x:0}},S=[...b,_];return p=S[S.length-1].position,S},l)}else{var m=Vt(t,r,0,!0);r-2*m-(o-1)*a<=0&&(a=0);var g=(r-2*m-(o-1)*a)/o;g>1&&(g>>=0);var y=St(i)?Math.min(g,i):g;s=n.reduce((b,w,x)=>[...b,{stackId:w.stackId,dataKeys:w.dataKeys,position:{offset:m+(g+a)*x+(g-y)/2,size:y}}],l)}return s}}var sB=(e,t,r,n,i,o,a)=>{var s=$e(a)?t:a,l=aB(r,n,i!==o?i:o,e,s);return i!==o&&l!=null&&(l=l.map(c=>ea(ea({},c),{},{position:ea(ea({},c.position),{},{offset:c.position.offset-i/2})}))),l},lB=k([iB,ww,m$,xw,oB,s1,Z4],sB),cB=(e,t,r,n)=>Zn(e,"xAxis",t,n),uB=(e,t,r,n)=>Zn(e,"yAxis",r,n),dB=(e,t,r,n)=>Xn(e,"xAxis",t,n),fB=(e,t,r,n)=>Xn(e,"yAxis",r,n),hB=k([lB,Eo],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),pB=(e,t)=>{var r=wf(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var i=e[n];if(i){var{stackedData:o}=i;if(o)return o.find(a=>a.key===r)}}}},mB=k([tB,Eo],pB),gB=k([Fe,Md,cB,uB,dB,fB,hB,ue,df,s1,mB,Eo,Q4],(e,t,r,n,i,o,a,s,l,c,u,d,h)=>{var{chartData:p,dataStartIndex:m,dataEndIndex:g}=l;if(!(d==null||a==null||t==null||s!=="horizontal"&&s!=="vertical"||r==null||n==null||i==null||o==null||c==null)){var{data:y}=d,b;if(y!=null&&y.length>0?b=y:b=p==null?void 0:p.slice(m,g+1),b!=null)return W4({layout:s,barSettings:d,pos:a,parentViewBox:t,bandSize:c,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:o,stackedData:u,displayedData:b,offset:e,cells:h})}}),yB=e=>{var{chartData:t}=e,r=Me(),n=Lt();return v.useEffect(()=>n?()=>{}:(r(Lg(t)),()=>{r(Lg(void 0))}),[t,r,n]),null},Ey={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},l1=jt({name:"brush",initialState:Ey,reducers:{setBrushSettings(e,t){return t.payload==null?Ey:t.payload}}}),{setBrushSettings:Fz}=l1.actions,vB=l1.reducer;function bB(e,t,r){return(t=wB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wB(e){var t=xB(e,"string");return typeof t=="symbol"?t:t+""}function xB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class zf{static create(t){return new zf(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(t)+o}default:return this.scale(t)}if(r){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],i=r[r.length-1];return n<=i?t>=n&&t<=i:t>=i&&t<=n}}bB(zf,"EPS",1e-4);function _B(e){return(e%180+180)%180}var SB=function(t){var{width:r,height:n}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=_B(i),a=o*Math.PI/180,s=Math.atan(n/r),l=a>s&&a<Math.PI-s?n/Math.sin(a):r/Math.cos(a);return Math.abs(l)},EB={dots:[],areas:[],lines:[]},c1=jt({name:"referenceElements",initialState:EB,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=vr(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=vr(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=vr(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:Nz,removeDot:Lz,addArea:Bz,removeArea:Uz,addLine:zz,removeLine:Wz}=c1.actions,jB=c1.reducer,CB=v.createContext(void 0),kB=e=>{var{children:t}=e,[r]=v.useState("".concat(Vi("recharts"),"-clip")),n=n1();if(n==null)return null;var{x:i,y:o,width:a,height:s}=n;return v.createElement(CB.Provider,{value:r},v.createElement("defs",null,v.createElement("clipPath",{id:r},v.createElement("rect",{x:i,y:o,height:s,width:a}))),t)};function ei(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function u1(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],i=0;i<e.length;i+=t)n.push(e[i]);return n}function PB(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return SB(n,r)}function AB(e,t,r){var n=r==="width",{x:i,y:o,width:a,height:s}=e;return t===1?{start:n?i:o,end:n?i+a:o+s}:{start:n?i+a:o+s,end:n?i:o}}function ts(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var o=r();return e*(t-e*o/2-n)>=0&&e*(t+e*o/2-i)<=0}function OB(e,t){return u1(e,t+1)}function TB(e,t,r,n,i){for(var o=(n||[]).slice(),{start:a,end:s}=t,l=0,c=1,u=a,d=function(){var m=n==null?void 0:n[l];if(m===void 0)return{v:u1(n,c)};var g=l,y,b=()=>(y===void 0&&(y=r(m,g)),y),w=m.coordinate,x=l===0||ts(e,w,b,u,s);x||(l=0,u=a,c+=1),x&&(u=w+e*(b()/2+i),l+=c)},h;c<=o.length;)if(h=d(),h)return h.v;return[]}function jy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ve(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jy(Object(r),!0).forEach(function(n){RB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RB(e,t,r){return(t=IB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IB(e){var t=DB(e,"string");return typeof t=="symbol"?t:t+""}function DB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $B(e,t,r,n,i){for(var o=(n||[]).slice(),a=o.length,{start:s}=t,{end:l}=t,c=function(h){var p=o[h],m,g=()=>(m===void 0&&(m=r(p,h)),m);if(h===a-1){var y=e*(p.coordinate+e*g()/2-l);o[h]=p=Ve(Ve({},p),{},{tickCoord:y>0?p.coordinate-y*e:p.coordinate})}else o[h]=p=Ve(Ve({},p),{},{tickCoord:p.coordinate});var b=ts(e,p.tickCoord,g,s,l);b&&(l=p.tickCoord-e*(g()/2+i),o[h]=Ve(Ve({},p),{},{isShow:!0}))},u=a-1;u>=0;u--)c(u);return o}function MB(e,t,r,n,i,o){var a=(n||[]).slice(),s=a.length,{start:l,end:c}=t;if(o){var u=n[s-1],d=r(u,s-1),h=e*(u.coordinate+e*d/2-c);a[s-1]=u=Ve(Ve({},u),{},{tickCoord:h>0?u.coordinate-h*e:u.coordinate});var p=ts(e,u.tickCoord,()=>d,l,c);p&&(c=u.tickCoord-e*(d/2+i),a[s-1]=Ve(Ve({},u),{},{isShow:!0}))}for(var m=o?s-1:s,g=function(w){var x=a[w],_,S=()=>(_===void 0&&(_=r(x,w)),_);if(w===0){var E=e*(x.coordinate-e*S()/2-l);a[w]=x=Ve(Ve({},x),{},{tickCoord:E<0?x.coordinate-E*e:x.coordinate})}else a[w]=x=Ve(Ve({},x),{},{tickCoord:x.coordinate});var j=ts(e,x.tickCoord,S,l,c);j&&(l=x.tickCoord+e*(S()/2+i),a[w]=Ve(Ve({},x),{},{isShow:!0}))},y=0;y<m;y++)g(y);return a}function Wf(e,t,r){var{tick:n,ticks:i,viewBox:o,minTickGap:a,orientation:s,interval:l,tickFormatter:c,unit:u,angle:d}=e;if(!i||!i.length||!n)return[];if(H(l)||si.isSsr){var h;return(h=OB(i,H(l)?l:0))!==null&&h!==void 0?h:[]}var p=[],m=s==="top"||s==="bottom"?"width":"height",g=u&&m==="width"?Hi(u,{fontSize:t,letterSpacing:r}):{width:0,height:0},y=(x,_)=>{var S=typeof c=="function"?c(x.value,_):x.value;return m==="width"?PB(Hi(S,{fontSize:t,letterSpacing:r}),g,d):Hi(S,{fontSize:t,letterSpacing:r})[m]},b=i.length>=2?st(i[1].coordinate-i[0].coordinate):1,w=AB(o,b,m);return l==="equidistantPreserveStart"?TB(b,w,y,i,a):(l==="preserveStart"||l==="preserveStartEnd"?p=MB(b,w,y,i,a,l==="preserveStartEnd"):p=$B(b,w,y,i,a),p.filter(x=>x.isShow))}var FB=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:o=0}=e,a=0;if(t){t.forEach(u=>{if(u){var d=u.getBoundingClientRect();d.width>a&&(a=d.width)}});var s=r?r.getBoundingClientRect().width:0,l=i+o,c=a+l+s+(r?n:0);return Math.round(c)}return 0},NB=["axisLine","width","height","className","hide","ticks"],LB=["viewBox"],BB=["viewBox"];function Gu(e,t){if(e==null)return{};var r,n,i=UB(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function UB(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function mn(){return mn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mn.apply(null,arguments)}function Cy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ae(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Cy(Object(r),!0).forEach(function(n){zB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zB(e,t,r){return(t=WB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WB(e){var t=qB(e,"string");return typeof t=="symbol"?t:t+""}function qB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qf={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function HB(e){var{x:t,y:r,width:n,height:i,orientation:o,mirror:a,axisLine:s,otherSvgProps:l}=e;if(!s)return null;var c=Ae(Ae(Ae({},l),qe(s,!1)),{},{fill:"none"});if(o==="top"||o==="bottom"){var u=+(o==="top"&&!a||o==="bottom"&&a);c=Ae(Ae({},c),{},{x1:t,y1:r+u*i,x2:t+n,y2:r+u*i})}else{var d=+(o==="left"&&!a||o==="right"&&a);c=Ae(Ae({},c),{},{x1:t+d*n,y1:r,x2:t+d*n,y2:r+i})}return v.createElement("line",mn({},c,{className:ve("recharts-cartesian-axis-line",qn(s,"className"))}))}function KB(e,t,r,n,i,o,a,s,l){var c,u,d,h,p,m,g=s?-1:1,y=e.tickSize||a,b=H(e.tickCoord)?e.tickCoord:e.coordinate;switch(o){case"top":c=u=e.coordinate,h=r+ +!s*i,d=h-g*y,m=d-g*l,p=b;break;case"left":d=h=e.coordinate,u=t+ +!s*n,c=u-g*y,p=c-g*l,m=b;break;case"right":d=h=e.coordinate,u=t+ +s*n,c=u+g*y,p=c+g*l,m=b;break;default:c=u=e.coordinate,h=r+ +s*i,d=h+g*y,m=d+g*l,p=b;break}return{line:{x1:c,y1:d,x2:u,y2:h},tick:{x:p,y:m}}}function GB(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function YB(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function VB(e){var{option:t,tickProps:r,value:n}=e,i,o=ve(r.className,"recharts-cartesian-axis-tick-value");if(v.isValidElement(t))i=v.cloneElement(t,Ae(Ae({},r),{},{className:o}));else if(typeof t=="function")i=t(Ae(Ae({},r),{},{className:o}));else{var a="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(a=ve(a,t==null?void 0:t.className)),i=v.createElement(Lf,mn({},r,{className:a}),n)}return i}function JB(e){var{ticks:t=[],tick:r,tickLine:n,stroke:i,tickFormatter:o,unit:a,padding:s,tickTextProps:l,orientation:c,mirror:u,x:d,y:h,width:p,height:m,tickSize:g,tickMargin:y,fontSize:b,letterSpacing:w,getTicksConfig:x,events:_}=e,S=Wf(Ae(Ae({},x),{},{ticks:t}),b,w),E=GB(c,u),j=YB(c,u),P=ai(x),A=qe(r,!1),I=Ae(Ae({},P),{},{fill:"none"},qe(n,!1)),O=S.map((D,B)=>{var{line:T,tick:N}=KB(D,d,h,p,m,c,g,u,y),F=Ae(Ae(Ae(Ae({textAnchor:E,verticalAnchor:j},P),{},{stroke:"none",fill:i},A),N),{},{index:B,payload:D,visibleTicksCount:S.length,tickFormatter:o,padding:s},l);return v.createElement(Br,mn({className:"recharts-cartesian-axis-tick",key:"tick-".concat(D.value,"-").concat(D.coordinate,"-").concat(D.tickCoord)},Sd(_,D,B)),n&&v.createElement("line",mn({},I,T,{className:ve("recharts-cartesian-axis-tick-line",qn(n,"className"))})),r&&v.createElement(VB,{option:r,tickProps:F,value:"".concat(typeof o=="function"?o(D.value,B):D.value).concat(a||"")}))});return O.length>0?v.createElement("g",{className:"recharts-cartesian-axis-ticks"},O):null}var XB=v.forwardRef((e,t)=>{var{axisLine:r,width:n,height:i,className:o,hide:a,ticks:s}=e,l=Gu(e,NB),[c,u]=v.useState(""),[d,h]=v.useState(""),p=v.useRef([]);v.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var g;return FB({ticks:p.current,label:(g=e.labelRef)===null||g===void 0?void 0:g.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var m=v.useCallback(g=>{if(g){var y=g.getElementsByClassName("recharts-cartesian-axis-tick-value");p.current=Array.from(y);var b=y[0];if(b){var w=window.getComputedStyle(b),x=w.fontSize,_=w.letterSpacing;(x!==c||_!==d)&&(u(x),h(_))}}},[c,d]);return a||n!=null&&n<=0||i!=null&&i<=0?null:v.createElement(Br,{className:ve("recharts-cartesian-axis",o),ref:m},v.createElement(HB,{x:e.x,y:e.y,width:n,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:ai(e)}),v.createElement(JB,{ticks:s,tick:e.tick,tickLine:e.tickLine,stroke:e.stroke,tickFormatter:e.tickFormatter,unit:e.unit,padding:e.padding,tickTextProps:e.tickTextProps,orientation:e.orientation,mirror:e.mirror,x:e.x,y:e.y,width:e.width,height:e.height,tickSize:e.tickSize,tickMargin:e.tickMargin,fontSize:c,letterSpacing:d,getTicksConfig:e,events:l}),v.createElement(LN,{x:e.x,y:e.y,width:e.width,height:e.height},v.createElement(VN,{label:e.label}),e.children))}),ZB=v.memo(XB,(e,t)=>{var{viewBox:r}=e,n=Gu(e,LB),{viewBox:i}=t,o=Gu(t,BB);return ei(r,i)&&ei(n,o)}),Hf=v.forwardRef((e,t)=>{var r=Bt(e,qf);return v.createElement(ZB,mn({},r,{ref:t}))});Hf.displayName="CartesianAxis";var QB=["x1","y1","x2","y2","key"],e5=["offset"],t5=["xAxisId","yAxisId"],r5=["xAxisId","yAxisId"];function ky(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Xe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ky(Object(r),!0).forEach(function(n){n5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ky(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function n5(e,t,r){return(t=i5(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i5(e){var t=o5(e,"string");return typeof t=="symbol"?t:t+""}function o5(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function on(){return on=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},on.apply(null,arguments)}function rs(e,t){if(e==null)return{};var r,n,i=a5(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function a5(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var s5=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:i,width:o,height:a,ry:s}=e;return v.createElement("rect",{x:n,y:i,ry:s,width:o,height:a,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function d1(e,t){var r;if(v.isValidElement(e))r=v.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var{x1:n,y1:i,x2:o,y2:a,key:s}=t,l=rs(t,QB),c=ai(l),{offset:u}=c,d=rs(c,e5);r=v.createElement("line",on({},d,{x1:n,y1:i,x2:o,y2:a,fill:"none",key:s}))}return r}function l5(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:o,yAxisId:a}=e,s=rs(e,t5),l=i.map((c,u)=>{var d=Xe(Xe({},s),{},{x1:t,y1:c,x2:t+r,y2:c,key:"line-".concat(u),index:u});return d1(n,d)});return v.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function c5(e){var{y:t,height:r,vertical:n=!0,verticalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:o,yAxisId:a}=e,s=rs(e,r5),l=i.map((c,u)=>{var d=Xe(Xe({},s),{},{x1:c,y1:t,x2:c,y2:t+r,key:"line-".concat(u),index:u});return d1(n,d)});return v.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function u5(e){var{horizontalFill:t,fillOpacity:r,x:n,y:i,width:o,height:a,horizontalPoints:s,horizontal:l=!0}=e;if(!l||!t||!t.length)return null;var c=s.map(d=>Math.round(d+i-i)).sort((d,h)=>d-h);i!==c[0]&&c.unshift(0);var u=c.map((d,h)=>{var p=!c[h+1],m=p?i+a-d:c[h+1]-d;if(m<=0)return null;var g=h%t.length;return v.createElement("rect",{key:"react-".concat(h),y:d,x:n,height:m,width:o,stroke:"none",fill:t[g],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return v.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},u)}function d5(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:i,y:o,width:a,height:s,verticalPoints:l}=e;if(!t||!r||!r.length)return null;var c=l.map(d=>Math.round(d+i-i)).sort((d,h)=>d-h);i!==c[0]&&c.unshift(0);var u=c.map((d,h)=>{var p=!c[h+1],m=p?i+a-d:c[h+1]-d;if(m<=0)return null;var g=h%r.length;return v.createElement("rect",{key:"react-".concat(h),x:d,y:o,width:m,height:s,stroke:"none",fill:r[g],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return v.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},u)}var f5=(e,t)=>{var{xAxis:r,width:n,height:i,offset:o}=e;return lb(Wf(Xe(Xe(Xe({},qf),r),{},{ticks:cb(r),viewBox:{x:0,y:0,width:n,height:i}})),o.left,o.left+o.width,t)},h5=(e,t)=>{var{yAxis:r,width:n,height:i,offset:o}=e;return lb(Wf(Xe(Xe(Xe({},qf),r),{},{ticks:cb(r),viewBox:{x:0,y:0,width:n,height:i}})),o.top,o.top+o.height,t)},p5={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function f1(e){var t=hb(),r=pb(),n=fb(),i=Xe(Xe({},Bt(e,p5)),{},{x:H(e.x)?e.x:n.left,y:H(e.y)?e.y:n.top,width:H(e.width)?e.width:n.width,height:H(e.height)?e.height:n.height}),{xAxisId:o,yAxisId:a,x:s,y:l,width:c,height:u,syncWithTicks:d,horizontalValues:h,verticalValues:p}=i,m=Lt(),g=K(A=>Og(A,"xAxis",o,m)),y=K(A=>Og(A,"yAxis",a,m));if(!H(c)||c<=0||!H(u)||u<=0||!H(s)||s!==+s||!H(l)||l!==+l)return null;var b=i.verticalCoordinatesGenerator||f5,w=i.horizontalCoordinatesGenerator||h5,{horizontalPoints:x,verticalPoints:_}=i;if((!x||!x.length)&&typeof w=="function"){var S=h&&h.length,E=w({yAxis:y?Xe(Xe({},y),{},{ticks:S?h:y.ticks}):void 0,width:t,height:r,offset:n},S?!0:d);qi(Array.isArray(E),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof E,"]")),Array.isArray(E)&&(x=E)}if((!_||!_.length)&&typeof b=="function"){var j=p&&p.length,P=b({xAxis:g?Xe(Xe({},g),{},{ticks:j?p:g.ticks}):void 0,width:t,height:r,offset:n},j?!0:d);qi(Array.isArray(P),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof P,"]")),Array.isArray(P)&&(_=P)}return v.createElement("g",{className:"recharts-cartesian-grid"},v.createElement(s5,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),v.createElement(u5,on({},i,{horizontalPoints:x})),v.createElement(d5,on({},i,{verticalPoints:_})),v.createElement(l5,on({},i,{offset:n,horizontalPoints:x,xAxis:g,yAxis:y})),v.createElement(c5,on({},i,{offset:n,verticalPoints:_,xAxis:g,yAxis:y})))}f1.displayName="CartesianGrid";var m5=["dangerouslySetInnerHTML","ticks"],g5=["id"],y5=["domain"],v5=["domain"];function Yu(){return Yu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yu.apply(null,arguments)}function ns(e,t){if(e==null)return{};var r,n,i=b5(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function b5(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function w5(e){var t=Me();return v.useEffect(()=>(t(VL(e)),()=>{t(JL(e))}),[e,t]),null}var x5=e=>{var{xAxisId:t,className:r}=e,n=K(Md),i=Lt(),o="xAxis",a=K(y=>hi(y,o,t,i)),s=K(y=>dx(y,o,t,i)),l=K(y=>sx(y,t)),c=K(y=>lM(y,t)),u=K(y=>Ow(y,t));if(l==null||c==null||u==null)return null;var{dangerouslySetInnerHTML:d,ticks:h}=e,p=ns(e,m5),{id:m}=u,g=ns(u,g5);return v.createElement(Hf,Yu({},p,g,{scale:a,x:c.x,y:c.y,width:l.width,height:l.height,className:ve("recharts-".concat(o," ").concat(o),r),viewBox:n,ticks:s}))},_5={allowDataOverflow:gt.allowDataOverflow,allowDecimals:gt.allowDecimals,allowDuplicatedCategory:gt.allowDuplicatedCategory,height:gt.height,hide:!1,mirror:gt.mirror,orientation:gt.orientation,padding:gt.padding,reversed:gt.reversed,scale:gt.scale,tickCount:gt.tickCount,type:gt.type,xAxisId:0},S5=e=>{var t,r,n,i,o,a=Bt(e,_5);return v.createElement(v.Fragment,null,v.createElement(w5,{interval:(t=a.interval)!==null&&t!==void 0?t:"preserveEnd",id:a.xAxisId,scale:a.scale,type:a.type,padding:a.padding,allowDataOverflow:a.allowDataOverflow,domain:a.domain,dataKey:a.dataKey,allowDuplicatedCategory:a.allowDuplicatedCategory,allowDecimals:a.allowDecimals,tickCount:a.tickCount,includeHidden:(r=a.includeHidden)!==null&&r!==void 0?r:!1,reversed:a.reversed,ticks:a.ticks,height:a.height,orientation:a.orientation,mirror:a.mirror,hide:a.hide,unit:a.unit,name:a.name,angle:(n=a.angle)!==null&&n!==void 0?n:0,minTickGap:(i=a.minTickGap)!==null&&i!==void 0?i:5,tick:(o=a.tick)!==null&&o!==void 0?o:!0,tickFormatter:a.tickFormatter}),v.createElement(x5,a))},E5=(e,t)=>{var{domain:r}=e,n=ns(e,y5),{domain:i}=t,o=ns(t,v5);return ei(n,o)?Array.isArray(r)&&r.length===2&&Array.isArray(i)&&i.length===2?r[0]===i[0]&&r[1]===i[1]:ei({domain:r},{domain:i}):!1},h1=v.memo(S5,E5);h1.displayName="XAxis";var j5=["dangerouslySetInnerHTML","ticks"],C5=["id"],k5=["domain"],P5=["domain"];function Vu(){return Vu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vu.apply(null,arguments)}function is(e,t){if(e==null)return{};var r,n,i=A5(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function A5(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function O5(e){var t=Me();return v.useEffect(()=>(t(XL(e)),()=>{t(ZL(e))}),[e,t]),null}var T5=e=>{var{yAxisId:t,className:r,width:n,label:i}=e,o=v.useRef(null),a=v.useRef(null),s=K(Md),l=Lt(),c=Me(),u="yAxis",d=K(S=>hi(S,u,t,l)),h=K(S=>lx(S,t)),p=K(S=>uM(S,t)),m=K(S=>dx(S,u,t,l)),g=K(S=>Tw(S,t));if(v.useLayoutEffect(()=>{if(!(n!=="auto"||!h||Bf(i)||v.isValidElement(i)||g==null)){var S=o.current;if(S){var E=S.getCalculatedWidth();Math.round(h.width)!==Math.round(E)&&c(QL({id:t,width:E}))}}},[m,h,c,i,t,n,g]),h==null||p==null||g==null)return null;var{dangerouslySetInnerHTML:y,ticks:b}=e,w=is(e,j5),{id:x}=g,_=is(g,C5);return v.createElement(Hf,Vu({},w,_,{ref:o,labelRef:a,scale:d,x:p.x,y:p.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:h.width,height:h.height,className:ve("recharts-".concat(u," ").concat(u),r),viewBox:s,ticks:m}))},R5={allowDataOverflow:yt.allowDataOverflow,allowDecimals:yt.allowDecimals,allowDuplicatedCategory:yt.allowDuplicatedCategory,hide:!1,mirror:yt.mirror,orientation:yt.orientation,padding:yt.padding,reversed:yt.reversed,scale:yt.scale,tickCount:yt.tickCount,type:yt.type,width:yt.width,yAxisId:0},I5=e=>{var t,r,n,i,o,a=Bt(e,R5);return v.createElement(v.Fragment,null,v.createElement(O5,{interval:(t=a.interval)!==null&&t!==void 0?t:"preserveEnd",id:a.yAxisId,scale:a.scale,type:a.type,domain:a.domain,allowDataOverflow:a.allowDataOverflow,dataKey:a.dataKey,allowDuplicatedCategory:a.allowDuplicatedCategory,allowDecimals:a.allowDecimals,tickCount:a.tickCount,padding:a.padding,includeHidden:(r=a.includeHidden)!==null&&r!==void 0?r:!1,reversed:a.reversed,ticks:a.ticks,width:a.width,orientation:a.orientation,mirror:a.mirror,hide:a.hide,unit:a.unit,name:a.name,angle:(n=a.angle)!==null&&n!==void 0?n:0,minTickGap:(i=a.minTickGap)!==null&&i!==void 0?i:5,tick:(o=a.tick)!==null&&o!==void 0?o:!0,tickFormatter:a.tickFormatter}),v.createElement(T5,a))},D5=(e,t)=>{var{domain:r}=e,n=is(e,k5),{domain:i}=t,o=is(t,P5);return ei(n,o)?Array.isArray(r)&&r.length===2&&Array.isArray(i)&&i.length===2?r[0]===i[0]&&r[1]===i[1]:ei({domain:r},{domain:i}):!1},p1=v.memo(I5,D5);p1.displayName="YAxis";var Mc={exports:{}},Fc={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Py;function $5(){if(Py)return Fc;Py=1;var e=id();function t(l,c){return l===c&&(l!==0||1/l===1/c)||l!==l&&c!==c}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,i=e.useRef,o=e.useEffect,a=e.useMemo,s=e.useDebugValue;return Fc.useSyncExternalStoreWithSelector=function(l,c,u,d,h){var p=i(null);if(p.current===null){var m={hasValue:!1,value:null};p.current=m}else m=p.current;p=a(function(){function y(S){if(!b){if(b=!0,w=S,S=d(S),h!==void 0&&m.hasValue){var E=m.value;if(h(E,S))return x=E}return x=S}if(E=x,r(w,S))return E;var j=d(S);return h!==void 0&&h(E,j)?(w=S,E):(w=S,x=j)}var b=!1,w,x,_=u===void 0?null:u;return[function(){return y(c())},_===null?void 0:function(){return y(_())}]},[c,u,d,h]);var g=n(l,p[0],p[1]);return o(function(){m.hasValue=!0,m.value=g},[g]),s(g),g},Fc}var Ay;function M5(){return Ay||(Ay=1,Mc.exports=$5()),Mc.exports}M5();function F5(e){e()}function N5(){let e=null,t=null;return{clear(){e=null,t=null},notify(){F5(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=t={callback:r,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!n||e===null||(n=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var Oy={notify(){},get:()=>[]};function L5(e,t){let r,n=Oy,i=0,o=!1;function a(g){u();const y=n.subscribe(g);let b=!1;return()=>{b||(b=!0,y(),d())}}function s(){n.notify()}function l(){m.onStateChange&&m.onStateChange()}function c(){return o}function u(){i++,r||(r=e.subscribe(l),n=N5())}function d(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=Oy)}function h(){o||(o=!0,u())}function p(){o&&(o=!1,d())}const m={addNestedSub:a,notifyNestedSubs:s,handleChangeWrapper:l,isSubscribed:c,trySubscribe:h,tryUnsubscribe:p,getListeners:()=>n};return m}var B5=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",U5=B5(),z5=()=>typeof navigator<"u"&&navigator.product==="ReactNative",W5=z5(),q5=()=>U5||W5?v.useLayoutEffect:v.useEffect,H5=q5(),Nc=Symbol.for("react-redux-context"),Lc=typeof globalThis<"u"?globalThis:{};function K5(){if(!v.createContext)return{};const e=Lc[Nc]??(Lc[Nc]=new Map);let t=e.get(v.createContext);return t||(t=v.createContext(null),e.set(v.createContext,t)),t}var G5=K5();function Y5(e){const{children:t,context:r,serverState:n,store:i}=e,o=v.useMemo(()=>{const l=L5(i);return{store:i,subscription:l,getServerState:n?()=>n:void 0}},[i,n]),a=v.useMemo(()=>i.getState(),[i]);H5(()=>{const{subscription:l}=o;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),a!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[o,a]);const s=r||G5;return v.createElement(s.Provider,{value:o},t)}var V5=Y5,J5=(e,t)=>t,Kf=k([J5,ue,kw,Te,Cx,Or,pF,Fe],bF),Gf=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},m1=$t("mouseClick"),g1=fo();g1.startListening({actionCreator:m1,effect:(e,t)=>{var r=e.payload,n=Kf(t.getState(),Gf(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(SM({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var Ju=$t("mouseMove"),y1=fo();y1.startListening({actionCreator:Ju,effect:(e,t)=>{var r=e.payload,n=t.getState(),i=Of(n,n.tooltip.settings.shared),o=Kf(n,Gf(r));i==="axis"&&((o==null?void 0:o.activeIndex)!=null?t.dispatch(bx({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch(vx()))}});var Ty={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},v1=jt({name:"rootProps",initialState:Ty,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:Ty.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),X5=v1.reducer,{updateOptions:Z5}=v1.actions,b1=jt({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:qz}=b1.actions,Q5=b1.reducer,w1=$t("keyDown"),x1=$t("focus"),Yf=fo();Yf.startListening({actionCreator:w1,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,o=e.payload;if(!(o!=="ArrowRight"&&o!=="ArrowLeft"&&o!=="Enter")){var a=Number(Tf(i,mi(r))),s=Or(r);if(o==="Enter"){var l=Ja(r,"axis","hover",String(i.index));t.dispatch(Uu({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:l}));return}var c=pM(r),u=c==="left-to-right"?1:-1,d=o==="ArrowRight"?1:-1,h=a+d*u;if(!(s==null||h>=s.length||h<0)){var p=Ja(r,"axis","hover",String(h));t.dispatch(Uu({active:!0,activeIndex:h.toString(),activeDataKey:void 0,activeCoordinate:p}))}}}}});Yf.startListening({actionCreator:x1,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var o="0",a=Ja(r,"axis","hover",String(o));t.dispatch(Uu({activeDataKey:void 0,active:!0,activeIndex:o,activeCoordinate:a}))}}}});var Tt=$t("externalEvent"),_1=fo();_1.startListening({actionCreator:Tt,effect:(e,t)=>{if(e.payload.handler!=null){var r=t.getState(),n={activeCoordinate:oF(r),activeDataKey:Ox(r),activeIndex:Qn(r),activeLabel:Ax(r),activeTooltipIndex:Qn(r),isTooltipActive:aF(r)};e.payload.handler(n,e.payload.reactEvent)}}});var e3=k([pi],e=>e.tooltipItemPayloads),t3=k([e3,_o,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var i=e.find(s=>s.settings.dataKey===n);if(i!=null){var{positions:o}=i;if(o!=null){var a=t(o,r);return a}}}),S1=$t("touchMove"),E1=fo();E1.startListening({actionCreator:S1,effect:(e,t)=>{var r=e.payload,n=t.getState(),i=Of(n,n.tooltip.settings.shared);if(i==="axis"){var o=Kf(n,Gf({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(o==null?void 0:o.activeIndex)!=null&&t.dispatch(bx({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(i==="item"){var a,s=r.touches[0],l=document.elementFromPoint(s.clientX,s.clientY);if(!l||!l.getAttribute)return;var c=l.getAttribute(XT),u=(a=l.getAttribute(ZT))!==null&&a!==void 0?a:void 0,d=t3(t.getState(),c,u);t.dispatch(yx({activeDataKey:u,activeIndex:c,activeCoordinate:d}))}}});var r3=N0({brush:vB,cartesianAxis:e4,chartData:MF,errorBars:p4,graphicalItems:WL,layout:wT,legend:h2,options:TF,polarAxis:dL,polarOptions:Q5,referenceElements:jB,rootProps:X5,tooltip:EM}),n3=function(t){return HO({reducer:r3,preloadedState:t,middleware:r=>r({serializableCheck:!1}).concat([g1.middleware,y1.middleware,Yf.middleware,_1.middleware,E1.middleware]),devTools:si.devToolsEnabled})};function i3(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,i=Lt(),o=v.useRef(null);if(i)return r;o.current==null&&(o.current=n3(t));var a=Ad;return v.createElement(V5,{context:a,store:o.current},r)}function o3(e){var{layout:t,width:r,height:n,margin:i}=e,o=Me(),a=Lt();return v.useEffect(()=>{a||(o(yT(t)),o(vT({width:r,height:n})),o(gT(i)))},[o,a,t,r,n,i]),null}function a3(e){var t=Me();return v.useEffect(()=>{t(Z5(e))},[t,e]),null}var s3=["children"];function l3(e,t){if(e==null)return{};var r,n,i=c3(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function c3(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function os(){return os=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},os.apply(null,arguments)}var u3={width:"100%",height:"100%"},d3=v.forwardRef((e,t)=>{var r=hb(),n=pb(),i=gb();if(!Da(r)||!Da(n))return null;var{children:o,otherAttributes:a,title:s,desc:l}=e,c,u;return typeof a.tabIndex=="number"?c=a.tabIndex:c=i?0:void 0,typeof a.role=="string"?u=a.role:u=i?"application":void 0,v.createElement(a0,os({},a,{title:s,desc:l,role:u,tabIndex:c,width:r,height:n,style:u3,ref:t}),o)}),f3=e=>{var{children:t}=e,r=K(Ss);if(!r)return null;var{width:n,height:i,y:o,x:a}=r;return v.createElement(a0,{width:n,height:i,x:a,y:o},t)},Ry=v.forwardRef((e,t)=>{var{children:r}=e,n=l3(e,s3),i=Lt();return i?v.createElement(f3,null,r):v.createElement(d3,os({ref:t},n),r)});function h3(){var e=Me(),[t,r]=v.useState(null),n=K(JT);return v.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),o=i.width/t.offsetWidth;St(o)&&o!==n&&e(bT(o))}},[t,e,n]),r}function Iy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function p3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Iy(Object(r),!0).forEach(function(n){m3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Iy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function m3(e,t,r){return(t=g3(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g3(e){var t=y3(e,"string");return typeof t=="symbol"?t:t+""}function y3(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var v3=v.forwardRef((e,t)=>{var{children:r,className:n,height:i,onClick:o,onContextMenu:a,onDoubleClick:s,onMouseDown:l,onMouseEnter:c,onMouseLeave:u,onMouseMove:d,onMouseUp:h,onTouchEnd:p,onTouchMove:m,onTouchStart:g,style:y,width:b}=e,w=Me(),[x,_]=v.useState(null),[S,E]=v.useState(null);HF();var j=h3(),P=v.useCallback(z=>{j(z),typeof t=="function"&&t(z),_(z),E(z)},[j,t,_,E]),A=v.useCallback(z=>{w(m1(z)),w(Tt({handler:o,reactEvent:z}))},[w,o]),I=v.useCallback(z=>{w(Ju(z)),w(Tt({handler:c,reactEvent:z}))},[w,c]),O=v.useCallback(z=>{w(vx()),w(Tt({handler:u,reactEvent:z}))},[w,u]),D=v.useCallback(z=>{w(Ju(z)),w(Tt({handler:d,reactEvent:z}))},[w,d]),B=v.useCallback(()=>{w(x1())},[w]),T=v.useCallback(z=>{w(w1(z.key))},[w]),N=v.useCallback(z=>{w(Tt({handler:a,reactEvent:z}))},[w,a]),F=v.useCallback(z=>{w(Tt({handler:s,reactEvent:z}))},[w,s]),G=v.useCallback(z=>{w(Tt({handler:l,reactEvent:z}))},[w,l]),V=v.useCallback(z=>{w(Tt({handler:h,reactEvent:z}))},[w,h]),J=v.useCallback(z=>{w(Tt({handler:g,reactEvent:z}))},[w,g]),de=v.useCallback(z=>{w(S1(z)),w(Tt({handler:m,reactEvent:z}))},[w,m]),ie=v.useCallback(z=>{w(Tt({handler:p,reactEvent:z}))},[w,p]);return v.createElement(Mx.Provider,{value:x},v.createElement(BP.Provider,{value:S},v.createElement("div",{className:ve("recharts-wrapper",n),style:p3({position:"relative",cursor:"default",width:b,height:i},y),onClick:A,onContextMenu:N,onDoubleClick:F,onFocus:B,onKeyDown:T,onMouseDown:G,onMouseEnter:I,onMouseLeave:O,onMouseMove:D,onMouseUp:V,onTouchEnd:ie,onTouchMove:de,onTouchStart:J,ref:P},r)))}),b3=["children","className","width","height","style","compact","title","desc"];function w3(e,t){if(e==null)return{};var r,n,i=x3(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function x3(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var _3=v.forwardRef((e,t)=>{var{children:r,className:n,width:i,height:o,style:a,compact:s,title:l,desc:c}=e,u=w3(e,b3),d=ai(u);return s?v.createElement(Ry,{otherAttributes:d,title:l,desc:c},r):v.createElement(v3,{className:n,style:a,width:i,height:o,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},v.createElement(Ry,{otherAttributes:d,title:l,desc:c,ref:t},v.createElement(kB,null,r)))}),S3=["width","height"];function Xu(){return Xu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xu.apply(null,arguments)}function E3(e,t){if(e==null)return{};var r,n,i=j3(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function j3(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var C3={top:5,right:5,bottom:5,left:5},k3={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:C3,reverseStackOrder:!1,syncMethod:"index"},P3=v.forwardRef(function(t,r){var n,i=Bt(t.categoricalChartProps,k3),{width:o,height:a}=i,s=E3(i,S3);if(!Da(o)||!Da(a))return null;var{chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,categoricalChartProps:h}=t,p={chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,eventEmitter:void 0};return v.createElement(i3,{preloadedState:{options:p},reduxStoreName:(n=h.id)!==null&&n!==void 0?n:l},v.createElement(yB,{chartData:h.data}),v.createElement(o3,{width:o,height:a,layout:i.layout,margin:i.margin}),v.createElement(a3,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),v.createElement(_3,Xu({},s,{width:o,height:a,ref:r})))}),A3=["axis","item"],O3=v.forwardRef((e,t)=>v.createElement(P3,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:A3,tooltipPayloadSearcher:AF,categoricalChartProps:e,ref:t}));function T3(){var A;const[e,t]=v.useState(null),[r,n]=v.useState(null),[i,o]=v.useState(!1),[a,s]=v.useState(!1),[l,c]=v.useState(null),u=Nt(),{t:d}=Ce();v.useEffect(()=>{(async()=>{const{data:O,error:D}=await ct.auth.getUser();D&&console.error("âŒ Error obteniendo usuario:",D),O!=null&&O.user?n(O.user):n(null)})()},[]);const h=async()=>{if(u)try{const I=await fetch(`http://127.0.0.1:8001/dashboard_summary?client_id=${u}`),O=await I.json();I.ok?t(O):console.error("âŒ Error en respuesta de dashboard_summary:",O)}catch(I){console.error("âŒ Error de red al obtener dashboard:",I)}};if(v.useEffect(()=>{h()},[u]),v.useEffect(()=>{if(!u)return;(async()=>{try{const D=await(await fetch(`http://127.0.0.1:8001/accepted_terms?client_id=${u}`)).json();D.has_accepted?console.log("âœ… Terms are up to date"):(console.log("âš ï¸ Terms missing or expired:",D.reason),o(!0))}catch(O){console.error("âŒ Error checking accepted terms:",O)}})()},[u]),!r||!e)return f.jsxs("div",{style:z3,children:[f.jsx("div",{style:W3}),f.jsx("p",{style:{color:"#274472",marginTop:"1rem"},children:d("loading")})]});const{plan:p,usage:m,history_preview:g,assistant_config:y,upgrade_suggestion:b,subscription_start:w,subscription_end:x,cancellation_status:_}=e,S=I=>I.toLowerCase().replace(/\s+/g,"_"),E=((A=p==null?void 0:p.plan_features)==null?void 0:A.map(I=>S(I)))||[],j=[{name:d("messages"),used:m.messages_used||0,max:p.is_unlimited?m.messages_used:p.max_messages},{name:d("documents"),used:m.documents_uploaded||0,max:p.max_documents}],P=async()=>{if(_!=null&&_.reactivate_available)try{s(!0);const I=await fetch("http://127.0.0.1:8001/reactivate-subscription",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:u})}),O=await I.json();I.ok?(se({title:"âœ… Subscription reactivated",description:O.message||"Your plan has been restored."}),await h(),setTimeout(()=>window.location.reload(),1500)):se({title:"Error",description:O.detail||"Failed to reactivate."})}catch(I){se({title:"Error",description:I.message})}finally{s(!1),c(null)}};return f.jsxs("div",{style:R3,children:[i&&f.jsx(vP,{onClose:()=>o(!1)}),f.jsx("header",{style:I3,children:f.jsxs("div",{style:D3,children:[f.jsx("img",{src:"/logo-evolvian.svg",alt:"Evolvian Logo",style:{width:50,height:50,borderRadius:"50%"}}),f.jsxs("div",{children:[f.jsxs("h1",{style:$3,children:["ðŸ‘‹ ",d("welcome"),", ",r.email]}),f.jsxs("p",{style:M3,children:[d("assistant_intro")," ",f.jsx("strong",{style:{color:"#274472"},children:(y==null?void 0:y.assistant_name)||d("your_assistant")}),"."]})]})]})}),f.jsxs("div",{style:ta,children:[f.jsx("h2",{style:ra,children:d("your_plan")}),f.jsx("p",{children:f.jsx("strong",{children:p.name})}),f.jsxs("p",{children:[d("messages"),": ",p.is_unlimited?"âˆž":p.max_messages]}),f.jsxs("p",{children:[d("documents"),": ",p.max_documents]}),w&&x&&f.jsxs("p",{style:L3,children:[d("subscription_period"),": ",w," â€“ ",x]}),(_==null?void 0:_.is_pending)&&f.jsxs("div",{style:B3,children:[f.jsx("p",{style:{margin:0},children:_.message}),_.reactivate_available&&f.jsxs(f.Fragment,{children:[f.jsx("button",{onClick:()=>c({planName:p.name,endDate:x,label:_.reactivate_label||"Reactivate"}),disabled:a,style:U3,children:a?"Reactivating...":_.reactivate_label||"Reactivate"}),l&&f.jsx(ReactivateModal,{planName:l.planName,endDate:l.endDate,onCancel:()=>c(null),onConfirm:P,loading:a})]})]})]}),f.jsxs("div",{style:ta,children:[f.jsx("h2",{style:ra,children:d("usage_summary")}),f.jsxs("p",{children:[d("messages_used"),":"," ",f.jsx("strong",{style:{color:"#2EB39A"},children:m.messages_used})," /"," ",p.is_unlimited?"âˆž":p.max_messages,b&&f.jsxs(f.Fragment,{children:[" ","â€” ",d("almost_limit")||"You're close to the limit"," ðŸš€"," ",b.action==="upgrade"&&f.jsxs(f.Fragment,{children:[d("upgrade_to")||"Upgrade to"," ",f.jsx("strong",{children:b.to})]}),b.action==="contact_support"&&f.jsxs(f.Fragment,{children:[" ",d("contact_support")||"Contact"," ",f.jsx("strong",{children:b.email})]})]})]}),f.jsxs("p",{children:[d("documents_uploaded"),":"," ",f.jsx("strong",{style:{color:"#2EB39A"},children:m.documents_uploaded})," ","/ ",p.max_documents]}),f.jsx("div",{style:{width:"100%",height:250,marginTop:"1rem"},children:f.jsx(cN,{children:f.jsxs(O3,{data:j,children:[f.jsx(f1,{strokeDasharray:"3 3",stroke:"#EDEDED"}),f.jsx(h1,{dataKey:"name",stroke:"#274472"}),f.jsx(p1,{stroke:"#274472"}),f.jsx(QF,{contentStyle:{backgroundColor:"#FFFFFF",border:"1px solid #EDEDED",color:"#274472"}}),f.jsx(Ku,{dataKey:"used",fill:"#A3D9B1",name:d("used")}),f.jsx(Ku,{dataKey:"max",fill:"#4A90E2",name:d("max")})]})})})]}),f.jsxs("div",{style:ta,children:[f.jsx("h2",{style:ra,children:d("active_features")}),f.jsx("ul",{children:E.length>0?E.map(I=>f.jsxs("li",{style:F3,children:["âœ… ",d(I)]},I)):f.jsx("li",{children:d("no_features")})})]}),f.jsxs("div",{style:ta,children:[f.jsx("h2",{style:ra,children:d("recent_activity")}),g&&g.length>0?f.jsx("ul",{children:g.map((I,O)=>f.jsxs("li",{style:N3,children:[I.question?I.question.slice(0,100):"(no content)"," (",new Date(I.timestamp).toLocaleDateString(),")"]},O))}):f.jsx("p",{children:d("no_history")})]})]})}const R3={backgroundColor:"#FFFFFF",minHeight:"100vh",padding:"2rem 3rem",fontFamily:"system-ui, sans-serif",color:"#274472"},I3={display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"2rem",borderBottom:"1px solid #EDEDED",paddingBottom:"1rem"},D3={display:"flex",alignItems:"center",gap:"1rem"},$3={fontSize:"1.8rem",fontWeight:"bold",color:"#F5A623",marginBottom:"0.3rem"},M3={color:"#4A90E2",marginBottom:0,fontSize:"1rem"},ta={backgroundColor:"#FFFFFF",border:"1px solid #EDEDED",borderRadius:"14px",padding:"1.5rem",marginBottom:"2rem",boxShadow:"0 2px 10px rgba(0,0,0,0.05)"},ra={fontSize:"1.3rem",color:"#4A90E2",marginBottom:"1rem",fontWeight:"bold"},F3={marginBottom:"0.4rem",color:"#274472"},N3={marginBottom:"0.4rem",color:"#4B5563"},L3={marginTop:"0.5rem",color:"#7A7A7A"},B3={marginTop:"1rem",backgroundColor:"#FFF7E6",border:"1px solid #F5A623",color:"#7A4A00",padding:"12px",borderRadius:"10px"},U3={marginTop:10,backgroundColor:"#4A90E2",color:"#FFFFFF",border:"none",borderRadius:"8px",padding:"8px 16px",cursor:"pointer",fontWeight:600},z3={display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:"#FFFFFF",minHeight:"100vh",fontFamily:"system-ui, sans-serif"},W3={width:40,height:40,border:"4px solid #EDEDED",borderTop:"4px solid #4A90E2",borderRadius:"50%",animation:"spin 1s linear infinite"};if(typeof document<"u"&&!document.getElementById("spin-keyframes")){const e=document.createElement("style");e.id="spin-keyframes",e.textContent=`
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
  `,document.head.appendChild(e)}function q3(){const[e,t]=v.useState(null),[r,n]=v.useState(""),[i,o]=v.useState([]),[a,s]=v.useState(!1),[l,c]=v.useState(!0),u=Nt(),{t:d}=Ce();v.useEffect(()=>{if(typeof document<"u"&&!document.getElementById("spin-keyframes")){const y=document.createElement("style");y.id="spin-keyframes",y.textContent=`
        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
      `,document.head.appendChild(y)}},[]);const h=async()=>{if(u)try{c(!0);const b=await(await fetch(`http://127.0.0.1:8001/list_files?client_id=${u}`)).json();o(b.files||[])}catch(y){console.error("âŒ Error al listar archivos:",y),o([])}finally{c(!1)}};v.useEffect(()=>{u&&h()},[u]);const p=async y=>{if(y.preventDefault(),!u||u==="undefined"||u.trim()===""){n(`âŒ ${d("invalid_client_id")}`);return}if(!e){n(`âš ï¸ ${d("please_select_file")}`);return}const b=new FormData;b.append("client_id",u),b.append("file",e);try{const w=await fetch("http://127.0.0.1:8001/upload_document",{method:"POST",body:b});if(w.status===403){const _=await w.json(),S=(_==null?void 0:_.detail)||"";s(!0),n(S==="limit_reached"?`ðŸš« ${d("limit_reached_error")}`:`ðŸš« ${S||d("unknown_upload_error")}`);return}if(!w.ok){const _=await w.json();throw new Error(_.detail||d("unknown_upload_error"))}const x=await w.json();console.log("ðŸ“¥ Respuesta backend:",x),n(`âœ… ${x.message||d("file_uploaded_success")}`),t(null),h()}catch(w){console.error("âŒ Error al subir archivo:",w),n(`âŒ ${w.message}`)}},m=async y=>{if(window.confirm(`âš ï¸ ${d("confirm_delete_file")} ${y}?`))try{const b=await fetch(`http://127.0.0.1:8001/delete_file?storage_path=${encodeURIComponent(y)}`,{method:"DELETE"});if(!b.ok){const x=await b.json();throw new Error(x.detail||d("unknown_delete_error"))}const w=await b.json();console.log("ðŸ—‘ï¸ Respuesta backend:",w),n(`âœ… ${w.message||d("file_deleted_success")}`),h()}catch(b){console.error("âŒ Error al borrar archivo:",b),n(`âŒ ${b.message}`)}},g=y=>y?y.startsWith("âœ…")?"#2EB39A":y.startsWith("âš ï¸")?"#F5A623":y.startsWith("ðŸš«")||y.startsWith("âŒ")?"#E74C3C":"#274472":"#274472";return l?f.jsxs("div",{style:nU,children:[f.jsx("div",{style:iU}),f.jsx("p",{style:{color:"#274472",marginTop:"1rem"},children:d("loading")||"Loading..."})]}):f.jsx("div",{style:H3,children:f.jsxs("div",{style:K3,children:[f.jsxs("h1",{style:G3,children:["ðŸ“¤ ",d("upload_document")]}),a&&f.jsxs("div",{style:rU,children:[f.jsx("strong",{children:d("limit_reached_title")||"Limit reached"}),f.jsx("span",{style:{display:"block",marginTop:6},children:d("limit_reached_error")})]}),f.jsxs("form",{onSubmit:p,children:[f.jsxs("div",{style:{marginBottom:"1.2rem"},children:[f.jsxs("label",{style:Y3,children:["ðŸ“Ž ",d("select_file_label")]}),f.jsx("input",{type:"file",accept:".pdf,.txt",onChange:y=>t(y.target.files[0]),disabled:a,style:{...V3,opacity:a?.6:1,cursor:a?"not-allowed":"pointer"}}),f.jsxs("p",{style:J3,children:[d("supported_formats")||"Supported formats",": .pdf, .txt â€”"," ",f.jsxs("span",{style:{color:"#274472"},children:[d("max_file_size")||"Max file size",": 10MB"]})]})]}),f.jsx("button",{type:"submit",disabled:a,style:{...X3,backgroundColor:a?"#9BBCE6":"#4A90E2",cursor:a?"not-allowed":"pointer"},children:d("upload_file")})]}),r&&f.jsx("p",{style:{marginTop:"1rem",fontWeight:600,color:g(r)},children:r}),i.length>0&&f.jsxs("div",{style:{marginTop:"2rem"},children:[f.jsxs("h3",{style:Dy,children:["ðŸ“‚ ",d("uploaded_files")]}),f.jsx("ul",{style:{listStyleType:"none",paddingLeft:0,margin:0},children:i.map((y,b)=>f.jsxs("li",{style:Q3,children:[f.jsxs("div",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:["ðŸ“„ ",f.jsx("strong",{children:y.name})," ",f.jsxs("span",{style:{color:"#6B7280"},children:["â€” ",y.size_kb," KB"]})]}),f.jsxs("button",{onClick:()=>m(y.storage_path),style:Z3,children:["ðŸ—‘ï¸ ",d("delete")]})]},b))})]}),f.jsxs("div",{style:eU,children:[f.jsxs("h3",{style:{...Dy,marginBottom:8},children:["ðŸ§  ",d("readiness_tips_title")||"Document Requirements for Best AI Readiness"]}),f.jsxs("ul",{style:tU,children:[f.jsx("li",{children:d("tip_clear_formatting")||"Use clear, well-formatted text (avoid scans or images of text)."}),f.jsx("li",{children:d("tip_supported_formats")||"Supported formats: .pdf and .txt."}),f.jsx("li",{children:d("tip_size")||"Keep each file under 10MB for optimal processing."}),f.jsx("li",{children:d("tip_one_topic")||"Organize content by topic (one manual/policy/FAQ per file)."}),f.jsx("li",{children:d("tip_ready_soon")||"The assistant learns from your files within minutes after upload."}),f.jsx("li",{children:d("tip_reupload")||"You can delete and re-upload updated versions anytime."})]}),f.jsxs("p",{style:{marginTop:10,color:"#2EB39A"},children:["ðŸ’¡ ",d("tip_text_heavy")||"Text-heavy and structured documents yield the most accurate answers."]})]})]})})}const H3={backgroundColor:"#FFFFFF",minHeight:"100vh",padding:"2rem",fontFamily:"system-ui, sans-serif",color:"#274472",display:"flex",justifyContent:"center"},K3={backgroundColor:"#FFFFFF",border:"1px solid #EDEDED",borderRadius:"16px",padding:"2rem",width:"100%",maxWidth:760,boxShadow:"0 8px 24px rgba(0,0,0,0.06)"},G3={fontSize:"1.8rem",marginBottom:"1rem",color:"#F5A623",fontWeight:800},Y3={display:"block",marginBottom:"0.5rem",color:"#274472",fontWeight:600},V3={width:"100%",padding:"0.55rem 0.75rem",backgroundColor:"#FFFFFF",border:"1px solid #CFE1F7",color:"#274472",borderRadius:"10px",outline:"none"},J3={marginTop:8,fontSize:"0.9rem",color:"#6B7280"},X3={backgroundColor:"#4A90E2",padding:"0.7rem 1.2rem",color:"white",borderRadius:"10px",fontWeight:700,border:"none",transition:"transform 0.05s ease"},Z3={backgroundColor:"#E74C3C",padding:"0.45rem 0.85rem",color:"white",borderRadius:"8px",border:"none",fontWeight:700,cursor:"pointer"},Dy={color:"#4A90E2",fontWeight:800,fontSize:"1.1rem"},Q3={display:"flex",justifyContent:"space-between",alignItems:"center",gap:"0.75rem",border:"1px solid #EDEDED",borderRadius:"12px",padding:"0.75rem 0.9rem",marginBottom:"0.7rem",background:"#FFFFFF"},eU={marginTop:"2rem",padding:"1.2rem",backgroundColor:"#F9FAFB",border:"1px solid #EDEDED",borderRadius:"12px",color:"#374151",fontSize:"0.95rem",lineHeight:1.6},tU={margin:0,paddingLeft:"1.1rem",listStyle:"disc",display:"grid",gap:"0.35rem"},rU={backgroundColor:"#FFF7E6",border:"1px solid #F5A623",color:"#7A4A00",padding:"10px 12px",borderRadius:"10px",marginBottom:"1rem"},nU={display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:"#FFFFFF",minHeight:"100vh",color:"#274472",fontFamily:"system-ui, sans-serif"},iU={width:40,height:40,border:"4px solid #EDEDED",borderTop:"4px solid #4A90E2",borderRadius:"50%",animation:"spin 1s linear infinite"};function j1(e,t){return function(){return e.apply(t,arguments)}}const{toString:oU}=Object.prototype,{getPrototypeOf:Vf}=Object,{iterator:Us,toStringTag:C1}=Symbol,zs=(e=>t=>{const r=oU.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Zt=e=>(e=e.toLowerCase(),t=>zs(t)===e),Ws=e=>t=>typeof t===e,{isArray:gi}=Array,ti=Ws("undefined");function jo(e){return e!==null&&!ti(e)&&e.constructor!==null&&!ti(e.constructor)&&ut(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const k1=Zt("ArrayBuffer");function aU(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&k1(e.buffer),t}const sU=Ws("string"),ut=Ws("function"),P1=Ws("number"),Co=e=>e!==null&&typeof e=="object",lU=e=>e===!0||e===!1,ha=e=>{if(zs(e)!=="object")return!1;const t=Vf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(C1 in e)&&!(Us in e)},cU=e=>{if(!Co(e)||jo(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},uU=Zt("Date"),dU=Zt("File"),fU=Zt("Blob"),hU=Zt("FileList"),pU=e=>Co(e)&&ut(e.pipe),mU=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||ut(e.append)&&((t=zs(e))==="formdata"||t==="object"&&ut(e.toString)&&e.toString()==="[object FormData]"))},gU=Zt("URLSearchParams"),[yU,vU,bU,wU]=["ReadableStream","Request","Response","Headers"].map(Zt),xU=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ko(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,i;if(typeof e!="object"&&(e=[e]),gi(e))for(n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else{if(jo(e))return;const o=r?Object.getOwnPropertyNames(e):Object.keys(e),a=o.length;let s;for(n=0;n<a;n++)s=o[n],t.call(null,e[s],s,e)}}function A1(e,t){if(jo(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,i;for(;n-- >0;)if(i=r[n],t===i.toLowerCase())return i;return null}const an=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,O1=e=>!ti(e)&&e!==an;function Zu(){const{caseless:e,skipUndefined:t}=O1(this)&&this||{},r={},n=(i,o)=>{const a=e&&A1(r,o)||o;ha(r[a])&&ha(i)?r[a]=Zu(r[a],i):ha(i)?r[a]=Zu({},i):gi(i)?r[a]=i.slice():(!t||!ti(i))&&(r[a]=i)};for(let i=0,o=arguments.length;i<o;i++)arguments[i]&&ko(arguments[i],n);return r}const _U=(e,t,r,{allOwnKeys:n}={})=>(ko(t,(i,o)=>{r&&ut(i)?e[o]=j1(i,r):e[o]=i},{allOwnKeys:n}),e),SU=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),EU=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},jU=(e,t,r,n)=>{let i,o,a;const s={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),o=i.length;o-- >0;)a=i[o],(!n||n(a,e,t))&&!s[a]&&(t[a]=e[a],s[a]=!0);e=r!==!1&&Vf(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},CU=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},kU=e=>{if(!e)return null;if(gi(e))return e;let t=e.length;if(!P1(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},PU=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Vf(Uint8Array)),AU=(e,t)=>{const n=(e&&e[Us]).call(e);let i;for(;(i=n.next())&&!i.done;){const o=i.value;t.call(e,o[0],o[1])}},OU=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},TU=Zt("HTMLFormElement"),RU=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),$y=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),IU=Zt("RegExp"),T1=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};ko(r,(i,o)=>{let a;(a=t(i,o,e))!==!1&&(n[o]=a||i)}),Object.defineProperties(e,n)},DU=e=>{T1(e,(t,r)=>{if(ut(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(ut(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},$U=(e,t)=>{const r={},n=i=>{i.forEach(o=>{r[o]=!0})};return gi(e)?n(e):n(String(e).split(t)),r},MU=()=>{},FU=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function NU(e){return!!(e&&ut(e.append)&&e[C1]==="FormData"&&e[Us])}const LU=e=>{const t=new Array(10),r=(n,i)=>{if(Co(n)){if(t.indexOf(n)>=0)return;if(jo(n))return n;if(!("toJSON"in n)){t[i]=n;const o=gi(n)?[]:{};return ko(n,(a,s)=>{const l=r(a,i+1);!ti(l)&&(o[s]=l)}),t[i]=void 0,o}}return n};return r(e,0)},BU=Zt("AsyncFunction"),UU=e=>e&&(Co(e)||ut(e))&&ut(e.then)&&ut(e.catch),R1=((e,t)=>e?setImmediate:t?((r,n)=>(an.addEventListener("message",({source:i,data:o})=>{i===an&&o===r&&n.length&&n.shift()()},!1),i=>{n.push(i),an.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",ut(an.postMessage)),zU=typeof queueMicrotask<"u"?queueMicrotask.bind(an):typeof process<"u"&&process.nextTick||R1,WU=e=>e!=null&&ut(e[Us]),C={isArray:gi,isArrayBuffer:k1,isBuffer:jo,isFormData:mU,isArrayBufferView:aU,isString:sU,isNumber:P1,isBoolean:lU,isObject:Co,isPlainObject:ha,isEmptyObject:cU,isReadableStream:yU,isRequest:vU,isResponse:bU,isHeaders:wU,isUndefined:ti,isDate:uU,isFile:dU,isBlob:fU,isRegExp:IU,isFunction:ut,isStream:pU,isURLSearchParams:gU,isTypedArray:PU,isFileList:hU,forEach:ko,merge:Zu,extend:_U,trim:xU,stripBOM:SU,inherits:EU,toFlatObject:jU,kindOf:zs,kindOfTest:Zt,endsWith:CU,toArray:kU,forEachEntry:AU,matchAll:OU,isHTMLForm:TU,hasOwnProperty:$y,hasOwnProp:$y,reduceDescriptors:T1,freezeMethods:DU,toObjectSet:$U,toCamelCase:RU,noop:MU,toFiniteNumber:FU,findKey:A1,global:an,isContextDefined:O1,isSpecCompliantForm:NU,toJSONObject:LU,isAsyncFn:BU,isThenable:UU,setImmediate:R1,asap:zU,isIterable:WU};function Q(e,t,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}C.inherits(Q,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:C.toJSONObject(this.config),code:this.code,status:this.status}}});const I1=Q.prototype,D1={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{D1[e]={value:e}});Object.defineProperties(Q,D1);Object.defineProperty(I1,"isAxiosError",{value:!0});Q.from=(e,t,r,n,i,o)=>{const a=Object.create(I1);C.toFlatObject(e,a,function(u){return u!==Error.prototype},c=>c!=="isAxiosError");const s=e&&e.message?e.message:"Error",l=t==null&&e?e.code:t;return Q.call(a,s,l,r,n,i),e&&a.cause==null&&Object.defineProperty(a,"cause",{value:e,configurable:!0}),a.name=e&&e.name||"Error",o&&Object.assign(a,o),a};const qU=null;function Qu(e){return C.isPlainObject(e)||C.isArray(e)}function $1(e){return C.endsWith(e,"[]")?e.slice(0,-2):e}function My(e,t,r){return e?e.concat(t).map(function(i,o){return i=$1(i),!r&&o?"["+i+"]":i}).join(r?".":""):t}function HU(e){return C.isArray(e)&&!e.some(Qu)}const KU=C.toFlatObject(C,{},null,function(t){return/^is[A-Z]/.test(t)});function qs(e,t,r){if(!C.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=C.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,y){return!C.isUndefined(y[g])});const n=r.metaTokens,i=r.visitor||u,o=r.dots,a=r.indexes,l=(r.Blob||typeof Blob<"u"&&Blob)&&C.isSpecCompliantForm(t);if(!C.isFunction(i))throw new TypeError("visitor must be a function");function c(m){if(m===null)return"";if(C.isDate(m))return m.toISOString();if(C.isBoolean(m))return m.toString();if(!l&&C.isBlob(m))throw new Q("Blob is not supported. Use a Buffer instead.");return C.isArrayBuffer(m)||C.isTypedArray(m)?l&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function u(m,g,y){let b=m;if(m&&!y&&typeof m=="object"){if(C.endsWith(g,"{}"))g=n?g:g.slice(0,-2),m=JSON.stringify(m);else if(C.isArray(m)&&HU(m)||(C.isFileList(m)||C.endsWith(g,"[]"))&&(b=C.toArray(m)))return g=$1(g),b.forEach(function(x,_){!(C.isUndefined(x)||x===null)&&t.append(a===!0?My([g],_,o):a===null?g:g+"[]",c(x))}),!1}return Qu(m)?!0:(t.append(My(y,g,o),c(m)),!1)}const d=[],h=Object.assign(KU,{defaultVisitor:u,convertValue:c,isVisitable:Qu});function p(m,g){if(!C.isUndefined(m)){if(d.indexOf(m)!==-1)throw Error("Circular reference detected in "+g.join("."));d.push(m),C.forEach(m,function(b,w){(!(C.isUndefined(b)||b===null)&&i.call(t,b,C.isString(w)?w.trim():w,g,h))===!0&&p(b,g?g.concat(w):[w])}),d.pop()}}if(!C.isObject(e))throw new TypeError("data must be an object");return p(e),t}function Fy(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function Jf(e,t){this._pairs=[],e&&qs(e,this,t)}const M1=Jf.prototype;M1.append=function(t,r){this._pairs.push([t,r])};M1.toString=function(t){const r=t?function(n){return t.call(this,n,Fy)}:Fy;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function GU(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function F1(e,t,r){if(!t)return e;const n=r&&r.encode||GU;C.isFunction(r)&&(r={serialize:r});const i=r&&r.serialize;let o;if(i?o=i(t,r):o=C.isURLSearchParams(t)?t.toString():new Jf(t,r).toString(n),o){const a=e.indexOf("#");a!==-1&&(e=e.slice(0,a)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class Ny{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){C.forEach(this.handlers,function(n){n!==null&&t(n)})}}const N1={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},YU=typeof URLSearchParams<"u"?URLSearchParams:Jf,VU=typeof FormData<"u"?FormData:null,JU=typeof Blob<"u"?Blob:null,XU={isBrowser:!0,classes:{URLSearchParams:YU,FormData:VU,Blob:JU},protocols:["http","https","file","blob","url","data"]},Xf=typeof window<"u"&&typeof document<"u",ed=typeof navigator=="object"&&navigator||void 0,ZU=Xf&&(!ed||["ReactNative","NativeScript","NS"].indexOf(ed.product)<0),QU=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",e7=Xf&&window.location.href||"http://localhost",t7=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Xf,hasStandardBrowserEnv:ZU,hasStandardBrowserWebWorkerEnv:QU,navigator:ed,origin:e7},Symbol.toStringTag,{value:"Module"})),Ze={...t7,...XU};function r7(e,t){return qs(e,new Ze.classes.URLSearchParams,{visitor:function(r,n,i,o){return Ze.isNode&&C.isBuffer(r)?(this.append(n,r.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...t})}function n7(e){return C.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function i7(e){const t={},r=Object.keys(e);let n;const i=r.length;let o;for(n=0;n<i;n++)o=r[n],t[o]=e[o];return t}function L1(e){function t(r,n,i,o){let a=r[o++];if(a==="__proto__")return!0;const s=Number.isFinite(+a),l=o>=r.length;return a=!a&&C.isArray(i)?i.length:a,l?(C.hasOwnProp(i,a)?i[a]=[i[a],n]:i[a]=n,!s):((!i[a]||!C.isObject(i[a]))&&(i[a]=[]),t(r,n,i[a],o)&&C.isArray(i[a])&&(i[a]=i7(i[a])),!s)}if(C.isFormData(e)&&C.isFunction(e.entries)){const r={};return C.forEachEntry(e,(n,i)=>{t(n7(n),i,r,0)}),r}return null}function o7(e,t,r){if(C.isString(e))try{return(t||JSON.parse)(e),C.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const Po={transitional:N1,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,o=C.isObject(t);if(o&&C.isHTMLForm(t)&&(t=new FormData(t)),C.isFormData(t))return i?JSON.stringify(L1(t)):t;if(C.isArrayBuffer(t)||C.isBuffer(t)||C.isStream(t)||C.isFile(t)||C.isBlob(t)||C.isReadableStream(t))return t;if(C.isArrayBufferView(t))return t.buffer;if(C.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let s;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return r7(t,this.formSerializer).toString();if((s=C.isFileList(t))||n.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return qs(s?{"files[]":t}:t,l&&new l,this.formSerializer)}}return o||i?(r.setContentType("application/json",!1),o7(t)):t}],transformResponse:[function(t){const r=this.transitional||Po.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(C.isResponse(t)||C.isReadableStream(t))return t;if(t&&C.isString(t)&&(n&&!this.responseType||i)){const a=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(t,this.parseReviver)}catch(s){if(a)throw s.name==="SyntaxError"?Q.from(s,Q.ERR_BAD_RESPONSE,this,null,this.response):s}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ze.classes.FormData,Blob:Ze.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};C.forEach(["delete","get","head","post","put","patch"],e=>{Po.headers[e]={}});const a7=C.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),s7=e=>{const t={};let r,n,i;return e&&e.split(`
`).forEach(function(a){i=a.indexOf(":"),r=a.substring(0,i).trim().toLowerCase(),n=a.substring(i+1).trim(),!(!r||t[r]&&a7[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},Ly=Symbol("internals");function Ti(e){return e&&String(e).trim().toLowerCase()}function pa(e){return e===!1||e==null?e:C.isArray(e)?e.map(pa):String(e)}function l7(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const c7=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Bc(e,t,r,n,i){if(C.isFunction(n))return n.call(this,t,r);if(i&&(t=r),!!C.isString(t)){if(C.isString(n))return t.indexOf(n)!==-1;if(C.isRegExp(n))return n.test(t)}}function u7(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function d7(e,t){const r=C.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(i,o,a){return this[n].call(this,t,i,o,a)},configurable:!0})})}let dt=class{constructor(t){t&&this.set(t)}set(t,r,n){const i=this;function o(s,l,c){const u=Ti(l);if(!u)throw new Error("header name must be a non-empty string");const d=C.findKey(i,u);(!d||i[d]===void 0||c===!0||c===void 0&&i[d]!==!1)&&(i[d||l]=pa(s))}const a=(s,l)=>C.forEach(s,(c,u)=>o(c,u,l));if(C.isPlainObject(t)||t instanceof this.constructor)a(t,r);else if(C.isString(t)&&(t=t.trim())&&!c7(t))a(s7(t),r);else if(C.isObject(t)&&C.isIterable(t)){let s={},l,c;for(const u of t){if(!C.isArray(u))throw TypeError("Object iterator must return a key-value pair");s[c=u[0]]=(l=s[c])?C.isArray(l)?[...l,u[1]]:[l,u[1]]:u[1]}a(s,r)}else t!=null&&o(r,t,n);return this}get(t,r){if(t=Ti(t),t){const n=C.findKey(this,t);if(n){const i=this[n];if(!r)return i;if(r===!0)return l7(i);if(C.isFunction(r))return r.call(this,i,n);if(C.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=Ti(t),t){const n=C.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||Bc(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let i=!1;function o(a){if(a=Ti(a),a){const s=C.findKey(n,a);s&&(!r||Bc(n,n[s],s,r))&&(delete n[s],i=!0)}}return C.isArray(t)?t.forEach(o):o(t),i}clear(t){const r=Object.keys(this);let n=r.length,i=!1;for(;n--;){const o=r[n];(!t||Bc(this,this[o],o,t,!0))&&(delete this[o],i=!0)}return i}normalize(t){const r=this,n={};return C.forEach(this,(i,o)=>{const a=C.findKey(n,o);if(a){r[a]=pa(i),delete r[o];return}const s=t?u7(o):String(o).trim();s!==o&&delete r[o],r[s]=pa(i),n[s]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return C.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=t&&C.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(i=>n.set(i)),n}static accessor(t){const n=(this[Ly]=this[Ly]={accessors:{}}).accessors,i=this.prototype;function o(a){const s=Ti(a);n[s]||(d7(i,a),n[s]=!0)}return C.isArray(t)?t.forEach(o):o(t),this}};dt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);C.reduceDescriptors(dt.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});C.freezeMethods(dt);function Uc(e,t){const r=this||Po,n=t||r,i=dt.from(n.headers);let o=n.data;return C.forEach(e,function(s){o=s.call(r,o,i.normalize(),t?t.status:void 0)}),i.normalize(),o}function B1(e){return!!(e&&e.__CANCEL__)}function yi(e,t,r){Q.call(this,e??"canceled",Q.ERR_CANCELED,t,r),this.name="CanceledError"}C.inherits(yi,Q,{__CANCEL__:!0});function U1(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new Q("Request failed with status code "+r.status,[Q.ERR_BAD_REQUEST,Q.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function f7(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function h7(e,t){e=e||10;const r=new Array(e),n=new Array(e);let i=0,o=0,a;return t=t!==void 0?t:1e3,function(l){const c=Date.now(),u=n[o];a||(a=c),r[i]=l,n[i]=c;let d=o,h=0;for(;d!==i;)h+=r[d++],d=d%e;if(i=(i+1)%e,i===o&&(o=(o+1)%e),c-a<t)return;const p=u&&c-u;return p?Math.round(h*1e3/p):void 0}}function p7(e,t){let r=0,n=1e3/t,i,o;const a=(c,u=Date.now())=>{r=u,i=null,o&&(clearTimeout(o),o=null),e(...c)};return[(...c)=>{const u=Date.now(),d=u-r;d>=n?a(c,u):(i=c,o||(o=setTimeout(()=>{o=null,a(i)},n-d)))},()=>i&&a(i)]}const as=(e,t,r=3)=>{let n=0;const i=h7(50,250);return p7(o=>{const a=o.loaded,s=o.lengthComputable?o.total:void 0,l=a-n,c=i(l),u=a<=s;n=a;const d={loaded:a,total:s,progress:s?a/s:void 0,bytes:l,rate:c||void 0,estimated:c&&s&&u?(s-a)/c:void 0,event:o,lengthComputable:s!=null,[t?"download":"upload"]:!0};e(d)},r)},By=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},Uy=e=>(...t)=>C.asap(()=>e(...t)),m7=Ze.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Ze.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Ze.origin),Ze.navigator&&/(msie|trident)/i.test(Ze.navigator.userAgent)):()=>!0,g7=Ze.hasStandardBrowserEnv?{write(e,t,r,n,i,o){const a=[e+"="+encodeURIComponent(t)];C.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),C.isString(n)&&a.push("path="+n),C.isString(i)&&a.push("domain="+i),o===!0&&a.push("secure"),document.cookie=a.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function y7(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function v7(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function z1(e,t,r){let n=!y7(t);return e&&(n||r==!1)?v7(e,t):t}const zy=e=>e instanceof dt?{...e}:e;function gn(e,t){t=t||{};const r={};function n(c,u,d,h){return C.isPlainObject(c)&&C.isPlainObject(u)?C.merge.call({caseless:h},c,u):C.isPlainObject(u)?C.merge({},u):C.isArray(u)?u.slice():u}function i(c,u,d,h){if(C.isUndefined(u)){if(!C.isUndefined(c))return n(void 0,c,d,h)}else return n(c,u,d,h)}function o(c,u){if(!C.isUndefined(u))return n(void 0,u)}function a(c,u){if(C.isUndefined(u)){if(!C.isUndefined(c))return n(void 0,c)}else return n(void 0,u)}function s(c,u,d){if(d in t)return n(c,u);if(d in e)return n(void 0,c)}const l={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:s,headers:(c,u,d)=>i(zy(c),zy(u),d,!0)};return C.forEach(Object.keys({...e,...t}),function(u){const d=l[u]||i,h=d(e[u],t[u],u);C.isUndefined(h)&&d!==s||(r[u]=h)}),r}const W1=e=>{const t=gn({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:o,headers:a,auth:s}=t;if(t.headers=a=dt.from(a),t.url=F1(z1(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),s&&a.set("Authorization","Basic "+btoa((s.username||"")+":"+(s.password?unescape(encodeURIComponent(s.password)):""))),C.isFormData(r)){if(Ze.hasStandardBrowserEnv||Ze.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(C.isFunction(r.getHeaders)){const l=r.getHeaders(),c=["content-type","content-length"];Object.entries(l).forEach(([u,d])=>{c.includes(u.toLowerCase())&&a.set(u,d)})}}if(Ze.hasStandardBrowserEnv&&(n&&C.isFunction(n)&&(n=n(t)),n||n!==!1&&m7(t.url))){const l=i&&o&&g7.read(o);l&&a.set(i,l)}return t},b7=typeof XMLHttpRequest<"u",w7=b7&&function(e){return new Promise(function(r,n){const i=W1(e);let o=i.data;const a=dt.from(i.headers).normalize();let{responseType:s,onUploadProgress:l,onDownloadProgress:c}=i,u,d,h,p,m;function g(){p&&p(),m&&m(),i.cancelToken&&i.cancelToken.unsubscribe(u),i.signal&&i.signal.removeEventListener("abort",u)}let y=new XMLHttpRequest;y.open(i.method.toUpperCase(),i.url,!0),y.timeout=i.timeout;function b(){if(!y)return;const x=dt.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),S={data:!s||s==="text"||s==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:x,config:e,request:y};U1(function(j){r(j),g()},function(j){n(j),g()},S),y=null}"onloadend"in y?y.onloadend=b:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(b)},y.onabort=function(){y&&(n(new Q("Request aborted",Q.ECONNABORTED,e,y)),y=null)},y.onerror=function(_){const S=_&&_.message?_.message:"Network Error",E=new Q(S,Q.ERR_NETWORK,e,y);E.event=_||null,n(E),y=null},y.ontimeout=function(){let _=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const S=i.transitional||N1;i.timeoutErrorMessage&&(_=i.timeoutErrorMessage),n(new Q(_,S.clarifyTimeoutError?Q.ETIMEDOUT:Q.ECONNABORTED,e,y)),y=null},o===void 0&&a.setContentType(null),"setRequestHeader"in y&&C.forEach(a.toJSON(),function(_,S){y.setRequestHeader(S,_)}),C.isUndefined(i.withCredentials)||(y.withCredentials=!!i.withCredentials),s&&s!=="json"&&(y.responseType=i.responseType),c&&([h,m]=as(c,!0),y.addEventListener("progress",h)),l&&y.upload&&([d,p]=as(l),y.upload.addEventListener("progress",d),y.upload.addEventListener("loadend",p)),(i.cancelToken||i.signal)&&(u=x=>{y&&(n(!x||x.type?new yi(null,e,y):x),y.abort(),y=null)},i.cancelToken&&i.cancelToken.subscribe(u),i.signal&&(i.signal.aborted?u():i.signal.addEventListener("abort",u)));const w=f7(i.url);if(w&&Ze.protocols.indexOf(w)===-1){n(new Q("Unsupported protocol "+w+":",Q.ERR_BAD_REQUEST,e));return}y.send(o||null)})},x7=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,i;const o=function(c){if(!i){i=!0,s();const u=c instanceof Error?c:this.reason;n.abort(u instanceof Q?u:new yi(u instanceof Error?u.message:u))}};let a=t&&setTimeout(()=>{a=null,o(new Q(`timeout ${t} of ms exceeded`,Q.ETIMEDOUT))},t);const s=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach(c=>{c.unsubscribe?c.unsubscribe(o):c.removeEventListener("abort",o)}),e=null)};e.forEach(c=>c.addEventListener("abort",o));const{signal:l}=n;return l.unsubscribe=()=>C.asap(s),l}},_7=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,i;for(;n<r;)i=n+t,yield e.slice(n,i),n=i},S7=async function*(e,t){for await(const r of E7(e))yield*_7(r,t)},E7=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},Wy=(e,t,r,n)=>{const i=S7(e,t);let o=0,a,s=l=>{a||(a=!0,n&&n(l))};return new ReadableStream({async pull(l){try{const{done:c,value:u}=await i.next();if(c){s(),l.close();return}let d=u.byteLength;if(r){let h=o+=d;r(h)}l.enqueue(new Uint8Array(u))}catch(c){throw s(c),c}},cancel(l){return s(l),i.return()}},{highWaterMark:2})},qy=64*1024,{isFunction:na}=C,j7=(({Request:e,Response:t})=>({Request:e,Response:t}))(C.global),{ReadableStream:Hy,TextEncoder:Ky}=C.global,Gy=(e,...t)=>{try{return!!e(...t)}catch{return!1}},C7=e=>{e=C.merge.call({skipUndefined:!0},j7,e);const{fetch:t,Request:r,Response:n}=e,i=t?na(t):typeof fetch=="function",o=na(r),a=na(n);if(!i)return!1;const s=i&&na(Hy),l=i&&(typeof Ky=="function"?(m=>g=>m.encode(g))(new Ky):async m=>new Uint8Array(await new r(m).arrayBuffer())),c=o&&s&&Gy(()=>{let m=!1;const g=new r(Ze.origin,{body:new Hy,method:"POST",get duplex(){return m=!0,"half"}}).headers.has("Content-Type");return m&&!g}),u=a&&s&&Gy(()=>C.isReadableStream(new n("").body)),d={stream:u&&(m=>m.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(m=>{!d[m]&&(d[m]=(g,y)=>{let b=g&&g[m];if(b)return b.call(g);throw new Q(`Response type '${m}' is not supported`,Q.ERR_NOT_SUPPORT,y)})});const h=async m=>{if(m==null)return 0;if(C.isBlob(m))return m.size;if(C.isSpecCompliantForm(m))return(await new r(Ze.origin,{method:"POST",body:m}).arrayBuffer()).byteLength;if(C.isArrayBufferView(m)||C.isArrayBuffer(m))return m.byteLength;if(C.isURLSearchParams(m)&&(m=m+""),C.isString(m))return(await l(m)).byteLength},p=async(m,g)=>{const y=C.toFiniteNumber(m.getContentLength());return y??h(g)};return async m=>{let{url:g,method:y,data:b,signal:w,cancelToken:x,timeout:_,onDownloadProgress:S,onUploadProgress:E,responseType:j,headers:P,withCredentials:A="same-origin",fetchOptions:I}=W1(m),O=t||fetch;j=j?(j+"").toLowerCase():"text";let D=x7([w,x&&x.toAbortSignal()],_),B=null;const T=D&&D.unsubscribe&&(()=>{D.unsubscribe()});let N;try{if(E&&c&&y!=="get"&&y!=="head"&&(N=await p(P,b))!==0){let ie=new r(g,{method:"POST",body:b,duplex:"half"}),z;if(C.isFormData(b)&&(z=ie.headers.get("content-type"))&&P.setContentType(z),ie.body){const[X,oe]=By(N,as(Uy(E)));b=Wy(ie.body,qy,X,oe)}}C.isString(A)||(A=A?"include":"omit");const F=o&&"credentials"in r.prototype,G={...I,signal:D,method:y.toUpperCase(),headers:P.normalize().toJSON(),body:b,duplex:"half",credentials:F?A:void 0};B=o&&new r(g,G);let V=await(o?O(B,I):O(g,G));const J=u&&(j==="stream"||j==="response");if(u&&(S||J&&T)){const ie={};["status","statusText","headers"].forEach(re=>{ie[re]=V[re]});const z=C.toFiniteNumber(V.headers.get("content-length")),[X,oe]=S&&By(z,as(Uy(S),!0))||[];V=new n(Wy(V.body,qy,X,()=>{oe&&oe(),T&&T()}),ie)}j=j||"text";let de=await d[C.findKey(d,j)||"text"](V,m);return!J&&T&&T(),await new Promise((ie,z)=>{U1(ie,z,{data:de,headers:dt.from(V.headers),status:V.status,statusText:V.statusText,config:m,request:B})})}catch(F){throw T&&T(),F&&F.name==="TypeError"&&/Load failed|fetch/i.test(F.message)?Object.assign(new Q("Network Error",Q.ERR_NETWORK,m,B),{cause:F.cause||F}):Q.from(F,F&&F.code,m,B)}}},k7=new Map,q1=e=>{let t=e?e.env:{};const{fetch:r,Request:n,Response:i}=t,o=[n,i,r];let a=o.length,s=a,l,c,u=k7;for(;s--;)l=o[s],c=u.get(l),c===void 0&&u.set(l,c=s?new Map:C7(t)),u=c;return c};q1();const td={http:qU,xhr:w7,fetch:{get:q1}};C.forEach(td,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Yy=e=>`- ${e}`,P7=e=>C.isFunction(e)||e===null||e===!1,H1={getAdapter:(e,t)=>{e=C.isArray(e)?e:[e];const{length:r}=e;let n,i;const o={};for(let a=0;a<r;a++){n=e[a];let s;if(i=n,!P7(n)&&(i=td[(s=String(n)).toLowerCase()],i===void 0))throw new Q(`Unknown adapter '${s}'`);if(i&&(C.isFunction(i)||(i=i.get(t))))break;o[s||"#"+a]=i}if(!i){const a=Object.entries(o).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let s=r?a.length>1?`since :
`+a.map(Yy).join(`
`):" "+Yy(a[0]):"as no adapter specified";throw new Q("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return i},adapters:td};function zc(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new yi(null,e)}function Vy(e){return zc(e),e.headers=dt.from(e.headers),e.data=Uc.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),H1.getAdapter(e.adapter||Po.adapter,e)(e).then(function(n){return zc(e),n.data=Uc.call(e,e.transformResponse,n),n.headers=dt.from(n.headers),n},function(n){return B1(n)||(zc(e),n&&n.response&&(n.response.data=Uc.call(e,e.transformResponse,n.response),n.response.headers=dt.from(n.response.headers))),Promise.reject(n)})}const K1="1.12.2",Hs={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Hs[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const Jy={};Hs.transitional=function(t,r,n){function i(o,a){return"[Axios v"+K1+"] Transitional option '"+o+"'"+a+(n?". "+n:"")}return(o,a,s)=>{if(t===!1)throw new Q(i(a," has been removed"+(r?" in "+r:"")),Q.ERR_DEPRECATED);return r&&!Jy[a]&&(Jy[a]=!0,console.warn(i(a," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(o,a,s):!0}};Hs.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function A7(e,t,r){if(typeof e!="object")throw new Q("options must be an object",Q.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let i=n.length;for(;i-- >0;){const o=n[i],a=t[o];if(a){const s=e[o],l=s===void 0||a(s,o,e);if(l!==!0)throw new Q("option "+o+" must be "+l,Q.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Q("Unknown option "+o,Q.ERR_BAD_OPTION)}}const ma={assertOptions:A7,validators:Hs},er=ma.validators;let dn=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Ny,response:new Ny}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?o&&!String(n.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+o):n.stack=o}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=gn(this.defaults,r);const{transitional:n,paramsSerializer:i,headers:o}=r;n!==void 0&&ma.assertOptions(n,{silentJSONParsing:er.transitional(er.boolean),forcedJSONParsing:er.transitional(er.boolean),clarifyTimeoutError:er.transitional(er.boolean)},!1),i!=null&&(C.isFunction(i)?r.paramsSerializer={serialize:i}:ma.assertOptions(i,{encode:er.function,serialize:er.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),ma.assertOptions(r,{baseUrl:er.spelling("baseURL"),withXsrfToken:er.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let a=o&&C.merge(o.common,o[r.method]);o&&C.forEach(["delete","get","head","post","put","patch","common"],m=>{delete o[m]}),r.headers=dt.concat(a,o);const s=[];let l=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(r)===!1||(l=l&&g.synchronous,s.unshift(g.fulfilled,g.rejected))});const c=[];this.interceptors.response.forEach(function(g){c.push(g.fulfilled,g.rejected)});let u,d=0,h;if(!l){const m=[Vy.bind(this),void 0];for(m.unshift(...s),m.push(...c),h=m.length,u=Promise.resolve(r);d<h;)u=u.then(m[d++],m[d++]);return u}h=s.length;let p=r;for(;d<h;){const m=s[d++],g=s[d++];try{p=m(p)}catch(y){g.call(this,y);break}}try{u=Vy.call(this,p)}catch(m){return Promise.reject(m)}for(d=0,h=c.length;d<h;)u=u.then(c[d++],c[d++]);return u}getUri(t){t=gn(this.defaults,t);const r=z1(t.baseURL,t.url,t.allowAbsoluteUrls);return F1(r,t.params,t.paramsSerializer)}};C.forEach(["delete","get","head","options"],function(t){dn.prototype[t]=function(r,n){return this.request(gn(n||{},{method:t,url:r,data:(n||{}).data}))}});C.forEach(["post","put","patch"],function(t){function r(n){return function(o,a,s){return this.request(gn(s||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:o,data:a}))}}dn.prototype[t]=r(),dn.prototype[t+"Form"]=r(!0)});let O7=class G1{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(o){r=o});const n=this;this.promise.then(i=>{if(!n._listeners)return;let o=n._listeners.length;for(;o-- >0;)n._listeners[o](i);n._listeners=null}),this.promise.then=i=>{let o;const a=new Promise(s=>{n.subscribe(s),o=s}).then(i);return a.cancel=function(){n.unsubscribe(o)},a},t(function(o,a,s){n.reason||(n.reason=new yi(o,a,s),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new G1(function(i){t=i}),cancel:t}}};function T7(e){return function(r){return e.apply(null,r)}}function R7(e){return C.isObject(e)&&e.isAxiosError===!0}const rd={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(rd).forEach(([e,t])=>{rd[t]=e});function Y1(e){const t=new dn(e),r=j1(dn.prototype.request,t);return C.extend(r,dn.prototype,t,{allOwnKeys:!0}),C.extend(r,t,null,{allOwnKeys:!0}),r.create=function(i){return Y1(gn(e,i))},r}const _e=Y1(Po);_e.Axios=dn;_e.CanceledError=yi;_e.CancelToken=O7;_e.isCancel=B1;_e.VERSION=K1;_e.toFormData=qs;_e.AxiosError=Q;_e.Cancel=_e.CanceledError;_e.all=function(t){return Promise.all(t)};_e.spread=T7;_e.isAxiosError=R7;_e.mergeConfig=gn;_e.AxiosHeaders=dt;_e.formToJSON=e=>L1(C.isHTMLForm(e)?new FormData(e):e);_e.getAdapter=H1.getAdapter;_e.HttpStatusCode=rd;_e.default=_e;const{Axios:Gz,AxiosError:Yz,CanceledError:Vz,isCancel:Jz,CancelToken:Xz,VERSION:Zz,all:Qz,Cancel:eW,isAxiosError:tW,spread:rW,toFormData:nW,AxiosHeaders:iW,HttpStatusCode:oW,formToJSON:aW,getAdapter:sW,mergeConfig:lW}=_e;function I7(){const[e,t]=v.useState([]),[r,n]=v.useState(null),[i,o]=v.useState(!0),a=Nt(),{t:s}=Ce();v.useEffect(()=>{if(typeof document<"u"&&!document.getElementById("spin-keyframes")){const m=document.createElement("style");m.id="spin-keyframes",m.textContent=`
        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
      `,document.head.appendChild(m)}},[]),v.useEffect(()=>{(async()=>{var g;if(a){o(!0);try{const y=await _e.get(`http://127.0.0.1:8001/history?client_id=${a}`);let b=[];const w=y.data;Array.isArray(w==null?void 0:w.history)?b=w.history:Array.isArray((g=w==null?void 0:w.history)==null?void 0:g.history)?b=w.history.history:Array.isArray(w==null?void 0:w.data)?b=w.data:console.warn("âš ï¸ Estructura de historial desconocida:",w),t(b)}catch(y){console.error("âŒ Error cargando historial:",y),t([])}finally{o(!1)}}})()},[a]);const l=v.useMemo(()=>e.reduce((m,g)=>{const y=g.session_id||"default";return m[y]||(m[y]=[]),m[y].push(g),m},{}),[e]),c=v.useMemo(()=>{const m=Object.entries(l).map(([g,y])=>{const b=y.reduce((w,x)=>{const _=new Date(x.created_at||x.timestamp||0);return _>w?_:w},new Date(0));return{sessionId:g,messages:y,lastDate:b}});return m.sort((g,y)=>g.lastDate-y.lastDate),m},[l]);v.useEffect(()=>{c.length>0&&!r&&n(c[c.length-1].sessionId)},[c.length]);const u=m=>{n(r===m?null:m)},d=m=>{const g=(m||"chat").toLowerCase(),y={chat:{emoji:"ðŸ’¬",text:"Chat"},email:{emoji:"âœ‰ï¸",text:"Email"},gmail:{emoji:"âœ‰ï¸",text:"Email"},whatsapp:{emoji:"ðŸŸ¢",text:"WhatsApp"}},b=y[g]||y.chat;return`${b.emoji} ${b.text}`},h=m=>{if(!m)return"";try{return new Date(m).toLocaleString()}catch{return String(m)}};if(i)return f.jsxs("div",{style:q7,children:[f.jsx("div",{style:H7}),f.jsx("p",{style:{color:"#274472",marginTop:"1rem"},children:s("loading_history")||"Loading history..."})]});const p=c.length===0;return f.jsx("div",{style:D7,children:f.jsxs("div",{style:$7,children:[f.jsx("h2",{style:M7,children:s("message_history")||"Message History"}),p?f.jsx("p",{style:F7,children:s("no_messages_yet")||"No messages yet."}):f.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"14px"},children:c.map(({sessionId:m,messages:g,lastDate:y})=>{const w=(g[0]||{}).channel||"chat",x=r===m;return f.jsxs("div",{style:N7,children:[f.jsxs("button",{onClick:()=>u(m),style:{...L7,background:x?"#B8E3C4":"#A3D9B1"},onMouseEnter:_=>_.currentTarget.style.background="#B8E3C4",onMouseLeave:_=>_.currentTarget.style.background=x?"#B8E3C4":"#A3D9B1","aria-expanded":x,children:[f.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:4,textAlign:"left"},children:[f.jsx("strong",{style:{color:"#0f1c2e"},children:m==="default"?s("main_session")||"Main session":`${s("session")||"Session"}: ${m.slice(0,8)}...`}),f.jsxs("div",{style:{fontSize:"0.85rem",color:"#274472"},children:[s("channel")||"Channel",": ",d(w)," Â· ",s("messages")||"Messages",": ",g.length]})]}),f.jsxs("div",{style:{color:"#274472",fontSize:"0.9rem",display:"flex",alignItems:"center",gap:8},children:[f.jsxs("span",{style:{opacity:.8},children:[s("last_message")||"Last message",": ",h(y)]}),f.jsx("span",{"aria-hidden":"true",children:x?"â–²":"â–¼"})]})]}),x&&f.jsx("div",{style:B7,children:g.slice().sort((_,S)=>new Date(_.created_at||_.timestamp||0)-new Date(S.created_at||S.timestamp||0)).map((_,S)=>{const E=(_.role||"").toLowerCase()==="user";return f.jsxs("div",{style:{...U7,background:E?"#FFFFFF":"#EAF3FC",borderLeft:`4px solid ${E?"#A3D9B1":"#4A90E2"}`},children:[f.jsxs("div",{style:z7,children:[h(_.created_at||_.timestamp)," Â· ",_.role||"assistant",_.channel?` Â· ${d(_.channel)}`:null]}),f.jsx("div",{style:W7,children:_.content||"(empty message)"})]},`${_.created_at||_.timestamp||S}-${S}`)})})]},m)})})]})})}const D7={backgroundColor:"#FFFFFF",minHeight:"100vh",padding:"2rem",fontFamily:"system-ui, sans-serif",color:"#274472",display:"flex",justifyContent:"center"},$7={maxWidth:960,width:"100%"},M7={fontSize:"1.8rem",fontWeight:800,color:"#F5A623",marginBottom:"1.2rem"},F7={color:"#6B7280"},N7={backgroundColor:"#FFFFFF",border:"1px solid #EDEDED",borderRadius:"12px",overflow:"hidden",boxShadow:"0 4px 16px rgba(0,0,0,0.06)"},L7={width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between",gap:12,padding:"0.9rem 1.1rem",border:"none",cursor:"pointer"},B7={padding:"1rem",backgroundColor:"#F9FAFB",borderTop:"1px solid #A3D9B1"},U7={marginBottom:"0.8rem",padding:"0.85rem 1rem",borderRadius:"10px",border:"1px solid #EDEDED"},z7={fontSize:"0.8rem",color:"#6B7280",marginBottom:6},W7={color:"#1F2937",whiteSpace:"pre-wrap",fontSize:"0.95rem",lineHeight:1.5},q7={display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:"#FFFFFF",minHeight:"100vh",color:"#274472",fontFamily:"system-ui, sans-serif"},H7={width:40,height:40,border:"4px solid #EDEDED",borderTop:"4px solid #4A90E2",borderRadius:"50%",animation:"spin 1s linear infinite"},Ri=e=>/^\+\d{11,15}$/.test(e),Ii=e=>/^\d{10,20}$/.test(e),Di=e=>/^EA[A-Za-z0-9]{16,}$/.test(e);function K7(){const{t:e}=Ce(),[t,r]=v.useState("meta"),[n,i]=v.useState(""),[o,a]=v.useState(""),[s,l]=v.useState(""),[c,u]=v.useState({phone:!1,waPhoneId:!1,waToken:!1}),[d,h]=v.useState(null),[p,m]=v.useState({message:"",type:""}),[g,y]=v.useState(!1),b=Nt();v.useEffect(()=>{const _=async()=>{const{data:{session:E}}=await ct.auth.getSession();h(E)},S=async()=>{try{const E=await _e.get("http://127.0.0.1:8001/get_whatsapp_config",{params:{client_id:b}}),{phone:j,wa_phone_id:P,wa_token:A,provider:I}=E.data||{};j&&i(j),P&&a(P),A&&l(A),r(I==="meta"||I==="twilio"?I:"meta"),j&&(I==="twilio"||P&&A)&&y(!0)}catch(E){console.log("â„¹ï¸ No config found or failed to fetch:",E)}};_(),S()},[b]);const w=async()=>{if(!d||!Ri(n)||t==="meta"&&(!Ii(o)||!Di(s)))return;const _={auth_user_id:d.user.id,email:d.user.email,phone:n,provider:t,wa_phone_id:t==="meta"?o:null,wa_token:t==="meta"?s:null};try{await _e.post("http://127.0.0.1:8001/link_whatsapp",_),m({message:e("wa_success"),type:"success"}),y(!0)}catch(S){console.error(S),m({message:e("wa_error_linking"),type:"error"})}},x=(_,S)=>c[_]&&f.jsxs("p",{style:J7,children:[_==="phone"&&!Ri(S)&&e("wa_error_phone"),_==="waPhoneId"&&!Ii(S)&&e("wa_error_phone_id"),_==="waToken"&&!Di(S)&&e("wa_error_token")]});return f.jsx("div",{style:G7,children:f.jsxs("div",{style:Y7,children:[f.jsx("div",{style:X7,children:f.jsxs("h2",{style:V7,children:["ðŸ’¬ ",e("wa_setup_title")]})}),f.jsxs("div",{style:oa,children:[f.jsx("label",{style:Xy,children:e("wa_choose_provider")}),f.jsxs("select",{value:t,onChange:_=>r(_.target.value),disabled:g,style:{...ia,backgroundColor:g?"#1b2a41":"#0f1c2e",color:g?"#aaa":"white",cursor:g?"not-allowed":"pointer",fontWeight:"bold",border:"1px solid #4a90e2",appearance:"none",backgroundImage:`url("data:image/svg+xml;utf8,<svg fill='white' height='24' viewBox='0 0 24 24' width='24' xmlns='http://www.w3.org/2000/svg'><path d='M7 10l5 5 5-5z'/></svg>")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 0.75rem center",paddingRight:"2rem",marginBottom:"1.5rem"},children:[f.jsx("option",{value:"meta",children:e("wa_provider_meta")}),f.jsx("option",{value:"twilio",children:e("wa_provider_twilio")})]})]}),f.jsxs("div",{style:oa,children:[f.jsx("label",{style:Xy,children:e("wa_label_phone")}),f.jsx("input",{type:"text",placeholder:"+52XXXXXXXXXXXX",value:n,onChange:_=>i(_.target.value),onBlur:()=>u(_=>({..._,phone:!0})),disabled:g,style:ia}),x("phone",n)]}),t==="meta"&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{style:oa,children:[f.jsx("input",{type:"text",placeholder:e("wa_placeholder_phone_id"),value:o,onChange:_=>a(_.target.value),onBlur:()=>u(_=>({..._,waPhoneId:!0})),disabled:g,style:ia}),x("waPhoneId",o)]}),f.jsxs("div",{style:oa,children:[f.jsx("input",{type:"text",placeholder:e("wa_placeholder_token"),value:s,onChange:_=>l(_.target.value),onBlur:()=>u(_=>({..._,waToken:!0})),disabled:g,style:ia}),x("waToken",s)]})]}),!g&&f.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[f.jsxs("button",{onClick:w,disabled:!Ri(n)||t==="meta"&&(!Ii(o)||!Di(s)),style:{...Zy,opacity:Ri(n)&&(t==="twilio"||Ii(o)&&Di(s))?1:.5,cursor:Ri(n)&&(t==="twilio"||Ii(o)&&Di(s))?"pointer":"not-allowed"},children:["ðŸ“² ",e("wa_button_link")]}),f.jsxs("button",{onClick:()=>window.history.back(),style:{...Zy,backgroundColor:"#ededed",color:"#1b2a41"},children:["â¬…ï¸ ",e("wa_button_back")]})]}),p.message&&f.jsx("p",{style:{marginTop:"1rem",fontWeight:"bold",color:p.type==="error"?"#f87171":"#a3d9b1"},children:p.message})]})})}const G7={padding:"2rem",fontFamily:"system-ui, sans-serif",backgroundColor:"#0f1c2e",color:"white",minHeight:"100vh",display:"flex",justifyContent:"center"},Y7={backgroundColor:"#1b2a41",padding:"2rem",borderRadius:"16px",maxWidth:"600px",width:"100%",boxShadow:"0 10px 30px rgba(0,0,0,0.2)",border:"1px solid #274472"},V7={fontSize:"1.8rem",fontWeight:"bold",color:"#f5a623",margin:0},Xy={fontWeight:600,fontSize:"0.95rem",color:"#ededed",marginBottom:"0.25rem"},ia={width:"100%",padding:"0.6rem",borderRadius:"8px",border:"1px solid #4a90e2",marginBottom:"0.5rem",backgroundColor:"#0f1c2e",color:"white"},J7={fontSize:"0.8rem",color:"#f87171",marginTop:"-0.5rem",marginBottom:"1rem"},oa={marginBottom:"1.5rem"},Zy={backgroundColor:"#4a90e2",color:"white",padding:"0.7rem 1.2rem",borderRadius:"8px",fontWeight:"bold",border:"none",cursor:"pointer"},X7={display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"};function Z7(){return f.jsxs("div",{style:{padding:"2rem"},children:[f.jsx("h2",{style:{color:"#274472"},children:"ðŸ§° Servicios Disponibles"}),f.jsxs("ul",{style:{marginTop:"1rem",fontSize:"1.1rem"},children:[f.jsx("li",{children:"ðŸ§  Chat Assistant"}),f.jsx("li",{children:"âœ‰ï¸ Email"}),f.jsx("li",{children:"ðŸ’¬ WhatsApp"})]}),f.jsx("p",{style:{marginTop:"1rem",color:"#666"},children:"Usa el menÃº lateral para configurar cada servicio."})]})}const Q7="http://127.0.0.1:8001";function V1(){const[e,t]=v.useState(null),[r,n]=v.useState(null),[i,o]=v.useState(null),[a,s]=v.useState(!0),l=Ft(),c=Et(),u=["/","/login","/register","/confirm","/forgot-password","/reset-password","/verify-mfa","/welcome","/chat-widget","/widget","/widget-preview"];return v.useEffect(()=>{(async()=>{let h=0,p=null;for(console.log("%cðŸ”„ Buscando sesiÃ³n activa...","color: #4a90e2; font-weight: bold");!p&&h<5&&(p=(await ct.auth.getSession()).data.session,!p);)await new Promise(g=>setTimeout(g,300)),h++;if(!p||!p.user){console.warn("%câ›” No hay sesiÃ³n. Redirigiendo a /verify-mfa","color: #e74c3c; font-weight: bold"),t(null),n(null),o(null),s(!1),["/login","/register","/forgot-password","/reset-password"].includes(c.pathname)||l("/verify-mfa",{replace:!0});return}console.log(`%câœ… SesiÃ³n activa como: ${p.user.email}`,"color: #2ecc71; font-weight: bold");try{const m=await fetch(`${Q7}/initialize_user`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({auth_user_id:p.user.id,email:p.user.email})});let g={};try{g=await m.json()}catch(b){console.error("%câŒ Error parsing JSON:","color: #e74c3c",b),g={}}if(!m.ok){console.error("%câŒ Error en /initialize_user:","color: #e74c3c; font-weight: bold",g),s(!1);return}console.log("%cðŸ“¡ Datos de /initialize_user:","color: #3498db; font-weight: bold",g),t(p),n(g.client_id),o(g.public_client_id),localStorage.setItem("client_id",g.client_id),localStorage.setItem("public_client_id",g.public_client_id),localStorage.setItem("user_id",p.user.id),s(!1);const y=sessionStorage.getItem("alreadyRedirected");u.includes(c.pathname)?g.is_new_user&&!y?(console.log("%cðŸ“¥ Usuario nuevo â†’ Redirigiendo a /welcome","color: #f5a623; font-weight: bold"),sessionStorage.setItem("alreadyRedirected","true"),l("/welcome",{replace:!0})):!y&&c.pathname==="/login"?(console.log("%cðŸ  Usuario existente. Redirigiendo a /dashboard","color: #f5a623; font-weight: bold"),l("/dashboard",{replace:!0})):console.log("%cðŸ›‘ Ruta pÃºblica correcta, no redirigir:","color: #3498db",c.pathname):console.log("%cðŸ›‘ Ruta privada detectada. No redirigir.","color: #3498db")}catch(m){console.error("%câŒ Error de red al llamar a /initialize_user:","color: #e74c3c; font-weight: bold",m),s(!1)}})()},[l,c.pathname]),{session:e,clientId:r,publicClientId:i,loading:a}}function e6(){const{t:e}=Ce(),t=Nt(),[r,n]=v.useState(!1),[i,o]=v.useState("free"),[a,s]=v.useState({assistant_name:"Assistant",show_logo:!0,show_powered_by:!0,header_color:"#fff9f0",header_text_color:"#1b2a41",background_color:"#ffffff",user_message_color:"#a3d9b1",bot_message_color:"#f7f7f7",button_color:"#f5a623",button_text_color:"#ffffff",footer_text_color:"#999999",font_family:"Inter, sans-serif",widget_border_radius:16,widget_height:520,max_messages_per_session:10,show_tooltip:!1,tooltip_text:"Answers could not be 100% accurate. If asnwer does not satify your question, please send us an email.",show_legal_links:!1,terms_url:"",privacy_url:"",require_email_consent:!1,require_terms_consent:!1,tooltip_bg_color:"#FFF8E1",tooltip_text_color:"#5C4B00",consent_bg_color:"#FFF8E6",consent_text_color:"#7A4F00"}),l=["premium","white_label"].includes(i);v.useEffect(()=>{async function h(){var p;try{const m=await fetch(`http://127.0.0.1:8001/client_settings?client_id=${t}`);if(!m.ok)throw new Error("Error al obtener configuraciÃ³n");const g=await m.json();g.font_family&&(g.font_family=g.font_family.replace(/['"]/g,"").trim()),o(((p=g==null?void 0:g.plan)==null?void 0:p.id)||"free"),s(y=>({...y,...g}))}catch(m){console.error("âŒ Error cargando settings:",m)}}t&&h()},[t]),v.useEffect(()=>{if(!a.font_family)return;const h=["Inter","Roboto","Poppins","Open Sans"],p=a.font_family.split(",")[0].replace(/['"]/g,"").trim();if(h.includes(p)){if(!document.getElementById(`font-${p}`)){const m=document.createElement("link");m.id=`font-${p}`,m.rel="stylesheet",m.href=`https://fonts.googleapis.com/css2?family=${p.replace(/ /g,"+")}:wght@400;500;600;700&display=swap`,document.head.appendChild(m)}document.fonts.ready.then(()=>{const m=`${p}, sans-serif`;s(g=>({...g,font_family:m}))})}},[a.font_family]);const c=(h,p)=>{h==="font_family"&&(p=p.replace(/['"]/g,"").trim()),s(m=>({...m,[h]:p}))},u=async()=>{if(!l){alert("âš ï¸ Only Premium and White Label users can save customization.");return}try{n(!0);const h={...a,font_family:a.font_family.replace(/['"]/g,"").trim()},p=await fetch("http://127.0.0.1:8001/client_settings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:t,...h})});if(!p.ok)throw new Error(await p.text());alert("âœ… Widget settings saved successfully!")}catch(h){alert("âŒ Error saving settings: "+h.message)}finally{n(!1)}},d=()=>{const h=window.location.hostname.includes("localhost")?"http://localhost:4223/settings":"https://app.evolvianai.com/settings";window.open(h,"_blank")};return f.jsxs("div",{style:t6,children:[f.jsx("h2",{style:r6,children:"ðŸŽ¨ Customize Your Chat Widget"}),f.jsx("p",{style:n6,children:"Adjust your assistantâ€™s design to perfectly match your brand."}),f.jsxs("div",{style:i6,children:[f.jsxs("div",{style:o6,children:[f.jsxs("div",{style:s6,children:[f.jsx("h3",{style:aa,children:"ðŸ”’ Legal & Consent"}),f.jsxs("label",{style:ge,children:["Show Legal Links:",f.jsx("input",{type:"checkbox",checked:a.show_legal_links,onChange:h=>c("show_legal_links",h.target.checked),style:{marginLeft:"8px"}})]}),a.show_legal_links&&f.jsxs(f.Fragment,{children:[f.jsxs("label",{style:ge,children:["Terms URL:",f.jsx("input",{type:"url",placeholder:"https://yourcompany.com/terms",value:a.terms_url,onChange:h=>c("terms_url",h.target.value),style:Mn})]}),f.jsxs("label",{style:ge,children:["Privacy URL:",f.jsx("input",{type:"url",placeholder:"https://yourcompany.com/privacy",value:a.privacy_url,onChange:h=>c("privacy_url",h.target.value),style:Mn})]})]}),f.jsxs("label",{style:ge,children:["Require Terms acceptance Before Chat:",f.jsx("input",{type:"checkbox",checked:a.require_terms_consent,onChange:h=>c("require_terms_consent",h.target.checked),style:{marginLeft:"8px"}})]}),f.jsxs("label",{style:ge,children:["Require Email Before Chat:",f.jsx("input",{type:"checkbox",checked:a.require_email_consent,onChange:h=>c("require_email_consent",h.target.checked),style:{marginLeft:"8px"}})]}),f.jsx("h3",{style:aa,children:"ðŸ§¾ Consent Colors"}),f.jsxs("label",{style:ge,children:["Consent Background Color:",f.jsx("input",{type:"color",value:a.consent_bg_color,onChange:h=>c("consent_bg_color",h.target.value),style:Ht})]}),f.jsxs("label",{style:ge,children:["Consent Text Color:",f.jsx("input",{type:"color",value:a.consent_text_color,onChange:h=>c("consent_text_color",h.target.value),style:Ht})]}),f.jsx("h3",{style:aa,children:"ðŸ–¼ï¸ Appearance"}),f.jsxs("label",{style:ge,children:["Tooltip:",f.jsx("input",{type:"checkbox",checked:a.show_tooltip,onChange:h=>c("show_tooltip",h.target.checked),style:{marginLeft:"8px"}})]}),a.show_tooltip&&f.jsxs(f.Fragment,{children:[f.jsxs("label",{style:ge,children:["Tooltip Text:",f.jsx("input",{type:"text",value:a.tooltip_text,onChange:h=>c("tooltip_text",h.target.value),style:Mn})]}),f.jsxs("label",{style:ge,children:["Tooltip Background Color:",f.jsx("input",{type:"color",value:a.tooltip_bg_color,onChange:h=>c("tooltip_bg_color",h.target.value),style:Ht})]}),f.jsxs("label",{style:ge,children:["Tooltip Text Color:",f.jsx("input",{type:"color",value:a.tooltip_text_color,onChange:h=>c("tooltip_text_color",h.target.value),style:Ht})]})]}),f.jsxs("label",{style:ge,children:["Assistant Name:",f.jsx("input",{type:"text",value:a.assistant_name,onChange:h=>c("assistant_name",h.target.value),style:Mn})]}),f.jsxs("label",{style:ge,children:["Header Color:",f.jsx("input",{type:"color",value:a.header_color,onChange:h=>c("header_color",h.target.value),style:Ht})]}),f.jsxs("label",{style:ge,children:["Header Text Color:",f.jsx("input",{type:"color",value:a.header_text_color,onChange:h=>c("header_text_color",h.target.value),style:Ht})]}),f.jsxs("label",{style:ge,children:["Background Color:",f.jsx("input",{type:"color",value:a.background_color,onChange:h=>c("background_color",h.target.value),style:Ht})]}),f.jsxs("label",{style:ge,children:["User Message Color:",f.jsx("input",{type:"color",value:a.user_message_color,onChange:h=>c("user_message_color",h.target.value),style:Ht})]}),f.jsxs("label",{style:ge,children:["Bot Message Color:",f.jsx("input",{type:"color",value:a.bot_message_color,onChange:h=>c("bot_message_color",h.target.value),style:Ht})]}),f.jsxs("label",{style:ge,children:["Button Color:",f.jsx("input",{type:"color",value:a.button_color,onChange:h=>c("button_color",h.target.value),style:Ht})]}),f.jsxs("label",{style:ge,children:["Button Text Color:",f.jsx("input",{type:"color",value:a.button_text_color,onChange:h=>c("button_text_color",h.target.value),style:Ht})]}),f.jsxs("label",{style:ge,children:["Font Family:",f.jsxs("select",{value:a.font_family,onChange:h=>c("font_family",h.target.value),style:l6,children:[f.jsx("option",{value:"Inter, sans-serif",children:"Inter"}),f.jsx("option",{value:"Roboto, sans-serif",children:"Roboto"}),f.jsx("option",{value:"Poppins, sans-serif",children:"Poppins"}),f.jsx("option",{value:"Open Sans, sans-serif",children:"Open Sans"})]})]}),f.jsxs("label",{style:ge,children:["Border Radius:",f.jsx("input",{type:"range",min:"0",max:"30",value:a.widget_border_radius,onChange:h=>c("widget_border_radius",Number(h.target.value)),style:{width:"100%"}}),f.jsxs("span",{children:[a.widget_border_radius,"px"]})]}),f.jsxs("label",{style:ge,children:["Widget Height (px):",f.jsx("input",{type:"number",min:"300",max:"700",value:a.widget_height,onChange:h=>c("widget_height",Number(h.target.value)),style:Mn})]}),f.jsxs("label",{style:ge,children:["Show Logo:",f.jsx("input",{type:"checkbox",checked:a.show_logo,onChange:h=>c("show_logo",h.target.checked),style:{marginLeft:"8px"}})]}),f.jsxs("label",{style:ge,children:["Show â€œPowered by Evolvianâ€:",f.jsx("input",{type:"checkbox",checked:a.show_powered_by,onChange:h=>c("show_powered_by",h.target.checked),style:{marginLeft:"8px"}})]}),f.jsx("h3",{style:aa,children:"ðŸ’¬ Session Behavior"}),f.jsxs("label",{style:ge,children:["Max Messages Per Session:",f.jsx("input",{type:"number",min:"1",max:"50",value:a.max_messages_per_session,onChange:h=>c("max_messages_per_session",Number(h.target.value)),style:Mn}),f.jsx("small",{style:{color:"#999",marginTop:"0.25rem"},children:"Limit how many messages users can send per session."})]})]}),f.jsx("button",{onClick:u,disabled:r||!l,style:l?J1:c6,children:r?"Saving...":l?"ðŸ’¾ Save Changes":"ðŸ”’ Premium Feature"}),!l&&f.jsxs("div",{style:u6,children:["âš ï¸ Customization is available only for"," ",f.jsx("strong",{children:"Premium and White Label"})," plans.",f.jsx("br",{}),f.jsx("button",{style:d6,onClick:d,children:"ðŸš€ Upgrade to Premium"})]})]}),f.jsx("div",{style:a6,children:f.jsxs("div",{style:{...f6,borderRadius:`${a.widget_border_radius}px`,backgroundColor:a.background_color,fontFamily:a.font_family,height:`${a.widget_height}px`},children:[f.jsxs("div",{style:{...h6,backgroundColor:a.header_color,color:a.header_text_color},children:[a.show_logo&&f.jsx("img",{src:"https://evolvian-assistant.onrender.com/static/logo-evolvian.svg",alt:"Logo",style:{height:"22px",marginRight:"0.6rem"}}),f.jsx("strong",{children:a.assistant_name})]}),a.show_tooltip&&f.jsxs("div",{style:{backgroundColor:a.tooltip_bg_color,color:a.tooltip_text_color,fontSize:"0.8rem",padding:"0.4rem 0.6rem",textAlign:"center",borderBottom:"1px solid #EDEDED"},children:["ðŸ’¡ ",a.tooltip_text]}),f.jsxs("div",{style:{...p6,backgroundColor:"transparent"},children:[f.jsx("div",{style:{...g6,backgroundColor:a.bot_message_color},children:"Hello! How can I help you today?"}),f.jsx("div",{style:{...m6,backgroundColor:a.user_message_color},children:"Show me your pricing plans."})]}),(a.require_email_consent||a.require_terms_consent)&&f.jsx("div",{style:{border:"1px dashed #F5A623",background:a.consent_bg_color,color:a.consent_text_color,fontSize:"0.8rem",textAlign:"center",padding:"0.6rem",margin:"0.5rem 1rem",borderRadius:"8px"},children:"ðŸ§¾ Email Consent required before chatting"}),f.jsxs("div",{style:y6,children:[f.jsx("textarea",{placeholder:"Type a message...",style:v6,rows:2,disabled:!0}),f.jsx("button",{style:{...b6,backgroundColor:a.button_color,color:a.button_text_color},children:"Send"})]}),a.show_powered_by&&f.jsxs("div",{style:{...w6,color:a.footer_text_color},children:["Powered by ",f.jsx("strong",{children:"Evolvian"})," â€” evolvianai.com"]}),a.show_legal_links&&f.jsxs("div",{style:{textAlign:"center",fontSize:"0.75rem",color:"#4A90E2",padding:"0.4rem",borderTop:"1px solid #F0F0F0"},children:[a.terms_url&&f.jsx("a",{href:a.terms_url,target:"_blank",rel:"noreferrer",style:{color:"#4A90E2",marginRight:"0.5rem",textDecoration:"underline"},children:"Terms"}),a.privacy_url&&f.jsx("a",{href:a.privacy_url,target:"_blank",rel:"noreferrer",style:{color:"#4A90E2",textDecoration:"underline"},children:"Privacy"})]})]})})]})]})}const t6={color:"#274472",padding:"2rem 3rem",backgroundColor:"#FFFFFF",fontFamily:"system-ui, sans-serif",minHeight:"100vh"},r6={fontSize:"1.8rem",color:"#F5A623",marginBottom:"0.5rem"},n6={color:"#4A90E2",marginBottom:"2rem"},i6={display:"grid",gridTemplateColumns:"1fr 420px",gap:"2rem",alignItems:"flex-start"},o6={backgroundColor:"#FFFFFF",padding:"1.5rem",border:"1px solid #EDEDED",borderRadius:"14px",boxShadow:"0 2px 10px rgba(0,0,0,0.05)"},a6={backgroundColor:"#FFFFFF",padding:"1rem",border:"1px solid #EDEDED",borderRadius:"14px",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 10px rgba(0,0,0,0.05)"},s6={display:"grid",gap:"1rem"},ge={display:"flex",flexDirection:"column",fontSize:"0.9rem"},Ht={marginTop:"0.3rem",height:"34px",borderRadius:"8px",border:"1px solid #EDEDED",background:"#FFFFFF",cursor:"pointer"},Mn={marginTop:"0.3rem",padding:"0.45rem 0.6rem",borderRadius:"10px",border:"1px solid #EDEDED",backgroundColor:"#FFFFFF",color:"#274472",outline:"none"},l6={marginTop:"0.3rem",padding:"0.45rem 0.6rem",borderRadius:"10px",border:"1px solid #EDEDED",backgroundColor:"#FFFFFF",color:"#274472",outline:"none"},J1={marginTop:"1.5rem",backgroundColor:"#2EB39A",border:"none",color:"white",padding:"0.8rem 1.2rem",borderRadius:"10px",fontWeight:"bold",cursor:"pointer",width:"100%",boxShadow:"0 6px 16px rgba(46,179,154,0.25)"},c6={...J1,backgroundColor:"#D1D5DB",color:"#9CA3AF",boxShadow:"none",cursor:"not-allowed"},u6={backgroundColor:"#FFFFFF",border:"1px dashed #F5A623",color:"#F5A623",padding:"1rem",borderRadius:"12px",marginTop:"1rem",textAlign:"center",fontSize:"0.9rem",fontWeight:"600"},d6={marginTop:"0.6rem",backgroundColor:"#4A90E2",color:"#FFFFFF",border:"none",borderRadius:"8px",padding:"0.5rem 0.9rem",cursor:"pointer",fontWeight:"bold"},f6={width:"360px",display:"flex",flexDirection:"column",overflow:"hidden",border:"1px solid #F0F0F0",boxShadow:"0 2px 10px rgba(0,0,0,0.05)"},h6={flexShrink:0,height:"56px",borderBottom:"1px solid #F0F0F0",display:"flex",alignItems:"center",padding:"0 1rem"},p6={flex:1,overflowY:"auto",padding:"1rem",display:"flex",flexDirection:"column",gap:"0.75rem",backgroundColor:"transparent"},m6={alignSelf:"flex-end",padding:"0.75rem 1rem",borderRadius:"18px",maxWidth:"75%",wordBreak:"break-word",color:"#1b2a41"},g6={alignSelf:"flex-start",padding:"0.75rem 1rem",borderRadius:"18px",maxWidth:"75%",wordBreak:"break-word",color:"#1b2a41"},y6={flexShrink:0,borderTop:"1px solid #F0F0F0",display:"flex",gap:"0.5rem",padding:"0.8rem",background:"#FFFFFF"},v6={flex:1,resize:"none",borderRadius:"10px",padding:"0.6rem 0.75rem",border:"1px solid #E5E7EB",fontSize:"0.95rem",outline:"none",color:"#1b2a41",backgroundColor:"#FFFFFF"},b6={border:"none",padding:"0.6rem 1rem",borderRadius:"10px",fontWeight:"600",fontSize:"0.95rem",cursor:"pointer"},w6={textAlign:"center",fontSize:"0.75rem",padding:"0.6rem",borderTop:"1px solid #F0F0F0",background:"transparent"},aa={fontSize:"1rem",fontWeight:"600",color:"#274472",marginTop:"1.4rem",marginBottom:"0.6rem",borderBottom:"1px solid #EDEDED",paddingBottom:"0.3rem"};function x6(){const{publicClientId:e,loading:t}=V1(),{t:r}=Ce(),[n,i]=v.useState("install");v.useEffect(()=>{if(typeof document<"u"&&!document.getElementById("spin-keyframes")){const c=document.createElement("style");c.id="spin-keyframes",c.textContent=`
        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
      `,document.head.appendChild(c)}},[]);const o=c=>{navigator.clipboard.writeText(c),alert(`ðŸ“‹ ${r("copied_to_clipboard")}`)},a=window.location.hostname.includes("localhost")?"http://localhost:5180/static":"https://evolvian-assistant.onrender.com/static",s=`<script
  type="module"
  src="${a}/embed-floating.js"
  data-public-client-id="${e}"
><\/script>`,l=`<iframe
  src="${a}/widget.html?public_client_id=${e||"TU_ID_PUBLICO"}"
  style="width:360px;height:520px;border:none;border-radius:12px;"
  allow="clipboard-write; microphone"
  title="Evolvian AI Chat Widget"
></iframe>`;return t?f.jsxs("div",{style:_6,children:[f.jsx("div",{style:S6}),f.jsx("p",{style:{color:"#274472",marginTop:"1rem"},children:r("loading_setup")})]}):f.jsx("div",{style:j6,children:f.jsxs("div",{style:{maxWidth:"1200px",margin:"0 auto"},children:[f.jsxs("div",{style:E6,children:[f.jsxs("button",{onClick:()=>i("install"),style:{...Qy,backgroundColor:n==="install"?"#4A90E2":"transparent",color:n==="install"?"#FFFFFF":"#274472",borderColor:n==="install"?"#4A90E2":"#EDEDED"},children:["âš™ï¸ ",r("installation")||"Installation"]}),f.jsxs("button",{onClick:()=>i("customize"),style:{...Qy,backgroundColor:n==="customize"?"#F5A623":"transparent",color:n==="customize"?"#FFFFFF":"#274472",borderColor:n==="customize"?"#F5A623":"#EDEDED"},children:["ðŸŽ¨ ",r("customize_widget")||"Customize Widget"]})]}),n==="install"?f.jsxs(f.Fragment,{children:[f.jsxs("div",{style:C6,children:[f.jsx("img",{src:"/logo-evolvian.svg",alt:"Evolvian Logo",style:{width:56,height:56,borderRadius:"50%"}}),f.jsxs("div",{children:[f.jsxs("h2",{style:k6,children:["ðŸ§  ",r("setup_evolvian_web")]}),f.jsx("p",{style:P6,children:r("setup_description")||"Embed Evolvian on your website in minutes. Choose floating script or iframe mode."})]})]}),f.jsxs("div",{style:A6,children:[f.jsxs("div",{children:[f.jsxs("strong",{style:{color:"#274472"},children:[r("your_public_id"),":"]})," ",f.jsx("span",{style:{color:"#2EB39A",fontWeight:700},children:e||r("not_available")})]}),f.jsx("button",{onClick:()=>o(e),disabled:!e,style:O6(!!e),children:r("copy_id")})]}),f.jsxs("div",{style:T6,children:[f.jsxs("div",{style:ev,children:[f.jsxs("h3",{style:tv,children:["ðŸ”¹ ",r("option1_title")||"Floating Button (Script)"]}),f.jsxs("p",{style:rv,children:["ðŸ’¡ ",r("option1_hint")||"Recommended for global floating chat."]}),f.jsxs("ol",{style:nv,children:[f.jsxs("li",{children:["1ï¸âƒ£ ",r("copy_script")||"Copy the script"]}),f.jsxs("li",{children:["2ï¸âƒ£ ",r("paste_before_body")||"Paste before </body>"]}),f.jsxs("li",{children:["3ï¸âƒ£ ",r("save_and_reload")||"Save and reload your site"]})]}),f.jsx("pre",{style:nd,children:s}),f.jsx("button",{onClick:()=>o(s),style:iv,children:r("copy_script_button")||"Copy script"})]}),f.jsxs("div",{style:ev,children:[f.jsxs("h3",{style:tv,children:["ðŸ”¹ ",r("option2_title")||"Fixed Window (Iframe)"]}),f.jsxs("p",{style:rv,children:["ðŸ’¡ ",r("option2_hint")||"Great for dedicated support pages."]}),f.jsxs("ol",{style:nv,children:[f.jsxs("li",{children:["1ï¸âƒ£ ",r("copy_code")||"Copy the iframe code"]}),f.jsxs("li",{children:["2ï¸âƒ£ ",r("paste_where_visible")||"Paste where you want it visible"]}),f.jsxs("li",{children:["3ï¸âƒ£ ",r("adjust_size_if_needed")||"Adjust dimensions if needed"]})]}),f.jsx("pre",{style:nd,children:l}),f.jsx("button",{onClick:()=>o(l),style:iv,children:r("copy_iframe")||"Copy iframe"})]})]}),f.jsxs("div",{style:R6,children:[f.jsxs("h2",{style:I6,children:["ðŸ“– ",r("step_by_step_guide")||"Step-by-Step Installation Guide"]}),f.jsx($i,{title:r("step1_title")||"Step 1 â€” Get Your Public Client ID",text:r("step1_text")||"Go to your Evolvian Dashboard â†’ Settings. Copy your public_client_id. Youâ€™ll use it in both widget and iframe integrations.",img:"/widgetstep1.png"}),f.jsx($i,{title:r("step2_title")||"Step 2 â€” Add the Script to Your Site",text:r("step2_text")||"Insert the script snippet just before the closing </body> tag on your website. This will automatically display the Evolvian floating chat button.",code:s,img:"/widgetstep2.png"}),f.jsx($i,{title:r("step3_title")||"Step 3 â€” (Alternative) Use Iframe Mode",text:r("step3_text")||"If you prefer a fixed chat window (e.g., on a Contact page), use the iframe version instead. You can control its position and design freely.",code:l,img:"/widgetstep3.png"}),f.jsx($i,{title:r("step4_title")||"Step 4 â€” Test and Verify",text:r("step4_text")||"Once embedded, verify that the chat icon appears, opens correctly, and messages sync with your dashboard.",img:"/widgetstep4.png"}),f.jsx($i,{title:r("step5_title")||"Step 5 â€” Troubleshooting",text:r("step5_text")||"If the widget doesnâ€™t appear, check that your public_client_id is correct, no CSP block is active, and you reloaded your site. Contact support@evolvianai.com if it persists.",img:"/widgetstep5.png"})]})]}):f.jsx(e6,{})]})})}function $i({title:e,text:t,img:r,code:n}){return f.jsxs("div",{style:D6,children:[f.jsxs("div",{style:$6,children:[f.jsx("h3",{style:F6,children:e}),f.jsx("p",{style:N6,children:t}),n&&f.jsx("pre",{style:nd,children:n})]}),f.jsx("div",{style:M6,children:f.jsx("img",{src:r,alt:e,style:L6})})]})}const _6={display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:"#FFFFFF",minHeight:"100vh",color:"#274472",fontFamily:"system-ui, sans-serif"},S6={width:"40px",height:"40px",border:"4px solid #EDEDED",borderTop:"4px solid #4A90E2",borderRadius:"50%",animation:"spin 1s linear infinite"},E6={display:"flex",justifyContent:"center",gap:"0.75rem",marginBottom:"1.5rem"},Qy={border:"1px solid #EDEDED",borderRadius:"10px",color:"#274472",padding:"0.6rem 1.1rem",cursor:"pointer",fontWeight:"bold",transition:"all 0.2s ease"},j6={padding:"2rem 3rem",fontFamily:"system-ui, sans-serif",backgroundColor:"#FFFFFF",color:"#274472",minHeight:"100vh"},C6={display:"flex",alignItems:"center",gap:"1rem",marginBottom:"1rem"},k6={fontSize:"1.8rem",color:"#F5A623",fontWeight:"bold",margin:0},P6={color:"#4A90E2",maxWidth:"800px",marginTop:"0.25rem"},A6={backgroundColor:"#FFFFFF",padding:"1rem",borderRadius:"12px",margin:"1.25rem 0 2rem",display:"flex",alignItems:"center",justifyContent:"space-between",maxWidth:"600px",border:"1px solid #EDEDED",boxShadow:"0 2px 8px rgba(0,0,0,0.04)"},O6=e=>({backgroundColor:e?"#4A90E2":"#E5E7EB",color:e?"#FFFFFF":"#9CA3AF",border:"none",borderRadius:"10px",padding:"0.55rem 1rem",fontWeight:"bold",cursor:e?"pointer":"not-allowed",transition:"0.2s ease all"}),T6={display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(360px, 1fr))",gap:"1.4rem",marginTop:"1.4rem"},ev={display:"flex",flexDirection:"column",justifyContent:"space-between",backgroundColor:"#FFFFFF",border:"1px solid #EDEDED",padding:"1.2rem",borderRadius:"14px",minHeight:"420px",boxShadow:"0 2px 10px rgba(0,0,0,0.05)"},tv={color:"#4A90E2",fontSize:"1.15rem",marginBottom:"0.75rem",fontWeight:"700"},rv={fontSize:"0.9rem",color:"#7A7A7A",marginBottom:"1rem"},nv={fontSize:"0.95rem",marginBottom:"1rem",color:"#274472",lineHeight:1.6},nd={background:"#FAFAFA",color:"#274472",padding:"1rem",borderRadius:"10px",fontSize:"0.78rem",overflowX:"auto",marginBottom:"0.5rem",border:"1px dashed #EDEDED"},iv={backgroundColor:"#F5A623",color:"#FFFFFF",border:"none",borderRadius:"10px",padding:"0.6rem 1.1rem",fontWeight:"bold",fontSize:"0.9rem",cursor:"pointer",transition:"0.2s ease all",alignSelf:"flex-start"},R6={marginTop:"2rem",backgroundColor:"#FFFFFF",border:"1px solid #EDEDED",borderRadius:"16px",padding:"2rem 2.5rem",boxShadow:"0 2px 10px rgba(0,0,0,0.05)"},I6={color:"#A3D9B1",fontSize:"1.6rem",fontWeight:"bold",marginBottom:"2rem",textAlign:"center"},D6={display:"flex",flexWrap:"wrap",alignItems:"stretch",gap:"2rem",marginBottom:"2.4rem"},$6={flex:"1 1 40%",backgroundColor:"#FFFFFF",border:"1px solid #EDEDED",borderRadius:"14px",padding:"1.8rem",boxShadow:"0 2px 10px rgba(0,0,0,0.05)",display:"flex",flexDirection:"column",justifyContent:"center",minWidth:"300px"},M6={flex:"1 1 55%",backgroundColor:"#FFFFFF",border:"1px solid #EDEDED",borderRadius:"14px",padding:"1rem",boxShadow:"0 2px 10px rgba(0,0,0,0.05)",display:"flex",alignItems:"center",justifyContent:"center",minWidth:"320px"},F6={color:"#F5A623",fontSize:"1.1rem",fontWeight:"bold",marginBottom:"0.6rem"},N6={color:"#274472",fontSize:"0.95rem",marginBottom:"1rem",lineHeight:"1.6"},L6={width:"100%",height:"auto",borderRadius:"14px",border:"1px solid #EDEDED",boxShadow:"0 3px 12px rgba(0,0,0,0.06)",objectFit:"contain",maxHeight:"500px"};function B6(){const e=Nt(),{t}=Ce(),[r,n]=v.useState(null),[i,o]=v.useState(!0),[a,s]=v.useState(null),[l,c]=v.useState(null),[u,d]=v.useState(!1);v.useEffect(()=>{const w="email-setup-inline-animations";if(!document.getElementById(w)){const x=document.createElement("style");x.id=w,x.innerHTML=`
        @keyframes fadeUp { 0% { opacity: 0; transform: translateY(12px); } 100% { opacity: 1; transform: translateY(0); } }
        .ev-fadeUp { animation: fadeUp .45s ease-out forwards; opacity: 0; }
        .ev-delay-1 { animation-delay: .05s; }
        .ev-delay-2 { animation-delay: .10s; }
        .ev-delay-3 { animation-delay: .15s; }
        .ev-delay-4 { animation-delay: .20s; }
        .ev-delay-5 { animation-delay: .25s; }

        @keyframes ev-spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
      `,document.head.appendChild(x)}},[]),v.useEffect(()=>{(async()=>{if(e)try{const x=await fetch(`http://127.0.0.1:8001/dashboard_summary?client_id=${e}`),_=await x.json();if(!x.ok)throw new Error("Failed to load dashboard data");n(_)}catch(x){console.error("âŒ Error loading dashboard:",x),se({title:"Error",description:t("failed_load_plan")||"Failed to load plan information."})}finally{o(!1)}})()},[e,t]);const h=async()=>{if(e)try{const w=await fetch(`http://127.0.0.1:8001/channels?client_id=${e}&type=email&provider=gmail`);if(w.status===404){s(null),d(!1),c(null);return}const x=await w.json();if(Array.isArray(x)&&x.length>0){const _=x.find(S=>S.gmail_access_token&&S.active)||x[0];s((_==null?void 0:_.value)||null),d(!!(_!=null&&_.gmail_access_token)),c((_==null?void 0:_.gmail_expiry)||(_==null?void 0:_.updated_at)||null)}else s(null),d(!1),c(null)}catch(w){console.error("âŒ Error fetching Gmail channel:",w)}};v.useEffect(()=>{h()},[e]),v.useEffect(()=>{const w=new URLSearchParams(window.location.search);w.get("gmail_connected")==="true"&&(se({title:"âœ… Gmail Connected",description:t("gmail_connected_ok")||"Your Gmail account has been successfully linked."}),h(),w.delete("gmail_connected"),window.history.replaceState({},"",window.location.pathname))},[t]);const p=async()=>{try{const w=await fetch(`http://127.0.0.1:8001/gmail_oauth/authorize?client_id=${e}`);if(w.status===404){se({title:"404",description:t("gmail_oauth_not_found")||"Authorization endpoint not found."});return}const x=await w.json();x!=null&&x.authorization_url?window.location.href=x.authorization_url:se({title:"Error",description:t("gmail_oauth_start_fail")||"Failed to start Gmail authorization."})}catch(w){console.error("âŒ Gmail connect error:",w),se({title:"Error",description:t("gmail_connect_error")||"Could not connect Gmail. Try again."})}},m=async()=>{try{(await fetch(`http://127.0.0.1:8001/disconnect_gmail?client_id=${e}`,{method:"POST"})).ok?(se({title:"âœ… Gmail disconnected",description:t("gmail_disconnected_ok")||"The account has been removed successfully."}),await h()):se({title:"Error",description:t("gmail_disconnect_fail")||"Failed to disconnect Gmail."})}catch(w){console.error("âŒ Disconnect error:",w),se({title:"Error",description:t("gmail_disconnect_error")||"Unexpected error while disconnecting."})}},g=(r==null?void 0:r.plan)||{},y=(g==null?void 0:g.supports_email)===!0,b=(g==null?void 0:g.name)||"Free";return i||!r?f.jsx("div",{style:ov,children:f.jsx("div",{style:av,children:f.jsx("section",{style:Fn,children:f.jsxs("div",{style:V6,children:[f.jsx("div",{style:J6}),f.jsx("p",{style:{color:"#274472",marginTop:"1rem"},children:t("loading")||"Loading..."})]})})})}):f.jsx("div",{style:ov,children:f.jsxs("div",{style:av,children:[f.jsx("section",{style:Fn,className:"ev-fadeUp ev-delay-1",children:f.jsxs("div",{style:U6,children:[f.jsx("img",{src:"/logo-evolvian.svg",alt:"Evolvian Logo",style:{width:56,height:56,borderRadius:"50%"}}),f.jsxs("div",{children:[f.jsxs("h1",{style:z6,children:["ðŸ“§ ",t("email_automation")||"Email Automation with Evolvian"]}),f.jsx("p",{style:W6,children:t("email_intro")||"Let Evolvian automatically send replies, confirmations, and follow-ups using your Gmail account â€” securely and seamlessly."})]})]})}),f.jsxs("section",{style:Fn,className:"ev-fadeUp ev-delay-2",children:[f.jsxs("h2",{style:sa,children:["ðŸ” ",t("connection_status")||"Connection Status"]}),f.jsx("div",{style:q6,children:f.jsxs("div",{children:[f.jsxs("p",{children:[f.jsxs("strong",{children:[t("plan")||"Plan",":"]})," ",b]}),f.jsxs("p",{children:[f.jsxs("strong",{children:[t("status")||"Status",":"]})," ",u?f.jsxs("span",{style:{color:"#2EB39A",fontWeight:600},children:["ðŸŸ¢ ",t("connected_as")||"Connected as"," ",a]}):f.jsxs("span",{style:{color:"#F5A623",fontWeight:600},children:["ðŸŸ¡ ",t("not_connected")||"Not connected"]})]}),l&&f.jsxs("p",{style:{color:"#7A7A7A",fontSize:"0.9rem"},children:[t("last_sync")||"Last sync",": ",new Date(l).toLocaleString()]})]})})]}),f.jsxs("section",{style:Fn,className:"ev-fadeUp ev-delay-3",children:[f.jsxs("h2",{style:sa,children:["âš™ï¸ ",t("gmail_connection")||"Gmail Connection"]}),f.jsx("p",{style:sv,children:t("gmail_connection_copy")||"Connect your Gmail via Google OAuth. Evolvian accesses only whatâ€™s needed to automate messages."}),f.jsx("div",{style:{display:"flex",gap:"1rem",flexWrap:"wrap"},children:u?f.jsxs("button",{onClick:m,style:{...Wc,backgroundColor:"#F5A623",color:"#fff"},children:["âŒ ",t("disconnect")||"Disconnect"]}):f.jsxs("button",{onClick:p,disabled:!y,style:{...Wc,backgroundColor:y?"#A3D9B1":"#EDEDED",color:y?"#1B2A41":"#999",cursor:y?"pointer":"not-allowed"},children:["ðŸ”— ",t("connect_gmail")||"Connect Gmail"]})}),f.jsx("div",{style:K6,children:t("oauth_tip")||"Youâ€™ll be redirected to Google to grant permissions and then back to Evolvian."})]}),f.jsxs("section",{style:Fn,className:"ev-fadeUp ev-delay-4",children:[f.jsxs("h2",{style:sa,children:["ðŸš€ ",t("how_it_works")||"How It Works"]}),f.jsxs("ul",{style:H6,children:[f.jsxs("li",{children:["1ï¸âƒ£ ",t("how_1")||"Connect your Gmail account."]}),f.jsxs("li",{children:["2ï¸âƒ£ ",t("how_2")||"Evolvian listens for new incoming messages."]})]})]}),!y&&f.jsxs("section",{style:Fn,className:"ev-fadeUp ev-delay-5",children:[f.jsxs("h2",{style:sa,children:["ðŸ”’ ",t("premium_feature")||"Premium Feature"]}),f.jsx("p",{style:sv,children:t("email_premium_copy")||"Gmail automation is available only for Premium or White Label plans. Upgrade to unlock automatic replies and scheduling."}),f.jsxs("button",{style:{...Wc,backgroundColor:"#4A90E2",color:"#fff",marginTop:"0.6rem"},onClick:()=>window.location.href="/settings#plans",children:["â¬†ï¸ ",t("upgrade_plan")||"Upgrade Plan"]}),f.jsxs("div",{style:Y6,children:["ðŸ–¼ï¸ ",t("placeholder_upgrade")||"[Upgrade Plan Graphic]"]})]})]})})}const ov={backgroundColor:"#FFFFFF",minHeight:"100vh",padding:"2rem",display:"flex",justifyContent:"center",color:"#274472",fontFamily:"Inter, system-ui, sans-serif"},av={maxWidth:900,width:"100%",display:"flex",flexDirection:"column",gap:"1.4rem"},Fn={backgroundColor:"#FFFFFF",border:"1px solid #EDEDED",borderRadius:"14px",padding:"1.6rem",boxShadow:"0 2px 10px rgba(0,0,0,0.05)"},U6={display:"flex",alignItems:"center",gap:"1rem",marginBottom:"0.8rem"},z6={fontSize:"1.6rem",fontWeight:800,color:"#F5A623",margin:0},W6={color:"#4A90E2",margin:0,marginTop:"0.25rem",fontSize:"1rem"},sa={fontSize:"1.2rem",fontWeight:700,color:"#4A90E2",marginBottom:"0.6rem"},q6={display:"grid",gridTemplateColumns:"1fr auto",alignItems:"center",gap:"1rem"},sv={color:"#274472",marginBottom:"0.8rem",lineHeight:1.6},H6={color:"#274472",lineHeight:1.8,marginLeft:"1rem"},Wc={border:"none",padding:"0.75rem 1.4rem",borderRadius:"10px",fontWeight:700,transition:"transform .15s ease, box-shadow .15s ease",boxShadow:"0 6px 16px rgba(0,0,0,0.10)"},K6={marginTop:"0.6rem",color:"#7A7A7A",fontSize:"0.95rem"},G6={background:"#FAFAFA",color:"#9CA3AF",textAlign:"center",padding:"2.2rem",marginTop:"1rem",borderRadius:"12px",fontSize:"0.9rem",border:"1px dashed #EDEDED"},Y6={...G6,padding:"1.2rem",marginTop:0},V6={display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:160},J6={width:36,height:36,border:"4px solid #EDEDED",borderTop:"4px solid #4A90E2",borderRadius:"50%",animation:"ev-spin 1s linear infinite"};function X6(){const e=Nt(),[t,r]=v.useState([]),[n,i]=v.useState(!0);return v.useEffect(()=>{if(!e)return;fetch(`http://127.0.0.1:8001/calendar/appointments?client_id=${e}`).then(a=>a.json()).then(a=>{r(a.appointments||[]),i(!1)}).catch(a=>{console.error("âŒ Error loading appointments:",a),i(!1)})},[e]),n?f.jsxs("div",{style:d8,children:[f.jsx("div",{style:f8}),f.jsx("p",{style:{color:"#274472",marginTop:"1rem"},children:"Loading appointments..."})]}):t.length?f.jsx("div",{style:Q6,children:f.jsxs("div",{style:{maxWidth:"1200px",margin:"0 auto"},children:[f.jsx("h2",{style:e8,children:"ðŸ“… Confirmed Appointments"}),f.jsx("p",{style:t8,children:"Below you can find all your scheduled meetings synced from Google Calendar or your AI assistant."}),f.jsx(Z6,{appointments:t})]})}):f.jsxs("div",{style:h8,children:[f.jsx("img",{src:"/logo-evolvian.svg",alt:"Evolvian",style:p8}),f.jsx("h2",{style:m8,children:"No confirmed appointments yet"}),f.jsx("p",{style:g8,children:"Once your clients book with your AI assistant, they'll appear here."})]})}function Z6({appointments:e}){const t=e.reduce((n,i)=>{const a=new Date(i.scheduled_time).toISOString().split("T")[0];return n[a]=n[a]||[],n[a].push(i),n},{}),r=Object.keys(t).sort((n,i)=>new Date(n)-new Date(i));return f.jsx("div",{style:r8,children:r.map(n=>{const i=t[n].sort((a,s)=>new Date(a.scheduled_time)-new Date(s.scheduled_time)),o=new Date(n).toLocaleDateString("en-US",{weekday:"long",month:"short",day:"numeric"});return f.jsxs("div",{style:n8,children:[f.jsxs("div",{style:i8,children:[f.jsx("h3",{style:o8,children:o}),f.jsxs("span",{style:a8,children:[i.length," appointments"]})]}),f.jsx("div",{children:i.map(a=>{const s=new Date(a.scheduled_time).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return f.jsxs("div",{style:s8,children:[f.jsxs("div",{children:[f.jsx("p",{style:l8,children:a.user_name}),f.jsx("p",{style:c8,children:a.user_email})]}),f.jsx("div",{style:u8,children:s})]},a.id)})})]},n)})})}const Q6={backgroundColor:"#FFFFFF",padding:"2rem 3rem",fontFamily:"system-ui, sans-serif",color:"#274472",minHeight:"100vh"},e8={fontSize:"1.8rem",color:"#F5A623",fontWeight:"bold",marginBottom:"0.5rem"},t8={color:"#4A90E2",marginBottom:"2rem",fontSize:"1rem",maxWidth:"900px"},r8={display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(360px, 1fr))",gap:"1.5rem"},n8={backgroundColor:"#FFFFFF",border:"1px solid #EDEDED",borderRadius:"14px",padding:"1.5rem",boxShadow:"0 2px 10px rgba(0,0,0,0.05)",display:"flex",flexDirection:"column",justifyContent:"space-between",transition:"all 0.2s ease"},i8={display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},o8={color:"#274472",fontSize:"1.1rem",fontWeight:"bold"},a8={fontSize:"0.85rem",color:"#F5A623",fontWeight:"600"},s8={display:"flex",justifyContent:"space-between",alignItems:"center",backgroundColor:"#A3D9B133",border:"1px solid #A3D9B180",borderRadius:"12px",padding:"0.8rem 1rem",marginBottom:"0.6rem",transition:"all 0.2s ease"},l8={fontWeight:"600",fontSize:"0.95rem",color:"#274472",margin:0},c8={fontSize:"0.8rem",color:"#4A90E2",margin:"0.2rem 0 0 0"},u8={fontWeight:"bold",color:"#274472",fontSize:"0.9rem",backgroundColor:"#E8F7ED",borderRadius:"8px",padding:"0.4rem 0.8rem"},d8={display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:"#FFFFFF",minHeight:"100vh",color:"#274472",fontFamily:"system-ui, sans-serif"},f8={width:"40px",height:"40px",border:"4px solid #EDEDED",borderTop:"4px solid #4A90E2",borderRadius:"50%",animation:"spin 1s linear infinite"},h8={textAlign:"center",backgroundColor:"#FFFFFF",border:"1px solid #EDEDED",borderRadius:"14px",padding:"3rem",maxWidth:"600px",margin:"4rem auto",boxShadow:"0 3px 12px rgba(0,0,0,0.05)"},p8={width:"56px",height:"56px",borderRadius:"50%",marginBottom:"1rem"},m8={fontSize:"1.4rem",color:"#F5A623",marginBottom:"0.5rem",fontWeight:"bold"},g8={color:"#4A90E2",fontSize:"0.95rem"};function y8(){const[e,t]=v.useState("inactive"),[r,n]=v.useState("settings"),[i,o]=v.useState(!1);v.useEffect(()=>{const L=()=>o(window.innerWidth<768);return L(),window.addEventListener("resize",L),()=>window.removeEventListener("resize",L)},[]);const a=Nt(),s=Et(),l=Ft(),[c,u]=v.useState(!1),[d,h]=v.useState(null),[p,m]=v.useState(!1),[g,y]=v.useState(!1),[b,w]=v.useState(["Mon","Tue","Wed","Thu","Fri"]),[x,_]=v.useState({start:"09:00",end:"18:00"}),[S,E]=v.useState(30),[j,P]=v.useState(4),[A,I]=v.useState(14),[O,D]=v.useState(15),[B,T]=v.useState(!0),[N,F]=v.useState("America/Mexico_City"),[G,V]=v.useState(!1),[J,de]=v.useState(!1),ie=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],z=L=>w($=>$.includes(L)?$.filter(W=>W!==L):[...$,L]);v.useEffect(()=>{const L="evo-calendar-settings-style";if(!document.getElementById(L)){const $=document.createElement("style");$.id=L,$.textContent=`
        #evo-calendar-settings select,
        #evo-calendar-settings input[type="time"],
        #evo-calendar-settings input[type="number"],
        #evo-calendar-settings input[type="text"] {
          background-color: #FFFFFF !important;
          color: #274472 !important;
          border: 1px solid #EDEDED;
          border-radius: 8px;
        }
        #evo-calendar-settings option {
          background-color: #FFFFFF;
          color: #274472;
        }
      `,document.head.appendChild($)}},[]),v.useEffect(()=>{const L=new URLSearchParams(s.search);L.get("connected_calendar")==="true"&&(se({title:"âœ… Google Calendar Connected",description:"Your account was successfully linked."}),L.delete("connected_calendar"),l({pathname:s.pathname,search:L.toString()},{replace:!0}))},[s,l]),v.useEffect(()=>{if(!a)return;const L="http://127.0.0.1:8001";fetch(`${L}/api/auth/google_calendar?client_id=${a}`).then(W=>W.json()).then(W=>{const q=!!(W.connected||W.is_active);u(q),h(W.connected_email||null)}).catch(()=>{se({title:"Error",description:"Unable to verify Google Calendar connection.",variant:"destructive"})}),(async()=>{try{V(!0);const q=await(await fetch(`${L}/calendar/settings?client_id=${a}`)).json();t(q.calendar_status||"inactive"),w(q.selected_days??["Mon","Tue","Wed","Thu","Fri"]),_({start:q.start_time??"09:00",end:q.end_time??"18:00"}),E(q.slot_duration_minutes??30),P(q.min_notice_hours??4),I(q.max_days_ahead??14),D(q.buffer_minutes??15),T(q.allow_same_day??!0),F(q.timezone??"America/Mexico_City")}catch{se({title:"Error",description:"Couldn't load calendar settings.",variant:"destructive"})}finally{V(!1)}})()},[a]);const X=async()=>{if(!a)return;const L="http://127.0.0.1:8001",$=e==="active"?"inactive":"active";try{const W=await fetch(`${L}/calendar/status?client_id=${a}&status=${$}`,{method:"PATCH"});if(!W.ok)throw new Error("Failed to toggle status");const q=await W.json();t(q.calendar_status),se({title:"Calendar updated",description:`Calendar is now ${q.calendar_status==="active"?"enabled":"disabled"}.`})}catch{se({title:"Error",description:"Couldn't update calendar status.",variant:"destructive"})}},oe=()=>{if(e!=="active")return se({title:"Enable calendar first",description:"Please enable the calendar scheduling feature first.",variant:"destructive"});if(!a)return se({title:"Missing client_id"});m(!0);const $=`http://127.0.0.1:8001/api/auth/google_calendar/init?client_id=${a}`;window.location.href=$},re=async()=>{if(a&&window.confirm("Are you sure you want to disconnect Google Calendar?"))try{if(y(!0),!(await fetch(`http://127.0.0.1:8001/api/auth/google_calendar/disconnect?client_id=${a}`,{method:"POST"})).ok)throw new Error("Backend did not confirm disconnect.");se({title:"Disconnected",description:"Google Calendar was disconnected successfully."}),u(!1),h(null)}catch{se({title:"Disconnect failed",description:"Ensure /disconnect endpoint exists in backend.",variant:"destructive"})}finally{y(!1)}},He=async()=>{if(a)try{de(!0);const L="http://127.0.0.1:8001",$={client_id:a,calendar_status:e,selected_days:b,start_time:x.start,end_time:x.end,slot_duration_minutes:Number(S),min_notice_hours:Number(j),max_days_ahead:Number(A),buffer_minutes:Number(O),allow_same_day:!!B,timezone:N};if(!(await fetch(`${L}/calendar/settings`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify($)})).ok)throw new Error("Save failed");se({title:"Settings saved",description:"Your calendar preferences were updated."})}catch{se({title:"Error",description:"Couldn't save settings.",variant:"destructive"})}finally{de(!1)}},zt=e!=="active";return f.jsx("div",{id:"evo-calendar-settings",style:b8,children:f.jsxs("div",{style:{maxWidth:1200,margin:"0 auto"},children:[f.jsxs("div",{style:w8,children:[f.jsx("img",{src:"/logo-evolvian.svg",alt:"Evolvian Logo",style:{width:56,height:56,borderRadius:"50%"}}),f.jsxs("div",{children:[f.jsx("h1",{style:x8,children:"ðŸ—“ï¸ Google Calendar"}),f.jsx("p",{style:_8,children:"Manage your calendar integration, availability, and appointments."})]})]}),f.jsxs("section",{style:Mi,children:[f.jsx("h3",{style:Fi,children:"ðŸŽ›ï¸ Enable Calendar Scheduling"}),f.jsx("p",{style:E8,children:"Turn this on to allow your assistant to offer scheduling and connect Google Calendar."}),f.jsxs("div",{style:uv,children:[f.jsx("input",{type:"checkbox",checked:e==="active",onChange:X,style:dv}),f.jsx("span",{style:{color:"#274472",fontWeight:600},children:e==="active"?"Calendar scheduling enabled":"Disabled"})]})]}),f.jsxs("div",{style:S8(i),children:[f.jsx("button",{onClick:()=>n("settings"),style:{...lv,backgroundColor:r==="settings"?"#4A90E2":"transparent",color:r==="settings"?"#FFFFFF":"#274472",borderColor:r==="settings"?"#4A90E2":"#EDEDED"},children:"âš™ï¸ Settings"}),f.jsx("button",{onClick:()=>n("appointments"),style:{...lv,backgroundColor:r==="appointments"?"#F5A623":"transparent",color:r==="appointments"?"#FFFFFF":"#274472",borderColor:r==="appointments"?"#F5A623":"#EDEDED"},children:"ðŸ“… Confirmed Appointments"})]}),r==="appointments"?f.jsx(X6,{}):f.jsxs("div",{style:{opacity:zt?.5:1,pointerEvents:zt?"none":"auto"},children:[f.jsxs("section",{style:Mi,children:[f.jsx("h3",{style:Fi,children:"ðŸ”— Google Calendar Connection"}),c?f.jsxs("div",{style:j8,children:[f.jsxs("div",{children:[f.jsx("span",{style:{color:"#2EB39A",fontWeight:700},children:"Connected"}),d&&f.jsxs("span",{style:{marginLeft:8,color:"#4A90E2"},children:["as ",f.jsx("strong",{children:d})]})]}),f.jsx("button",{onClick:re,disabled:g,style:k8(g),children:g?"Disconnecting...":"Disconnect"})]}):f.jsx("button",{onClick:oe,disabled:p||!a,style:C8(p||!a),children:p?"Redirecting...":"Connect Google Calendar"})]}),f.jsxs("section",{style:Mi,children:[f.jsx("h3",{style:Fi,children:"ðŸ•’ Available Days & Hours"}),f.jsx("div",{style:P8,children:ie.map(L=>{const $=b.includes(L);return f.jsx("button",{onClick:()=>z(L),style:{...A8,backgroundColor:$?"#4A90E2":"#FFFFFF",color:$?"#FFFFFF":"#274472",borderColor:$?"#4A90E2":"#EDEDED"},children:L},L)})}),f.jsxs("div",{style:O8,children:[f.jsx("label",{style:Ki,children:"From"}),f.jsx("input",{type:"time",value:x.start,onChange:L=>_({...x,start:L.target.value}),style:cv}),f.jsx("label",{style:Ki,children:"To"}),f.jsx("input",{type:"time",value:x.end,onChange:L=>_({...x,end:L.target.value}),style:cv})]})]}),f.jsxs("section",{style:Mi,children:[f.jsx("h3",{style:Fi,children:"âš™ï¸ Booking Rules"}),f.jsxs("div",{style:T8,children:[f.jsx(qc,{label:"Minimum notice (hours)",value:j,onChange:L=>P(Number(L))}),f.jsx(qc,{label:"Maximum days ahead",value:A,onChange:L=>I(Number(L))}),f.jsx(qc,{label:"Buffer between slots (minutes)",value:O,onChange:L=>D(Number(L))}),f.jsx(v8,{label:"Slot duration",value:S,onChange:L=>E(Number(L)),options:[15,30,45,60]})]}),f.jsxs("div",{style:uv,children:[f.jsx("label",{style:Ki,children:"Allow same-day booking"}),f.jsx("input",{type:"checkbox",checked:B,onChange:L=>T(L.target.checked),style:dv})]})]}),f.jsxs("section",{style:Mi,children:[f.jsx("h3",{style:Fi,children:"ðŸŒŽ Timezone"}),f.jsxs("select",{value:N,onChange:L=>F(L.target.value),style:Z1,children:[f.jsx("option",{value:"America/Mexico_City",children:"America/Mexico_City"}),f.jsx("option",{value:"America/Chicago",children:"America/Chicago"}),f.jsx("option",{value:"America/New_York",children:"America/New_York"}),f.jsx("option",{value:"Europe/Madrid",children:"Europe/Madrid"})]})]}),f.jsx("div",{style:{textAlign:"right",marginTop:"2rem"},children:f.jsx("button",{onClick:He,disabled:J||G,style:I8,children:J?"Saving...":"ðŸ’¾ Save Settings"})})]})]})})}function qc({label:e,value:t,onChange:r}){return f.jsxs("div",{style:X1,children:[f.jsx("label",{style:Ki,children:e}),f.jsx("input",{type:"number",value:t,onChange:n=>r==null?void 0:r(n.target.value),style:R8})]})}function v8({label:e,value:t,onChange:r,options:n}){return f.jsxs("div",{style:X1,children:[f.jsx("label",{style:Ki,children:e}),f.jsx("select",{value:t,onChange:i=>r==null?void 0:r(i.target.value),style:Z1,children:n.map(i=>f.jsxs("option",{value:i,children:[i," min"]},i))})]})}const b8={padding:"2rem 3rem",backgroundColor:"#FFFFFF",color:"#274472",fontFamily:"system-ui, sans-serif",minHeight:"100vh"},w8={display:"flex",alignItems:"center",gap:"1rem",marginBottom:"1rem"},x8={fontSize:"1.8rem",fontWeight:"bold",color:"#F5A623",margin:0},_8={color:"#4A90E2",fontSize:"1rem",margin:0},S8=e=>({display:"flex",justifyContent:"center",gap:e?"0.5rem":"0.75rem",margin:"1rem 0 1.5rem",flexWrap:"wrap"}),lv={border:"1px solid #EDEDED",borderRadius:10,padding:"0.6rem 1.2rem",fontWeight:"bold",cursor:"pointer",transition:"all 0.2s ease",fontSize:"0.95rem"},Mi={border:"1px solid #EDEDED",borderRadius:14,backgroundColor:"#FFFFFF",padding:"1.5rem 2rem",marginBottom:"1.25rem",boxShadow:"0 2px 8px rgba(0,0,0,0.05)"},Fi={fontSize:"1.2rem",color:"#274472",fontWeight:"bold",margin:0,marginBottom:6},E8={color:"#7A7A7A",fontSize:"0.9rem",margin:"4px 0 12px"},j8={display:"flex",justifyContent:"space-between",alignItems:"center",backgroundColor:"#F7FFF9",border:"1px solid #A3D9B1",padding:"0.8rem 1.2rem",borderRadius:10},C8=e=>({backgroundColor:e?"#BDE9DF":"#2EB39A",color:"#FFFFFF",border:"none",borderRadius:10,padding:"0.7rem 1.2rem",fontWeight:"bold",cursor:e?"not-allowed":"pointer",fontSize:"0.95rem"}),k8=e=>({backgroundColor:"#FFFFFF",color:e?"#A0A0A0":"#B00020",border:`1px solid ${e?"#E6E6E6":"#FFD3D7"}`,borderRadius:10,padding:"0.6rem 1rem",fontWeight:"bold",cursor:e?"not-allowed":"pointer"}),P8={display:"flex",flexWrap:"wrap",gap:"0.5rem"},A8={border:"1px solid #EDEDED",borderRadius:8,padding:"0.5rem 1rem",fontWeight:"bold",cursor:"pointer",transition:"all 0.2s ease"},O8={display:"flex",alignItems:"center",gap:"1rem",marginTop:"1rem",flexWrap:"wrap"},Ki={color:"#274472",fontSize:"0.9rem",fontWeight:600},cv={border:"1px solid #EDEDED",borderRadius:8,padding:"0.4rem 0.8rem",fontSize:"0.9rem",color:"#274472"},T8={display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(220px, 1fr))",gap:"1rem",marginTop:"1rem"},X1={display:"flex",flexDirection:"column",gap:"0.3rem"},R8={border:"1px solid #EDEDED",borderRadius:8,padding:"0.5rem",fontSize:"0.9rem",color:"#274472"},Z1={border:"1px solid #EDEDED",borderRadius:8,padding:"0.5rem",fontSize:"0.9rem",color:"#274472",backgroundColor:"#FFFFFF"},uv={display:"flex",alignItems:"center",gap:"0.5rem",marginTop:"1rem"},dv={width:18,height:18,accentColor:"#4A90E2",cursor:"pointer"},I8={backgroundColor:"#2EB39A",color:"#FFFFFF",border:"none",borderRadius:10,padding:"0.8rem 1.6rem",fontWeight:"bold",fontSize:"0.95rem",cursor:"pointer"};function D8({activeTab:e,formData:t,refetchSettings:r}){var O,D,B;const{t:n}=Ce(),i=Nt(),o=Et(),a=Ft(),[s,l]=v.useState(null),[c,u]=v.useState(""),[d,h]=v.useState(!1),[p,m]=v.useState(null);v.useEffect(()=>{(async()=>{var F;const{data:N}=await ct.auth.getUser();(F=N==null?void 0:N.user)!=null&&F.email&&u(N.user.email)})()},[]);const g=[{id:"free",name:"Free",price:"$0/mo",desc:"Test Evolvian with no cost.",features:["100 messages / month","1 document","Basic dashboard","Evolvian Chat Support"]},{id:"starter",name:"Starter",price:"$19/mo",desc:"Perfect for small businesses.",features:["1,000 messages / month","1 document","Email Support","Evolvian Chat Support"]},{id:"premium",name:"Premium",price:"$49/mo",desc:"Best for growth and automation.",features:["5,000 messages / month","3 documents","Custom Prompt","Evolvian Chat Support"],badge:"Most Popular"},{id:"white_label",name:"Enterprise",price:"Custom",desc:"Designed for enterprises & agencies.",features:["Unlimited messages & documents","Dedicated support & onboarding"],contact:"support@evolvianai.com"}],y={free:1,starter:2,premium:3,white_label:4},b=((D=(O=t==null?void 0:t.plan)==null?void 0:O.id)==null?void 0:D.toLowerCase())||"free",w=((B=t==null?void 0:t.plan)==null?void 0:B.name)||"Current Plan",x=!!(t!=null&&t.cancellation_requested_at);t!=null&&t.scheduled_plan_id;const _=t==null?void 0:t.subscription_end,S=T=>T?new Date(T).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"}):"";if(v.useEffect(()=>{new URLSearchParams(o.search).get("session_id")&&(se({title:n("subscription_activated_title"),description:n("subscription_activated_desc")}),r==null||r(),a("/dashboard"))},[o]),e!=="plan")return null;const E=async T=>{if(x)return se({title:"Plan change blocked",description:"You cannot change plans while a downgrade is pending."});try{if(!c){se({title:"Missing email",description:"Please sign in again."});return}l(T);const N=await fetch("http://127.0.0.1:8001/create-checkout-session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({plan_id:T,client_id:i,email:c})}),F=await N.json();if(N.ok&&F.url)window.location.href=F.url;else throw new Error(F.error||"Checkout session failed")}catch(N){se({title:"Upgrade failed",description:N.message})}finally{l(null)}},j=async T=>{if(x)return se({title:"Downgrade already scheduled",description:"You already have a pending downgrade request."});try{l(T);const N=await fetch("http://127.0.0.1:8001/change-plan",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:i,new_plan_id:T})}),F=await N.json();if(N.ok)se({title:"Plan updated",description:F.message||"Plan change scheduled."}),await(r==null?void 0:r()),setTimeout(()=>window.location.href="/dashboard",1e3);else throw new Error((F==null?void 0:F.error)||"Plan change failed")}catch(N){se({title:"Downgrade failed",description:N.message})}finally{l(null)}},P=async()=>{if(confirm(`Do you want to reactivate your ${w}?`))try{h(!0);const T=await fetch("http://127.0.0.1:8001/reactivate-subscription",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:i})}),N=await T.json();if(T.ok)se({title:"Subscription reactivated",description:`Your ${w} has been restored.`}),setTimeout(()=>window.location.href="/dashboard",1e3);else throw new Error((N==null?void 0:N.error)||"Error reactivating subscription")}catch(T){se({title:"Error",description:T.message})}finally{h(!1)}},A=T=>{const N=y[b],F=y[T];return F>N?"upgrade":F<N?"downgrade":"current"},I=({type:T,plan:N,onConfirm:F,onCancel:G})=>{const V=g.find(ie=>ie.id===b),J=g.find(ie=>ie.id===N.id),de=T==="upgrade"?J.features.filter(ie=>!V.features.includes(ie)):V.features.filter(ie=>!J.features.includes(ie));return f.jsx("div",{className:"confirm-overlay",role:"dialog","aria-modal":"true",children:f.jsxs("div",{className:"confirm-window",children:[f.jsx("div",{className:"confirm-left",children:f.jsx("img",{src:"/logo-evolvian.svg",alt:"Evolvian Logo",className:"confirm-logo"})}),f.jsxs("div",{className:"confirm-right",children:[f.jsxs("h3",{className:"confirm-title",children:[T==="upgrade"?"Upgrade Plan":"Downgrade Plan"," â€” ",V.name," â†’ ",J.name]}),f.jsx("p",{className:"confirm-desc",children:T==="upgrade"?"Youâ€™re about to upgrade your plan. Your new plan will start immediately after confirmation.":`Your downgrade will take effect at the end of your current billing cycle ${_?`(${S(_)})`:""}.`}),de.length>0&&f.jsxs(f.Fragment,{children:[f.jsx("h4",{className:"confirm-diff-title",children:T==="upgrade"?"Youâ€™ll gain:":"Youâ€™ll lose access to:"}),f.jsx("ul",{className:"feature-list",children:de.map((ie,z)=>f.jsxs("li",{children:[T==="upgrade"?"âœ… ":"âŒ ",ie]},z))})]}),f.jsxs("p",{className:"terms-text",children:["By clicking â€œAcceptâ€, you agree to our"," ",f.jsx("a",{href:"/terms",target:"_blank",rel:"noopener noreferrer",children:"Terms and Conditions"})," and"," ",f.jsx("a",{href:"/PrivacyPolicy",target:"_blank",rel:"noopener noreferrer",children:"Privacy Policy"}),"."]}),f.jsxs("div",{className:"confirm-actions",children:[f.jsx("button",{className:"btn cancel",onClick:G,children:"Cancel"}),f.jsx("button",{className:"btn confirm",onClick:()=>{F(),m(null)},children:"Accept"})]})]})]})})};return f.jsxs("section",{className:"plans-section",children:[f.jsx("h2",{className:"plans-title",children:"Choose the plan that fits your business"}),x&&f.jsxs("div",{className:"cancel-banner",children:["âš ï¸ Your ",f.jsx("strong",{children:w})," will be cancelled on"," ",f.jsx("strong",{children:S(_)}),".",f.jsx("button",{onClick:P,disabled:d,className:"reactivate-btn",children:d?"Reactivating...":`ðŸ”„ Reactivate ${w}`})]}),f.jsx("div",{className:"plan-grid",children:g.map(T=>{const N=A(T.id);return f.jsxs("div",{className:`plan-card ${T.badge?"highlighted":""} ${b===T.id?"current":""}`,children:[f.jsxs("div",{className:"plan-header",children:[f.jsxs("h3",{className:"plan-name",children:[T.name," ",T.badge&&f.jsx("span",{className:"badge",children:T.badge})]}),f.jsx("span",{className:"price",children:T.price})]}),f.jsx("p",{className:"plan-desc",children:T.desc}),f.jsx("ul",{className:"plan-features",children:T.features.map((F,G)=>f.jsxs("li",{children:["âœ… ",F]},G))}),T.id==="white_label"?f.jsxs("div",{className:"plan-footer",children:[f.jsx("p",{className:"contact-text",children:"Contact for Whitelabel plan"}),f.jsx("a",{href:`mailto:${T.contact}`,className:"contact-link",children:T.contact})]}):N==="current"?f.jsx("button",{className:"btn current",children:"âœ… Current Plan"}):N==="upgrade"?f.jsx("button",{onClick:()=>m({type:"upgrade",plan:T}),disabled:s===T.id||x,className:"btn upgrade",children:s===T.id?"Processing...":"Upgrade"}):f.jsx("button",{onClick:()=>m({type:"downgrade",plan:T}),disabled:s===T.id||x,className:"btn downgrade",children:s===T.id?"Processing...":"Downgrade"})]},T.id)})}),p&&f.jsx(I,{type:p.type,plan:p.plan,onCancel:()=>m(null),onConfirm:()=>p.type==="upgrade"?E(p.plan.id):j(p.plan.id)})]})}const fv={chat_widget:["free","starter","premium"],email_support:["starter","premium"],whatsapp_integration:["premium"],custom_greeting:["starter","premium"],white_labeling:["white_label"],email_automation:["white_label","premium"],widget_customization:["white_label","premium"]},hv=["free","starter","premium","white_label"];function $8({activeTab:e,plan:t}){const{t:r}=Ce();if(console.log("ðŸ“¢ Render FeatureList"),console.log("ðŸ§¾ activeTab:",e),console.log("ðŸ“¦ plan prop:",t),e!=="features")return null;const n=typeof(t==null?void 0:t.id)=="string"?t.id.toLowerCase():"free",i=(a,s)=>{const l=fv[a];if(!l)return!1;const c=hv.indexOf(s);return l.some(u=>hv.indexOf(u)<=c)},o=a=>{const s=fv[a];return!s||s.length===0?"â€”":s.includes("free")?r("free"):s.includes("starter")?r("starter"):s.includes("premium")?r("premium"):s[0]};return f.jsxs("div",{style:{marginTop:"2rem",backgroundColor:"white",border:"1px solid #4a90e2",borderRadius:"16px",padding:"1.5rem",boxShadow:"0 4px 10px rgba(0,0,0,0.08)"},children:[f.jsxs("h4",{style:{fontSize:"1.1rem",fontWeight:"bold",color:"#274472",marginBottom:"1rem"},children:["ðŸ§© ",r("included_features")]}),f.jsx("ul",{style:{listStyle:"none",padding:0,margin:0,fontSize:"0.95rem"},children:[{key:"chat_widget",label:r("Chat_widget")},{key:"email_automation",label:r("Email automation")},{key:"widget_customization",label:r("Widget customization")}].map(a=>{const s=i(a.key,n);return f.jsxs("li",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"0.5rem",color:s?"#4a90e2":"#999"},children:[f.jsx("span",{children:a.icon}),f.jsx("span",{children:a.label}),f.jsx("span",{style:{marginLeft:"auto",backgroundColor:s?"#a3d9b1":"#f5a623",color:"#1b2a41",fontSize:"0.7rem",padding:"2px 6px",borderRadius:"999px",fontWeight:"bold"},children:s?r("included_in_plan"):`${r("available_from")} ${o(a.key)}`})]},a.key)})})]})}function M8({activeTab:e,custom_prompt:t,hasPromptFeature:r,onChange:n,maxLength:i,defaultPrompt:o,temperature:a}){const{t:s}=Ce();if(e!=="prompt")return null;const l=t||o,c=l.length>i;return f.jsxs("div",{style:{marginTop:"2rem",display:"flex",flexDirection:"column",gap:"1.5rem"},children:[f.jsxs("div",{children:[f.jsx("label",{children:s("custom_prompt")}),f.jsx("textarea",{name:"custom_prompt",value:l,onChange:n,readOnly:!r,rows:6,style:{width:"100%",padding:"8px",borderRadius:"6px",border:c?"2px solid #e53935":"1px solid #ccc",marginTop:"4px",fontFamily:"inherit"}}),f.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"4px"},children:[!r&&f.jsx("p",{style:{color:"#888",fontSize:"0.85rem"},children:s("custom_prompt_locked")}),f.jsxs("p",{style:{fontSize:"0.85rem",color:c?"#e53935":"#666"},children:[l.length," / ",i," ",s("characters")]})]})]}),f.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:[f.jsxs("label",{htmlFor:"temperature",style:{fontWeight:"bold"},children:["ðŸŒ¡ï¸ ",s("temperature_label")||"Model temperature (0.0 - 1.0)"]}),f.jsx("input",{type:"number",step:"0.1",min:"0",max:"1",name:"temperature",id:"temperature",value:a,onChange:n,readOnly:!r,style:{padding:"0.5rem",border:"1px solid #ccc",borderRadius:"4px",width:"100%",backgroundColor:r?"white":"#f5f5f5",color:r?"#000":"#999"}}),!r&&f.jsx("small",{style:{color:"#888"},children:s("upgrade_to_edit_temperature")||"Upgrade your plan to customize temperature."})]})]})}function F8(){var y,b;const e=Nt(),{t}=Ce(),[r,n]=v.useState("plan"),[i,o]=v.useState({assistant_name:"",language:"en",temperature:.7,plan:null,show_powered_by:!0,custom_prompt:"",require_email:!1,require_phone:!1,require_terms:!1}),[a,s]=v.useState({message:"",type:""}),[l,c]=v.useState(!0),u=t("default_prompt")||"You are an AI assistant designed to help with questions about the clientâ€™s uploaded documents.",d=2e3;v.useEffect(()=>{if(typeof document<"u"&&!document.getElementById("spin-keyframes")){const w=document.createElement("style");w.id="spin-keyframes",w.textContent=`
        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
      `,document.head.appendChild(w)}},[]);const h=v.useCallback(async()=>{if(e){try{console.log("ðŸ“¡ Fetching settings for:",e);const w=await fetch(`http://127.0.0.1:8001/client_settings?client_id=${e}`),x=await w.json();if(console.log("ðŸ“¦ Response from /client_settings:",x),w.ok&&x){const _=x.plan||{id:"free",plan_features:[]},S=x.language||"en";o(E=>({...E,...x,language:S,plan:{..._,plan_features:_.plan_features??[]}}))}else console.error("âŒ Error fetching client settings:",x)}catch(w){console.error("âŒ Network error in fetchSettings:",w)}c(!1)}},[e]);v.useEffect(()=>{h()},[h]);const p=w=>{const{name:x,type:_,checked:S,value:E}=w.target;o(j=>({...j,[x]:_==="checkbox"?S:E}))},m=async w=>{if(w.preventDefault(),(i.custom_prompt||u).length>d){s({message:`âŒ ${t("prompt_too_long")}`,type:"error"});return}const x={client_id:e,assistant_name:i.assistant_name,language:i.language||"en",temperature:i.temperature,custom_prompt:i.custom_prompt,require_email:i.require_email,require_phone:i.require_phone,require_terms:i.require_terms};try{console.log("ðŸ“¤ Sending payload:",x);const _=await fetch("http://127.0.0.1:8001/client_settings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(x)}),S=await _.json();console.log("ðŸ“¨ Response /client_settings:",S),_.ok?s({message:`âœ… ${t("settings_saved")}`,type:"success"}):s({message:`âŒ ${S.error||t("error_saving")}`,type:"error"})}catch(_){console.error("âŒ Error in handleSubmit:",_),s({message:"âŒ Error saving settings.",type:"error"})}},g=((b=(y=i.plan)==null?void 0:y.plan_features)==null?void 0:b.some(w=>{var x,_;return typeof w=="string"?w==="custom_prompt_editing":((_=(x=w==null?void 0:w.feature)==null?void 0:x.toLowerCase())==null?void 0:_.replace(/\s+/g,"_"))==="custom_prompt_editing"}))??!1;return l?f.jsxs("div",{style:z8,children:[f.jsx("div",{style:W8}),f.jsx("p",{style:{color:"#274472",marginTop:"1rem",fontWeight:"500"},children:t("loading_settings")})]}):(console.log("ðŸ“Œ Rendering ClientSettings tab:",r),f.jsxs("div",{style:N8,children:[f.jsxs("h2",{style:L8,children:["âš™ï¸ ",t("client_settings")]}),f.jsxs("div",{style:B8,children:[f.jsxs("button",{onClick:()=>n("plan"),style:Hc(r==="plan"),children:["ðŸ§¾ ",t("your_current_plan")]}),f.jsxs("button",{onClick:()=>n("features"),style:Hc(r==="features"),children:["ðŸ§© ",t("included_features")]}),f.jsxs("button",{onClick:()=>n("prompt"),style:Hc(r==="prompt"),children:["ðŸŽ¨ ",t("custom_prompt")]})]}),r==="plan"&&f.jsx(D8,{activeTab:r,formData:i,refetchSettings:h}),r==="features"&&f.jsx($8,{activeTab:r,plan:i.plan}),r==="prompt"&&f.jsxs("form",{onSubmit:m,style:U8,children:[f.jsx(M8,{activeTab:r,custom_prompt:i.custom_prompt,temperature:i.temperature,hasPromptFeature:g,onChange:p,maxLength:d,defaultPrompt:u}),f.jsx("button",{type:"submit",style:q8,children:t("save_settings")})]}),a.message&&f.jsx("p",{style:{marginTop:"1.5rem",fontWeight:"bold",color:a.type==="error"?"#e63946":"#2eb39a"},children:a.message})]}))}const N8={padding:"2rem",maxWidth:"700px",margin:"0 auto",backgroundColor:"#ffffff",borderRadius:"12px",boxShadow:"0 4px 16px rgba(39,68,114,0.08)",border:"1px solid #ededed",color:"#274472"},L8={fontSize:"1.5rem",fontWeight:"bold",marginBottom:"1.5rem",color:"#274472"},B8={display:"flex",gap:"1rem",marginBottom:"2rem",flexWrap:"wrap"},U8={display:"flex",flexDirection:"column",gap:"2rem"},z8={position:"fixed",top:0,left:0,width:"100vw",height:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:"#ffffff",zIndex:9999,color:"#a3d9b1",fontFamily:"Inter, system-ui, sans-serif",transition:"opacity 0.3s ease-in-out"},W8={width:40,height:40,border:"4px solid #EDEDED",borderTop:"4px solid #4A90E2",borderRadius:"50%",animation:"spin 1s linear infinite"},q8={backgroundColor:"#4a90e2",color:"white",padding:"10px 16px",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"bold",width:"fit-content",transition:"background 0.3s ease"},Hc=e=>({padding:"8px 14px",backgroundColor:e?"#a3d9b1":"#ededed",color:e?"#0f1c2e":"#274472",borderRadius:"999px",border:"1px solid transparent",cursor:"pointer",fontWeight:"500",fontSize:"0.9rem",transition:"all 0.2s ease-in-out"});function H8(){const{lang:e,changeLanguage:t}=Ce();return f.jsxs("div",{style:K8,children:[f.jsx("button",{onClick:()=>t("en"),disabled:e==="en",style:{...pv,backgroundColor:e==="en"?"#4a90e2":"#ededed",color:e==="en"?"white":"#274472"},children:"English"}),f.jsx("button",{onClick:()=>t("es"),disabled:e==="es",style:{...pv,backgroundColor:e==="es"?"#4a90e2":"#ededed",color:e==="es"?"white":"#274472"},children:"EspaÃ±ol"})]})}const K8={display:"flex",justifyContent:"center",gap:"0.5rem",marginTop:"1rem"},pv={padding:"0.4rem 0.8rem",borderRadius:"8px",border:"none",fontWeight:"bold",cursor:"pointer"};function G8(){const e=Ft(),t=Nt(),{t:r}=Ce(),[n,i]=v.useState([]),[o,a]=v.useState(null),[s,l]=v.useState(!1);v.useEffect(()=>{l(!0),(async()=>{var h,p;if(t)try{const m=await fetch(`http://127.0.0.1:8001/client_settings?client_id=${t}`),g=await m.json();if(m.ok){const y=w=>w.toLowerCase().replace(/\s+/g,"_"),b=((p=(h=g.plan)==null?void 0:h.plan_features)==null?void 0:p.map(w=>y(w.feature)))||[];i(b)}}catch(m){console.error("âŒ Error connecting to backend:",m)}})()},[t]);const c=async()=>{await ct.auth.signOut(),localStorage.clear(),e("/login",{replace:!0}),window.location.reload()},u=d=>n.includes(d);return f.jsxs("aside",{style:Y8,children:[f.jsxs("div",{children:[f.jsx("div",{style:V8,children:f.jsx("div",{style:{...J8,transform:s?"rotate(360deg)":"rotate(0deg)",opacity:s?1:0,transition:"all 1s ease-in-out"},children:f.jsx("img",{src:"/logo-evolvian.svg",alt:"Evolvian Logo",style:{width:"100%",height:"100%",borderRadius:"50%",objectFit:"cover"}})})}),f.jsxs("nav",{style:X8,children:[f.jsx(la,{label:`ðŸ“Š ${r("dashboard")}`,to:"/dashboard",hovered:o,setHovered:a,id:"dashboard"}),f.jsx(la,{label:`ðŸ“¤ ${r("upload")}`,to:"/upload",hovered:o,setHovered:a,id:"upload"}),f.jsx(la,{label:`ðŸ“š ${r("history")}`,to:"/history",hovered:o,setHovered:a,id:"history"}),[{label:`ðŸ§  ${r("chat_assistant")}`,path:"/services/chat",feature:"chat_widget"},{label:`âœ‰ï¸ ${r("email")}`,path:"/services/email",feature:"email_support"},{label:"ðŸ“… Google Calendar",path:"/services/calendar",feature:"calendar_sync"}].map(({label:d,path:h,feature:p})=>{const m=u(p),g=h;return f.jsxs("div",{style:Q1,children:[f.jsx(Lr,{to:m?h:"#",style:{...e_,backgroundColor:o===g?"#EAF3FC":"transparent",color:m?o===g?"#4A90E2":"#274472":"#999",pointerEvents:m?"auto":"none",borderLeft:o===g?"4px solid #F5A623":"4px solid transparent",paddingLeft:"12px"},onMouseEnter:()=>a(g),onMouseLeave:()=>a(null),title:m?"":r("premium_only"),children:d}),!m&&f.jsx("span",{style:{...Z8,marginLeft:"8px"},children:"Premium"})]},p)}),f.jsx(la,{label:`âš™ï¸ ${r("settings")}`,to:"/settings",hovered:o,setHovered:a,id:"settings"})]})]}),f.jsxs("div",{style:Q8,children:[f.jsx("div",{style:ez,children:f.jsx(H8,{})}),f.jsx("button",{onClick:c,style:tz,children:r("logout")})]})]})}function la({to:e,label:t,hovered:r,setHovered:n,id:i}){return f.jsx("div",{style:Q1,children:f.jsx(Lr,{to:e,onMouseEnter:()=>n(i),onMouseLeave:()=>n(null),style:{...e_,backgroundColor:r===i?"#EAF3FC":"transparent",color:r===i?"#4A90E2":"#274472",borderLeft:r===i?"4px solid #F5A623":"4px solid transparent",paddingLeft:"12px"},children:t})})}const Y8={width:"240px",background:"#FFFFFF",color:"#274472",padding:"2rem 1.5rem",minHeight:"100vh",display:"flex",flexDirection:"column",justifyContent:"space-between",borderRight:"1px solid #EDEDED"},V8={textAlign:"center",marginBottom:"2rem",marginTop:"1rem"},J8={width:"80px",height:"80px",borderRadius:"50%",backgroundColor:"#A3D9B1",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1rem",boxShadow:"0 0 12px rgba(163, 217, 177, 0.4)",border:"2px solid #FFFFFF"},X8={display:"flex",flexDirection:"column"},Q1={padding:"0.5rem 0.6rem",borderBottom:"1px solid #EDEDED"},e_={textDecoration:"none",fontWeight:"500",fontSize:"1rem",transition:"all 0.2s ease",display:"block",borderRadius:"6px",padding:"0.3rem 0.5rem"},Z8={backgroundColor:"#F5A623",color:"#FFFFFF",fontSize:"0.7rem",padding:"2px 6px",borderRadius:"999px",fontWeight:"bold",verticalAlign:"middle"},Q8={borderTop:"1px solid #EDEDED",paddingTop:"1.5rem",display:"flex",flexDirection:"column",gap:"1rem",background:"#FFFFFF"},ez={backgroundColor:"#FFFFFF",borderRadius:"10px",padding:"0.5rem",display:"flex",justifyContent:"center",alignItems:"center",gap:"0.6rem",boxShadow:"inset 0 0 5px rgba(0,0,0,0.05)"},tz={backgroundColor:"#F5A623",color:"white",border:"none",borderRadius:"8px",padding:"0.5rem 1rem",cursor:"pointer",fontWeight:"bold",width:"100%",transition:"background 0.3s ease"},rz="evolvian-internal";function nz(){const[e,t]=v.useState(!1),r=rz;return f.jsxs(f.Fragment,{children:[f.jsx("button",{onClick:()=>t(!e),style:{position:"fixed",bottom:e?"540px":"24px",right:"24px",zIndex:1e4,borderRadius:"50%",width:"64px",height:"64px",border:"none",cursor:"pointer",overflow:"hidden",padding:0},children:e?f.jsx("span",{style:{fontSize:"32px",color:"white",background:"#4a90e2",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:"Ã—"}):f.jsx("img",{src:"/e1.png",alt:"Evolvian Logo",style:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"50%"}})}),e&&f.jsx("div",{style:iz.container,children:f.jsx(ss,{clientId:r})})]})}const iz={container:{position:"fixed",bottom:"24px",right:"24px",width:"360px",height:"500px",backgroundColor:"#ffffff",borderRadius:"16px",boxShadow:"0 6px 24px rgba(0,0,0,0.2)",zIndex:9999,overflow:"hidden"}};function ur({children:e}){return f.jsxs("div",{style:oz,children:[f.jsx("header",{style:az,children:"Evolvianâ„¢"}),f.jsxs("div",{style:sz,children:[f.jsx(G8,{}),f.jsx("main",{style:lz,children:e})]}),f.jsxs("footer",{style:cz,children:[f.jsx("div",{children:"Evolvianâ„¢ is a pending trademark application filed with the USPTO. All rights reserved."}),f.jsxs("div",{style:{marginTop:"0.5rem"},children:["Version v1.0 â€”"," ",f.jsx("a",{href:"https://evolvianai.com",target:"_blank",rel:"noopener noreferrer",style:Kc,children:"Visit Public Site"})," ","|"," ",f.jsx("a",{href:"/terms",style:Kc,children:"Terms & Conditions"})," ","|"," ",f.jsx("a",{href:"/privacypolicy",style:Kc,children:"Privacy Policy"})]})]}),f.jsx(nz,{})]})}const oz={display:"flex",flexDirection:"column",minHeight:"100vh",backgroundColor:"#f8fafc",color:"#274472",fontFamily:"Inter, system-ui, sans-serif"},az={padding:"1rem",fontSize:"1.5rem",fontWeight:"bold",color:"#4a90e2",backgroundColor:"#ffffff",textAlign:"center",borderBottom:"1px solid #e5e7eb",boxShadow:"0 2px 8px rgba(0,0,0,0.05)"},sz={display:"flex",flex:1,backgroundColor:"#ffffff"},lz={flex:1,padding:"2rem",overflowY:"auto",backgroundColor:"#f8fafc",borderLeft:"1px solid #e5e7eb"},cz={textAlign:"center",padding:"1rem",fontSize:"0.875rem",backgroundColor:"#ffffff",color:"#6b7280",borderTop:"1px solid #e5e7eb"},Kc={textDecoration:"underline",color:"#4a90e2",fontWeight:500};function uz({children:e}){const[t,r]=v.useState(!0),[n,i]=v.useState(!1),[o,a]=v.useState(!1);return v.useEffect(()=>{(async()=>{const{data:{session:l}}=await ct.auth.getSession();l||a(!0),i(!!l),r(!1)})()},[]),t?f.jsx("p",{className:"p-6",children:"ðŸ” Verificando sesiÃ³n..."}):o?(alert("âš ï¸ Debes iniciar sesiÃ³n para acceder a esta secciÃ³n."),f.jsx(Ev,{to:"/login",replace:!0})):e}function dr({children:e}){const{session:t,clientId:r,loading:n}=V1(),[i,o]=v.useState(!1),[a,s]=v.useState("");return v.useEffect(()=>{setTimeout(()=>o(!0),150);const l=setInterval(()=>{s(c=>c.length<3?c+".":"")},500);if(!document.getElementById("pulseGlow")){const c=document.createElement("style");c.id="pulseGlow",c.textContent=`
        @keyframes pulseGlow {
          0%, 100% { box-shadow: 0 0 15px rgba(74,144,226,0.4); }
          50% { box-shadow: 0 0 25px rgba(163,217,177,0.7); }
        }
      `,document.head.appendChild(c)}return()=>clearInterval(l)},[]),n?f.jsx("div",{style:At.container,children:f.jsxs("div",{style:At.card,children:[f.jsx("div",{style:At.logoWrapper,children:f.jsx("div",{style:{...At.logoCircle,transform:i?"rotate(360deg)":"rotate(0deg)",transition:"transform 1.2s ease-in-out",animation:"pulseGlow 4s ease-in-out infinite"},children:f.jsx("img",{src:"/logo-evolvian.svg",alt:"Evolvian Logo",style:At.logoFull})})}),f.jsxs("p",{style:At.text,children:["ðŸ”„ Loading session",a]})]})}):!t||!r?f.jsx("div",{style:At.container,children:f.jsxs("div",{style:At.card,children:[f.jsx("div",{style:At.logoWrapper,children:f.jsx("div",{style:{...At.logoCircle,transform:i?"rotate(360deg)":"rotate(0deg)",transition:"transform 1.2s ease-in-out",animation:"pulseGlow 4s ease-in-out infinite"},children:f.jsx("img",{src:"/logo-evolvian.svg",alt:"Evolvian Logo",style:At.logoFull})})}),f.jsx("p",{style:At.error,children:"â›” Invalid session. Please log in again."})]})}):f.jsx(uz,{children:e})}const At={container:{height:"100vh",width:"100vw",backgroundColor:"#f9fafb",display:"flex",alignItems:"center",justifyContent:"center",fontFamily:"Inter, system-ui, sans-serif"},card:{backgroundColor:"#ffffff",borderRadius:"20px",padding:"2.5rem",maxWidth:"400px",width:"90%",textAlign:"center",boxShadow:"0 8px 40px rgba(39,68,114,0.1)",border:"1px solid #e5e7eb"},logoWrapper:{display:"flex",justifyContent:"center",marginBottom:"1.2rem"},logoCircle:{width:"80px",height:"80px",borderRadius:"50%",background:"radial-gradient(circle, #a3d9b1 0%, #4a90e2 100%)",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden"},logoFull:{width:"100%",height:"100%",objectFit:"cover"},text:{color:"#274472",fontSize:"1rem",fontWeight:"500",marginTop:"0.8rem"},error:{color:"#e63946",fontSize:"1rem",fontWeight:"600",marginTop:"0.8rem"}};function dz(){const[e]=Ov(),t=e.get("public_client_id"),[r,n]=v.useState(null),[i,o]=v.useState(!0);return v.useEffect(()=>{if(!t){console.warn("âš ï¸ No se encontrÃ³ public_client_id en la URL");return}(async()=>{try{const l=await(await fetch(`http://127.0.0.1:8001/client_settings?public_client_id=${t}`)).json();console.log(`âš™ï¸ Settings cargados desde backend (crudo):
`,JSON.stringify(l,null,2));const c=(l==null?void 0:l.settings)||l;console.log("ðŸ“Œ Usando configuraciÃ³n extraÃ­da:",c),n(c)}catch(s){console.error("âŒ Error al obtener settings:",s)}finally{o(!1)}})()},[t]),t?i?f.jsx("p",{children:"ðŸ”„ Cargando configuraciÃ³n del cliente..."}):r?f.jsx("div",{style:{height:"100vh",padding:"1rem",fontFamily:"sans-serif"},children:f.jsx(ss,{clientId:t,requireEmail:r.require_email,requirePhone:r.require_phone,requireTerms:r.require_terms})}):f.jsx("p",{children:"âš ï¸ No se pudo cargar la configuraciÃ³n del asistente."}):f.jsxs("p",{children:["âŒ No hay public_client_id en la URL. Usa ",f.jsx("code",{children:"?public_client_id=..."})]})}function fz(){const[e,t]=v.useState(!1);return v.useEffect(()=>{if(setTimeout(()=>t(!0),100),!document.getElementById("pulseGlow")){const r=document.createElement("style");r.id="pulseGlow",r.textContent=`
        @keyframes pulseGlow {
          0%, 100% { box-shadow: 0 0 15px rgba(74,144,226,0.4); }
          50% { box-shadow: 0 0 25px rgba(163,217,177,0.7); }
        }
      `,document.head.appendChild(r)}},[]),f.jsx("div",{style:Y.container,children:f.jsxs("div",{style:Y.card,children:[f.jsx("div",{style:Y.logoWrapper,children:f.jsx("div",{style:{...Y.logoCircle,transform:e?"rotate(360deg)":"rotate(0deg)",transition:"transform 1s ease-in-out",animation:"pulseGlow 4s ease-in-out infinite"},children:f.jsx("img",{src:"/logo-evolvian.svg",alt:"Evolvian Logo",style:Y.logoFull})})}),f.jsx("h1",{style:Y.title,children:"Terms and Conditions"}),f.jsxs("div",{style:Y.scrollArea,children:[f.jsx("p",{style:Y.paragraph,children:"These Terms and Conditions (â€œTermsâ€) govern your access to and use of the Evolvianâ„¢ Software-as-a-Service platform (â€œServiceâ€ or â€œPlatformâ€). By creating an account, subscribing to a plan, or using the Service, you agree to be legally bound by these Terms. If you do not agree, please discontinue use immediately."}),f.jsx("h2",{style:Y.subtitle,children:"1. Eligibility and Use of Service"}),f.jsx("p",{style:Y.paragraph,children:"You must be at least 18 years old to use the Service. You represent and warrant that you have the authority to enter into these Terms on behalf of yourself or your organization. You agree to use the Platform only for lawful purposes and in compliance with all applicable laws and regulations."}),f.jsx("h2",{style:Y.subtitle,children:"2. Account Registration and Security"}),f.jsx("p",{style:Y.paragraph,children:"You are responsible for maintaining the confidentiality of your login credentials and for all activity that occurs under your account. You must immediately notify Evolvian of any unauthorized use or security breach. Evolvian is not liable for any losses caused by unauthorized access to your account."}),f.jsx("h2",{style:Y.subtitle,children:"3. Data Ownership and Confidentiality"}),f.jsx("p",{style:Y.paragraph,children:"You retain full ownership and rights to all documents, data, and materials you upload (â€œClient Dataâ€). Evolvian does not claim ownership over your content. Client Data is stored securely and used solely to provide the Service. Evolvian does not use or share Client Data to train any public AI models. Access to Client Data is strictly limited to authorized personnel only when necessary for support, maintenance, or legal compliance."}),f.jsx("h2",{style:Y.subtitle,children:"4. Data Protection and Compliance"}),f.jsx("p",{style:Y.paragraph,children:"Evolvian applies industry-standard security measures and aligns with major international data protection frameworks, including the General Data Protection Regulation (GDPR) and the California Consumer Privacy Act (CCPA), to the extent applicable. You are responsible for ensuring your own compliance with privacy regulations that apply to your users or customers."}),f.jsx("h2",{style:Y.subtitle,children:"5. Intellectual Property"}),f.jsx("p",{style:Y.paragraph,children:"Evolvian and its licensors retain all rights, title, and interest in the Service, including software, algorithms, interfaces, designs, trademarks, and documentation. No rights are granted to you except as expressly stated herein. You may not copy, modify, reverse engineer, decompile, or distribute any part of the Service."}),f.jsx("h2",{style:Y.subtitle,children:"6. Acceptable Use and Restrictions"}),f.jsx("p",{style:Y.paragraph,children:"You agree not to misuse the Service. Prohibited activities include but are not limited to: uploading harmful or illegal content, attempting to disrupt or hack the platform, violating intellectual property rights, exceeding plan limits, using automated systems or bots to access the Service, or using the Service to generate or disseminate harmful, misleading, or discriminatory content. Excessive or automated API usage beyond your plan limits may result in throttling, suspension, or additional fees. Evolvian reserves the right to suspend or terminate any account violating these provisions."}),f.jsx("h2",{style:Y.subtitle,children:"7. Service Plans, Billing, and Termination"}),f.jsx("p",{style:Y.paragraph,children:"Subscription fees are charged according to your selected plan. Evolvian may modify pricing or plan limits with reasonable notice. You may cancel your subscription at any time; however, fees paid are non-refundable except as required by law. Evolvian reserves the right to suspend or terminate access for non-payment or breach of these Terms."}),f.jsx("h2",{style:Y.subtitle,children:"8. Service Availability, Backups, and Updates"}),f.jsx("p",{style:Y.paragraph,children:"While Evolvian strives for continuous Service availability, temporary interruptions may occur for maintenance, upgrades, or unforeseen circumstances. Evolvian performs regular system backups but is not responsible for data loss caused by client-side actions, third-party integrations, or force majeure events. The Service may be updated, enhanced, or modified at Evolvianâ€™s discretion without prior notice."}),f.jsx("h2",{style:Y.subtitle,children:"9. AI-Generated Content Disclaimer"}),f.jsx("p",{style:Y.paragraph,children:"Evolvian provides AI-powered functionalities that may generate automated outputs (â€œAI Outputsâ€). You acknowledge that such outputs are generated algorithmically and may not always be accurate, complete, or appropriate. Evolvian makes no representations or warranties regarding the accuracy, legality, or fitness for any particular purpose of AI Outputs. You are solely responsible for reviewing, validating, and using any AI-generated content. Evolvian is not liable for any damages or consequences arising from reliance on AI Outputs."}),f.jsx("h2",{style:Y.subtitle,children:"10. White Label and Branding"}),f.jsx("p",{style:Y.paragraph,children:"White-label clients may use their own branding when authorized under their subscription plan. However, Evolvian retains full ownership of the underlying software, infrastructure, and technology. Any use of the Evolvian brand, trademarks, or related assets must comply with Evolvianâ€™s written brand guidelines or prior approval."}),f.jsx("h2",{style:Y.subtitle,children:"11. Disclaimer of Warranties"}),f.jsx("p",{style:Y.paragraph,children:"The Service is provided â€œas isâ€ and â€œas available.â€ Evolvian makes no warranties, express or implied, regarding accuracy, reliability, uptime, merchantability, or fitness for any particular purpose. You assume all responsibility for your use of the Service and any outputs generated by AI systems."}),f.jsx("h2",{style:Y.subtitle,children:"12. Limitation of Liability"}),f.jsx("p",{style:Y.paragraph,children:"To the maximum extent permitted by law, Evolvian and its affiliates shall not be liable for any indirect, incidental, special, consequential, or punitive damages, including lost profits, business interruption, or data loss, arising out of or related to your use of the Service, even if advised of the possibility of such damages. In all cases, Evolvianâ€™s total aggregate liability shall not exceed the amount you paid in the 12 months preceding the event giving rise to the claim."}),f.jsx("h2",{style:Y.subtitle,children:"13. Indemnification"}),f.jsx("p",{style:Y.paragraph,children:"You agree to defend, indemnify, and hold harmless Evolvian, its affiliates, officers, and employees from any claims, damages, losses, or expenses arising from your use of the Service, violation of these Terms, or infringement of any third-party rights."}),f.jsx("h2",{style:Y.subtitle,children:"14. Export Compliance and Legal Use"}),f.jsx("p",{style:Y.paragraph,children:"You represent that you are not located in, under the control of, or a resident of any country or entity subject to international sanctions or export restrictions. You agree not to use the Service in violation of any applicable export or trade control laws."}),f.jsx("h2",{style:Y.subtitle,children:"15. Modifications to Terms"}),f.jsx("p",{style:Y.paragraph,children:"Evolvian may revise these Terms at any time. Updates take effect upon posting on our website or within the application. Continued use of the Service after modifications constitutes acceptance of the updated Terms."}),f.jsx("h2",{style:Y.subtitle,children:"16. Governing Law and International Jurisdiction"}),f.jsx("p",{style:Y.paragraph,children:"These Terms are governed by and construed in accordance with the laws of the State of Montana, United States, without regard to conflict-of-law principles. International users agree that any disputes shall be resolved exclusively in the courts of Montana, U.S.A."}),f.jsx("h2",{style:Y.subtitle,children:"17. Contact Information"}),f.jsxs("p",{style:Y.paragraph,children:["For legal inquiries, please contact us at"," ",f.jsx("a",{href:"mailto:support@evolvian.com",style:Y.link,children:"support@evolvian.com"}),"."]}),f.jsxs("p",{style:Y.footerText,children:["Â© ",new Date().getFullYear()," Evolvianâ„¢. All rights reserved."]})]})]})})}const Y={container:{minHeight:"100vh",backgroundColor:"#f9fafb",display:"flex",justifyContent:"center",alignItems:"center",padding:"2rem",fontFamily:"Inter, system-ui, sans-serif"},card:{backgroundColor:"#ffffff",borderRadius:"20px",padding:"2.5rem",maxWidth:"750px",width:"100%",color:"#1b2a41",boxShadow:"0 8px 40px rgba(39,68,114,0.1)",border:"1px solid #e5e7eb"},scrollArea:{maxHeight:"75vh",overflowY:"auto",paddingRight:"0.5rem"},logoWrapper:{display:"flex",justifyContent:"center",marginBottom:"1.5rem"},logoCircle:{width:"80px",height:"80px",borderRadius:"50%",background:"radial-gradient(circle, #a3d9b1 0%, #4a90e2 100%)",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden"},logoFull:{width:"100%",height:"100%",objectFit:"cover"},title:{color:"#274472",fontSize:"1.8rem",fontWeight:"700",marginBottom:"1.5rem",textAlign:"center"},subtitle:{color:"#f5a623",fontSize:"1.2rem",marginTop:"1.5rem",marginBottom:"0.5rem"},paragraph:{fontSize:"1rem",lineHeight:"1.7",marginBottom:"1rem",color:"#1f2937"},link:{color:"#4a90e2",textDecoration:"underline",fontWeight:"500"},footerText:{textAlign:"center",marginTop:"2rem",fontSize:"0.9rem",color:"#6b7280"}};function hz(){const[e,t]=v.useState(!1);return v.useEffect(()=>{if(setTimeout(()=>t(!0),100),!document.getElementById("pulseGlow")){const r=document.createElement("style");r.id="pulseGlow",r.textContent=`
        @keyframes pulseGlow {
          0%, 100% { box-shadow: 0 0 15px rgba(74,144,226,0.4); }
          50% { box-shadow: 0 0 25px rgba(163,217,177,0.7); }
        }
      `,document.head.appendChild(r)}},[]),f.jsx("div",{style:te.container,children:f.jsxs("div",{style:te.card,children:[f.jsx("div",{style:te.logoWrapper,children:f.jsx("div",{style:{...te.logoCircle,transform:e?"rotate(360deg)":"rotate(0deg)",transition:"transform 1s ease-in-out",animation:"pulseGlow 4s ease-in-out infinite"},children:f.jsx("img",{src:"/logo-evolvian.svg",alt:"Evolvian Logo",style:te.logoFull})})}),f.jsx("h1",{style:te.title,children:"Privacy Policy"}),f.jsxs("div",{style:te.scrollArea,children:[f.jsxs("p",{style:te.paragraph,children:["This Privacy Policy explains how Evolvianâ„¢ (â€œwe,â€ â€œus,â€ or â€œourâ€) collects, uses, and protects information when you access and use our Software-as-a-Service platform (â€œServiceâ€ or â€œPlatformâ€) available at"," ",f.jsx("a",{href:"https://evolvianai.net",style:te.link,children:"https://evolvianai.net"}),". By using the Service, you agree to the terms of this Privacy Policy."]}),f.jsx("h2",{style:te.subtitle,children:"1. Information We Collect"}),f.jsx("p",{style:te.paragraph,children:"We collect information that is necessary to provide and improve our Service, including:"}),f.jsxs("ul",{style:te.list,children:[f.jsxs("li",{children:[f.jsx("strong",{children:"Account Information:"})," name, email address, password, and authentication details."]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Client Data:"})," documents and materials you upload to your account."]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Usage Data:"})," interactions, IP, browser, and plan usage metrics."]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Billing Data:"})," payment details processed securely via Stripe."]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Support Data:"})," communications with our support team."]})]}),f.jsx("h2",{style:te.subtitle,children:"2. How We Use Your Information"}),f.jsxs("ul",{style:te.list,children:[f.jsx("li",{children:"Authenticate users and manage accounts."}),f.jsx("li",{children:"Process payments and subscriptions."}),f.jsx("li",{children:"Provide personalized AI experiences."}),f.jsx("li",{children:"Monitor plan usage and enforce limits."}),f.jsx("li",{children:"Communicate service updates and support."}),f.jsx("li",{children:"Comply with legal obligations."})]}),f.jsx("h2",{style:te.subtitle,children:"3. Data Ownership and Security"}),f.jsx("p",{style:te.paragraph,children:"You retain full ownership of your uploaded documents and data (â€œClient Dataâ€). Evolvian does not reuse or train any public AI models with your data."}),f.jsx("p",{style:te.paragraph,children:"Data is encrypted, access-controlled, and monitored to ensure confidentiality. Only authorized staff may access data when necessary for maintenance or compliance."}),f.jsx("h2",{style:te.subtitle,children:"4. Data Processing and Storage"}),f.jsx("p",{style:te.paragraph,children:"Data is stored on secure U.S.-based servers, with limited mirrored processing for performance. Evolvian never exposes Client Data publicly or cross-trains across tenants."}),f.jsx("h2",{style:te.subtitle,children:"5. Payment Processing"}),f.jsxs("p",{style:te.paragraph,children:["Payments are handled by"," ",f.jsx("a",{href:"https://stripe.com",target:"_blank",rel:"noopener noreferrer",style:te.link,children:"Stripe"}),". Evolvian does not store card numbers. Stripeâ€™s privacy policy governs all payment data handling."]}),f.jsx("h2",{style:te.subtitle,children:"6. Cookies and Analytics"}),f.jsx("p",{style:te.paragraph,children:"Evolvian may use cookies to enhance user experience and analytics tools like Google Analytics for aggregated, anonymized insights."}),f.jsx("h2",{style:te.subtitle,children:"7. Data Retention and Deletion"}),f.jsxs("p",{style:te.paragraph,children:["Data is retained as needed for service or legal compliance. You may request deletion anytime via"," ",f.jsx("a",{href:"mailto:support@evolvian.com",style:te.link,children:"support@evolvian.com"}),"."]}),f.jsx("h2",{style:te.subtitle,children:"8. Data Sharing and Third Parties"}),f.jsx("p",{style:te.paragraph,children:"Evolvian does not sell or rent your data. Limited sharing occurs only for infrastructure, payment, or legal compliance."}),f.jsx("h2",{style:te.subtitle,children:"9. User Rights (GDPR & CCPA)"}),f.jsxs("p",{style:te.paragraph,children:["Depending on your location, you may access, correct, or delete your data by contacting"," ",f.jsx("a",{href:"mailto:support@evolvian.com",style:te.link,children:"support@evolvian.com"}),"."]}),f.jsx("h2",{style:te.subtitle,children:"10. Childrenâ€™s Privacy"}),f.jsx("p",{style:te.paragraph,children:"The Service is not intended for users under 18. We promptly delete any minor-related data discovered."}),f.jsx("h2",{style:te.subtitle,children:"11. Changes to This Policy"}),f.jsxs("p",{style:te.paragraph,children:["Evolvian may update this Privacy Policy from time to time. Updates take effect upon posting on"," ",f.jsx("a",{href:"https://evolvianai.net/privacy",style:te.link,children:"evolvianai.net"}),"."]}),f.jsx("h2",{style:te.subtitle,children:"12. Contact Us"}),f.jsxs("p",{style:te.paragraph,children:["For privacy inquiries or compliance matters, contact our Data Protection Officer at"," ",f.jsx("a",{href:"mailto:support@evolvian.com",style:te.link,children:"support@evolvian.com"}),"."]}),f.jsxs("p",{style:te.footerText,children:["Â© ",new Date().getFullYear()," Evolvianâ„¢. All rights reserved."]})]})]})})}const te={container:{minHeight:"100vh",backgroundColor:"#f9fafb",display:"flex",justifyContent:"center",alignItems:"center",padding:"2rem",fontFamily:"Inter, system-ui, sans-serif"},card:{backgroundColor:"#ffffff",borderRadius:"20px",padding:"2.5rem",maxWidth:"750px",width:"100%",color:"#1b2a41",boxShadow:"0 8px 40px rgba(39,68,114,0.1)",border:"1px solid #e5e7eb"},scrollArea:{maxHeight:"75vh",overflowY:"auto",paddingRight:"0.5rem"},logoWrapper:{display:"flex",justifyContent:"center",marginBottom:"1.5rem"},logoCircle:{width:"80px",height:"80px",borderRadius:"50%",background:"radial-gradient(circle, #a3d9b1 0%, #4a90e2 100%)",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden"},logoFull:{width:"100%",height:"100%",objectFit:"cover"},title:{color:"#274472",fontSize:"1.8rem",fontWeight:"700",marginBottom:"1.5rem",textAlign:"center"},subtitle:{color:"#f5a623",fontSize:"1.2rem",marginTop:"1.5rem",marginBottom:"0.5rem"},paragraph:{fontSize:"1rem",lineHeight:"1.7",marginBottom:"1rem",color:"#1f2937"},list:{marginLeft:"1.5rem",marginBottom:"1rem",lineHeight:"1.7",color:"#1f2937"},link:{color:"#4a90e2",textDecoration:"underline",fontWeight:"500"},footerText:{textAlign:"center",marginTop:"2rem",fontSize:"0.9rem",color:"#6b7280"}};function pz(){const e=Et();return["/","/login","/register","/confirm","/forgot-password","/reset-password","/verify-mfa","/welcome","/chat-widget","/widget","/widget-preview","/terms","/PrivacyPolicy"].includes(e.pathname),f.jsxs(sS,{children:[f.jsx(be,{path:"/",element:f.jsx(Ev,{to:"/login"})}),f.jsx(be,{path:"/login",element:f.jsx(sC,{})}),f.jsx(be,{path:"/register",element:f.jsx(ZC,{})}),f.jsx(be,{path:"/confirm",element:f.jsx(uk,{})}),f.jsx(be,{path:"/forgot-password",element:f.jsx(vk,{})}),f.jsx(be,{path:"/reset-password",element:f.jsx(Tk,{})}),f.jsx(be,{path:"/verify-mfa",element:f.jsx(Uk,{})}),f.jsx(be,{path:"/welcome",element:f.jsx(Qk,{})}),f.jsx(be,{path:"/terms",element:f.jsx(fz,{})}),f.jsx(be,{path:"/PrivacyPolicy",element:f.jsx(hz,{})}),f.jsx(be,{path:"/chat-widget",element:f.jsx(tP,{})}),f.jsx(be,{path:"/widget",element:f.jsx(rP,{})}),f.jsx(be,{path:"/widget-preview",element:f.jsx(dz,{})}),f.jsx(be,{path:"/dashboard",element:f.jsx(dr,{children:f.jsx(ur,{children:f.jsx(T3,{})})})}),f.jsx(be,{path:"/upload",element:f.jsx(dr,{children:f.jsx(ur,{children:f.jsx(q3,{})})})}),f.jsx(be,{path:"/history",element:f.jsx(dr,{children:f.jsx(ur,{children:f.jsx(I7,{})})})}),f.jsx(be,{path:"/services",element:f.jsx(dr,{children:f.jsx(ur,{children:f.jsx(Z7,{})})})}),f.jsx(be,{path:"/services/chat",element:f.jsx(dr,{children:f.jsx(ur,{children:f.jsx(x6,{})})})}),f.jsx(be,{path:"/services/email",element:f.jsx(dr,{children:f.jsx(ur,{children:f.jsx(B6,{})})})}),f.jsx(be,{path:"/services/whatsapp",element:f.jsx(dr,{children:f.jsx(ur,{children:f.jsx(K7,{})})})}),f.jsx(be,{path:"/services/calendar",element:f.jsx(dr,{children:f.jsx(ur,{children:f.jsx(y8,{})})})}),f.jsx(be,{path:"/settings",element:f.jsx(dr,{children:f.jsx(ur,{children:f.jsx(F8,{})})})}),f.jsx(be,{path:"*",element:f.jsx(eP,{})})]})}g_.createRoot(document.getElementById("root")).render(f.jsx(M.StrictMode,{children:f.jsxs(y_,{children:[" ",f.jsx(TS,{children:f.jsxs(f.Fragment,{children:[f.jsx(pz,{}),f.jsx(XC,{position:"top-right",richColors:!0})," "]})})]})}));
