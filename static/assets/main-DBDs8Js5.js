var N_=Object.defineProperty;var L_=(e,t,r)=>t in e?N_(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Ms=(e,t,r)=>L_(e,typeof t!="symbol"?t+"":t,r);import{r as y,a as B_,g as er,b as U_,R as C,u as Se,j as v,C as Yo,c as qu,d as F_,e as z_,L as q_}from"./ChatWidget-CdBoZnnO.js";/**
 * react-router v7.9.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Wf="popstate";function W_(e={}){function t(n,i){let{pathname:a,search:o,hash:s}=n.location;return Cc("",{pathname:a,search:o,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Mi(i)}return H_(t,r,null,e)}function pe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Tt(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function K_(){return Math.random().toString(36).substring(2,10)}function Kf(e,t){return{usr:e.state,key:e.key,idx:t}}function Cc(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Yn(t):t,state:r,key:t&&t.key||n||K_()}}function Mi({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Yn(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function H_(e,t,r,n={}){let{window:i=document.defaultView,v5Compat:a=!1}=n,o=i.history,s="POP",l=null,c=u();c==null&&(c=0,o.replaceState({...o.state,idx:c},""));function u(){return(o.state||{idx:null}).idx}function d(){s="POP";let g=u(),b=g==null?null:g-c;c=g,l&&l({action:s,location:p.location,delta:b})}function f(g,b){s="PUSH";let x=Cc(p.location,g,b);c=u()+1;let w=Kf(x,c),_=p.createHref(x);try{o.pushState(w,"",_)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(_)}a&&l&&l({action:s,location:p.location,delta:1})}function h(g,b){s="REPLACE";let x=Cc(p.location,g,b);c=u();let w=Kf(x,c),_=p.createHref(x);o.replaceState(w,"",_),a&&l&&l({action:s,location:p.location,delta:0})}function m(g){return V_(g)}let p={get action(){return s},get location(){return e(i,o)},listen(g){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Wf,d),l=g,()=>{i.removeEventListener(Wf,d),l=null}},createHref(g){return t(i,g)},createURL:m,encodeLocation(g){let b=m(g);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:f,replace:h,go(g){return o.go(g)}};return p}function V_(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),pe(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:Mi(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function Hv(e,t,r="/"){return G_(e,t,r,!1)}function G_(e,t,r,n){let i=typeof t=="string"?Yn(t):t,a=pr(i.pathname||"/",r);if(a==null)return null;let o=Vv(e);Y_(o);let s=null;for(let l=0;s==null&&l<o.length;++l){let c=o1(a);s=i1(o[l],c,n)}return s}function Vv(e,t=[],r=[],n="",i=!1){let a=(o,s,l=i,c)=>{let u={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};if(u.relativePath.startsWith("/")){if(!u.relativePath.startsWith(n)&&l)return;pe(u.relativePath.startsWith(n),`Absolute route path "${u.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(n.length)}let d=dr([n,u.relativePath]),f=r.concat(u);o.children&&o.children.length>0&&(pe(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),Vv(o.children,t,f,d,l)),!(o.path==null&&!o.index)&&t.push({path:d,score:r1(d,o.index),routesMeta:f})};return e.forEach((o,s)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))a(o,s);else for(let c of Gv(o.path))a(o,s,!0,c)}),t}function Gv(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let o=Gv(n.join("/")),s=[];return s.push(...o.map(l=>l===""?a:[a,l].join("/"))),i&&s.push(...o),s.map(l=>e.startsWith("/")&&l===""?"/":l)}function Y_(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:n1(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var J_=/^:[\w-]+$/,X_=3,Z_=2,Q_=1,e1=10,t1=-2,Hf=e=>e==="*";function r1(e,t){let r=e.split("/"),n=r.length;return r.some(Hf)&&(n+=t1),t&&(n+=Z_),r.filter(i=>!Hf(i)).reduce((i,a)=>i+(J_.test(a)?X_:a===""?Q_:e1),n)}function n1(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function i1(e,t,r=!1){let{routesMeta:n}=e,i={},a="/",o=[];for(let s=0;s<n.length;++s){let l=n[s],c=s===n.length-1,u=a==="/"?t:t.slice(a.length)||"/",d=no({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),f=l.route;if(!d&&c&&r&&!n[n.length-1].route.index&&(d=no({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:dr([a,d.pathname]),pathnameBase:u1(dr([a,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(a=dr([a,d.pathnameBase]))}return o}function no(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=a1(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:n.reduce((c,{paramName:u,isOptional:d},f)=>{if(u==="*"){let m=s[f]||"";o=a.slice(0,a.length-m.length).replace(/(.)\/+$/,"$1")}const h=s[f];return d&&!h?c[u]=void 0:c[u]=(h||"").replace(/%2F/g,"/"),c},{}),pathname:a,pathnameBase:o,pattern:e}}function a1(e,t=!1,r=!0){Tt(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,s,l)=>(n.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function o1(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Tt(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function pr(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function s1(e,t="/"){let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?Yn(e):e;return{pathname:r?r.startsWith("/")?r:l1(r,t):t,search:d1(n),hash:f1(i)}}function l1(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Ns(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function c1(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Wu(e){let t=c1(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function Ku(e,t,r,n=!1){let i;typeof e=="string"?i=Yn(e):(i={...e},pe(!i.pathname||!i.pathname.includes("?"),Ns("?","pathname","search",i)),pe(!i.pathname||!i.pathname.includes("#"),Ns("#","pathname","hash",i)),pe(!i.search||!i.search.includes("#"),Ns("#","search","hash",i)));let a=e===""||i.pathname==="",o=a?"/":i.pathname,s;if(o==null)s=r;else{let d=t.length-1;if(!n&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}s=d>=0?t[d]:"/"}let l=s1(i,s),c=o&&o!=="/"&&o.endsWith("/"),u=(a||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}var dr=e=>e.join("/").replace(/\/\/+/g,"/"),u1=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),d1=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,f1=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function h1(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var Yv=["POST","PUT","PATCH","DELETE"];new Set(Yv);var p1=["GET",...Yv];new Set(p1);var Jn=y.createContext(null);Jn.displayName="DataRouter";var Jo=y.createContext(null);Jo.displayName="DataRouterState";y.createContext(!1);var Jv=y.createContext({isTransitioning:!1});Jv.displayName="ViewTransition";var m1=y.createContext(new Map);m1.displayName="Fetchers";var g1=y.createContext(null);g1.displayName="Await";var zt=y.createContext(null);zt.displayName="Navigation";var Gi=y.createContext(null);Gi.displayName="Location";var tr=y.createContext({outlet:null,matches:[],isDataRoute:!1});tr.displayName="Route";var Hu=y.createContext(null);Hu.displayName="RouteError";function v1(e,{relative:t}={}){pe(Xn(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=y.useContext(zt),{hash:i,pathname:a,search:o}=Yi(e,{relative:t}),s=a;return r!=="/"&&(s=a==="/"?r:dr([r,a])),n.createHref({pathname:s,search:o,hash:i})}function Xn(){return y.useContext(Gi)!=null}function xt(){return pe(Xn(),"useLocation() may be used only in the context of a <Router> component."),y.useContext(Gi).location}var Xv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Zv(e){y.useContext(zt).static||y.useLayoutEffect(e)}function qt(){let{isDataRoute:e}=y.useContext(tr);return e?T1():y1()}function y1(){pe(Xn(),"useNavigate() may be used only in the context of a <Router> component.");let e=y.useContext(Jn),{basename:t,navigator:r}=y.useContext(zt),{matches:n}=y.useContext(tr),{pathname:i}=xt(),a=JSON.stringify(Wu(n)),o=y.useRef(!1);return Zv(()=>{o.current=!0}),y.useCallback((l,c={})=>{if(Tt(o.current,Xv),!o.current)return;if(typeof l=="number"){r.go(l);return}let u=Ku(l,JSON.parse(a),i,c.relative==="path");e==null&&t!=="/"&&(u.pathname=u.pathname==="/"?t:dr([t,u.pathname])),(c.replace?r.replace:r.push)(u,c.state,c)},[t,r,a,i,e])}y.createContext(null);function Yi(e,{relative:t}={}){let{matches:r}=y.useContext(tr),{pathname:n}=xt(),i=JSON.stringify(Wu(r));return y.useMemo(()=>Ku(e,JSON.parse(i),n,t==="path"),[e,i,n,t])}function b1(e,t){return Qv(e,t)}function Qv(e,t,r,n,i){var x;pe(Xn(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=y.useContext(zt),{matches:o}=y.useContext(tr),s=o[o.length-1],l=s?s.params:{},c=s?s.pathname:"/",u=s?s.pathnameBase:"/",d=s&&s.route;{let w=d&&d.path||"";ey(c,!d||w.endsWith("*")||w.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${w}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${w}"> to <Route path="${w==="/"?"*":`${w}/*`}">.`)}let f=xt(),h;if(t){let w=typeof t=="string"?Yn(t):t;pe(u==="/"||((x=w.pathname)==null?void 0:x.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${w.pathname}" was given in the \`location\` prop.`),h=w}else h=f;let m=h.pathname||"/",p=m;if(u!=="/"){let w=u.replace(/^\//,"").split("/");p="/"+m.replace(/^\//,"").split("/").slice(w.length).join("/")}let g=Hv(e,{pathname:p});Tt(d||g!=null,`No routes matched location "${h.pathname}${h.search}${h.hash}" `),Tt(g==null||g[g.length-1].route.element!==void 0||g[g.length-1].route.Component!==void 0||g[g.length-1].route.lazy!==void 0,`Matched leaf route at location "${h.pathname}${h.search}${h.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let b=E1(g&&g.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:dr([u,a.encodeLocation?a.encodeLocation(w.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?u:dr([u,a.encodeLocation?a.encodeLocation(w.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:w.pathnameBase])})),o,r,n,i);return t&&b?y.createElement(Gi.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...h},navigationType:"POP"}},b):b}function w1(){let e=A1(),t=h1(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},a={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=y.createElement(y.Fragment,null,y.createElement("p",null,"💿 Hey developer 👋"),y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",y.createElement("code",{style:a},"ErrorBoundary")," or"," ",y.createElement("code",{style:a},"errorElement")," prop on your route.")),y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},t),r?y.createElement("pre",{style:i},r):null,o)}var x1=y.createElement(w1,null),_1=class extends y.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?y.createElement(tr.Provider,{value:this.props.routeContext},y.createElement(Hu.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function S1({routeContext:e,match:t,children:r}){let n=y.useContext(Jn);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),y.createElement(tr.Provider,{value:e},r)}function E1(e,t=[],r=null,n=null,i=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let a=e,o=r==null?void 0:r.errors;if(o!=null){let c=a.findIndex(u=>u.route.id&&(o==null?void 0:o[u.route.id])!==void 0);pe(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,c+1))}let s=!1,l=-1;if(r)for(let c=0;c<a.length;c++){let u=a[c];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(l=c),u.route.id){let{loaderData:d,errors:f}=r,h=u.route.loader&&!d.hasOwnProperty(u.route.id)&&(!f||f[u.route.id]===void 0);if(u.route.lazy||h){s=!0,l>=0?a=a.slice(0,l+1):a=[a[0]];break}}}return a.reduceRight((c,u,d)=>{let f,h=!1,m=null,p=null;r&&(f=o&&u.route.id?o[u.route.id]:void 0,m=u.route.errorElement||x1,s&&(l<0&&d===0?(ey("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,p=null):l===d&&(h=!0,p=u.route.hydrateFallbackElement||null)));let g=t.concat(a.slice(0,d+1)),b=()=>{let x;return f?x=m:h?x=p:u.route.Component?x=y.createElement(u.route.Component,null):u.route.element?x=u.route.element:x=c,y.createElement(S1,{match:u,routeContext:{outlet:c,matches:g,isDataRoute:r!=null},children:x})};return r&&(u.route.ErrorBoundary||u.route.errorElement||d===0)?y.createElement(_1,{location:r.location,revalidation:r.revalidation,component:m,error:f,children:b(),routeContext:{outlet:null,matches:g,isDataRoute:!0},unstable_onError:n}):b()},null)}function Vu(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function O1(e){let t=y.useContext(Jn);return pe(t,Vu(e)),t}function P1(e){let t=y.useContext(Jo);return pe(t,Vu(e)),t}function j1(e){let t=y.useContext(tr);return pe(t,Vu(e)),t}function Gu(e){let t=j1(e),r=t.matches[t.matches.length-1];return pe(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function k1(){return Gu("useRouteId")}function A1(){var n;let e=y.useContext(Hu),t=P1("useRouteError"),r=Gu("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function T1(){let{router:e}=O1("useNavigate"),t=Gu("useNavigate"),r=y.useRef(!1);return Zv(()=>{r.current=!0}),y.useCallback(async(i,a={})=>{Tt(r.current,Xv),r.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...a}))},[e,t])}var Vf={};function ey(e,t,r){!t&&!Vf[e]&&(Vf[e]=!0,Tt(!1,r))}y.memo(C1);function C1({routes:e,future:t,state:r,unstable_onError:n}){return Qv(e,void 0,r,n,t)}function ty({to:e,replace:t,state:r,relative:n}){pe(Xn(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=y.useContext(zt);Tt(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=y.useContext(tr),{pathname:o}=xt(),s=qt(),l=Ku(e,Wu(a),o,n==="path"),c=JSON.stringify(l);return y.useEffect(()=>{s(JSON.parse(c),{replace:t,state:r,relative:n})},[s,c,n,t,r]),null}function ve(e){pe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function R1({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:i,static:a=!1}){pe(!Xn(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),s=y.useMemo(()=>({basename:o,navigator:i,static:a,future:{}}),[o,i,a]);typeof r=="string"&&(r=Yn(r));let{pathname:l="/",search:c="",hash:u="",state:d=null,key:f="default"}=r,h=y.useMemo(()=>{let m=pr(l,o);return m==null?null:{location:{pathname:m,search:c,hash:u,state:d,key:f},navigationType:n}},[o,l,c,u,d,f,n]);return Tt(h!=null,`<Router basename="${o}"> is not able to match the URL "${l}${c}${u}" because it does not start with the basename, so the <Router> won't render anything.`),h==null?null:y.createElement(zt.Provider,{value:s},y.createElement(Gi.Provider,{children:t,value:h}))}function I1({children:e,location:t}){return b1(Rc(e),t)}function Rc(e,t=[]){let r=[];return y.Children.forEach(e,(n,i)=>{if(!y.isValidElement(n))return;let a=[...t,i];if(n.type===y.Fragment){r.push.apply(r,Rc(n.props.children,a));return}pe(n.type===ve,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),pe(!n.props.index||!n.props.children,"An index route cannot have child routes.");let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Rc(n.props.children,a)),r.push(o)}),r}var Ja="get",Xa="application/x-www-form-urlencoded";function Xo(e){return e!=null&&typeof e.tagName=="string"}function $1(e){return Xo(e)&&e.tagName.toLowerCase()==="button"}function D1(e){return Xo(e)&&e.tagName.toLowerCase()==="form"}function M1(e){return Xo(e)&&e.tagName.toLowerCase()==="input"}function N1(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function L1(e,t){return e.button===0&&(!t||t==="_self")&&!N1(e)}function Ic(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function B1(e,t){let r=Ic(e);return t&&t.forEach((n,i)=>{r.has(i)||t.getAll(i).forEach(a=>{r.append(i,a)})}),r}var wa=null;function U1(){if(wa===null)try{new FormData(document.createElement("form"),0),wa=!1}catch{wa=!0}return wa}var F1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ls(e){return e!=null&&!F1.has(e)?(Tt(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Xa}"`),null):e}function z1(e,t){let r,n,i,a,o;if(D1(e)){let s=e.getAttribute("action");n=s?pr(s,t):null,r=e.getAttribute("method")||Ja,i=Ls(e.getAttribute("enctype"))||Xa,a=new FormData(e)}else if($1(e)||M1(e)&&(e.type==="submit"||e.type==="image")){let s=e.form;if(s==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||s.getAttribute("action");if(n=l?pr(l,t):null,r=e.getAttribute("formmethod")||s.getAttribute("method")||Ja,i=Ls(e.getAttribute("formenctype"))||Ls(s.getAttribute("enctype"))||Xa,a=new FormData(s,e),!U1()){let{name:c,type:u,value:d}=e;if(u==="image"){let f=c?`${c}.`:"";a.append(`${f}x`,"0"),a.append(`${f}y`,"0")}else c&&a.append(c,d)}}else{if(Xo(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Ja,n=null,i=Xa,o=e}return a&&i==="text/plain"&&(o=a,a=void 0),{action:n,method:r.toLowerCase(),encType:i,formData:a,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Yu(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function q1(e,t,r){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${r}`:t&&pr(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function W1(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function K1(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function H1(e,t,r){let n=await Promise.all(e.map(async i=>{let a=t.routes[i.route.id];if(a){let o=await W1(a,r);return o.links?o.links():[]}return[]}));return J1(n.flat(1).filter(K1).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Gf(e,t,r,n,i,a){let o=(l,c)=>r[c]?l.route.id!==r[c].route.id:!0,s=(l,c)=>{var u;return r[c].pathname!==l.pathname||((u=r[c].route.path)==null?void 0:u.endsWith("*"))&&r[c].params["*"]!==l.params["*"]};return a==="assets"?t.filter((l,c)=>o(l,c)||s(l,c)):a==="data"?t.filter((l,c)=>{var d;let u=n.routes[l.route.id];if(!u||!u.hasLoader)return!1;if(o(l,c)||s(l,c))return!0;if(l.route.shouldRevalidate){let f=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((d=r[0])==null?void 0:d.params)||{},nextUrl:new URL(e,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function V1(e,t,{includeHydrateFallback:r}={}){return G1(e.map(n=>{let i=t.routes[n.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function G1(e){return[...new Set(e)]}function Y1(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function J1(e,t){let r=new Set;return new Set(t),e.reduce((n,i)=>{let a=JSON.stringify(Y1(i));return r.has(a)||(r.add(a),n.push({key:a,link:i})),n},[])}function ry(){let e=y.useContext(Jn);return Yu(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function X1(){let e=y.useContext(Jo);return Yu(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Ju=y.createContext(void 0);Ju.displayName="FrameworkContext";function ny(){let e=y.useContext(Ju);return Yu(e,"You must render this element inside a <HydratedRouter> element"),e}function Z1(e,t){let r=y.useContext(Ju),[n,i]=y.useState(!1),[a,o]=y.useState(!1),{onFocus:s,onBlur:l,onMouseEnter:c,onMouseLeave:u,onTouchStart:d}=t,f=y.useRef(null);y.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let p=b=>{b.forEach(x=>{o(x.isIntersecting)})},g=new IntersectionObserver(p,{threshold:.5});return f.current&&g.observe(f.current),()=>{g.disconnect()}}},[e]),y.useEffect(()=>{if(n){let p=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(p)}}},[n]);let h=()=>{i(!0)},m=()=>{i(!1),o(!1)};return r?e!=="intent"?[a,f,{}]:[a,f,{onFocus:fi(s,h),onBlur:fi(l,m),onMouseEnter:fi(c,h),onMouseLeave:fi(u,m),onTouchStart:fi(d,h)}]:[!1,f,{}]}function fi(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function Q1({page:e,...t}){let{router:r}=ry(),n=y.useMemo(()=>Hv(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?y.createElement(tS,{page:e,matches:n,...t}):null}function eS(e){let{manifest:t,routeModules:r}=ny(),[n,i]=y.useState([]);return y.useEffect(()=>{let a=!1;return H1(e,t,r).then(o=>{a||i(o)}),()=>{a=!0}},[e,t,r]),n}function tS({page:e,matches:t,...r}){let n=xt(),{manifest:i,routeModules:a}=ny(),{basename:o}=ry(),{loaderData:s,matches:l}=X1(),c=y.useMemo(()=>Gf(e,t,l,i,n,"data"),[e,t,l,i,n]),u=y.useMemo(()=>Gf(e,t,l,i,n,"assets"),[e,t,l,i,n]),d=y.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let m=new Set,p=!1;if(t.forEach(b=>{var w;let x=i.routes[b.route.id];!x||!x.hasLoader||(!c.some(_=>_.route.id===b.route.id)&&b.route.id in s&&((w=a[b.route.id])!=null&&w.shouldRevalidate)||x.hasClientLoader?p=!0:m.add(b.route.id))}),m.size===0)return[];let g=q1(e,o,"data");return p&&m.size>0&&g.searchParams.set("_routes",t.filter(b=>m.has(b.route.id)).map(b=>b.route.id).join(",")),[g.pathname+g.search]},[o,s,n,i,c,t,e,a]),f=y.useMemo(()=>V1(u,i),[u,i]),h=eS(u);return y.createElement(y.Fragment,null,d.map(m=>y.createElement("link",{key:m,rel:"prefetch",as:"fetch",href:m,...r})),f.map(m=>y.createElement("link",{key:m,rel:"modulepreload",href:m,...r})),h.map(({key:m,link:p})=>y.createElement("link",{key:m,nonce:r.nonce,...p})))}function rS(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var iy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{iy&&(window.__reactRouterVersion="7.9.3")}catch{}function nS({basename:e,children:t,window:r}){let n=y.useRef();n.current==null&&(n.current=W_({window:r,v5Compat:!0}));let i=n.current,[a,o]=y.useState({action:i.action,location:i.location}),s=y.useCallback(l=>{y.startTransition(()=>o(l))},[o]);return y.useLayoutEffect(()=>i.listen(s),[i,s]),y.createElement(R1,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:i})}var ay=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$r=y.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:i,reloadDocument:a,replace:o,state:s,target:l,to:c,preventScrollReset:u,viewTransition:d,...f},h){let{basename:m}=y.useContext(zt),p=typeof c=="string"&&ay.test(c),g,b=!1;if(typeof c=="string"&&p&&(g=c,iy))try{let A=new URL(window.location.href),D=c.startsWith("//")?new URL(A.protocol+c):new URL(c),R=pr(D.pathname,m);D.origin===A.origin&&R!=null?c=R+D.search+D.hash:b=!0}catch{Tt(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let x=v1(c,{relative:i}),[w,_,S]=Z1(n,f),E=sS(c,{replace:o,state:s,target:l,preventScrollReset:u,relative:i,viewTransition:d});function O(A){t&&t(A),A.defaultPrevented||E(A)}let k=y.createElement("a",{...f,...S,href:g||x,onClick:b||a?t:O,ref:rS(h,_),target:l,"data-discover":!p&&r==="render"?"true":void 0});return w&&!p?y.createElement(y.Fragment,null,k,y.createElement(Q1,{page:x})):k});$r.displayName="Link";var iS=y.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:i=!1,style:a,to:o,viewTransition:s,children:l,...c},u){let d=Yi(o,{relative:c.relative}),f=xt(),h=y.useContext(Jo),{navigator:m,basename:p}=y.useContext(zt),g=h!=null&&fS(d)&&s===!0,b=m.encodeLocation?m.encodeLocation(d).pathname:d.pathname,x=f.pathname,w=h&&h.navigation&&h.navigation.location?h.navigation.location.pathname:null;r||(x=x.toLowerCase(),w=w?w.toLowerCase():null,b=b.toLowerCase()),w&&p&&(w=pr(w,p)||w);const _=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let S=x===b||!i&&x.startsWith(b)&&x.charAt(_)==="/",E=w!=null&&(w===b||!i&&w.startsWith(b)&&w.charAt(b.length)==="/"),O={isActive:S,isPending:E,isTransitioning:g},k=S?t:void 0,A;typeof n=="function"?A=n(O):A=[n,S?"active":null,E?"pending":null,g?"transitioning":null].filter(Boolean).join(" ");let D=typeof a=="function"?a(O):a;return y.createElement($r,{...c,"aria-current":k,className:A,ref:u,style:D,to:o,viewTransition:s},typeof l=="function"?l(O):l)});iS.displayName="NavLink";var aS=y.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:i,state:a,method:o=Ja,action:s,onSubmit:l,relative:c,preventScrollReset:u,viewTransition:d,...f},h)=>{let m=uS(),p=dS(s,{relative:c}),g=o.toLowerCase()==="get"?"get":"post",b=typeof s=="string"&&ay.test(s),x=w=>{if(l&&l(w),w.defaultPrevented)return;w.preventDefault();let _=w.nativeEvent.submitter,S=(_==null?void 0:_.getAttribute("formmethod"))||o;m(_||w.currentTarget,{fetcherKey:t,method:S,navigate:r,replace:i,state:a,relative:c,preventScrollReset:u,viewTransition:d})};return y.createElement("form",{ref:h,method:g,action:p,onSubmit:n?l:x,...f,"data-discover":!b&&e==="render"?"true":void 0})});aS.displayName="Form";function oS(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function oy(e){let t=y.useContext(Jn);return pe(t,oS(e)),t}function sS(e,{target:t,replace:r,state:n,preventScrollReset:i,relative:a,viewTransition:o}={}){let s=qt(),l=xt(),c=Yi(e,{relative:a});return y.useCallback(u=>{if(L1(u,t)){u.preventDefault();let d=r!==void 0?r:Mi(l)===Mi(c);s(e,{replace:d,state:n,preventScrollReset:i,relative:a,viewTransition:o})}},[l,s,c,r,n,t,e,i,a,o])}function sy(e){Tt(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=y.useRef(Ic(e)),r=y.useRef(!1),n=xt(),i=y.useMemo(()=>B1(n.search,r.current?null:t.current),[n.search]),a=qt(),o=y.useCallback((s,l)=>{const c=Ic(typeof s=="function"?s(new URLSearchParams(i)):s);r.current=!0,a("?"+c,l)},[a,i]);return[i,o]}var lS=0,cS=()=>`__${String(++lS)}__`;function uS(){let{router:e}=oy("useSubmit"),{basename:t}=y.useContext(zt),r=k1();return y.useCallback(async(n,i={})=>{let{action:a,method:o,encType:s,formData:l,body:c}=z1(n,t);if(i.navigate===!1){let u=i.fetcherKey||cS();await e.fetch(u,r,i.action||a,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||o,formEncType:i.encType||s,flushSync:i.flushSync})}else await e.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||o,formEncType:i.encType||s,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,r])}function dS(e,{relative:t}={}){let{basename:r}=y.useContext(zt),n=y.useContext(tr);pe(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),a={...Yi(e||".",{relative:t})},o=xt();if(e==null){a.search=o.search;let s=new URLSearchParams(a.search),l=s.getAll("index");if(l.some(u=>u==="")){s.delete("index"),l.filter(d=>d).forEach(d=>s.append("index",d));let u=s.toString();a.search=u?`?${u}`:""}}return(!e||e===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(a.pathname=a.pathname==="/"?r:dr([r,a.pathname])),Mi(a)}function fS(e,{relative:t}={}){let r=y.useContext(Jv);pe(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=oy("useViewTransitionState"),i=Yi(e,{relative:t});if(!r.isTransitioning)return!1;let a=pr(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=pr(r.nextLocation.pathname,n)||r.nextLocation.pathname;return no(i.pathname,o)!=null||no(i.pathname,a)!=null}var ly=B_();const hS=er(ly),pS="modulepreload",mS=function(e,t){return new URL(e,t).href},Yf={},Ji=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){let o=function(u){return Promise.all(u.map(d=>Promise.resolve(d).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};const s=document.getElementsByTagName("link"),l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));i=o(r.map(u=>{if(u=mS(u,n),u in Yf)return;Yf[u]=!0;const d=u.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(!!n)for(let p=s.length-1;p>=0;p--){const g=s[p];if(g.href===u&&(!d||g.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${f}`))return;const m=document.createElement("link");if(m.rel=d?"stylesheet":pS,d||(m.as="script"),m.crossOrigin="",m.href=u,c&&m.setAttribute("nonce",c),document.head.appendChild(m),d)return new Promise((p,g)=>{m.addEventListener("load",p),m.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${u}`)))})}))}function a(o){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o}return i.then(o=>{for(const s of o||[])s.status==="rejected"&&a(s.reason);return t().catch(a)})},gS=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ji(async()=>{const{default:n}=await Promise.resolve().then(()=>Zn);return{default:n}},[],import.meta.url).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Xu extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class Jf extends Xu{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Xf extends Xu{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Zf extends Xu{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var $c;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})($c||($c={}));var vS=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(u){try{c(n.next(u))}catch(d){o(d)}}function l(u){try{c(n.throw(u))}catch(d){o(d)}}function c(u){u.done?a(u.value):i(u.value).then(s,l)}c((n=n.apply(e,t||[])).next())})};class yS{constructor(t,{headers:r={},customFetch:n,region:i=$c.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=gS(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return vS(this,void 0,void 0,function*(){try{const{headers:i,method:a,body:o,signal:s}=r;let l={},{region:c}=r;c||(c=this.region);const u=new URL(`${this.url}/${t}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let d;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(l["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(l["Content-Type"]="application/json",d=JSON.stringify(o)));const f=yield this.fetch(u.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),i),body:d,signal:s}).catch(g=>{throw g.name==="AbortError"?g:new Jf(g)}),h=f.headers.get("x-relay-error");if(h&&h==="true")throw new Xf(f);if(!f.ok)throw new Zf(f);let m=((n=f.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),p;return m==="application/json"?p=yield f.json():m==="application/octet-stream"?p=yield f.blob():m==="text/event-stream"?p=f:m==="multipart/form-data"?p=yield f.formData():p=yield f.text(),{data:p,error:null,response:f}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new Jf(i)}:{data:null,error:i,response:i instanceof Zf||i instanceof Xf?i.context:void 0}}})}}var Te={},wn={},xn={},_n={},Sn={},En={},bS=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Mn=bS();const wS=Mn.fetch,cy=Mn.fetch.bind(Mn),uy=Mn.Headers,xS=Mn.Request,_S=Mn.Response,Zn=Object.freeze(Object.defineProperty({__proto__:null,Headers:uy,Request:xS,Response:_S,default:cy,fetch:wS},Symbol.toStringTag,{value:"Module"})),SS=U_(Zn);var xa={},Qf;function dy(){if(Qf)return xa;Qf=1,Object.defineProperty(xa,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return xa.default=e,xa}var eh;function fy(){if(eh)return En;eh=1;var e=En&&En.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(En,"__esModule",{value:!0});const t=e(SS),r=e(dy());class n{constructor(a){var o,s;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=(o=a.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=a.signal,this.isMaybeSingle=(s=a.isMaybeSingle)!==null&&s!==void 0?s:!1,a.fetch?this.fetch=a.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,o){return this.headers=new Headers(this.headers),this.headers.set(a,o),this}then(a,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let l=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var u,d,f,h;let m=null,p=null,g=null,b=c.status,x=c.statusText;if(c.ok){if(this.method!=="HEAD"){const E=await c.text();E===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?p=E:p=JSON.parse(E))}const _=(d=this.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),S=(f=c.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");_&&S&&S.length>1&&(g=parseInt(S[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(p)&&(p.length>1?(m={code:"PGRST116",details:`Results contain ${p.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},p=null,g=null,b=406,x="Not Acceptable"):p.length===1?p=p[0]:p=null)}else{const _=await c.text();try{m=JSON.parse(_),Array.isArray(m)&&c.status===404&&(p=[],m=null,b=200,x="OK")}catch{c.status===404&&_===""?(b=204,x="No Content"):m={message:_}}if(m&&this.isMaybeSingle&&(!((h=m==null?void 0:m.details)===null||h===void 0)&&h.includes("0 rows"))&&(m=null,b=200,x="OK"),m&&this.shouldThrowOnError)throw new r.default(m)}return{error:m,data:p,count:g,status:b,statusText:x}});return this.shouldThrowOnError||(l=l.catch(c=>{var u,d,f;return{error:{message:`${(u=c==null?void 0:c.name)!==null&&u!==void 0?u:"FetchError"}: ${c==null?void 0:c.message}`,details:`${(d=c==null?void 0:c.stack)!==null&&d!==void 0?d:""}`,hint:"",code:`${(f=c==null?void 0:c.code)!==null&&f!==void 0?f:""}`},data:null,count:null,status:0,statusText:""}})),l.then(a,o)}returns(){return this}overrideTypes(){return this}}return En.default=n,En}var th;function hy(){if(th)return Sn;th=1;var e=Sn&&Sn.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Sn,"__esModule",{value:!0});const t=e(fy());class r extends t.default{select(i){let a=!1;const o=(i??"*").split("").map(s=>/\s/.test(s)&&!a?"":(s==='"'&&(a=!a),s)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:a=!0,nullsFirst:o,foreignTable:s,referencedTable:l=s}={}){const c=l?`${l}.order`:"order",u=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${u?`${u},`:""}${i}.${a?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:a,referencedTable:o=a}={}){const s=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(s,`${i}`),this}range(i,a,{foreignTable:o,referencedTable:s=o}={}){const l=typeof s>"u"?"offset":`${s}.offset`,c=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(l,`${i}`),this.url.searchParams.set(c,`${a-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:a=!1,settings:o=!1,buffers:s=!1,wal:l=!1,format:c="text"}={}){var u;const d=[i?"analyze":null,a?"verbose":null,o?"settings":null,s?"buffers":null,l?"wal":null].filter(Boolean).join("|"),f=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${f}"; options=${d};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return Sn.default=r,Sn}var rh;function Zu(){if(rh)return _n;rh=1;var e=_n&&_n.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(_n,"__esModule",{value:!0});const t=e(hy());class r extends t.default{eq(i,a){return this.url.searchParams.append(i,`eq.${a}`),this}neq(i,a){return this.url.searchParams.append(i,`neq.${a}`),this}gt(i,a){return this.url.searchParams.append(i,`gt.${a}`),this}gte(i,a){return this.url.searchParams.append(i,`gte.${a}`),this}lt(i,a){return this.url.searchParams.append(i,`lt.${a}`),this}lte(i,a){return this.url.searchParams.append(i,`lte.${a}`),this}like(i,a){return this.url.searchParams.append(i,`like.${a}`),this}likeAllOf(i,a){return this.url.searchParams.append(i,`like(all).{${a.join(",")}}`),this}likeAnyOf(i,a){return this.url.searchParams.append(i,`like(any).{${a.join(",")}}`),this}ilike(i,a){return this.url.searchParams.append(i,`ilike.${a}`),this}ilikeAllOf(i,a){return this.url.searchParams.append(i,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(i,a){return this.url.searchParams.append(i,`ilike(any).{${a.join(",")}}`),this}is(i,a){return this.url.searchParams.append(i,`is.${a}`),this}in(i,a){const o=Array.from(new Set(a)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(i,`in.(${o})`),this}contains(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cs.{${a.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(a)}`),this}containedBy(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cd.{${a.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(a)}`),this}rangeGt(i,a){return this.url.searchParams.append(i,`sr.${a}`),this}rangeGte(i,a){return this.url.searchParams.append(i,`nxl.${a}`),this}rangeLt(i,a){return this.url.searchParams.append(i,`sl.${a}`),this}rangeLte(i,a){return this.url.searchParams.append(i,`nxr.${a}`),this}rangeAdjacent(i,a){return this.url.searchParams.append(i,`adj.${a}`),this}overlaps(i,a){return typeof a=="string"?this.url.searchParams.append(i,`ov.${a}`):this.url.searchParams.append(i,`ov.{${a.join(",")}}`),this}textSearch(i,a,{config:o,type:s}={}){let l="";s==="plain"?l="pl":s==="phrase"?l="ph":s==="websearch"&&(l="w");const c=o===void 0?"":`(${o})`;return this.url.searchParams.append(i,`${l}fts${c}.${a}`),this}match(i){return Object.entries(i).forEach(([a,o])=>{this.url.searchParams.append(a,`eq.${o}`)}),this}not(i,a,o){return this.url.searchParams.append(i,`not.${a}.${o}`),this}or(i,{foreignTable:a,referencedTable:o=a}={}){const s=o?`${o}.or`:"or";return this.url.searchParams.append(s,`(${i})`),this}filter(i,a,o){return this.url.searchParams.append(i,`${a}.${o}`),this}}return _n.default=r,_n}var nh;function py(){if(nh)return xn;nh=1;var e=xn&&xn.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(xn,"__esModule",{value:!0});const t=e(Zu());class r{constructor(i,{headers:a={},schema:o,fetch:s}){this.url=i,this.headers=new Headers(a),this.schema=o,this.fetch=s}select(i,{head:a=!1,count:o}={}){const s=a?"HEAD":"GET";let l=!1;const c=(i??"*").split("").map(u=>/\s/.test(u)&&!l?"":(u==='"'&&(l=!l),u)).join("");return this.url.searchParams.set("select",c),o&&this.headers.append("Prefer",`count=${o}`),new t.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:a,defaultToNull:o=!0}={}){var s;const l="POST";if(a&&this.headers.append("Prefer",`count=${a}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const c=i.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(i,{onConflict:a,ignoreDuplicates:o=!1,count:s,defaultToNull:l=!0}={}){var c;const u="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),s&&this.headers.append("Prefer",`count=${s}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const d=i.reduce((f,h)=>f.concat(Object.keys(h)),[]);if(d.length>0){const f=[...new Set(d)].map(h=>`"${h}"`);this.url.searchParams.set("columns",f.join(","))}}return new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}update(i,{count:a}={}){var o;const s="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:i}={}){var a;const o="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}}return xn.default=r,xn}var ih;function ES(){if(ih)return wn;ih=1;var e=wn&&wn.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(wn,"__esModule",{value:!0});const t=e(py()),r=e(Zu());class n{constructor(a,{headers:o={},schema:s,fetch:l}={}){this.url=a,this.headers=new Headers(o),this.schemaName=s,this.fetch=l}from(a){const o=new URL(`${this.url}/${a}`);return new t.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new n(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,o={},{head:s=!1,get:l=!1,count:c}={}){var u;let d;const f=new URL(`${this.url}/rpc/${a}`);let h;s||l?(d=s?"HEAD":"GET",Object.entries(o).filter(([p,g])=>g!==void 0).map(([p,g])=>[p,Array.isArray(g)?`{${g.join(",")}}`:`${g}`]).forEach(([p,g])=>{f.searchParams.append(p,g)})):(d="POST",h=o);const m=new Headers(this.headers);return c&&m.set("Prefer",`count=${c}`),new r.default({method:d,url:f,headers:m,schema:this.schemaName,body:h,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}}return wn.default=n,wn}var ah;function OS(){if(ah)return Te;ah=1;var e=Te&&Te.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Te,"__esModule",{value:!0}),Te.PostgrestError=Te.PostgrestBuilder=Te.PostgrestTransformBuilder=Te.PostgrestFilterBuilder=Te.PostgrestQueryBuilder=Te.PostgrestClient=void 0;const t=e(ES());Te.PostgrestClient=t.default;const r=e(py());Te.PostgrestQueryBuilder=r.default;const n=e(Zu());Te.PostgrestFilterBuilder=n.default;const i=e(hy());Te.PostgrestTransformBuilder=i.default;const a=e(fy());Te.PostgrestBuilder=a.default;const o=e(dy());return Te.PostgrestError=o.default,Te.default={PostgrestClient:t.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:a.default,PostgrestError:o.default},Te}var PS=OS();const jS=er(PS),{PostgrestClient:kS,PostgrestQueryBuilder:oz,PostgrestFilterBuilder:sz,PostgrestTransformBuilder:lz,PostgrestBuilder:cz,PostgrestError:uz}=jS;class AS{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const TS="2.15.5",CS=`realtime-js/${TS}`,RS="1.0.0",Dc=1e4,IS=1e3,$S=100;var Ci;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Ci||(Ci={}));var Oe;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Oe||(Oe={}));var Lt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Lt||(Lt={}));var Mc;(function(e){e.websocket="websocket"})(Mc||(Mc={}));var Yr;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Yr||(Yr={}));class DS{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const i=r.getUint8(1),a=r.getUint8(2);let o=this.HEADER_LENGTH+2;const s=n.decode(t.slice(o,o+i));o=o+i;const l=n.decode(t.slice(o,o+a));o=o+a;const c=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:s,event:l,payload:c}}}class my{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ce;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ce||(ce={}));const oh=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((a,o)=>(a[o]=MS(o,e,t,i),a),{})},MS=(e,t,r,n)=>{const i=t.find(s=>s.name===e),a=i==null?void 0:i.type,o=r[e];return a&&!n.includes(a)?gy(a,o):Nc(o)},gy=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return US(t,r)}switch(e){case ce.bool:return NS(t);case ce.float4:case ce.float8:case ce.int2:case ce.int4:case ce.int8:case ce.numeric:case ce.oid:return LS(t);case ce.json:case ce.jsonb:return BS(t);case ce.timestamp:return FS(t);case ce.abstime:case ce.date:case ce.daterange:case ce.int4range:case ce.int8range:case ce.money:case ce.reltime:case ce.text:case ce.time:case ce.timestamptz:case ce.timetz:case ce.tsrange:case ce.tstzrange:return Nc(t);default:return Nc(t)}},Nc=e=>e,NS=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},LS=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},BS=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},US=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const o=e.slice(1,r);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(s=>gy(t,s))}return e},FS=e=>typeof e=="string"?e.replace(" ","T"):e,vy=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class Bs{constructor(t,r,n={},i=Dc){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var sh;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(sh||(sh={}));class Ri{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:a,onLeave:o,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ri.syncState(this.state,i,a,o),this.pendingDiffs.forEach(l=>{this.state=Ri.syncDiff(this.state,l,a,o)}),this.pendingDiffs=[],s()}),this.channel._on(n.diff,{},i=>{const{onJoin:a,onLeave:o,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Ri.syncDiff(this.state,i,a,o),s())}),this.onJoin((i,a,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:o})}),this.onLeave((i,a,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const a=this.cloneDeep(t),o=this.transformState(r),s={},l={};return this.map(a,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const d=a[c];if(d){const f=u.map(g=>g.presence_ref),h=d.map(g=>g.presence_ref),m=u.filter(g=>h.indexOf(g.presence_ref)<0),p=d.filter(g=>f.indexOf(g.presence_ref)<0);m.length>0&&(s[c]=m),p.length>0&&(l[c]=p)}else s[c]=u}),this.syncDiff(a,{joins:s,leaves:l},n,i)}static syncDiff(t,r,n,i){const{joins:a,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(a,(s,l)=>{var c;const u=(c=t[s])!==null&&c!==void 0?c:[];if(t[s]=this.cloneDeep(l),u.length>0){const d=t[s].map(h=>h.presence_ref),f=u.filter(h=>d.indexOf(h.presence_ref)<0);t[s].unshift(...f)}n(s,u,l)}),this.map(o,(s,l)=>{let c=t[s];if(!c)return;const u=l.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),t[s]=c,i(s,c,l),c.length===0&&delete t[s]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var lh;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(lh||(lh={}));var Ii;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Ii||(Ii={}));var or;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(or||(or={}));class Qu{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Oe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Bs(this,Lt.join,this.params,this.timeout),this.rejoinTimer=new my(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Oe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Oe.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Oe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Oe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Oe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Lt.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new Ri(this),this.broadcastEndpointURL=vy(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Oe.closed){const{config:{broadcast:o,presence:s,private:l}}=this.params,c=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(h=>h.filter))!==null&&i!==void 0?i:[],u=!!this.bindings[Ii.PRESENCE]&&this.bindings[Ii.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,d={},f={broadcast:o,presence:Object.assign(Object.assign({},s),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(h=>t==null?void 0:t(or.CHANNEL_ERROR,h)),this._onClose(()=>t==null?void 0:t(or.CLOSED)),this.updateJoinPayload(Object.assign({config:f},d)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:h})=>{var m;if(this.socket.setAuth(),h===void 0){t==null||t(or.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,g=(m=p==null?void 0:p.length)!==null&&m!==void 0?m:0,b=[];for(let x=0;x<g;x++){const w=p[x],{filter:{event:_,schema:S,table:E,filter:O}}=w,k=h&&h[x];if(k&&k.event===_&&k.schema===S&&k.table===E&&k.filter===O)b.push(Object.assign(Object.assign({},w),{id:k.id}));else{this.unsubscribe(),this.state=Oe.errored,t==null||t(or.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,t&&t(or.SUBSCRIBED);return}}).receive("error",h=>{this.state=Oe.errored,t==null||t(or.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(or.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Oe.joined&&t===Ii.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){const{event:a,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,s,l;const c=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(s=(o=this.params)===null||o===void 0?void 0:o.config)===null||s===void 0?void 0:s.broadcast)===null||l===void 0)&&l.ack)&&a("ok"),c.receive("ok",()=>a("ok")),c.receive("error",()=>a("error")),c.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Oe.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Lt.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new Bs(this,Lt.leave,{},t),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Oe.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const i=new AbortController,a=setTimeout(()=>i.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(a),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Bs(this,t,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>$S){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,a;const o=t.toLocaleLowerCase(),{close:s,error:l,leave:c,join:u}=Lt;if(n&&[s,l,c,u].indexOf(o)>=0&&n!==this._joinRef())return;let f=this._onMessage(o,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(h=>{var m,p,g;return((m=h.filter)===null||m===void 0?void 0:m.event)==="*"||((g=(p=h.filter)===null||p===void 0?void 0:p.event)===null||g===void 0?void 0:g.toLocaleLowerCase())===o}).map(h=>h.callback(f,n)):(a=this.bindings[o])===null||a===void 0||a.filter(h=>{var m,p,g,b,x,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in h){const _=h.id,S=(m=h.filter)===null||m===void 0?void 0:m.event;return _&&((p=r.ids)===null||p===void 0?void 0:p.includes(_))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((g=r.data)===null||g===void 0?void 0:g.type.toLocaleLowerCase()))}else{const _=(x=(b=h==null?void 0:h.filter)===null||b===void 0?void 0:b.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return _==="*"||_===((w=r==null?void 0:r.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===o}).map(h=>{if(typeof f=="object"&&"ids"in f){const m=f.data,{schema:p,table:g,commit_timestamp:b,type:x,errors:w}=m;f=Object.assign(Object.assign({},{schema:p,table:g,commit_timestamp:b,eventType:x,new:{},old:{},errors:w}),this._getPayloadRecords(m))}h.callback(f,n)})}_isClosed(){return this.state===Oe.closed}_isJoined(){return this.state===Oe.joined}_isJoining(){return this.state===Oe.joining}_isLeaving(){return this.state===Oe.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),a={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&Qu.isEqual(i.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Lt.close,{},t)}_onError(t){this._on(Lt.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Oe.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=oh(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=oh(t.columns,t.old_record)),r}}const Us=()=>{},_a={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},zS=[1e3,2e3,5e3,1e4],qS=1e4,WS=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class KS{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Dc,this.transport=null,this.heartbeatIntervalMs=_a.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Us,this.ref=0,this.reconnectTimer=null,this.logger=Us,this.conn=null,this.sendBuffer=[],this.serializer=new DS,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...o)=>Ji(async()=>{const{default:s}=await Promise.resolve().then(()=>Zn);return{default:s}},void 0,import.meta.url).then(({default:s})=>s(...o)).catch(s=>{throw new Error(`Failed to load @supabase/node-fetch: ${s.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):a=fetch,(...o)=>a(...o)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Mc.websocket}`,this.httpEndpoint=vy(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=AS.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:RS}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Ci.connecting:return Yr.Connecting;case Ci.open:return Yr.Open;case Ci.closing:return Yr.Closing;default:return Yr.Closed}}isConnected(){return this.connectionState()===Yr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===n);if(i)return i;{const a=new Qu(`realtime:${t}`,r,this);return this.channels.push(a),a}}push(t){const{topic:r,event:n,payload:i,ref:a}=t,o=()=>{this.encode(t,s=>{var l;(l=this.conn)===null||l===void 0||l.send(s)})};this.log("push",`${r} ${n} (${a})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(IS,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},_a.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:a,ref:o}=r,s=o?`(${o})`:"",l=a.status||"";this.log("receive",`${l} ${n} ${i} ${s}`.trim(),a),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(i,a,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Lt.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([WS],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:CS};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(Lt.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new my(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},_a.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,i,a,o,s,l,c,u;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:Dc,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:_a.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(s=t==null?void 0:t.heartbeatCallback)!==null&&s!==void 0?s:Us,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=t==null?void 0:t.reconnectAfterMs)!==null&&l!==void 0?l:(d=>zS[d-1]||qS),this.encode=(c=t==null?void 0:t.encode)!==null&&c!==void 0?c:((d,f)=>f(JSON.stringify(d))),this.decode=(u=t==null?void 0:t.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class ed extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function xe(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class HS extends ed{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Lc extends ed{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var VS=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(u){try{c(n.next(u))}catch(d){o(d)}}function l(u){try{c(n.throw(u))}catch(d){o(d)}}function c(u){u.done?a(u.value):i(u.value).then(s,l)}c((n=n.apply(e,t||[])).next())})};const yy=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ji(async()=>{const{default:n}=await Promise.resolve().then(()=>Zn);return{default:n}},void 0,import.meta.url).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},GS=()=>VS(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ji(()=>Promise.resolve().then(()=>Zn),void 0,import.meta.url)).Response:Response}),Bc=e=>{if(Array.isArray(e))return e.map(r=>Bc(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=Bc(n)}),t},YS=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var fn=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(u){try{c(n.next(u))}catch(d){o(d)}}function l(u){try{c(n.throw(u))}catch(d){o(d)}}function c(u){u.done?a(u.value):i(u.value).then(s,l)}c((n=n.apply(e,t||[])).next())})};const Fs=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),JS=(e,t,r)=>fn(void 0,void 0,void 0,function*(){const n=yield GS();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(i=>{const a=e.status||500,o=(i==null?void 0:i.statusCode)||a+"";t(new HS(Fs(i),a,o))}).catch(i=>{t(new Lc(Fs(i),i))}):t(new Lc(Fs(e),e))}),XS=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?i:(YS(n)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,t!=null&&t.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),r))};function Xi(e,t,r,n,i,a){return fn(this,void 0,void 0,function*(){return new Promise((o,s)=>{e(r,XS(t,n,i,a)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>JS(l,s,n))})})}function io(e,t,r,n){return fn(this,void 0,void 0,function*(){return Xi(e,"GET",t,r,n)})}function Yt(e,t,r,n,i){return fn(this,void 0,void 0,function*(){return Xi(e,"POST",t,n,i,r)})}function Uc(e,t,r,n,i){return fn(this,void 0,void 0,function*(){return Xi(e,"PUT",t,n,i,r)})}function ZS(e,t,r,n){return fn(this,void 0,void 0,function*(){return Xi(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function by(e,t,r,n,i){return fn(this,void 0,void 0,function*(){return Xi(e,"DELETE",t,n,i,r)})}var QS=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(u){try{c(n.next(u))}catch(d){o(d)}}function l(u){try{c(n.throw(u))}catch(d){o(d)}}function c(u){u.done?a(u.value):i(u.value).then(s,l)}c((n=n.apply(e,t||[])).next())})};class eE{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return QS(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(xe(t))return{data:null,error:t};throw t}})}}var tE=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(u){try{c(n.next(u))}catch(d){o(d)}}function l(u){try{c(n.throw(u))}catch(d){o(d)}}function c(u){u.done?a(u.value):i(u.value).then(s,l)}c((n=n.apply(e,t||[])).next())})};class rE{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}asStream(){return new eE(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.execute().then(t,r)}execute(){return tE(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(xe(t))return{data:null,error:t};throw t}})}}var rt=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(u){try{c(n.next(u))}catch(d){o(d)}}function l(u){try{c(n.throw(u))}catch(d){o(d)}}function c(u){u.done?a(u.value):i(u.value).then(s,l)}c((n=n.apply(e,t||[])).next())})};const nE={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ch={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class iE{constructor(t,r={},n,i){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=yy(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,i){return rt(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},ch),i);let s=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),l&&a.append("metadata",this.encodeMetadata(l)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.append("cacheControl",o.cacheControl),l&&a.append("metadata",this.encodeMetadata(l))):(a=n,s["cache-control"]=`max-age=${o.cacheControl}`,s["content-type"]=o.contentType,l&&(s["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(s=Object.assign(Object.assign({},s),i.headers));const c=this._removeEmptyFolders(r),u=this._getFinalPath(c),d=yield(t=="PUT"?Uc:Yt)(this.fetch,`${this.url}/object/${u}`,a,Object.assign({headers:s},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:d.Id,fullPath:d.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(xe(a))return{data:null,error:a};throw a}})}upload(t,r,n){return rt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,i){return rt(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),o=this._getFinalPath(a),s=new URL(this.url+`/object/upload/sign/${o}`);s.searchParams.set("token",r);try{let l;const c=Object.assign({upsert:ch.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const d=yield Uc(this.fetch,s.toString(),l,{headers:u});return{data:{path:a,fullPath:d.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(xe(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,r){return rt(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const a=yield Yt(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),o=new URL(this.url+a.url),s=o.searchParams.get("token");if(!s)throw new ed("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:s},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xe(n))return{data:null,error:n};throw n}})}update(t,r,n){return rt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return rt(this,void 0,void 0,function*(){try{return{data:yield Yt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(xe(i))return{data:null,error:i};throw i}})}copy(t,r,n){return rt(this,void 0,void 0,function*(){try{return{data:{path:(yield Yt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(xe(i))return{data:null,error:i};throw i}})}createSignedUrl(t,r,n){return rt(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),a=yield Yt(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(xe(i))return{data:null,error:i};throw i}})}createSignedUrls(t,r,n){return rt(this,void 0,void 0,function*(){try{const i=yield Yt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(xe(i))return{data:null,error:i};throw i}})}download(t,r){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=a?`?${a}`:"",s=this._getFinalPath(t),l=()=>io(this.fetch,`${this.url}/${i}/${s}${o}`,{headers:this.headers,noResolveJson:!0});return new rE(l,this.shouldThrowOnError)}info(t){return rt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield io(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Bc(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xe(n))return{data:null,error:n};throw n}})}exists(t){return rt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield ZS(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xe(n)&&n instanceof Lc){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),i=[],a=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&i.push(a);const s=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${n}${c}`)}}}remove(t){return rt(this,void 0,void 0,function*(){try{return{data:yield by(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(xe(r))return{data:null,error:r};throw r}})}list(t,r,n){return rt(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},nE),r),{prefix:t||""});return{data:yield Yt(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(xe(i))return{data:null,error:i};throw i}})}listV2(t,r){return rt(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield Yt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xe(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const aE="2.12.2",oE={"X-Client-Info":`storage-js/${aE}`};var On=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(u){try{c(n.next(u))}catch(d){o(d)}}function l(u){try{c(n.throw(u))}catch(d){o(d)}}function c(u){u.done?a(u.value):i(u.value).then(s,l)}c((n=n.apply(e,t||[])).next())})};class sE{constructor(t,r={},n,i){this.shouldThrowOnError=!1;const a=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href,this.headers=Object.assign(Object.assign({},oE),r),this.fetch=yy(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return On(this,void 0,void 0,function*(){try{return{data:yield io(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(xe(t))return{data:null,error:t};throw t}})}getBucket(t){return On(this,void 0,void 0,function*(){try{return{data:yield io(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(xe(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return On(this,void 0,void 0,function*(){try{return{data:yield Yt(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xe(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return On(this,void 0,void 0,function*(){try{return{data:yield Uc(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xe(n))return{data:null,error:n};throw n}})}emptyBucket(t){return On(this,void 0,void 0,function*(){try{return{data:yield Yt(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(xe(r))return{data:null,error:r};throw r}})}deleteBucket(t){return On(this,void 0,void 0,function*(){try{return{data:yield by(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(xe(r))return{data:null,error:r};throw r}})}}class lE extends sE{constructor(t,r={},n,i){super(t,r,n,i)}from(t){return new iE(this.url,this.headers,t,this.fetch)}}const cE="2.58.0";let ki="";typeof Deno<"u"?ki="deno":typeof document<"u"?ki="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ki="react-native":ki="node";const uE={"X-Client-Info":`supabase-js-${ki}/${cE}`},dE={headers:uE},fE={schema:"public"},hE={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},pE={};var mE=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(u){try{c(n.next(u))}catch(d){o(d)}}function l(u){try{c(n.throw(u))}catch(d){o(d)}}function c(u){u.done?a(u.value):i(u.value).then(s,l)}c((n=n.apply(e,t||[])).next())})};const gE=e=>{let t;return e?t=e:typeof fetch>"u"?t=cy:t=fetch,(...r)=>t(...r)},vE=()=>typeof Headers>"u"?uy:Headers,yE=(e,t,r)=>{const n=gE(r),i=vE();return(a,o)=>mE(void 0,void 0,void 0,function*(){var s;const l=(s=yield t())!==null&&s!==void 0?s:e;let c=new i(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(a,Object.assign(Object.assign({},o),{headers:c}))})};var bE=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(u){try{c(n.next(u))}catch(d){o(d)}}function l(u){try{c(n.throw(u))}catch(d){o(d)}}function c(u){u.done?a(u.value):i(u.value).then(s,l)}c((n=n.apply(e,t||[])).next())})};function wE(e){return e.endsWith("/")?e:e+"/"}function xE(e,t){var r,n;const{db:i,auth:a,realtime:o,global:s}=e,{db:l,auth:c,realtime:u,global:d}=t,f={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},c),a),realtime:Object.assign(Object.assign({},u),o),storage:{},global:Object.assign(Object.assign(Object.assign({},d),s),{headers:Object.assign(Object.assign({},(r=d==null?void 0:d.headers)!==null&&r!==void 0?r:{}),(n=s==null?void 0:s.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>bE(this,void 0,void 0,function*(){return""})};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}function _E(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(wE(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const wy="2.72.0",Cn=30*1e3,Fc=3,zs=Fc*Cn,SE="http://localhost:9999",EE="supabase.auth.token",OE={"X-Client-Info":`gotrue-js/${wy}`},zc="X-Supabase-Api-Version",xy={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},PE=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,jE=600*1e3;class td extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function W(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class kE extends td{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function AE(e){return W(e)&&e.name==="AuthApiError"}class _y extends td{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Nr extends td{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}}class kr extends Nr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function TE(e){return W(e)&&e.name==="AuthSessionMissingError"}class hi extends Nr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Sa extends Nr{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Ea extends Nr{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function CE(e){return W(e)&&e.name==="AuthImplicitGrantRedirectError"}class uh extends Nr{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class qc extends Nr{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function qs(e){return W(e)&&e.name==="AuthRetryableFetchError"}class dh extends Nr{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Wc extends Nr{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const ao="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),fh=` 	
\r=`.split(""),RE=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<fh.length;t+=1)e[fh[t].charCodeAt(0)]=-2;for(let t=0;t<ao.length;t+=1)e[ao[t].charCodeAt(0)]=t;return e})();function hh(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(ao[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(ao[n]),t.queuedBits-=6}}function Sy(e,t,r){const n=RE[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function ph(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=o=>{DE(o,n,r)};for(let o=0;o<e.length;o+=1)Sy(e.charCodeAt(o),i,a);return t.join("")}function IE(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function $E(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}IE(n,t)}}function DE(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if((e>>7-n&1)===0){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function ME(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)Sy(e.charCodeAt(i),r,n);return new Uint8Array(t)}function NE(e){const t=[];return $E(e,r=>t.push(r)),new Uint8Array(t)}function LE(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>hh(i,r,n)),hh(null,r,n),t.join("")}function BE(e){return Math.round(Date.now()/1e3)+e}function UE(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Pt=()=>typeof window<"u"&&typeof document<"u",zr={tested:!1,writable:!1},Ey=()=>{if(!Pt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(zr.tested)return zr.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),zr.tested=!0,zr.writable=!0}catch{zr.tested=!0,zr.writable=!1}return zr.writable};function FE(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const Oy=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ji(async()=>{const{default:n}=await Promise.resolve().then(()=>Zn);return{default:n}},void 0,import.meta.url).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},zE=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Rn=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},qr=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},jr=async(e,t)=>{await e.removeItem(t)};class Zo{constructor(){this.promise=new Zo.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Zo.promiseConstructor=Promise;function Ws(e){const t=e.split(".");if(t.length!==3)throw new Wc("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!PE.test(t[n]))throw new Wc("JWT not in base64url format");return{header:JSON.parse(ph(t[0])),payload:JSON.parse(ph(t[1])),signature:ME(t[2]),raw:{header:t[0],payload:t[1]}}}async function qE(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function WE(e,t){return new Promise((n,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await e(a);if(!t(a,null,o)){n(o);return}}catch(o){if(!t(a,o)){i(o);return}}})()})}function KE(e){return("0"+e.toString(16)).substr(-2)}function HE(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let a=0;a<56;a++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,KE).join("")}async function VE(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function GE(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await VE(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Pn(e,t,r=!1){const n=HE();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await Rn(e,`${t}-code-verifier`,i);const a=await GE(n);return[a,n===a?"plain":"s256"]}const YE=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function JE(e){const t=e.headers.get(zc);if(!t||!t.match(YE))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function XE(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function ZE(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const QE=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function jn(e){if(!QE.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ks(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function mh(e){return JSON.parse(JSON.stringify(e))}var eO=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};const Kr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),tO=[502,503,504];async function gh(e){var t;if(!zE(e))throw new qc(Kr(e),0);if(tO.includes(e.status))throw new qc(Kr(e),e.status);let r;try{r=await e.json()}catch(a){throw new _y(Kr(a),a)}let n;const i=JE(e);if(i&&i.getTime()>=xy["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new dh(Kr(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new kr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new dh(Kr(r),e.status,r.weak_password.reasons);throw new kE(Kr(r),e.status||500,n)}const rO=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function X(e,t,r,n){var i;const a=Object.assign({},n==null?void 0:n.headers);a[zc]||(a[zc]=xy["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const o=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const s=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await nO(e,t,r+s,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function nO(e,t,r,n,i,a){const o=rO(t,n,i,a);let s;try{s=await e(r,Object.assign({},o))}catch(l){throw console.error(l),new qc(Kr(l),0)}if(s.ok||await gh(s),n!=null&&n.noResolveJson)return s;try{return await s.json()}catch(l){await gh(l)}}function Gt(e){var t;let r=null;sO(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=BE(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function vh(e){const t=Gt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Cr(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function iO(e){return{data:e,error:null}}function aO(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a}=e,o=eO(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),s={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a},l=Object.assign({},o);return{data:{properties:s,user:l},error:null}}function oO(e){return e}function sO(e){return e.access_token&&e.refresh_token&&e.expires_in}const Hs=["global","local","others"];var lO=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};class cO{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=Oy(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=Hs[0]){if(Hs.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Hs.join(", ")}`);try{return await X(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(W(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await X(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Cr})}catch(n){if(W(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=lO(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await X(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:aO,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(W(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await X(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Cr})}catch(r){if(W(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,a,o,s,l;try{const c={nextPage:null,lastPage:0,total:0},u=await X(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:oO});if(u.error)throw u.error;const d=await u.json(),f=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,h=(l=(s=u.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return h.length>0&&(h.forEach(m=>{const p=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(m.split(";")[1].split("=")[1]);c[`${g}Page`]=p}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(W(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){jn(t);try{return await X(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Cr})}catch(r){if(W(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){jn(t);try{return await X(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Cr})}catch(n){if(W(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){jn(t);try{return await X(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Cr})}catch(n){if(W(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){jn(t.userId);try{const{data:r,error:n}=await X(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(W(r))return{data:null,error:r};throw r}}async _deleteFactor(t){jn(t.userId),jn(t.id);try{return{data:await X(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(W(r))return{data:null,error:r};throw r}}}function yh(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function uO(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const kn={debug:!!(globalThis&&Ey()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Py extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class dO extends Py{}async function fO(e,t,r){kn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),kn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){kn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{kn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw kn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new dO(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(kn.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function jy(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function hO(e){return parseInt(e,16)}function pO(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function mO(e){var t;const{chainId:r,domain:n,expirationTime:i,issuedAt:a=new Date,nonce:o,notBefore:s,requestId:l,resources:c,scheme:u,uri:d,version:f}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const h=jy(e.address),m=u?`${u}://${n}`:n,p=e.statement?`${e.statement}
`:"",g=`${m} wants you to sign in with your Ethereum account:
${h}

${p}`;let b=`URI: ${d}
Version: ${f}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${a.toISOString()}`;if(i&&(b+=`
Expiration Time: ${i.toISOString()}`),s&&(b+=`
Not Before: ${s.toISOString()}`),l&&(b+=`
Request ID: ${l}`),c){let x=`
Resources:`;for(const w of c){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);x+=`
- ${w}`}b+=x}return`${g}
${b}`}uO();const gO={url:SE,storageKey:EE,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:OE,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function bh(e,t,r){return await r()}const An={};class Ni{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ni.nextInstanceID,Ni.nextInstanceID+=1,this.instanceID>0&&Pt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},gO),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new cO({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Oy(i.fetch),this.lock=i.lock||bh,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Pt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=fO:this.lock=bh,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:Ey()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=yh(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=yh(this.memoryStorage)),Pt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=An[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){An[this.storageKey]=Object.assign(Object.assign({},An[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=An[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){An[this.storageKey]=Object.assign(Object.assign({},An[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${wy}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=FE(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Pt()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),CE(a)){const l=(t=a.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:s}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",s),await this._saveSession(o),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return W(r)?{error:r}:{error:new _y("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const a=await X(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:Gt}),{data:o,error:s}=a;if(s||!o)return{data:{user:null,session:null},error:s};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(a){if(W(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var r,n,i;try{let a;if("email"in t){const{email:u,password:d,options:f}=t;let h=null,m=null;this.flowType==="pkce"&&([h,m]=await Pn(this.storage,this.storageKey)),a=await X(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:u,password:d,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:h,code_challenge_method:m},xform:Gt})}else if("phone"in t){const{phone:u,password:d,options:f}=t;a=await X(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:d,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(i=f==null?void 0:f.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Gt})}else throw new Sa("You must provide either an email or phone number and a password");const{data:o,error:s}=a;if(s||!o)return{data:{user:null,session:null},error:s};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(a){if(W(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:o,options:s}=t;r=await X(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:vh})}else if("phone"in t){const{phone:a,password:o,options:s}=t;r=await X(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:vh})}else throw new Sa("You must provide either an email or phone number and a password");const{data:n,error:i}=r;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new hi}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(W(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,i,a,o,s,l,c,u,d,f;let h,m;if("message"in t)h=t.message,m=t.signature;else{const{chain:p,wallet:g,statement:b,options:x}=t;let w;if(Pt())if(typeof g=="object")w=g;else{const A=window;if("ethereum"in A&&typeof A.ethereum=="object"&&"request"in A.ethereum&&typeof A.ethereum.request=="function")w=A.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=g}const _=new URL((r=x==null?void 0:x.url)!==null&&r!==void 0?r:window.location.href),S=await w.request({method:"eth_requestAccounts"}).then(A=>A).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const E=jy(S[0]);let O=(n=x==null?void 0:x.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!O){const A=await w.request({method:"eth_chainId"});O=hO(A)}const k={domain:_.host,address:E,statement:b,uri:_.href,version:"1",chainId:O,nonce:(i=x==null?void 0:x.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(a=x==null?void 0:x.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(s=x==null?void 0:x.signInWithEthereum)===null||s===void 0?void 0:s.expirationTime,notBefore:(l=x==null?void 0:x.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=x==null?void 0:x.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(u=x==null?void 0:x.signInWithEthereum)===null||u===void 0?void 0:u.resources};h=mO(k),m=await w.request({method:"personal_sign",params:[pO(h),E]})}try{const{data:p,error:g}=await X(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:h,signature:m},!((d=t.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Gt});if(g)throw g;return!p||!p.session||!p.user?{data:{user:null,session:null},error:new hi}:(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),{data:Object.assign({},p),error:g})}catch(p){if(W(p))return{data:{user:null,session:null},error:p};throw p}}async signInWithSolana(t){var r,n,i,a,o,s,l,c,u,d,f,h;let m,p;if("message"in t)m=t.message,p=t.signature;else{const{chain:g,wallet:b,statement:x,options:w}=t;let _;if(Pt())if(typeof b=="object")_=b;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))_=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=b}const S=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const E=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),x?{statement:x}:null));let O;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")O=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)O=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in O&&"signature"in O&&(typeof O.signedMessage=="string"||O.signedMessage instanceof Uint8Array)&&O.signature instanceof Uint8Array)m=typeof O.signedMessage=="string"?O.signedMessage:new TextDecoder().decode(O.signedMessage),p=O.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${S.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(i=(n=w==null?void 0:w.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=w==null?void 0:w.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((s=w==null?void 0:w.signInWithSolana)===null||s===void 0)&&s.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((d=(u=w==null?void 0:w.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||d===void 0)&&d.length?["Resources",...w.signInWithSolana.resources.map(O=>`- ${O}`)]:[]].join(`
`);const E=await _.signMessage(new TextEncoder().encode(m),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=E}}try{const{data:g,error:b}=await X(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:LE(p)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Gt});if(b)throw b;return!g||!g.session||!g.user?{data:{user:null,session:null},error:new hi}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:Object.assign({},g),error:b})}catch(g){if(W(g))return{data:{user:null,session:null},error:g};throw g}}async _exchangeCodeForSession(t){const r=await qr(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:a,error:o}=await X(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Gt});if(await jr(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new hi}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:o})}catch(a){if(W(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:a,nonce:o}=t,s=await X(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Gt}),{data:l,error:c}=s;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new hi}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(r){if(W(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,i,a,o;try{if("email"in t){const{email:s,options:l}=t;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await Pn(this.storage,this.storageKey));const{error:d}=await X(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:s,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in t){const{phone:s,options:l}=t,{data:c,error:u}=await X(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:s,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(a=l==null?void 0:l.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new Sa("You must provide either an email or phone number.")}catch(s){if(W(s))return{data:{user:null,session:null},error:s};throw s}}async verifyOtp(t){var r,n;try{let i,a;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:s}=await X(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Gt});if(s)throw s;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(W(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var r,n,i;try{let a=null,o=null;return this.flowType==="pkce"&&([a,o]=await Pn(this.storage,this.storageKey)),await X(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:o}),headers:this.headers,xform:iO})}catch(a){if(W(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new kr;const{error:i}=await X(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(W(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:a}=t,{error:o}=await X(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:i,options:a}=t,{data:o,error:s}=await X(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:s}}throw new Sa("You must provide either an email or phone number and a type")}catch(r){if(W(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await qr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<zs:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await qr(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=Ks()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,c,u)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:t},error:null}}const{session:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await X(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Cr}):await this._useSession(async r=>{var n,i,a;const{data:o,error:s}=r;if(s)throw s;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new kr}:await X(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Cr})})}catch(r){if(W(r))return TE(r)&&(await this._removeSession(),await jr(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:a}=n;if(a)throw a;if(!i.session)throw new kr;const o=i.session;let s=null,l=null;this.flowType==="pkce"&&t.email!=null&&([s,l]=await Pn(this.storage,this.storageKey));const{data:c,error:u}=await X(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:s,code_challenge_method:l}),jwt:o.access_token,xform:Cr});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(W(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new kr;const r=Date.now()/1e3;let n=r,i=!0,a=null;const{payload:o}=Ws(t.access_token);if(o.exp&&(n=o.exp,i=n<=r),i){const{session:s,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!s)return{data:{user:null,session:null},error:null};a=s}else{const{data:s,error:l}=await this._getUser(t.access_token);if(l)throw l;a={access_token:t.access_token,refresh_token:t.refresh_token,user:s.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(r){if(W(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:s}=r;if(s)throw s;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new kr;const{session:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(W(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Pt())throw new Ea("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Ea(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new uh("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ea("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new uh("No code detected.");const{data:x,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:a,refresh_token:o,expires_in:s,expires_at:l,token_type:c}=t;if(!a||!s||!o||!c)throw new Ea("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(s);let f=u+d;l&&(f=parseInt(l));const h=f-u;h*1e3<=Cn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${d}s`);const m=f-d;u-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,f,u):u-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,f,u);const{data:p,error:g}=await this._getUser(a);if(g)throw g;const b={provider_token:n,provider_refresh_token:i,access_token:a,expires_in:d,expires_at:f,refresh_token:o,token_type:c,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:b,redirectType:t.type},error:null}}catch(n){if(W(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await qr(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return{error:a};const o=(n=i.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:s}=await this.admin.signOut(o,t);if(s&&!(AE(s)&&(s.status===404||s.status===401||s.status===403)))return{error:s}}return t!=="others"&&(await this._removeSession(),await jr(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=UE(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:a},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await Pn(this.storage,this.storageKey,!0));try{return await X(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(W(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(W(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:i}=await this._useSession(async a=>{var o,s,l,c,u;const{data:d,error:f}=a;if(f)throw f;const h=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await X(this.fetch,"GET",h,{headers:this.headers,jwt:(u=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(i)throw i;return Pt()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(W(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:o}=r;if(o)throw o;return await X(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(W(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await WE(async i=>(i>0&&await qE(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await X(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Gt})),(i,a)=>{const o=200*Math.pow(2,i);return a&&qs(a)&&Date.now()+o-n<Cn})}catch(n){if(this._debug(r,"error",n),W(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Pt()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await qr(this.storage,this.storageKey);if(i&&this.userStorage){let o=await qr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await Rn(this.userStorage,this.storageKey+"-user",o)),i.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:Ks()}else if(i&&!i.user&&!i.user){const o=await qr(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(i.user=o.user,await jr(this.storage,this.storageKey+"-user"),await Rn(this.storage,this.storageKey,i)):i.user=Ks()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const a=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<zs;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${zs}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),qs(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:s}=await this._getUser(i.access_token);!s&&(o!=null&&o.user)?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new kr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Zo;const{data:a,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!a.session)throw new kr;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const s={session:a.session,error:null};return this.refreshingDeferred.resolve(s),s}catch(a){if(this._debug(i,"error",a),W(a)){const o={session:null,error:a};return qs(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async s=>{try{await s.callback(t,r)}catch(l){a.push(l)}});if(await Promise.all(o),a.length>0){for(let s=0;s<a.length;s+=1)console.error(a[s]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Rn(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const a=mh(i);await Rn(this.storage,this.storageKey,a)}else{const i=mh(r);await Rn(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await jr(this.storage,this.storageKey),await jr(this.storage,this.storageKey+"-code-verifier"),await jr(this.storage,this.storageKey+"-user"),this.userStorage&&await jr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Pt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Cn);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/Cn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Cn}ms, refresh threshold is ${Fc} ticks`),i<=Fc&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Py)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Pt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,o]=await Pn(this.storage,this.storageKey),s=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(s.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);i.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?{data:null,error:a}:await X(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(W(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:o}=r;if(o)return{data:null,error:o};const s=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:c}=await X(this.fetch,"POST",`${this.url}/factors`,{body:s,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(W(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return{data:null,error:a};const{data:o,error:s}=await X(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return s?{data:null,error:s}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:s})})}catch(r){if(W(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?{data:null,error:a}:await X(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(W(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],i=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),a=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:i,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:i},error:a}=t;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Ws(i.access_token);let s=null;o.aal&&(s=o.aal);let l=s;((n=(r=i.user.factors)===null||r===void 0?void 0:r.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const u=o.amr||[];return{data:{currentLevel:s,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(s=>s.kid===t);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(s=>s.kid===t),n&&this.jwks_cached_at+jE>i)return n;const{data:a,error:o}=await X(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,n=a.keys.find(s=>s.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:h,error:m}=await this.getSession();if(m||!h.session)return{data:null,error:m};n=h.session.access_token}const{header:i,payload:a,signature:o,raw:{header:s,payload:l}}=Ws(n);r!=null&&r.allowExpired||XE(a.exp);const c=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!c){const{error:h}=await this.getUser(n);if(h)throw h;return{data:{claims:a,header:i,signature:o},error:null}}const u=ZE(i.alg),d=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,d,o,NE(`${s}.${l}`)))throw new Wc("Invalid JWT signature");return{data:{claims:a,header:i,signature:o},error:null}}catch(n){if(W(n))return{data:null,error:n};throw n}}}Ni.nextInstanceID=0;const vO=Ni;class yO extends vO{constructor(t){super(t)}}var bO=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(u){try{c(n.next(u))}catch(d){o(d)}}function l(u){try{c(n.throw(u))}catch(d){o(d)}}function c(u){u.done?a(u.value):i(u.value).then(s,l)}c((n=n.apply(e,t||[])).next())})};class wO{constructor(t,r,n){var i,a,o;this.supabaseUrl=t,this.supabaseKey=r;const s=_E(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const l=`sb-${s.hostname.split(".")[0]}-auth-token`,c={db:fE,realtime:pE,auth:Object.assign(Object.assign({},hE),{storageKey:l}),global:dE},u=xE(n??{},c);this.storageKey=(i=u.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=u.global.headers)!==null&&a!==void 0?a:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=yE(r,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new kS(new URL("rest/v1",s).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new lE(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new yS(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return bO(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:a,storageKey:o,flowType:s,lock:l,debug:c},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new yO({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:o,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:a,flowType:s,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(h=>h.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new KS(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const xO=(e,t,r)=>new wO(e,t,r);function _O(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}_O()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const SO="https://rjbgomsmplhldxnojkyz.supabase.co",EO="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJqYmdvbXNtcGxobGR4bm9qa3l6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDQ0OTUwOTAsImV4cCI6MjA2MDA3MTA5MH0.FGoxQunc7nWaIwb1F9FdrmFgCSJ3ut34VwVg2w0g4l0",Qe=xO(SO,EO);var ky={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},wh=C.createContext&&C.createContext(ky),OO=["attr","size","title"];function PO(e,t){if(e==null)return{};var r=jO(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function jO(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function oo(){return oo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oo.apply(this,arguments)}function xh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function so(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xh(Object(r),!0).forEach(function(n){kO(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xh(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kO(e,t,r){return t=AO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AO(e){var t=TO(e,"string");return typeof t=="symbol"?t:t+""}function TO(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ay(e){return e&&e.map((t,r)=>C.createElement(t.tag,so({key:r},t.attr),Ay(t.child)))}function rd(e){return t=>C.createElement(CO,oo({attr:so({},e.attr)},t),Ay(e.child))}function CO(e){var t=r=>{var{attr:n,size:i,title:a}=e,o=PO(e,OO),s=i||r.size||"1em",l;return r.className&&(l=r.className),e.className&&(l=(l?l+" ":"")+e.className),C.createElement("svg",oo({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,o,{className:l,style:so(so({color:e.color||r.color},r.style),e.style),height:s,width:s,xmlns:"http://www.w3.org/2000/svg"}),a&&C.createElement("title",null,a),e.children)};return wh!==void 0?C.createElement(wh.Consumer,null,r=>t(r)):t(ky)}function RO(e){return rd({attr:{viewBox:"0 0 488 512"},child:[{tag:"path",attr:{d:"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"},child:[]}]})(e)}function nd(e){return rd({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"},child:[]}]})(e)}function id(e){return rd({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(e)}function IO(){const{t:e}=Se(),[t,r]=y.useState(""),[n,i]=y.useState(""),[a,o]=y.useState(!1),[s,l]=y.useState(""),[c,u]=y.useState(!0),d=qt();y.useEffect(()=>{(async()=>{const{data:g}=await Qe.auth.getSession();g!=null&&g.session&&(console.log("✅ Sesión detectada, redirigiendo..."),d("/dashboard")),u(!1)})()},[]);const f=async p=>{p.preventDefault(),l("");const{data:g,error:b}=await Qe.auth.signInWithPassword({email:t,password:n});if(b){console.error("❌ Error de login:",b.message),l(e("wrong_credentials"));return}if(!g.session){l(e("email_not_confirmed"));return}await m(g.session.user)},h=async()=>{l("");const p=`${window.location.origin}/dashboard`;console.log("🌐 Redirigiendo login con Google a:",p);const{data:g,error:b}=await Qe.auth.signInWithOAuth({provider:"google",options:{redirectTo:p}});b?(console.error("❌ Error al iniciar con Google:",b.message),l("Error al conectar con Google.")):console.log("📡 Redirección iniciada con Google:",g)},m=async p=>{const g="http://localhost:8001/initialize_user";console.log("📡 Llamando a:",g);try{const b=await fetch(g,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({auth_user_id:p.id,email:p.email})});if(!b.ok)throw new Error("❌ Error al inicializar usuario");const x=await b.json();console.log("✅ Datos de /initialize_user:",x),localStorage.setItem("client_id",x.client_id),localStorage.setItem("public_client_id",x.public_client_id),localStorage.setItem("user_id",p.id),d("/dashboard")}catch(b){console.error(b),l("Hubo un problema al iniciar sesión. Intenta de nuevo.")}};return c?v.jsx("div",{style:_h,children:v.jsx("p",{style:{color:"#ededed",fontSize:"1.1rem"},children:"Cargando sesión..."})}):v.jsx("div",{style:_h,children:v.jsxs("div",{style:$O,children:[v.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[v.jsx("img",{src:"/logo-evolvian.svg",alt:"Logo Evolvian",style:{width:"64px",margin:"0 auto 1rem"}}),v.jsx("h1",{style:{fontSize:"1.75rem",fontWeight:"bold"},children:"Evolvian"})]}),v.jsxs("form",{onSubmit:f,style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[v.jsx("div",{style:Eh,children:v.jsx("input",{type:"email",placeholder:e("email"),value:t,onChange:p=>r(p.target.value),required:!0,style:{...Sh,border:"none",flex:1},autoComplete:"email"})}),v.jsxs("div",{style:Eh,children:[v.jsx("input",{type:a?"text":"password",placeholder:e("password"),value:n,onChange:p=>i(p.target.value),required:!0,style:{...Sh,border:"none",flex:1},autoComplete:"current-password"}),v.jsx("div",{style:DO,onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:a?v.jsx(nd,{}):v.jsx(id,{})})]}),s&&v.jsx("p",{style:{color:"#f87171",textAlign:"center",fontSize:"0.875rem"},children:s}),v.jsx("button",{type:"submit",style:MO,children:e("login")}),v.jsxs("div",{style:NO,children:[v.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.4rem"},children:[v.jsx("input",{type:"checkbox"}),e("remember_me")]}),v.jsx($r,{to:"/forgot-password",style:LO,children:e("forgot_password")})]})]}),v.jsxs("p",{style:BO,children:[e("no_account")||"¿No tienes cuenta?"," ",v.jsx($r,{to:"/register",style:UO,children:e("register_here")||"Regístrate aquí"})]}),v.jsxs("div",{style:FO,children:[v.jsx("div",{style:Oh}),v.jsx("span",{children:e("or")}),v.jsx("div",{style:Oh})]}),v.jsxs("button",{onClick:h,style:zO,children:[v.jsx(RO,{}),e("login_with_google")]})]})})}const _h={height:"100vh",width:"100vw",backgroundColor:"#0f1c2e",display:"flex",alignItems:"center",justifyContent:"center",padding:"1rem",fontFamily:"system-ui, Avenir, Helvetica, Arial, sans-serif"},$O={width:"100%",maxWidth:"400px",backgroundColor:"#1b2a41",color:"white",borderRadius:"1.5rem",padding:"2rem",boxShadow:"0 15px 40px rgba(0,0,0,0.3)",border:"1px solid #274472"},Sh={width:"100%",padding:"0.6rem 1rem",backgroundColor:"transparent",borderRadius:"8px",color:"white",fontSize:"1rem"},Eh={display:"flex",alignItems:"center",border:"1px solid #274472",borderRadius:"8px",backgroundColor:"transparent",height:"40px",paddingRight:"0.75rem"},DO={color:"#ccc",cursor:"pointer",fontSize:"1.1rem"},MO={backgroundColor:"#2eb39a",padding:"0.7rem",color:"white",borderRadius:"8px",fontWeight:"bold",border:"none",cursor:"pointer",fontSize:"1rem"},NO={display:"flex",justifyContent:"space-between",fontSize:"0.875rem",color:"#ccc",marginTop:"0.5rem"},LO={color:"#a3d9b1",textDecoration:"underline"},BO={textAlign:"center",fontSize:"0.875rem",color:"#bbb",marginTop:"2rem"},UO={color:"#f5a623",fontWeight:"bold",textDecoration:"underline"},FO={display:"flex",alignItems:"center",gap:"1rem",margin:"2rem 0",color:"#888"},Oh={flex:1,height:"1px",backgroundColor:"#555"},zO={width:"100%",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",padding:"0.7rem",border:"1px solid white",borderRadius:"8px",backgroundColor:"transparent",color:"white",cursor:"pointer",fontSize:"1rem"};function qO(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}const WO=e=>{switch(e){case"success":return VO;case"info":return YO;case"warning":return GO;case"error":return JO;default:return null}},KO=Array(12).fill(0),HO=({visible:e,className:t})=>C.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},C.createElement("div",{className:"sonner-spinner"},KO.map((r,n)=>C.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),VO=C.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},C.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),GO=C.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},C.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),YO=C.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},C.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),JO=C.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},C.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),XO=C.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},C.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),C.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),ZO=()=>{const[e,t]=C.useState(document.hidden);return C.useEffect(()=>{const r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e};let Kc=1;class QO{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const r=this.subscribers.indexOf(t);this.subscribers.splice(r,1)}),this.publish=t=>{this.subscribers.forEach(r=>r(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var r;const{message:n,...i}=t,a=typeof(t==null?void 0:t.id)=="number"||((r=t.id)==null?void 0:r.length)>0?t.id:Kc++,o=this.toasts.find(l=>l.id===a),s=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),o?this.toasts=this.toasts.map(l=>l.id===a?(this.publish({...l,...t,id:a,title:n}),{...l,...t,id:a,dismissible:s,title:n}):l):this.addToast({title:n,...i,dismissible:s,id:a}),a},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:t,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),t),this.message=(t,r)=>this.create({...r,message:t}),this.error=(t,r)=>this.create({...r,message:t,type:"error"}),this.success=(t,r)=>this.create({...r,type:"success",message:t}),this.info=(t,r)=>this.create({...r,type:"info",message:t}),this.warning=(t,r)=>this.create({...r,type:"warning",message:t}),this.loading=(t,r)=>this.create({...r,type:"loading",message:t}),this.promise=(t,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:t,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const i=Promise.resolve(t instanceof Function?t():t);let a=n!==void 0,o;const s=i.then(async c=>{if(o=["resolve",c],C.isValidElement(c))a=!1,this.create({id:n,type:"default",message:c});else if(tP(c)&&!c.ok){a=!1;const d=typeof r.error=="function"?await r.error(`HTTP error! status: ${c.status}`):r.error,f=typeof r.description=="function"?await r.description(`HTTP error! status: ${c.status}`):r.description,m=typeof d=="object"&&!C.isValidElement(d)?d:{message:d};this.create({id:n,type:"error",description:f,...m})}else if(c instanceof Error){a=!1;const d=typeof r.error=="function"?await r.error(c):r.error,f=typeof r.description=="function"?await r.description(c):r.description,m=typeof d=="object"&&!C.isValidElement(d)?d:{message:d};this.create({id:n,type:"error",description:f,...m})}else if(r.success!==void 0){a=!1;const d=typeof r.success=="function"?await r.success(c):r.success,f=typeof r.description=="function"?await r.description(c):r.description,m=typeof d=="object"&&!C.isValidElement(d)?d:{message:d};this.create({id:n,type:"success",description:f,...m})}}).catch(async c=>{if(o=["reject",c],r.error!==void 0){a=!1;const u=typeof r.error=="function"?await r.error(c):r.error,d=typeof r.description=="function"?await r.description(c):r.description,h=typeof u=="object"&&!C.isValidElement(u)?u:{message:u};this.create({id:n,type:"error",description:d,...h})}}).finally(()=>{a&&(this.dismiss(n),n=void 0),r.finally==null||r.finally.call(r)}),l=()=>new Promise((c,u)=>s.then(()=>o[0]==="reject"?u(o[1]):c(o[1])).catch(u));return typeof n!="string"&&typeof n!="number"?{unwrap:l}:Object.assign(n,{unwrap:l})},this.custom=(t,r)=>{const n=(r==null?void 0:r.id)||Kc++;return this.create({jsx:t(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const nt=new QO,eP=(e,t)=>{const r=(t==null?void 0:t.id)||Kc++;return nt.addToast({title:e,...t,id:r}),r},tP=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",rP=eP,nP=()=>nt.toasts,iP=()=>nt.getActiveToasts(),He=Object.assign(rP,{success:nt.success,info:nt.info,warning:nt.warning,error:nt.error,custom:nt.custom,message:nt.message,promise:nt.promise,dismiss:nt.dismiss,loading:nt.loading},{getHistory:nP,getToasts:iP});qO("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Oa(e){return e.label!==void 0}const aP=3,oP="24px",sP="16px",Ph=4e3,lP=356,cP=14,uP=45,dP=200;function Ht(...e){return e.filter(Boolean).join(" ")}function fP(e){const[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}const hP=e=>{var t,r,n,i,a,o,s,l,c;const{invert:u,toast:d,unstyled:f,interacting:h,setHeights:m,visibleToasts:p,heights:g,index:b,toasts:x,expanded:w,removeToast:_,defaultRichColors:S,closeButton:E,style:O,cancelButtonStyle:k,actionButtonStyle:A,className:D="",descriptionClassName:R="",duration:I,position:B,gap:L,expandByDefault:H,classNames:N,icons:q,closeButtonAriaLabel:Q="Close toast"}=e,[ee,be]=C.useState(null),[me,z]=C.useState(null),[V,re]=C.useState(!1),[J,tt]=C.useState(!1),[Or,le]=C.useState(!1),[$,G]=C.useState(!1),[Z,T]=C.useState(!1),[ze,ne]=C.useState(0),[Ye,qe]=C.useState(0),ut=C.useRef(d.duration||I||Ph),di=C.useRef(null),nr=C.useRef(null),j_=b===0,k_=b+1<=p,dt=d.type,vn=d.dismissible!==!1,A_=d.className||"",T_=d.descriptionClassName||"",va=C.useMemo(()=>g.findIndex(Y=>Y.toastId===d.id)||0,[g,d.id]),C_=C.useMemo(()=>{var Y;return(Y=d.closeButton)!=null?Y:E},[d.closeButton,E]),Nf=C.useMemo(()=>d.duration||I||Ph,[d.duration,I]),$s=C.useRef(0),yn=C.useRef(0),Lf=C.useRef(0),bn=C.useRef(null),[R_,I_]=B.split("-"),Bf=C.useMemo(()=>g.reduce((Y,Ae,We)=>We>=va?Y:Y+Ae.height,0),[g,va]),Uf=ZO(),$_=d.invert||u,Ds=dt==="loading";yn.current=C.useMemo(()=>va*L+Bf,[va,Bf]),C.useEffect(()=>{ut.current=Nf},[Nf]),C.useEffect(()=>{re(!0)},[]),C.useEffect(()=>{const Y=nr.current;if(Y){const Ae=Y.getBoundingClientRect().height;return qe(Ae),m(We=>[{toastId:d.id,height:Ae,position:d.position},...We]),()=>m(We=>We.filter(ft=>ft.toastId!==d.id))}},[m,d.id]),C.useLayoutEffect(()=>{if(!V)return;const Y=nr.current,Ae=Y.style.height;Y.style.height="auto";const We=Y.getBoundingClientRect().height;Y.style.height=Ae,qe(We),m(ft=>ft.find(Ne=>Ne.toastId===d.id)?ft.map(Ne=>Ne.toastId===d.id?{...Ne,height:We}:Ne):[{toastId:d.id,height:We,position:d.position},...ft])},[V,d.title,d.description,m,d.id,d.jsx,d.action,d.cancel]);const Pr=C.useCallback(()=>{tt(!0),ne(yn.current),m(Y=>Y.filter(Ae=>Ae.toastId!==d.id)),setTimeout(()=>{_(d)},dP)},[d,_,m,yn]);C.useEffect(()=>{if(d.promise&&dt==="loading"||d.duration===1/0||d.type==="loading")return;let Y;return w||h||Uf?(()=>{if(Lf.current<$s.current){const ft=new Date().getTime()-$s.current;ut.current=ut.current-ft}Lf.current=new Date().getTime()})():(()=>{ut.current!==1/0&&($s.current=new Date().getTime(),Y=setTimeout(()=>{d.onAutoClose==null||d.onAutoClose.call(d,d),Pr()},ut.current))})(),()=>clearTimeout(Y)},[w,h,d,dt,Uf,Pr]),C.useEffect(()=>{d.delete&&(Pr(),d.onDismiss==null||d.onDismiss.call(d,d))},[Pr,d.delete]);function D_(){var Y;if(q!=null&&q.loading){var Ae;return C.createElement("div",{className:Ht(N==null?void 0:N.loader,d==null||(Ae=d.classNames)==null?void 0:Ae.loader,"sonner-loader"),"data-visible":dt==="loading"},q.loading)}return C.createElement(HO,{className:Ht(N==null?void 0:N.loader,d==null||(Y=d.classNames)==null?void 0:Y.loader),visible:dt==="loading"})}const M_=d.icon||(q==null?void 0:q[dt])||WO(dt);var Ff,zf;return C.createElement("li",{tabIndex:0,ref:nr,className:Ht(D,A_,N==null?void 0:N.toast,d==null||(t=d.classNames)==null?void 0:t.toast,N==null?void 0:N.default,N==null?void 0:N[dt],d==null||(r=d.classNames)==null?void 0:r[dt]),"data-sonner-toast":"","data-rich-colors":(Ff=d.richColors)!=null?Ff:S,"data-styled":!(d.jsx||d.unstyled||f),"data-mounted":V,"data-promise":!!d.promise,"data-swiped":Z,"data-removed":J,"data-visible":k_,"data-y-position":R_,"data-x-position":I_,"data-index":b,"data-front":j_,"data-swiping":Or,"data-dismissible":vn,"data-type":dt,"data-invert":$_,"data-swipe-out":$,"data-swipe-direction":me,"data-expanded":!!(w||H&&V),"data-testid":d.testId,style:{"--index":b,"--toasts-before":b,"--z-index":x.length-b,"--offset":`${J?ze:yn.current}px`,"--initial-height":H?"auto":`${Ye}px`,...O,...d.style},onDragEnd:()=>{le(!1),be(null),bn.current=null},onPointerDown:Y=>{Y.button!==2&&(Ds||!vn||(di.current=new Date,ne(yn.current),Y.target.setPointerCapture(Y.pointerId),Y.target.tagName!=="BUTTON"&&(le(!0),bn.current={x:Y.clientX,y:Y.clientY})))},onPointerUp:()=>{var Y,Ae,We;if($||!vn)return;bn.current=null;const ft=Number(((Y=nr.current)==null?void 0:Y.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),ya=Number(((Ae=nr.current)==null?void 0:Ae.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Ne=new Date().getTime()-((We=di.current)==null?void 0:We.getTime()),St=ee==="x"?ft:ya,ba=Math.abs(St)/Ne;if(Math.abs(St)>=uP||ba>.11){ne(yn.current),d.onDismiss==null||d.onDismiss.call(d,d),z(ee==="x"?ft>0?"right":"left":ya>0?"down":"up"),Pr(),G(!0);return}else{var Mt,Nt;(Mt=nr.current)==null||Mt.style.setProperty("--swipe-amount-x","0px"),(Nt=nr.current)==null||Nt.style.setProperty("--swipe-amount-y","0px")}T(!1),le(!1),be(null)},onPointerMove:Y=>{var Ae,We,ft;if(!bn.current||!vn||((Ae=window.getSelection())==null?void 0:Ae.toString().length)>0)return;const Ne=Y.clientY-bn.current.y,St=Y.clientX-bn.current.x;var ba;const Mt=(ba=e.swipeDirections)!=null?ba:fP(B);!ee&&(Math.abs(St)>1||Math.abs(Ne)>1)&&be(Math.abs(St)>Math.abs(Ne)?"x":"y");let Nt={x:0,y:0};const qf=Fr=>1/(1.5+Math.abs(Fr)/20);if(ee==="y"){if(Mt.includes("top")||Mt.includes("bottom"))if(Mt.includes("top")&&Ne<0||Mt.includes("bottom")&&Ne>0)Nt.y=Ne;else{const Fr=Ne*qf(Ne);Nt.y=Math.abs(Fr)<Math.abs(Ne)?Fr:Ne}}else if(ee==="x"&&(Mt.includes("left")||Mt.includes("right")))if(Mt.includes("left")&&St<0||Mt.includes("right")&&St>0)Nt.x=St;else{const Fr=St*qf(St);Nt.x=Math.abs(Fr)<Math.abs(St)?Fr:St}(Math.abs(Nt.x)>0||Math.abs(Nt.y)>0)&&T(!0),(We=nr.current)==null||We.style.setProperty("--swipe-amount-x",`${Nt.x}px`),(ft=nr.current)==null||ft.style.setProperty("--swipe-amount-y",`${Nt.y}px`)}},C_&&!d.jsx&&dt!=="loading"?C.createElement("button",{"aria-label":Q,"data-disabled":Ds,"data-close-button":!0,onClick:Ds||!vn?()=>{}:()=>{Pr(),d.onDismiss==null||d.onDismiss.call(d,d)},className:Ht(N==null?void 0:N.closeButton,d==null||(n=d.classNames)==null?void 0:n.closeButton)},(zf=q==null?void 0:q.close)!=null?zf:XO):null,(dt||d.icon||d.promise)&&d.icon!==null&&((q==null?void 0:q[dt])!==null||d.icon)?C.createElement("div",{"data-icon":"",className:Ht(N==null?void 0:N.icon,d==null||(i=d.classNames)==null?void 0:i.icon)},d.promise||d.type==="loading"&&!d.icon?d.icon||D_():null,d.type!=="loading"?M_:null):null,C.createElement("div",{"data-content":"",className:Ht(N==null?void 0:N.content,d==null||(a=d.classNames)==null?void 0:a.content)},C.createElement("div",{"data-title":"",className:Ht(N==null?void 0:N.title,d==null||(o=d.classNames)==null?void 0:o.title)},d.jsx?d.jsx:typeof d.title=="function"?d.title():d.title),d.description?C.createElement("div",{"data-description":"",className:Ht(R,T_,N==null?void 0:N.description,d==null||(s=d.classNames)==null?void 0:s.description)},typeof d.description=="function"?d.description():d.description):null),C.isValidElement(d.cancel)?d.cancel:d.cancel&&Oa(d.cancel)?C.createElement("button",{"data-button":!0,"data-cancel":!0,style:d.cancelButtonStyle||k,onClick:Y=>{Oa(d.cancel)&&vn&&(d.cancel.onClick==null||d.cancel.onClick.call(d.cancel,Y),Pr())},className:Ht(N==null?void 0:N.cancelButton,d==null||(l=d.classNames)==null?void 0:l.cancelButton)},d.cancel.label):null,C.isValidElement(d.action)?d.action:d.action&&Oa(d.action)?C.createElement("button",{"data-button":!0,"data-action":!0,style:d.actionButtonStyle||A,onClick:Y=>{Oa(d.action)&&(d.action.onClick==null||d.action.onClick.call(d.action,Y),!Y.defaultPrevented&&Pr())},className:Ht(N==null?void 0:N.actionButton,d==null||(c=d.classNames)==null?void 0:c.actionButton)},d.action.label):null)};function jh(){if(typeof window>"u"||typeof document>"u")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function pP(e,t){const r={};return[e,t].forEach((n,i)=>{const a=i===1,o=a?"--mobile-offset":"--offset",s=a?sP:oP;function l(c){["top","right","bottom","left"].forEach(u=>{r[`${o}-${u}`]=typeof c=="number"?`${c}px`:c})}typeof n=="number"||typeof n=="string"?l(n):typeof n=="object"?["top","right","bottom","left"].forEach(c=>{n[c]===void 0?r[`${o}-${c}`]=s:r[`${o}-${c}`]=typeof n[c]=="number"?`${n[c]}px`:n[c]}):l(s)}),r}const mP=C.forwardRef(function(t,r){const{id:n,invert:i,position:a="bottom-right",hotkey:o=["altKey","KeyT"],expand:s,closeButton:l,className:c,offset:u,mobileOffset:d,theme:f="light",richColors:h,duration:m,style:p,visibleToasts:g=aP,toastOptions:b,dir:x=jh(),gap:w=cP,icons:_,containerAriaLabel:S="Notifications"}=t,[E,O]=C.useState([]),k=C.useMemo(()=>n?E.filter(V=>V.toasterId===n):E.filter(V=>!V.toasterId),[E,n]),A=C.useMemo(()=>Array.from(new Set([a].concat(k.filter(V=>V.position).map(V=>V.position)))),[k,a]),[D,R]=C.useState([]),[I,B]=C.useState(!1),[L,H]=C.useState(!1),[N,q]=C.useState(f!=="system"?f:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),Q=C.useRef(null),ee=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),be=C.useRef(null),me=C.useRef(!1),z=C.useCallback(V=>{O(re=>{var J;return(J=re.find(tt=>tt.id===V.id))!=null&&J.delete||nt.dismiss(V.id),re.filter(({id:tt})=>tt!==V.id)})},[]);return C.useEffect(()=>nt.subscribe(V=>{if(V.dismiss){requestAnimationFrame(()=>{O(re=>re.map(J=>J.id===V.id?{...J,delete:!0}:J))});return}setTimeout(()=>{hS.flushSync(()=>{O(re=>{const J=re.findIndex(tt=>tt.id===V.id);return J!==-1?[...re.slice(0,J),{...re[J],...V},...re.slice(J+1)]:[V,...re]})})})}),[E]),C.useEffect(()=>{if(f!=="system"){q(f);return}if(f==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?q("dark"):q("light")),typeof window>"u")return;const V=window.matchMedia("(prefers-color-scheme: dark)");try{V.addEventListener("change",({matches:re})=>{q(re?"dark":"light")})}catch{V.addListener(({matches:J})=>{try{q(J?"dark":"light")}catch(tt){console.error(tt)}})}},[f]),C.useEffect(()=>{E.length<=1&&B(!1)},[E]),C.useEffect(()=>{const V=re=>{var J;if(o.every(le=>re[le]||re.code===le)){var Or;B(!0),(Or=Q.current)==null||Or.focus()}re.code==="Escape"&&(document.activeElement===Q.current||(J=Q.current)!=null&&J.contains(document.activeElement))&&B(!1)};return document.addEventListener("keydown",V),()=>document.removeEventListener("keydown",V)},[o]),C.useEffect(()=>{if(Q.current)return()=>{be.current&&(be.current.focus({preventScroll:!0}),be.current=null,me.current=!1)}},[Q.current]),C.createElement("section",{ref:r,"aria-label":`${S} ${ee}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},A.map((V,re)=>{var J;const[tt,Or]=V.split("-");return k.length?C.createElement("ol",{key:V,dir:x==="auto"?jh():x,tabIndex:-1,ref:Q,className:c,"data-sonner-toaster":!0,"data-sonner-theme":N,"data-y-position":tt,"data-x-position":Or,style:{"--front-toast-height":`${((J=D[0])==null?void 0:J.height)||0}px`,"--width":`${lP}px`,"--gap":`${w}px`,...p,...pP(u,d)},onBlur:le=>{me.current&&!le.currentTarget.contains(le.relatedTarget)&&(me.current=!1,be.current&&(be.current.focus({preventScroll:!0}),be.current=null))},onFocus:le=>{le.target instanceof HTMLElement&&le.target.dataset.dismissible==="false"||me.current||(me.current=!0,be.current=le.relatedTarget)},onMouseEnter:()=>B(!0),onMouseMove:()=>B(!0),onMouseLeave:()=>{L||B(!1)},onDragEnd:()=>B(!1),onPointerDown:le=>{le.target instanceof HTMLElement&&le.target.dataset.dismissible==="false"||H(!0)},onPointerUp:()=>H(!1)},k.filter(le=>!le.position&&re===0||le.position===V).map((le,$)=>{var G,Z;return C.createElement(hP,{key:le.id,icons:_,index:$,toast:le,defaultRichColors:h,duration:(G=b==null?void 0:b.duration)!=null?G:m,className:b==null?void 0:b.className,descriptionClassName:b==null?void 0:b.descriptionClassName,invert:i,visibleToasts:g,closeButton:(Z=b==null?void 0:b.closeButton)!=null?Z:l,interacting:L,position:V,style:b==null?void 0:b.style,unstyled:b==null?void 0:b.unstyled,classNames:b==null?void 0:b.classNames,cancelButtonStyle:b==null?void 0:b.cancelButtonStyle,actionButtonStyle:b==null?void 0:b.actionButtonStyle,closeButtonAriaLabel:b==null?void 0:b.closeButtonAriaLabel,removeToast:z,toasts:k.filter(T=>T.position==le.position),heights:D.filter(T=>T.position==le.position),setHeights:R,expandByDefault:s,gap:w,expanded:I,swipeDirections:t.swipeDirections})})):null}))});function gP(){const{t:e}=Se(),[t,r]=y.useState(""),[n,i]=y.useState(""),[a,o]=y.useState(""),[s,l]=y.useState(!1),c=qt(),u=async d=>{if(d.preventDefault(),n!==a){He.error(e("passwords_do_not_match")||"Las contraseñas no coinciden");return}if(!/^[A-Za-z0-9]{8,}$/.test(n)){He.error(`${e("invalid_password_format")} ${e("password_hint")}`);return}try{const m=await(await fetch("http://localhost:8001/check_email_exists",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t})})).json();if(m.exists){He.error(`${e("email_already_registered")} ${m.provider}`);return}const{data:p,error:g}=await Qe.auth.signUp({email:t,password:n});if(g){He.error(e("error_creating_account")+": "+g.message);return}if(!p.session){He.success(e("account_created_check_email")),setTimeout(()=>c("/login"),3e3);return}if(!(await fetch("http://localhost:8001/initialize_user",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({auth_user_id:p.user.id,email:p.user.email})})).ok){He.error(e("error_initializing_account"));return}He.success(e("account_created_redirecting")),setTimeout(()=>c("/dashboard"),2e3)}catch(h){console.error(h),He.error(e("unexpected_error"))}};return v.jsx("div",{style:vP,children:v.jsxs("div",{style:yP,children:[v.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[v.jsx("img",{src:"/logo-evolvian.svg",alt:"Logo Evolvian",style:{width:"64px",margin:"0 auto 1rem"}}),v.jsx("h1",{style:{fontSize:"1.75rem",fontWeight:"bold"},children:e("create_account")})]}),v.jsxs("form",{onSubmit:u,style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[v.jsx("div",{style:Gs,children:v.jsx("input",{type:"email",placeholder:e("email"),value:t,onChange:d=>r(d.target.value),required:!0,style:{...Vs,border:"none",flex:1}})}),v.jsxs("div",{style:Gs,children:[v.jsx("input",{type:s?"text":"password",placeholder:e("password"),value:n,onChange:d=>i(d.target.value),required:!0,style:{...Vs,border:"none",flex:1}}),v.jsx("div",{style:bP,onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),children:s?v.jsx(nd,{}):v.jsx(id,{})})]}),v.jsx("p",{style:wP,children:e("password_hint")}),v.jsx("div",{style:Gs,children:v.jsx("input",{type:"password",placeholder:e("confirm_password")||"Confirmar contraseña",value:a,onChange:d=>o(d.target.value),required:!0,style:{...Vs,border:"none",flex:1}})}),v.jsx("button",{type:"submit",style:xP,children:e("create_account")})]}),v.jsxs("p",{style:_P,children:[e("already_have_account")," ",v.jsx($r,{to:"/login",style:SP,children:e("login_here")})]})]})})}const vP={height:"100vh",width:"100vw",backgroundColor:"#0f1c2e",display:"flex",alignItems:"center",justifyContent:"center",padding:"1rem",fontFamily:"system-ui, Avenir, Helvetica, Arial, sans-serif"},yP={width:"100%",maxWidth:"400px",backgroundColor:"#1b2a41",color:"white",borderRadius:"1.5rem",padding:"2rem",boxShadow:"0 15px 40px rgba(0,0,0,0.3)",border:"1px solid #274472"},Vs={width:"100%",padding:"0.6rem 1rem",background:"transparent",borderRadius:"8px",color:"white",fontSize:"1rem"},Gs={display:"flex",alignItems:"center",border:"1px solid #274472",borderRadius:"8px",backgroundColor:"transparent",height:"40px",paddingRight:"0.75rem"},bP={color:"#ccc",cursor:"pointer",fontSize:"1.1rem"},wP={fontSize:"0.75rem",color:"#ccc",marginTop:"-0.5rem",marginBottom:"0.5rem",paddingLeft:"0.25rem"},xP={backgroundColor:"#2eb39a",padding:"0.7rem",color:"white",borderRadius:"8px",fontWeight:"bold",border:"none",cursor:"pointer",fontSize:"1rem"},_P={textAlign:"center",fontSize:"0.875rem",color:"#bbb",marginTop:"2rem"},SP={color:"#f5a623",fontWeight:"bold",textDecoration:"underline"};function EP(){const{t:e}=Se(),t=qt();return y.useEffect(()=>{const r=setTimeout(()=>{t("/login")},4e3);return()=>clearTimeout(r)},[t]),v.jsx("div",{style:OP,children:v.jsxs("div",{style:PP,children:[v.jsxs("h2",{style:jP,children:["✅ ",e("email_confirmed_successfully")]}),v.jsx("p",{style:kP,children:e("redirecting_to_login")})]})})}const OP={height:"100vh",width:"100vw",backgroundColor:"#0f1c2e",display:"flex",alignItems:"center",justifyContent:"center",padding:"1rem",fontFamily:"system-ui, Avenir, Helvetica, Arial, sans-serif"},PP={backgroundColor:"#1b2a41",color:"#ffffff",padding:"2rem",borderRadius:"1.5rem",boxShadow:"0 15px 40px rgba(0,0,0,0.3)",textAlign:"center",maxWidth:"400px",width:"100%",border:"1px solid #274472"},jP={fontSize:"1.25rem",fontWeight:"600",marginBottom:"0.75rem",color:"#a3d9b1"},kP={fontSize:"0.95rem",color:"#ededed"};function AP(){const{t:e}=Se(),[t,r]=y.useState(""),n=async i=>{i.preventDefault();const{error:a}=await Qe.auth.resetPasswordForEmail(t,{redirectTo:`${window.location.origin}/reset-password`});a?(console.error("❌ Error al enviar reset:",a.message),He.error(e("error_sending_reset_email"))):He.success(e("check_your_email"))};return v.jsx("div",{style:TP,children:v.jsxs("div",{style:CP,children:[v.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[v.jsx("img",{src:"/logo-evolvian.svg",alt:"Logo Evolvian",style:{width:"64px",margin:"0 auto 1rem"}}),v.jsx("h1",{style:RP,children:e("recover_password")}),v.jsx("p",{style:IP,children:e("enter_your_email")})]}),v.jsxs("form",{onSubmit:n,style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[v.jsx("div",{style:$P,children:v.jsx("input",{type:"email",placeholder:e("email"),value:t,onChange:i=>r(i.target.value),required:!0,style:{...DP,border:"none",flex:1}})}),v.jsx("button",{type:"submit",style:MP,children:e("send_email")})]}),v.jsxs("p",{style:NP,children:[e("already_have_access")," ",v.jsx($r,{to:"/login",style:LP,children:e("login")})]})]})})}const TP={height:"100vh",width:"100vw",backgroundColor:"#0f1c2e",display:"flex",alignItems:"center",justifyContent:"center",padding:"1rem",fontFamily:"system-ui, Avenir, Helvetica, Arial, sans-serif"},CP={width:"100%",maxWidth:"400px",backgroundColor:"#1b2a41",borderRadius:"1.5rem",padding:"2rem",color:"white",boxShadow:"0 15px 40px rgba(0,0,0,0.3)",border:"1px solid #274472"},RP={fontSize:"1.5rem",fontWeight:"bold"},IP={fontSize:"0.9rem",color:"#ccc"},$P={display:"flex",alignItems:"center",border:"1px solid #274472",borderRadius:"8px",backgroundColor:"transparent",height:"40px",paddingRight:"0.75rem"},DP={width:"100%",padding:"0.6rem 1rem",background:"transparent",borderRadius:"8px",color:"white",fontSize:"1rem"},MP={backgroundColor:"#2eb39a",padding:"0.7rem",color:"white",borderRadius:"8px",fontWeight:"bold",border:"none",cursor:"pointer",fontSize:"1rem"},NP={textAlign:"center",fontSize:"0.875rem",color:"#bbb",marginTop:"2rem"},LP={color:"#f5a623",fontWeight:"bold",textDecoration:"underline"};function BP(){const{t:e}=Se(),t=qt(),[r,n]=y.useState(""),[i,a]=y.useState(!1),[o,s]=y.useState(!1),[l,c]=y.useState(!1);y.useEffect(()=>{window.location.hash.includes("access_token")?c(!0):(He.error(e("invalid_token")),t("/forgot-password"))},[t,e]);const u=async d=>{d.preventDefault(),s(!0);const{error:f}=await Qe.auth.updateUser({password:r});f?He.error(`❌ ${e("error_updating_password")}: ${f.message}`):(He.success(`🔒 ${e("password_updated_successfully")}`),t("/login")),s(!1)};return l?v.jsx("div",{style:UP,children:v.jsxs("div",{style:FP,children:[v.jsxs("div",{style:{textAlign:"center",marginBottom:"1.5rem"},children:[v.jsx("img",{src:"/logo-evolvian.svg",alt:"Logo Evolvian",style:{width:"64px",margin:"0 auto 1rem"}}),v.jsx("h1",{style:zP,children:e("new_password")}),v.jsx("p",{style:qP,children:e("enter_new_password")})]}),v.jsxs("form",{onSubmit:u,style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[v.jsxs("div",{style:WP,children:[v.jsx("input",{type:i?"text":"password",placeholder:e("new_password_placeholder"),value:r,onChange:d=>n(d.target.value),required:!0,style:{...KP,border:"none",flex:1}}),v.jsx("div",{style:HP,onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),children:i?v.jsx(nd,{}):v.jsx(id,{})})]}),v.jsx("button",{type:"submit",disabled:o,style:{...VP,opacity:o?.7:1,cursor:o?"not-allowed":"pointer"},children:e(o?"updating":"update_password")})]})]})}):null}const UP={height:"100vh",width:"100vw",backgroundColor:"#0f1c2e",display:"flex",alignItems:"center",justifyContent:"center",padding:"1rem",fontFamily:"system-ui, Avenir, Helvetica, Arial, sans-serif"},FP={width:"100%",maxWidth:"400px",backgroundColor:"#1b2a41",borderRadius:"1.5rem",padding:"2rem",color:"white",boxShadow:"0 15px 40px rgba(0,0,0,0.3)",border:"1px solid #274472"},zP={fontSize:"1.5rem",fontWeight:"bold"},qP={fontSize:"0.9rem",color:"#ccc"},WP={display:"flex",alignItems:"center",border:"1px solid #274472",borderRadius:"8px",backgroundColor:"transparent",height:"40px",paddingRight:"0.75rem"},KP={width:"100%",padding:"0.6rem 1rem",background:"transparent",borderRadius:"8px",color:"white",fontSize:"1rem"},HP={color:"#ccc",cursor:"pointer",fontSize:"1.1rem"},VP={backgroundColor:"#2eb39a",padding:"0.7rem",color:"white",borderRadius:"8px",fontWeight:"bold",border:"none",fontSize:"1rem"};function GP(){const{t:e}=Se(),[t,r]=y.useState(""),[n,i]=y.useState(!1),[a,o]=y.useState(!1),s=async l=>{l.preventDefault(),i(!0);const{error:c}=await Qe.auth.signInWithOtp({email:t,options:{redirectTo:`${window.location.origin}/dashboard`}});c?He.error(e("error_sending_login_link")):(He.success(e("check_your_email_login_link")),o(!0)),i(!1)};return v.jsx("div",{style:YP,children:v.jsxs("div",{style:JP,children:[v.jsxs("div",{style:{textAlign:"center",marginBottom:"1.5rem"},children:[v.jsx("img",{src:"/logo-evolvian.svg",alt:"Logo Evolvian",style:{width:"64px",margin:"0 auto 1rem"}}),v.jsx("h1",{style:XP,children:e("access_verification")}),v.jsx("p",{style:ZP,children:e("confirm_email_to_continue")})]}),a?v.jsx("p",{style:{textAlign:"center",color:"#ededed"},children:e("email_link_sent")}):v.jsxs("form",{onSubmit:s,style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[v.jsx("input",{type:"email",placeholder:e("email"),value:t,onChange:l=>r(l.target.value),required:!0,style:QP}),v.jsx("button",{type:"submit",disabled:n,style:{...ej,opacity:n?.7:1,cursor:n?"not-allowed":"pointer"},children:e(n?"sending":"send_login_link")})]})]})})}const YP={height:"100vh",width:"100vw",backgroundColor:"#0f1c2e",display:"flex",alignItems:"center",justifyContent:"center",padding:"1rem",fontFamily:"system-ui, Avenir, Helvetica, Arial, sans-serif"},JP={width:"100%",maxWidth:"400px",backgroundColor:"#1b2a41",borderRadius:"1.5rem",padding:"2rem",color:"white",boxShadow:"0 15px 40px rgba(0,0,0,0.3)",border:"1px solid #274472"},XP={fontSize:"1.5rem",fontWeight:"bold"},ZP={fontSize:"0.9rem",color:"#ccc"},QP={padding:"0.6rem 1rem",background:"transparent",border:"1px solid #274472",borderRadius:"8px",color:"white",fontSize:"1rem"},ej={backgroundColor:"#2eb39a",padding:"0.7rem",color:"white",borderRadius:"8px",fontWeight:"bold",border:"none",fontSize:"1rem"};function tj(e){const[t,r]=y.useState(null);return y.useEffect(()=>{if(!e)return;(async()=>{try{const o=await(await fetch(`http://localhost:8001/accepted_terms?client_id=${e}`)).json();r(o.has_accepted)}catch(a){console.error("❌ Error al verificar aceptación de términos:",a),r(!1)}})()},[e]),{hasAccepted:t,acceptTerms:async()=>{try{if(!(await fetch("http://localhost:8001/accept_terms",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:e})})).ok)throw new Error("Error al registrar aceptación");r(!0)}catch(i){console.error("❌ Error al aceptar términos:",i)}}}}function rr(){const[e,t]=y.useState(()=>{const r=localStorage.getItem("client_id");return r&&r!=="undefined"&&r!=="null"?r:null});return y.useEffect(()=>{const r=n=>{if(n.key==="client_id"){const i=n.newValue;i&&i!=="undefined"&&i!=="null"&&t(i)}};return window.addEventListener("storage",r),()=>window.removeEventListener("storage",r)},[]),e}function rj(){const e=qt(),[t,r]=y.useState(!1),n=rr(),{hasAccepted:i,acceptTerms:a}=tj(n),o=async()=>{r(!0);const s=localStorage.getItem("user_id");console.log("🧠 Obtenido user_id desde localStorage:",s);try{if(s){const c=await(await fetch(`http://localhost:8001/clear_new_user_flag?user_id=${s}`,{method:"POST"})).json();console.log("✅ Respuesta de clear_new_user_flag:",c),console.log("🔄 Refrescando sesión después de limpiar bandera..."),await Qe.auth.refreshSession(),sessionStorage.removeItem("alreadyRedirected")}else console.warn("⚠️ user_id no está disponible en localStorage");!i&&n&&(console.log("📩 Aceptando términos con client_id:",n),await a()),console.log("➡️ Redirigiendo a /dashboard..."),e("/dashboard",{replace:!0})}catch(l){console.error("❌ Error en Welcome:",l),e("/dashboard",{replace:!0})}finally{r(!1)}};return i===null?v.jsx("div",{style:{color:"white",padding:"2rem"},children:"Cargando..."}):v.jsx("div",{style:{height:"100vh",backgroundColor:"#0f1c2e",display:"flex",alignItems:"center",justifyContent:"center",fontFamily:"system-ui, sans-serif",padding:"2rem",color:"white"},children:v.jsxs("div",{style:{backgroundColor:"#1b2a41",padding:"3rem",borderRadius:"1.5rem",maxWidth:"600px",width:"100%",textAlign:"center",boxShadow:"0 0 30px rgba(0,0,0,0.2)",border:"1px solid #274472"},children:[v.jsx("img",{src:"/logo-evolvian.svg",alt:"Evolvian",style:{width:"60px",marginBottom:"1.5rem"}}),v.jsx("h1",{style:{fontSize:"1.8rem",color:"#a3d9b1",marginBottom:"1rem"},children:"Bienvenido a Evolvian, tu nuevo copiloto de conocimiento."}),v.jsxs("p",{style:{fontSize:"1rem",color:"#ededed",marginBottom:"1.5rem"},children:["Has dado el primer paso hacia una forma más rápida, segura y precisa de resolver tus dudas, compartir respuestas y empoderar a tus usuarios.",v.jsx("br",{}),v.jsx("br",{}),"Evolvian es un asistente de inteligencia artificial que entiende tus documentos y responde como si fueras tú. Aquí empieza todo."]}),v.jsx("button",{onClick:o,disabled:t,style:{backgroundColor:"#2eb39a",color:"white",fontSize:"1rem",padding:"0.8rem 1.6rem",border:"none",borderRadius:"8px",fontWeight:"bold",cursor:t?"not-allowed":"pointer"},children:t?"Cargando...":"Ir al panel"})]})})}function nj(){return v.jsxs("div",{style:{padding:"2rem"},children:[v.jsx("h2",{children:"404 – Página no encontrada"}),v.jsx("p",{children:"La ruta que intentaste no existe."})]})}function ij(){const[e]=sy(),t=e.get("public_client_id");return t?v.jsx("div",{style:{margin:0,padding:0,width:"100vw",height:"100vh",backgroundColor:"#ededed",fontFamily:"system-ui, sans-serif",display:"flex",justifyContent:"center",alignItems:"center"},children:v.jsxs("div",{style:{width:"360px",height:"520px",backgroundColor:"#ffffff",border:"2px solid #4a90e2",borderRadius:"16px",boxShadow:"0 6px 24px rgba(0,0,0,0.15)",overflow:"hidden"},children:[v.jsx(Yo,{clientId:t})," "]})}):v.jsx("div",{style:{padding:"2rem",fontFamily:"system-ui, sans-serif",color:"#e74c3c",textAlign:"center"},children:"⚠️ No se proporcionó un public_client_id."})}function aj(){const[e,t]=y.useState("");return y.useEffect(()=>{const r=new URLSearchParams(window.location.search),n=r.get("client_id")||r.get("public_client_id");n&&t(n)},[]),e?v.jsx("div",{style:{width:"100%",height:"100%",backgroundColor:"#ffffff"},children:v.jsx(Yo,{clientId:e})}):v.jsx("p",{style:{padding:"1rem"},children:"❌ Client ID no encontrado."})}const oj=["Afganistán","Albania","Alemania","Andorra","Angola","Arabia Saudita","Argelia","Argentina","Armenia","Australia","Austria","Azerbaiyán","Bahamas","Bangladesh","Baréin","Bélgica","Belice","Benín","Bielorrusia","Bolivia","Bosnia y Herzegovina","Botsuana","Brasil","Brunéi","Bulgaria","Burkina Faso","Burundi","Cabo Verde","Camboya","Camerún","Canadá","Chile","China","Chipre","Colombia","Comoras","Corea del Sur","Costa de Marfil","Costa Rica","Croacia","Dinamarca","Djibouti","Dominica","Ecuador","Egipto","El Salvador","Emiratos Árabes Unidos","Eslovaquia","Eslovenia","España","Estados Unidos","Estonia","Etiopía","Filipinas","Finlandia","Francia","Gabón","Gambia","Georgia","Ghana","Grecia","Guatemala","Guyana","Honduras","Hungría","India","Indonesia","Irak","Irán","Irlanda","Islandia","Islas Marshall","Israel","Italia","Jamaica","Japón","Jordania","Kazajistán","Kenia","Kirguistán","Kuwait","Laos","Letonia","Líbano","Liberia","Libia","Liechtenstein","Lituania","Luxemburgo","Macedonia del Norte","Madagascar","Malasia","Malaui","Maldivas","Malí","Malta","Marruecos","Mauricio","Mauritania","México","Moldavia","Mónaco","Mongolia","Montenegro","Mozambique","Namibia","Nepal","Nicaragua","Níger","Nigeria","Noruega","Nueva Zelanda","Omán","Países Bajos","Pakistán","Panamá","Papúa Nueva Guinea","Paraguay","Perú","Polonia","Portugal","Qatar","Reino Unido","República Centroafricana","República Checa","República Democrática del Congo","República Dominicana","Ruanda","Rumanía","Rusia","Samoa","San Marino","Santa Lucía","Senegal","Serbia","Seychelles","Singapur","Siria","Somalia","Sri Lanka","Sudáfrica","Sudán","Suecia","Suiza","Surinam","Tailandia","Tanzania","Tayikistán","Timor Oriental","Togo","Tonga","Trinidad y Tobago","Túnez","Turquía","Turkmenistán","Ucrania","Uganda","Uruguay","Uzbekistán","Vanuatu","Vaticano","Venezuela","Vietnam","Yemen","Zambia","Zimbabue"],sj=["Software","Educación","Salud","Finanzas","Retail","Manufactura","Consultoría","Otro"],lj=["Fundador/CEO","CMO / Marketing Manager","Customer Support","Operations Manager","Sales Executive","IT Manager","Product Manager","Developer / Engineer","HR / People","Otro"],cj=["Chat Widget","WhatsApp","Email","Otros"],uj=["1-10 empleados","11-50 empleados","51-200 empleados","201-500 empleados","501-1000 empleados","Más de 1000 empleados"],pi=["welcome_intro","personalization","terms","plan"];function dj({onClose:e}){const{t}=Se(),[r,n]=y.useState(1),[i,a]=y.useState(!1),[o,s]=y.useState({industry:"",role:"",country:"",channels:[],companySize:""}),[l,c]=y.useState(null),[u,d]=y.useState(null);y.useEffect(()=>{async function x(){try{const w=localStorage.getItem("client_id");if(!w)throw new Error("client_id no encontrado en localStorage");const _=await fetch(`http://localhost:8001/client_settings?client_id=${w}`);if(!_.ok)throw new Error(`HTTP ${_.status}: ${await _.text()}`);const S=await _.json();c(S)}catch(w){console.error("❌ Error cargando configuración:",w)}}x()},[]);const f=async()=>{try{a(!0),sessionStorage.setItem("alreadyRedirected","true"),e()}catch(x){console.error("❌ Error en handleContinue:",x)}finally{a(!1)}},h=async()=>{if(d(null),r===3)try{const x=localStorage.getItem("client_id");if(!x)throw new Error("No se encontró client_id");console.log("📝 Guardando perfil del cliente...");const w=await fetch("http://localhost:8001/save_client_profile",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:x,industry:o.industry,role:o.role,country:o.country,channels:o.channels,company_size:o.companySize})}),_=await w.text();if(console.log("📦 Respuesta perfil:",w.status,_),!w.ok)throw new Error("Error al guardar el perfil del cliente");console.log("✅ Perfil guardado. Ahora aceptando términos...");const S=await fetch("http://localhost:8001/accept_terms",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:x})}),E=await S.text();if(console.log("📦 Respuesta términos:",S.status,E),!S.ok)throw new Error("Error al aceptar los términos y condiciones");console.log("✅ Consentimiento completo. Avanzando al paso final..."),n(O=>{const k=Math.min(O+1,pi.length);return console.log("➡️ Paso actualizado a:",k),k})}catch(x){console.error("❌ Error en paso 3:",x),d("Hubo un problema guardando tu consentimiento. Por favor, intenta de nuevo.")}else n(x=>Math.min(x+1,pi.length))},m=()=>n(x=>Math.max(x-1,1)),p=x=>{const{name:w,value:_}=x.target;s(S=>({...S,[w]:_}))},g=x=>{s(w=>{const S=w.channels.includes(x)?w.channels.filter(E=>E!==x):[...w.channels,x];return{...w,channels:S}})},b=()=>{var x;switch(r){case 1:return v.jsxs(v.Fragment,{children:[v.jsx("img",{src:"/logo-evolvian.svg",alt:"Evolvian Logo",style:{width:"60px",marginBottom:"1.5rem"}}),v.jsx("h1",{style:Pa,children:t("welcome_title")}),v.jsx("p",{style:mi,children:t("welcome_description")})]});case 2:return v.jsxs(v.Fragment,{children:[v.jsx("h2",{style:Pa,children:t("personalization_title")}),v.jsx("p",{style:mi,children:t("personalization_description")}),v.jsxs("div",{style:pj,children:[v.jsxs("select",{name:"industry",value:o.industry,onChange:p,style:ja,children:[v.jsx("option",{value:"",children:t("select_industry")}),sj.map(w=>v.jsx("option",{value:w,children:w},w))]}),v.jsxs("select",{name:"role",value:o.role,onChange:p,style:ja,children:[v.jsx("option",{value:"",children:t("select_role")}),lj.map(w=>v.jsx("option",{value:w,children:w},w))]}),v.jsxs("select",{name:"country",value:o.country,onChange:p,style:ja,children:[v.jsx("option",{value:"",children:t("select_country")}),oj.map(w=>v.jsx("option",{value:w,children:w},w))]}),v.jsxs("div",{style:{textAlign:"left",marginTop:"1rem"},children:[v.jsx("p",{style:{...mi,marginBottom:"0.5rem"},children:t("interested_channels")}),cj.map(w=>v.jsxs("label",{style:{color:"#ededed",fontSize:"0.9rem",display:"block",marginBottom:"0.3rem"},children:[v.jsx("input",{type:"checkbox",checked:o.channels.includes(w),onChange:()=>g(w),style:{marginRight:"0.5rem"}}),w]},w))]}),v.jsxs("select",{name:"companySize",value:o.companySize,onChange:p,style:ja,children:[v.jsx("option",{value:"",children:t("select_company_size")}),uj.map(w=>v.jsx("option",{value:w,children:w},w))]})]})]});case 3:return v.jsxs(v.Fragment,{children:[v.jsx("h2",{style:Pa,children:t("terms_title")}),v.jsxs("p",{style:mi,children:[t("terms_description")," ",v.jsx("a",{href:"/terms",target:"_blank",rel:"noopener noreferrer",style:gj,children:t("terms_and_conditions")}),"."]}),u&&v.jsx("p",{style:{color:"red",marginTop:"1rem"},children:u})]});case 4:return console.log("🧭 Entrando al paso 4 (plan), settings:",l),l&&v.jsxs(v.Fragment,{children:[v.jsx("h2",{style:Pa,children:t("your_plan_title")}),v.jsxs("p",{style:mi,children:[t("current_plan")," ",v.jsx("strong",{children:((x=l.plan)==null?void 0:x.name)||"Free"})]})]});default:return null}};return v.jsx("div",{style:fj,children:v.jsxs("div",{style:hj,children:[v.jsx("div",{style:vj,children:pi.map((x,w)=>v.jsxs("div",{style:{...yj,backgroundColor:r===w+1?"#4a90e2":"#f5a623",color:r===w+1?"white":"#274472"},children:[t(x),w!==pi.length-1&&v.jsx("span",{style:bj,children:"→"})]},w))}),b(),v.jsxs("div",{style:{marginTop:"2rem",display:"flex",justifyContent:"flex-end"},children:[r>1&&v.jsx("button",{onClick:m,style:mj,children:t("back")}),r<pi.length?v.jsx("button",{onClick:h,style:kh,children:t("next")}):v.jsx("button",{onClick:f,style:kh,disabled:i,children:t(i?"loading":"start")})]})]})})}const fj={position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.7)",backdropFilter:"blur(8px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},hj={backgroundColor:"#1b2a41",padding:"3rem",borderRadius:"1.5rem",textAlign:"center",maxWidth:"700px",width:"90%",boxShadow:"0 0 30px rgba(0,0,0,0.3)",border:"1px solid #274472"},Pa={fontSize:"1.8rem",color:"#a3d9b1",marginBottom:"1rem"},mi={fontSize:"1rem",color:"#ededed",marginBottom:"1.5rem"},pj={display:"flex",flexDirection:"column",gap:"1rem",marginTop:"1rem"},ja={padding:"0.8rem",borderRadius:"8px",border:"1px solid #4a90e2",backgroundColor:"#1b2a41",color:"white",appearance:"none",WebkitAppearance:"none",MozAppearance:"none",backgroundImage:`url("data:image/svg+xml;charset=UTF-8,%3Csvg viewBox='0 0 140 140' xmlns='http://www.w3.org/2000/svg'%3E%3Cpolygon points='70,100 20,40 120,40' fill='%23ffffff'/%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 1rem center",backgroundSize:"12px"},kh={backgroundColor:"#2eb39a",color:"white",padding:"0.8rem 1.6rem",border:"none",borderRadius:"8px",fontWeight:"bold",cursor:"pointer"},mj={backgroundColor:"#274472",color:"white",padding:"0.8rem 1.6rem",border:"none",borderRadius:"8px",fontWeight:"bold",cursor:"pointer"},gj={color:"#4a90e2",textDecoration:"underline"},vj={display:"flex",justifyContent:"center",gap:"0.8rem",marginBottom:"2rem",flexWrap:"wrap",alignItems:"center"},yj={padding:"0.5rem 1rem",borderRadius:"999px",fontSize:"0.9rem",fontWeight:"bold",textAlign:"center",minWidth:"120px"},bj={margin:"0 0.5rem",color:"#ededed",fontSize:"1.2rem"};function Ty(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=Ty(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function fe(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=Ty(e))&&(n&&(n+=" "),n+=t);return n}var Ys={},Js={},Ah;function wj(){return Ah||(Ah=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(Js)),Js}var Xs={},Th;function Cy(){return Th||(Th=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(Xs)),Xs}var Zs={},Ch;function Ry(){return Ch||(Ch=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(Zs)),Zs}var Qs={},Rh;function ad(){return Rh||(Rh=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){const n=[],i=r.length;if(i===0)return n;let a=0,o="",s="",l=!1;for(r.charCodeAt(0)===46&&(n.push(""),a++);a<i;){const c=r[a];s?c==="\\"&&a+1<i?(a++,o+=r[a]):c===s?s="":o+=c:l?c==='"'||c==="'"?s=c:c==="]"?(l=!1,n.push(o),o=""):o+=c:c==="["?(l=!0,o&&(n.push(o),o="")):c==="."?o&&(n.push(o),o=""):o+=c,a++}return o&&n.push(o),n}e.toPath=t})(Qs)),Qs}var Ih;function od(){return Ih||(Ih=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wj(),r=Cy(),n=Ry(),i=ad();function a(s,l,c){if(s==null)return c;switch(typeof l){case"string":{if(t.isUnsafeProperty(l))return c;const u=s[l];return u===void 0?r.isDeepKey(l)?a(s,i.toPath(l),c):c:u}case"number":case"symbol":{typeof l=="number"&&(l=n.toKey(l));const u=s[l];return u===void 0?c:u}default:{if(Array.isArray(l))return o(s,l,c);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),t.isUnsafeProperty(l))return c;const u=s[l];return u===void 0?c:u}}}function o(s,l,c){if(l.length===0)return c;let u=s;for(let d=0;d<l.length;d++){if(u==null||t.isUnsafeProperty(l[d]))return c;u=u[l[d]]}return u===void 0?c:u}e.get=a})(Ys)),Ys}var el,$h;function xj(){return $h||($h=1,el=od().get),el}var _j=xj();const Nn=er(_j);var tl={exports:{}},oe={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dh;function Sj(){if(Dh)return oe;Dh=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),s=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.suspense_list"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.for("react.view_transition"),h=Symbol.for("react.client.reference");function m(p){if(typeof p=="object"&&p!==null){var g=p.$$typeof;switch(g){case e:switch(p=p.type,p){case r:case i:case n:case l:case c:case f:return p;default:switch(p=p&&p.$$typeof,p){case o:case s:case d:case u:return p;case a:return p;default:return g}}case t:return g}}}return oe.ContextConsumer=a,oe.ContextProvider=o,oe.Element=e,oe.ForwardRef=s,oe.Fragment=r,oe.Lazy=d,oe.Memo=u,oe.Portal=t,oe.Profiler=i,oe.StrictMode=n,oe.Suspense=l,oe.SuspenseList=c,oe.isContextConsumer=function(p){return m(p)===a},oe.isContextProvider=function(p){return m(p)===o},oe.isElement=function(p){return typeof p=="object"&&p!==null&&p.$$typeof===e},oe.isForwardRef=function(p){return m(p)===s},oe.isFragment=function(p){return m(p)===r},oe.isLazy=function(p){return m(p)===d},oe.isMemo=function(p){return m(p)===u},oe.isPortal=function(p){return m(p)===t},oe.isProfiler=function(p){return m(p)===i},oe.isStrictMode=function(p){return m(p)===n},oe.isSuspense=function(p){return m(p)===l},oe.isSuspenseList=function(p){return m(p)===c},oe.isValidElementType=function(p){return typeof p=="string"||typeof p=="function"||p===r||p===i||p===n||p===l||p===c||typeof p=="object"&&p!==null&&(p.$$typeof===d||p.$$typeof===u||p.$$typeof===o||p.$$typeof===a||p.$$typeof===s||p.$$typeof===h||p.getModuleId!==void 0)},oe.typeOf=m,oe}var Mh;function Ej(){return Mh||(Mh=1,tl.exports=Sj()),tl.exports}var Oj=Ej(),at=e=>e===0?0:e>0?1:-1,yt=e=>typeof e=="number"&&e!=+e,Jr=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,U=e=>(typeof e=="number"||e instanceof Number)&&!yt(e),Zt=e=>U(e)||typeof e=="string",Pj=0,Li=e=>{var t=++Pj;return"".concat(e||"").concat(t)},Ft=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!U(t)&&typeof t!="string")return n;var a;if(Jr(t)){if(r==null)return n;var o=t.indexOf("%");a=r*parseFloat(t.slice(0,o))/100}else a=+t;return yt(a)&&(a=n),i&&r!=null&&a>r&&(a=r),a},Iy=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1};function Je(e,t,r){return U(e)&&U(t)?e+r*(t-e):t}function jj(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):Nn(n,t))===r)}var Re=e=>e===null||typeof e>"u",Zi=e=>Re(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),kj=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function sd(e){if(typeof e!="string")return!1;var t=kj;return t.includes(e)}var Aj=["viewBox","children"],Nh=["points","pathLength"],rl={svg:Aj,polygon:Nh,polyline:Nh},Tj=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(y.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{sd(i)&&(n[i]=(a=>r[i](r,a)))}),n},Cj=(e,t,r)=>n=>(e(t,r,n),null),ld=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(i=>{var a=e[i];sd(i)&&typeof a=="function"&&(n||(n={}),n[i]=Cj(a,t,r))}),n},Rj=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function $y(e){if(typeof e!="string")return!1;var t=Rj;return t.includes(e)}function Qn(e){var t=Object.entries(e).filter(r=>{var[n]=r;return $y(n)});return Object.fromEntries(t)}var Lh=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",Bh=null,nl=null,Dy=e=>{if(e===Bh&&Array.isArray(nl))return nl;var t=[];return y.Children.forEach(e,r=>{Re(r)||(Oj.isFragment(r)?t=t.concat(Dy(r.props.children)):t.push(r))}),nl=t,Bh=e,t};function Ij(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(i=>Lh(i)):n=[Lh(t)],Dy(e).forEach(i=>{var a=Nn(i,"type.displayName")||Nn(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}var $j=(e,t,r,n)=>{var i;if(typeof t=="symbol"||typeof t=="number")return!0;var a=(i=n&&(rl==null?void 0:rl[n]))!==null&&i!==void 0?i:[],o=t.startsWith("data-"),s=typeof e!="function"&&(!!n&&a.includes(t)||$y(t)),l=!!r&&sd(t);return o||s||l},Fe=(e,t,r)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(y.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var i={};return Object.keys(n).forEach(a=>{var o;$j((o=n)===null||o===void 0?void 0:o[a],a,t,r)&&(i[a]=n[a])}),i},Dj=["children","width","height","viewBox","className","style","title","desc"];function Hc(){return Hc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hc.apply(null,arguments)}function Mj(e,t){if(e==null)return{};var r,n,i=Nj(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Nj(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var My=y.forwardRef((e,t)=>{var{children:r,width:n,height:i,viewBox:a,className:o,style:s,title:l,desc:c}=e,u=Mj(e,Dj),d=a||{width:n,height:i,x:0,y:0},f=fe("recharts-surface",o);return y.createElement("svg",Hc({},Fe(u,!0,"svg"),{className:f,width:n,height:i,style:s,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height),ref:t}),y.createElement("title",null,l),y.createElement("desc",null,c),r)}),Lj=["children","className"];function Vc(){return Vc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vc.apply(null,arguments)}function Bj(e,t){if(e==null)return{};var r,n,i=Uj(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Uj(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Dr=y.forwardRef((e,t)=>{var{children:r,className:n}=e,i=Bj(e,Lj),a=fe("recharts-layer",n);return y.createElement("g",Vc({className:a},Fe(i,!0),{ref:t}),r)}),Fj=y.createContext(null);function ue(e){return function(){return e}}const Ny=Math.cos,lo=Math.sin,Wt=Math.sqrt,co=Math.PI,Qo=2*co,Gc=Math.PI,Yc=2*Gc,Hr=1e-6,zj=Yc-Hr;function Ly(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function qj(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Ly;const r=10**t;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class Wj{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Ly:qj(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,a,o){this._append`C${+t},${+r},${+n},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(t,r,n,i,a){if(t=+t,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,l=n-t,c=i-r,u=o-t,d=s-r,f=u*u+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(f>Hr)if(!(Math.abs(d*l-c*u)>Hr)||!a)this._append`L${this._x1=t},${this._y1=r}`;else{let h=n-o,m=i-s,p=l*l+c*c,g=h*h+m*m,b=Math.sqrt(p),x=Math.sqrt(f),w=a*Math.tan((Gc-Math.acos((p+f-g)/(2*b*x)))/2),_=w/x,S=w/b;Math.abs(_-1)>Hr&&this._append`L${t+_*u},${r+_*d}`,this._append`A${a},${a},0,0,${+(d*h>u*m)},${this._x1=t+S*l},${this._y1=r+S*c}`}}arc(t,r,n,i,a,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(i),l=n*Math.sin(i),c=t+s,u=r+l,d=1^o,f=o?i-a:a-i;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>Hr||Math.abs(this._y1-u)>Hr)&&this._append`L${c},${u}`,n&&(f<0&&(f=f%Yc+Yc),f>zj?this._append`A${n},${n},0,1,${d},${t-s},${r-l}A${n},${n},0,1,${d},${this._x1=c},${this._y1=u}`:f>Hr&&this._append`A${n},${n},0,${+(f>=Gc)},${d},${this._x1=t+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function cd(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new Wj(t)}function ud(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function By(e){this._context=e}By.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function es(e){return new By(e)}function Uy(e){return e[0]}function Fy(e){return e[1]}function zy(e,t){var r=ue(!0),n=null,i=es,a=null,o=cd(s);e=typeof e=="function"?e:e===void 0?Uy:ue(e),t=typeof t=="function"?t:t===void 0?Fy:ue(t);function s(l){var c,u=(l=ud(l)).length,d,f=!1,h;for(n==null&&(a=i(h=o())),c=0;c<=u;++c)!(c<u&&r(d=l[c],c,l))===f&&((f=!f)?a.lineStart():a.lineEnd()),f&&a.point(+e(d,c,l),+t(d,c,l));if(h)return a=null,h+""||null}return s.x=function(l){return arguments.length?(e=typeof l=="function"?l:ue(+l),s):e},s.y=function(l){return arguments.length?(t=typeof l=="function"?l:ue(+l),s):t},s.defined=function(l){return arguments.length?(r=typeof l=="function"?l:ue(!!l),s):r},s.curve=function(l){return arguments.length?(i=l,n!=null&&(a=i(n)),s):i},s.context=function(l){return arguments.length?(l==null?n=a=null:a=i(n=l),s):n},s}function ka(e,t,r){var n=null,i=ue(!0),a=null,o=es,s=null,l=cd(c);e=typeof e=="function"?e:e===void 0?Uy:ue(+e),t=typeof t=="function"?t:ue(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?Fy:ue(+r);function c(d){var f,h,m,p=(d=ud(d)).length,g,b=!1,x,w=new Array(p),_=new Array(p);for(a==null&&(s=o(x=l())),f=0;f<=p;++f){if(!(f<p&&i(g=d[f],f,d))===b)if(b=!b)h=f,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),m=f-1;m>=h;--m)s.point(w[m],_[m]);s.lineEnd(),s.areaEnd()}b&&(w[f]=+e(g,f,d),_[f]=+t(g,f,d),s.point(n?+n(g,f,d):w[f],r?+r(g,f,d):_[f]))}if(x)return s=null,x+""||null}function u(){return zy().defined(i).curve(o).context(a)}return c.x=function(d){return arguments.length?(e=typeof d=="function"?d:ue(+d),n=null,c):e},c.x0=function(d){return arguments.length?(e=typeof d=="function"?d:ue(+d),c):e},c.x1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:ue(+d),c):n},c.y=function(d){return arguments.length?(t=typeof d=="function"?d:ue(+d),r=null,c):t},c.y0=function(d){return arguments.length?(t=typeof d=="function"?d:ue(+d),c):t},c.y1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:ue(+d),c):r},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(r)},c.lineX1=function(){return u().x(n).y(t)},c.defined=function(d){return arguments.length?(i=typeof d=="function"?d:ue(!!d),c):i},c.curve=function(d){return arguments.length?(o=d,a!=null&&(s=o(a)),c):o},c.context=function(d){return arguments.length?(d==null?a=s=null:s=o(a=d),c):a},c}class qy{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function Kj(e){return new qy(e,!0)}function Hj(e){return new qy(e,!1)}const dd={draw(e,t){const r=Wt(t/co);e.moveTo(r,0),e.arc(0,0,r,0,Qo)}},Vj={draw(e,t){const r=Wt(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},Wy=Wt(1/3),Gj=Wy*2,Yj={draw(e,t){const r=Wt(t/Gj),n=r*Wy;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},Jj={draw(e,t){const r=Wt(t),n=-r/2;e.rect(n,n,r,r)}},Xj=.8908130915292852,Ky=lo(co/10)/lo(7*co/10),Zj=lo(Qo/10)*Ky,Qj=-Ny(Qo/10)*Ky,ek={draw(e,t){const r=Wt(t*Xj),n=Zj*r,i=Qj*r;e.moveTo(0,-r),e.lineTo(n,i);for(let a=1;a<5;++a){const o=Qo*a/5,s=Ny(o),l=lo(o);e.lineTo(l*r,-s*r),e.lineTo(s*n-l*i,l*n+s*i)}e.closePath()}},il=Wt(3),tk={draw(e,t){const r=-Wt(t/(il*3));e.moveTo(0,r*2),e.lineTo(-il*r,-r),e.lineTo(il*r,-r),e.closePath()}},Et=-.5,Ot=Wt(3)/2,Jc=1/Wt(12),rk=(Jc/2+1)*3,nk={draw(e,t){const r=Wt(t/rk),n=r/2,i=r*Jc,a=n,o=r*Jc+r,s=-a,l=o;e.moveTo(n,i),e.lineTo(a,o),e.lineTo(s,l),e.lineTo(Et*n-Ot*i,Ot*n+Et*i),e.lineTo(Et*a-Ot*o,Ot*a+Et*o),e.lineTo(Et*s-Ot*l,Ot*s+Et*l),e.lineTo(Et*n+Ot*i,Et*i-Ot*n),e.lineTo(Et*a+Ot*o,Et*o-Ot*a),e.lineTo(Et*s+Ot*l,Et*l-Ot*s),e.closePath()}};function ik(e,t){let r=null,n=cd(i);e=typeof e=="function"?e:ue(e||dd),t=typeof t=="function"?t:ue(t===void 0?64:+t);function i(){let a;if(r||(r=a=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:ue(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:ue(+a),i):t},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function uo(){}function fo(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function Hy(e){this._context=e}Hy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:fo(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:fo(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function ak(e){return new Hy(e)}function Vy(e){this._context=e}Vy.prototype={areaStart:uo,areaEnd:uo,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:fo(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function ok(e){return new Vy(e)}function Gy(e){this._context=e}Gy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:fo(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function sk(e){return new Gy(e)}function Yy(e){this._context=e}Yy.prototype={areaStart:uo,areaEnd:uo,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function lk(e){return new Yy(e)}function Uh(e){return e<0?-1:1}function Fh(e,t,r){var n=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(n||i<0&&-0),o=(r-e._y1)/(i||n<0&&-0),s=(a*i+o*n)/(n+i);return(Uh(a)+Uh(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function zh(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function al(e,t,r){var n=e._x0,i=e._y0,a=e._x1,o=e._y1,s=(a-n)/3;e._context.bezierCurveTo(n+s,i+s*t,a-s,o-s*r,a,o)}function ho(e){this._context=e}ho.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:al(this,this._t0,zh(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,al(this,zh(this,r=Fh(this,e,t)),r);break;default:al(this,this._t0,r=Fh(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function Jy(e){this._context=new Xy(e)}(Jy.prototype=Object.create(ho.prototype)).point=function(e,t){ho.prototype.point.call(this,t,e)};function Xy(e){this._context=e}Xy.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,a){this._context.bezierCurveTo(t,e,n,r,a,i)}};function ck(e){return new ho(e)}function uk(e){return new Jy(e)}function Zy(e){this._context=e}Zy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=qh(e),i=qh(t),a=0,o=1;o<r;++a,++o)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function qh(e){var t,r=e.length-1,n,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,o[t]-=n*o[t-1];for(i[r-1]=o[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function dk(e){return new Zy(e)}function ts(e,t){this._context=e,this._t=t}ts.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function fk(e){return new ts(e,.5)}function hk(e){return new ts(e,0)}function pk(e){return new ts(e,1)}function Ln(e,t){if((o=e.length)>1)for(var r=1,n,i,a=e[t[0]],o,s=a.length;r<o;++r)for(i=a,a=e[t[r]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function Xc(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function mk(e,t){return e[t]}function gk(e){const t=[];return t.key=e,t}function vk(){var e=ue([]),t=Xc,r=Ln,n=mk;function i(a){var o=Array.from(e.apply(this,arguments),gk),s,l=o.length,c=-1,u;for(const d of a)for(s=0,++c;s<l;++s)(o[s][c]=[0,+n(d,o[s].key,c,a)]).data=d;for(s=0,u=ud(t(o));s<l;++s)o[u[s]].index=s;return r(o,u),o}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:ue(Array.from(a)),i):e},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:ue(+a),i):n},i.order=function(a){return arguments.length?(t=a==null?Xc:typeof a=="function"?a:ue(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(r=a??Ln,i):r},i}function yk(e,t){if((n=e.length)>0){for(var r,n,i=0,a=e[0].length,o;i<a;++i){for(o=r=0;r<n;++r)o+=e[r][i][1]||0;if(o)for(r=0;r<n;++r)e[r][i][1]/=o}Ln(e,t)}}function bk(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,a=n.length;r<a;++r){for(var o=0,s=0;o<i;++o)s+=e[o][r][1]||0;n[r][1]+=n[r][0]=-s/2}Ln(e,t)}}function wk(e,t){if(!(!((o=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,a,o;n<a;++n){for(var s=0,l=0,c=0;s<o;++s){for(var u=e[t[s]],d=u[n][1]||0,f=u[n-1][1]||0,h=(d-f)/2,m=0;m<s;++m){var p=e[t[m]],g=p[n][1]||0,b=p[n-1][1]||0;h+=g-b}l+=d,c+=h*d}i[n-1][1]+=i[n-1][0]=r,l&&(r-=c/l)}i[n-1][1]+=i[n-1][0]=r,Ln(e,t)}}var xk=["type","size","sizeType"];function Zc(){return Zc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zc.apply(null,arguments)}function Wh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Kh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Wh(Object(r),!0).forEach(function(n){_k(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wh(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _k(e,t,r){return(t=Sk(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sk(e){var t=Ek(e,"string");return typeof t=="symbol"?t:t+""}function Ek(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ok(e,t){if(e==null)return{};var r,n,i=Pk(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Pk(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Qy={symbolCircle:dd,symbolCross:Vj,symbolDiamond:Yj,symbolSquare:Jj,symbolStar:ek,symbolTriangle:tk,symbolWye:nk},jk=Math.PI/180,kk=e=>{var t="symbol".concat(Zi(e));return Qy[t]||dd},Ak=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*jk;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Tk=(e,t)=>{Qy["symbol".concat(Zi(e))]=t},e0=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,i=Ok(e,xk),a=Kh(Kh({},i),{},{type:t,size:r,sizeType:n}),o="circle";typeof t=="string"&&(o=t);var s=()=>{var f=kk(o),h=ik().type(f).size(Ak(r,n,o));return h()},{className:l,cx:c,cy:u}=a,d=Fe(a,!0);return c===+c&&u===+u&&r===+r?y.createElement("path",Zc({},d,{className:fe("recharts-symbols",l),transform:"translate(".concat(c,", ").concat(u,")"),d:s()})):null};e0.registerSymbol=Tk;var ol={},sl={},Hh;function Ck(){return Hh||(Hh=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const i=new Map;for(let a=0;a<r.length;a++){const o=r[a],s=n(o);i.has(s)||i.set(s,o)}return Array.from(i.values())}e.uniqBy=t})(sl)),sl}var ll={},Vh;function t0(){return Vh||(Vh=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(ll)),ll}var cl={},ul={},dl={},Gh;function Rk(){return Gh||(Gh=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(dl)),dl}var Yh;function fd(){return Yh||(Yh=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Rk();function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(ul)),ul}var fl={},Jh;function Ik(){return Jh||(Jh=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(fl)),fl}var Xh;function $k(){return Xh||(Xh=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fd(),r=Ik();function n(i){return r.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=n})(cl)),cl}var hl={},pl={},Zh;function Dk(){return Zh||(Zh=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=od();function r(n){return function(i){return t.get(i,n)}}e.property=r})(pl)),pl}var ml={},gl={},vl={},yl={},Qh;function r0(){return Qh||(Qh=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(yl)),yl}var bl={},ep;function n0(){return ep||(ep=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(bl)),bl}var wl={},tp;function i0(){return tp||(tp=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(wl)),wl}var rp;function Mk(){return rp||(rp=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hd(),r=r0(),n=n0(),i=i0();function a(d,f,h){return typeof h!="function"?t.isMatch(d,f):o(d,f,function m(p,g,b,x,w,_){const S=h(p,g,b,x,w,_);return S!==void 0?!!S:o(p,g,m,_)},new Map)}function o(d,f,h,m){if(f===d)return!0;switch(typeof f){case"object":return s(d,f,h,m);case"function":return Object.keys(f).length>0?o(d,{...f},h,m):i.eq(d,f);default:return r.isObject(d)?typeof f=="string"?f==="":!0:i.eq(d,f)}}function s(d,f,h,m){if(f==null)return!0;if(Array.isArray(f))return c(d,f,h,m);if(f instanceof Map)return l(d,f,h,m);if(f instanceof Set)return u(d,f,h,m);const p=Object.keys(f);if(d==null)return p.length===0;if(p.length===0)return!0;if(m&&m.has(f))return m.get(f)===d;m&&m.set(f,d);try{for(let g=0;g<p.length;g++){const b=p[g];if(!n.isPrimitive(d)&&!(b in d)||f[b]===void 0&&d[b]!==void 0||f[b]===null&&d[b]!==null||!h(d[b],f[b],b,d,f,m))return!1}return!0}finally{m&&m.delete(f)}}function l(d,f,h,m){if(f.size===0)return!0;if(!(d instanceof Map))return!1;for(const[p,g]of f.entries()){const b=d.get(p);if(h(b,g,p,d,f,m)===!1)return!1}return!0}function c(d,f,h,m){if(f.length===0)return!0;if(!Array.isArray(d))return!1;const p=new Set;for(let g=0;g<f.length;g++){const b=f[g];let x=!1;for(let w=0;w<d.length;w++){if(p.has(w))continue;const _=d[w];let S=!1;if(h(_,b,g,d,f,m)&&(S=!0),S){p.add(w),x=!0;break}}if(!x)return!1}return!0}function u(d,f,h,m){return f.size===0?!0:d instanceof Set?c([...d],[...f],h,m):!1}e.isMatchWith=a,e.isSetMatch=u})(vl)),vl}var np;function hd(){return np||(np=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Mk();function r(n,i){return t.isMatchWith(n,i,()=>{})}e.isMatch=r})(gl)),gl}var xl={},_l={},Sl={},ip;function Nk(){return ip||(ip=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(Sl)),Sl}var El={},ap;function a0(){return ap||(ap=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(El)),El}var Ol={},op;function o0(){return op||(op=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",a="[object Arguments]",o="[object Symbol]",s="[object Date]",l="[object Map]",c="[object Set]",u="[object Array]",d="[object Function]",f="[object ArrayBuffer]",h="[object Object]",m="[object Error]",p="[object DataView]",g="[object Uint8Array]",b="[object Uint8ClampedArray]",x="[object Uint16Array]",w="[object Uint32Array]",_="[object BigUint64Array]",S="[object Int8Array]",E="[object Int16Array]",O="[object Int32Array]",k="[object BigInt64Array]",A="[object Float32Array]",D="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=f,e.arrayTag=u,e.bigInt64ArrayTag=k,e.bigUint64ArrayTag=_,e.booleanTag=i,e.dataViewTag=p,e.dateTag=s,e.errorTag=m,e.float32ArrayTag=A,e.float64ArrayTag=D,e.functionTag=d,e.int16ArrayTag=E,e.int32ArrayTag=O,e.int8ArrayTag=S,e.mapTag=l,e.numberTag=n,e.objectTag=h,e.regexpTag=t,e.setTag=c,e.stringTag=r,e.symbolTag=o,e.uint16ArrayTag=x,e.uint32ArrayTag=w,e.uint8ArrayTag=g,e.uint8ClampedArrayTag=b})(Ol)),Ol}var Pl={},sp;function Lk(){return sp||(sp=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(Pl)),Pl}var lp;function s0(){return lp||(lp=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Nk(),r=a0(),n=o0(),i=n0(),a=Lk();function o(u,d){return s(u,void 0,u,new Map,d)}function s(u,d,f,h=new Map,m=void 0){const p=m==null?void 0:m(u,d,f,h);if(p!==void 0)return p;if(i.isPrimitive(u))return u;if(h.has(u))return h.get(u);if(Array.isArray(u)){const g=new Array(u.length);h.set(u,g);for(let b=0;b<u.length;b++)g[b]=s(u[b],b,f,h,m);return Object.hasOwn(u,"index")&&(g.index=u.index),Object.hasOwn(u,"input")&&(g.input=u.input),g}if(u instanceof Date)return new Date(u.getTime());if(u instanceof RegExp){const g=new RegExp(u.source,u.flags);return g.lastIndex=u.lastIndex,g}if(u instanceof Map){const g=new Map;h.set(u,g);for(const[b,x]of u)g.set(b,s(x,b,f,h,m));return g}if(u instanceof Set){const g=new Set;h.set(u,g);for(const b of u)g.add(s(b,void 0,f,h,m));return g}if(typeof Buffer<"u"&&Buffer.isBuffer(u))return u.subarray();if(a.isTypedArray(u)){const g=new(Object.getPrototypeOf(u)).constructor(u.length);h.set(u,g);for(let b=0;b<u.length;b++)g[b]=s(u[b],b,f,h,m);return g}if(u instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&u instanceof SharedArrayBuffer)return u.slice(0);if(u instanceof DataView){const g=new DataView(u.buffer.slice(0),u.byteOffset,u.byteLength);return h.set(u,g),l(g,u,f,h,m),g}if(typeof File<"u"&&u instanceof File){const g=new File([u],u.name,{type:u.type});return h.set(u,g),l(g,u,f,h,m),g}if(u instanceof Blob){const g=new Blob([u],{type:u.type});return h.set(u,g),l(g,u,f,h,m),g}if(u instanceof Error){const g=new u.constructor;return h.set(u,g),g.message=u.message,g.name=u.name,g.stack=u.stack,g.cause=u.cause,l(g,u,f,h,m),g}if(typeof u=="object"&&c(u)){const g=Object.create(Object.getPrototypeOf(u));return h.set(u,g),l(g,u,f,h,m),g}return u}function l(u,d,f=u,h,m){const p=[...Object.keys(d),...t.getSymbols(d)];for(let g=0;g<p.length;g++){const b=p[g],x=Object.getOwnPropertyDescriptor(u,b);(x==null||x.writable)&&(u[b]=s(d[b],b,f,h,m))}}function c(u){switch(r.getTag(u)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=s,e.copyProperties=l})(_l)),_l}var cp;function Bk(){return cp||(cp=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=s0();function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(xl)),xl}var up;function Uk(){return up||(up=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hd(),r=Bk();function n(i){return i=r.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=n})(ml)),ml}var jl={},kl={},Al={},dp;function Fk(){return dp||(dp=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=s0(),r=o0();function n(i,a){return t.cloneDeepWith(i,(o,s,l,c)=>{const u=a==null?void 0:a(o,s,l,c);if(u!==void 0)return u;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case r.numberTag:case r.stringTag:case r.booleanTag:{const d=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(d,i),d}case r.argumentsTag:{const d={};return t.copyProperties(d,i),d.length=i.length,d[Symbol.iterator]=i[Symbol.iterator],d}default:return}})}e.cloneDeepWith=n})(Al)),Al}var fp;function zk(){return fp||(fp=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Fk();function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(kl)),kl}var Tl={},Cl={},hp;function l0(){return hp||(hp=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(Cl)),Cl}var Rl={},pp;function qk(){return pp||(pp=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=a0();function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(Rl)),Rl}var mp;function Wk(){return mp||(mp=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Cy(),r=l0(),n=qk(),i=ad();function a(o,s){let l;if(Array.isArray(s)?l=s:typeof s=="string"&&t.isDeepKey(s)&&(o==null?void 0:o[s])==null?l=i.toPath(s):l=[s],l.length===0)return!1;let c=o;for(let u=0;u<l.length;u++){const d=l[u];if((c==null||!Object.hasOwn(c,d))&&!((Array.isArray(c)||n.isArguments(c))&&r.isIndex(d)&&d<c.length))return!1;c=c[d]}return!0}e.has=a})(Tl)),Tl}var gp;function Kk(){return gp||(gp=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hd(),r=Ry(),n=zk(),i=od(),a=Wk();function o(s,l){switch(typeof s){case"object":{Object.is(s==null?void 0:s.valueOf(),-0)&&(s="-0");break}case"number":{s=r.toKey(s);break}}return l=n.cloneDeep(l),function(c){const u=i.get(c,s);return u===void 0?a.has(c,s):l===void 0?u===void 0:t.isMatch(u,l)}}e.matchesProperty=o})(jl)),jl}var vp;function Hk(){return vp||(vp=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=t0(),r=Dk(),n=Uk(),i=Kk();function a(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?i.matchesProperty(o[0],o[1]):n.matches(o);case"string":case"symbol":case"number":return r.property(o)}}e.iteratee=a})(hl)),hl}var yp;function Vk(){return yp||(yp=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ck(),r=t0(),n=$k(),i=Hk();function a(o,s=r.identity){return n.isArrayLikeObject(o)?t.uniqBy(Array.from(o),i.iteratee(s)):[]}e.uniqBy=a})(ol)),ol}var Il,bp;function Gk(){return bp||(bp=1,Il=Vk().uniqBy),Il}var Yk=Gk();const wp=er(Yk);function Jk(e,t,r){return t===!0?wp(e,r):typeof t=="function"?wp(e,t):e}var $l={exports:{}},Dl={},Ml={exports:{}},Nl={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xp;function Xk(){if(xp)return Nl;xp=1;var e=qu();function t(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,i=e.useEffect,a=e.useLayoutEffect,o=e.useDebugValue;function s(d,f){var h=f(),m=n({inst:{value:h,getSnapshot:f}}),p=m[0].inst,g=m[1];return a(function(){p.value=h,p.getSnapshot=f,l(p)&&g({inst:p})},[d,h,f]),i(function(){return l(p)&&g({inst:p}),d(function(){l(p)&&g({inst:p})})},[d]),o(h),h}function l(d){var f=d.getSnapshot;d=d.value;try{var h=f();return!r(d,h)}catch{return!0}}function c(d,f){return f()}var u=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:s;return Nl.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:u,Nl}var _p;function Zk(){return _p||(_p=1,Ml.exports=Xk()),Ml.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sp;function Qk(){if(Sp)return Dl;Sp=1;var e=qu(),t=Zk();function r(c,u){return c===u&&(c!==0||1/c===1/u)||c!==c&&u!==u}var n=typeof Object.is=="function"?Object.is:r,i=t.useSyncExternalStore,a=e.useRef,o=e.useEffect,s=e.useMemo,l=e.useDebugValue;return Dl.useSyncExternalStoreWithSelector=function(c,u,d,f,h){var m=a(null);if(m.current===null){var p={hasValue:!1,value:null};m.current=p}else p=m.current;m=s(function(){function b(E){if(!x){if(x=!0,w=E,E=f(E),h!==void 0&&p.hasValue){var O=p.value;if(h(O,E))return _=O}return _=E}if(O=_,n(w,E))return O;var k=f(E);return h!==void 0&&h(O,k)?(w=E,O):(w=E,_=k)}var x=!1,w,_,S=d===void 0?null:d;return[function(){return b(u())},S===null?void 0:function(){return b(S())}]},[u,d,f,h]);var g=i(c,m[0],m[1]);return o(function(){p.hasValue=!0,p.value=g},[g]),l(g),g},Dl}var Ep;function eA(){return Ep||(Ep=1,$l.exports=Qk()),$l.exports}var tA=eA(),pd=y.createContext(null),rA=e=>e,Ie=()=>{var e=y.useContext(pd);return e?e.store.dispatch:rA},Za=()=>{},nA=()=>Za,iA=(e,t)=>e===t;function F(e){var t=y.useContext(pd);return tA.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:nA,t?t.store.getState:Za,t?t.store.getState:Za,t?e:Za,iA)}function aA(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function oA(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function sA(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var Op=e=>Array.isArray(e)?e:[e];function lA(e){const t=Array.isArray(e[0])?e[0]:e;return sA(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function cA(e,t){const r=[],{length:n}=e;for(let i=0;i<n;i++)r.push(e[i].apply(null,t));return r}var uA=class{constructor(e){this.value=e}deref(){return this.value}},dA=typeof WeakRef<"u"?WeakRef:uA,fA=0,Pp=1;function Aa(){return{s:fA,v:void 0,o:null,p:null}}function c0(e,t={}){let r=Aa();const{resultEqualityCheck:n}=t;let i,a=0;function o(){var d;let s=r;const{length:l}=arguments;for(let f=0,h=l;f<h;f++){const m=arguments[f];if(typeof m=="function"||typeof m=="object"&&m!==null){let p=s.o;p===null&&(s.o=p=new WeakMap);const g=p.get(m);g===void 0?(s=Aa(),p.set(m,s)):s=g}else{let p=s.p;p===null&&(s.p=p=new Map);const g=p.get(m);g===void 0?(s=Aa(),p.set(m,s)):s=g}}const c=s;let u;if(s.s===Pp)u=s.v;else if(u=e.apply(null,arguments),a++,n){const f=((d=i==null?void 0:i.deref)==null?void 0:d.call(i))??i;f!=null&&n(f,u)&&(u=f,a!==0&&a--),i=typeof u=="object"&&u!==null||typeof u=="function"?new dA(u):u}return c.s=Pp,c.v=u,u}return o.clearCache=()=>{r=Aa(),o.resetResultsCount()},o.resultsCount=()=>a,o.resetResultsCount=()=>{a=0},o}function hA(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...i)=>{let a=0,o=0,s,l={},c=i.pop();typeof c=="object"&&(l=c,c=i.pop()),aA(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const u={...r,...l},{memoize:d,memoizeOptions:f=[],argsMemoize:h=c0,argsMemoizeOptions:m=[]}=u,p=Op(f),g=Op(m),b=lA(i),x=d(function(){return a++,c.apply(null,arguments)},...p),w=h(function(){o++;const S=cA(b,arguments);return s=x.apply(null,S),s},...g);return Object.assign(w,{resultFunc:c,memoizedResultFunc:x,dependencies:b,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>s,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:d,argsMemoize:h})};return Object.assign(n,{withTypes:()=>n}),n}var j=hA(c0),pA=Object.assign((e,t=j)=>{oA(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(a=>e[a]);return t(n,(...a)=>a.reduce((o,s,l)=>(o[r[l]]=s,o),{}))},{withTypes:()=>pA}),Ll={},Bl={},Ul={},jp;function mA(){return jp||(jp=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,a)=>{if(n!==i){const o=t(n),s=t(i);if(o===s&&o===0){if(n<i)return a==="desc"?1:-1;if(n>i)return a==="desc"?-1:1}return a==="desc"?s-o:o-s}return 0};e.compareValues=r})(Ul)),Ul}var Fl={},zl={},kp;function u0(){return kp||(kp=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(zl)),zl}var Ap;function gA(){return Ap||(Ap=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=u0(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,o){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(n.test(a)||!r.test(a))||o!=null&&Object.hasOwn(o,a)}e.isKey=i})(Fl)),Fl}var Tp;function vA(){return Tp||(Tp=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mA(),r=gA(),n=ad();function i(a,o,s,l){if(a==null)return[];s=l?void 0:s,Array.isArray(a)||(a=Object.values(a)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(s)||(s=s==null?[]:[s]),s=s.map(h=>String(h));const c=(h,m)=>{let p=h;for(let g=0;g<m.length&&p!=null;++g)p=p[m[g]];return p},u=(h,m)=>m==null||h==null?m:typeof h=="object"&&"key"in h?Object.hasOwn(m,h.key)?m[h.key]:c(m,h.path):typeof h=="function"?h(m):Array.isArray(h)?c(m,h):typeof m=="object"?m[h]:m,d=o.map(h=>(Array.isArray(h)&&h.length===1&&(h=h[0]),h==null||typeof h=="function"||Array.isArray(h)||r.isKey(h)?h:{key:h,path:n.toPath(h)}));return a.map(h=>({original:h,criteria:d.map(m=>u(m,h))})).slice().sort((h,m)=>{for(let p=0;p<d.length;p++){const g=t.compareValues(h.criteria[p],m.criteria[p],s[p]);if(g!==0)return g}return 0}).map(h=>h.original)}e.orderBy=i})(Bl)),Bl}var ql={},Cp;function yA(){return Cp||(Cp=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const i=[],a=Math.floor(n),o=(s,l)=>{for(let c=0;c<s.length;c++){const u=s[c];Array.isArray(u)&&l<a?o(u,l+1):i.push(u)}};return o(r,0),i}e.flatten=t})(ql)),ql}var Wl={},Rp;function d0(){return Rp||(Rp=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=l0(),r=fd(),n=r0(),i=i0();function a(o,s,l){return n.isObject(l)&&(typeof s=="number"&&r.isArrayLike(l)&&t.isIndex(s)&&s<l.length||typeof s=="string"&&s in l)?i.eq(l[s],o):!1}e.isIterateeCall=a})(Wl)),Wl}var Ip;function bA(){return Ip||(Ip=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vA(),r=yA(),n=d0();function i(a,...o){const s=o.length;return s>1&&n.isIterateeCall(a,o[0],o[1])?o=[]:s>2&&n.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(a,r.flatten(o),["asc"])}e.sortBy=i})(Ll)),Ll}var Kl,$p;function wA(){return $p||($p=1,Kl=bA().sortBy),Kl}var xA=wA();const rs=er(xA);var f0=e=>e.legend.settings,_A=e=>e.legend.size,SA=e=>e.legend.payload;j([SA,f0],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?rs(n,r):n});var Ta=1;function EA(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=y.useState({height:0,left:0,top:0,width:0}),n=y.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),o={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(o.height-t.height)>Ta||Math.abs(o.left-t.left)>Ta||Math.abs(o.top-t.top)>Ta||Math.abs(o.width-t.width)>Ta)&&r({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function Le(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var OA=typeof Symbol=="function"&&Symbol.observable||"@@observable",Dp=OA,Hl=()=>Math.random().toString(36).substring(7).split("").join("."),PA={INIT:`@@redux/INIT${Hl()}`,REPLACE:`@@redux/REPLACE${Hl()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Hl()}`},po=PA;function md(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function h0(e,t,r){if(typeof e!="function")throw new Error(Le(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Le(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Le(1));return r(h0)(e,t)}let n=e,i=t,a=new Map,o=a,s=0,l=!1;function c(){o===a&&(o=new Map,a.forEach((g,b)=>{o.set(b,g)}))}function u(){if(l)throw new Error(Le(3));return i}function d(g){if(typeof g!="function")throw new Error(Le(4));if(l)throw new Error(Le(5));let b=!0;c();const x=s++;return o.set(x,g),function(){if(b){if(l)throw new Error(Le(6));b=!1,c(),o.delete(x),a=null}}}function f(g){if(!md(g))throw new Error(Le(7));if(typeof g.type>"u")throw new Error(Le(8));if(typeof g.type!="string")throw new Error(Le(17));if(l)throw new Error(Le(9));try{l=!0,i=n(i,g)}finally{l=!1}return(a=o).forEach(x=>{x()}),g}function h(g){if(typeof g!="function")throw new Error(Le(10));n=g,f({type:po.REPLACE})}function m(){const g=d;return{subscribe(b){if(typeof b!="object"||b===null)throw new Error(Le(11));function x(){const _=b;_.next&&_.next(u())}return x(),{unsubscribe:g(x)}},[Dp](){return this}}}return f({type:po.INIT}),{dispatch:f,subscribe:d,getState:u,replaceReducer:h,[Dp]:m}}function jA(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:po.INIT})>"u")throw new Error(Le(12));if(typeof r(void 0,{type:po.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Le(13))})}function p0(e){const t=Object.keys(e),r={};for(let a=0;a<t.length;a++){const o=t[a];typeof e[o]=="function"&&(r[o]=e[o])}const n=Object.keys(r);let i;try{jA(r)}catch(a){i=a}return function(o={},s){if(i)throw i;let l=!1;const c={};for(let u=0;u<n.length;u++){const d=n[u],f=r[d],h=o[d],m=f(h,s);if(typeof m>"u")throw s&&s.type,new Error(Le(14));c[d]=m,l=l||m!==h}return l=l||n.length!==Object.keys(o).length,l?c:o}}function mo(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function kA(...e){return t=>(r,n)=>{const i=t(r,n);let a=()=>{throw new Error(Le(15))};const o={getState:i.getState,dispatch:(l,...c)=>a(l,...c)},s=e.map(l=>l(o));return a=mo(...s)(i.dispatch),{...i,dispatch:a}}}function m0(e){return md(e)&&"type"in e&&typeof e.type=="string"}var g0=Symbol.for("immer-nothing"),Mp=Symbol.for("immer-draftable"),bt=Symbol.for("immer-state");function Bt(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Bn=Object.getPrototypeOf;function sn(e){return!!e&&!!e[bt]}function mr(e){var t;return e?v0(e)||Array.isArray(e)||!!e[Mp]||!!((t=e.constructor)!=null&&t[Mp])||Qi(e)||is(e):!1}var AA=Object.prototype.constructor.toString();function v0(e){if(!e||typeof e!="object")return!1;const t=Bn(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===AA}function go(e,t){ns(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function ns(e){const t=e[bt];return t?t.type_:Array.isArray(e)?1:Qi(e)?2:is(e)?3:0}function Qc(e,t){return ns(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function y0(e,t,r){const n=ns(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function TA(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Qi(e){return e instanceof Map}function is(e){return e instanceof Set}function Vr(e){return e.copy_||e.base_}function eu(e,t){if(Qi(e))return new Map(e);if(is(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=v0(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[bt];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const o=i[a],s=n[o];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(n[o]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[o]})}return Object.create(Bn(e),n)}else{const n=Bn(e);if(n!==null&&r)return{...e};const i=Object.create(n);return Object.assign(i,e)}}function gd(e,t=!1){return as(e)||sn(e)||!mr(e)||(ns(e)>1&&Object.defineProperties(e,{set:{value:Ca},add:{value:Ca},clear:{value:Ca},delete:{value:Ca}}),Object.freeze(e),t&&Object.values(e).forEach(r=>gd(r,!0))),e}function Ca(){Bt(2)}function as(e){return Object.isFrozen(e)}var CA={};function ln(e){const t=CA[e];return t||Bt(0,e),t}var Bi;function b0(){return Bi}function RA(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Np(e,t){t&&(ln("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function tu(e){ru(e),e.drafts_.forEach(IA),e.drafts_=null}function ru(e){e===Bi&&(Bi=e.parent_)}function Lp(e){return Bi=RA(Bi,e)}function IA(e){const t=e[bt];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Bp(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[bt].modified_&&(tu(t),Bt(4)),mr(e)&&(e=vo(t,e),t.parent_||yo(t,e)),t.patches_&&ln("Patches").generateReplacementPatches_(r[bt].base_,e,t.patches_,t.inversePatches_)):e=vo(t,r,[]),tu(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==g0?e:void 0}function vo(e,t,r){if(as(t))return t;const n=t[bt];if(!n)return go(t,(i,a)=>Up(e,n,t,i,a,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return yo(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const i=n.copy_;let a=i,o=!1;n.type_===3&&(a=new Set(i),i.clear(),o=!0),go(a,(s,l)=>Up(e,n,i,s,l,r,o)),yo(e,i,!1),r&&e.patches_&&ln("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function Up(e,t,r,n,i,a,o){if(sn(i)){const s=a&&t&&t.type_!==3&&!Qc(t.assigned_,n)?a.concat(n):void 0,l=vo(e,i,s);if(y0(r,n,l),sn(l))e.canAutoFreeze_=!1;else return}else o&&r.add(i);if(mr(i)&&!as(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;vo(e,i),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(Qi(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&yo(e,i)}}function yo(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&gd(t,r)}function $A(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:b0(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,a=vd;r&&(i=[n],a=Ui);const{revoke:o,proxy:s}=Proxy.revocable(i,a);return n.draft_=s,n.revoke_=o,s}var vd={get(e,t){if(t===bt)return e;const r=Vr(e);if(!Qc(r,t))return DA(e,r,t);const n=r[t];return e.finalized_||!mr(n)?n:n===Vl(e.base_,t)?(Gl(e),e.copy_[t]=iu(n,e)):n},has(e,t){return t in Vr(e)},ownKeys(e){return Reflect.ownKeys(Vr(e))},set(e,t,r){const n=w0(Vr(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=Vl(Vr(e),t),a=i==null?void 0:i[bt];if(a&&a.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(TA(r,i)&&(r!==void 0||Qc(e.base_,t)))return!0;Gl(e),nu(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Vl(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Gl(e),nu(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Vr(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){Bt(11)},getPrototypeOf(e){return Bn(e.base_)},setPrototypeOf(){Bt(12)}},Ui={};go(vd,(e,t)=>{Ui[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Ui.deleteProperty=function(e,t){return Ui.set.call(this,e,t,void 0)};Ui.set=function(e,t,r){return vd.set.call(this,e[0],t,r,e[0])};function Vl(e,t){const r=e[bt];return(r?Vr(r):e)[t]}function DA(e,t,r){var i;const n=w0(t,r);return n?"value"in n?n.value:(i=n.get)==null?void 0:i.call(e.draft_):void 0}function w0(e,t){if(!(t in e))return;let r=Bn(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Bn(r)}}function nu(e){e.modified_||(e.modified_=!0,e.parent_&&nu(e.parent_))}function Gl(e){e.copy_||(e.copy_=eu(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var MA=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const a=r;r=t;const o=this;return function(l=a,...c){return o.produce(l,u=>r.call(this,u,...c))}}typeof r!="function"&&Bt(6),n!==void 0&&typeof n!="function"&&Bt(7);let i;if(mr(t)){const a=Lp(this),o=iu(t,void 0);let s=!0;try{i=r(o),s=!1}finally{s?tu(a):ru(a)}return Np(a,n),Bp(i,a)}else if(!t||typeof t!="object"){if(i=r(t),i===void 0&&(i=t),i===g0&&(i=void 0),this.autoFreeze_&&gd(i,!0),n){const a=[],o=[];ln("Patches").generateReplacementPatches_(t,i,a,o),n(a,o)}return i}else Bt(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(o,...s)=>this.produceWithPatches(o,l=>t(l,...s));let n,i;return[this.produce(t,r,(o,s)=>{n=o,i=s}),n,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){mr(e)||Bt(8),sn(e)&&(e=fr(e));const t=Lp(this),r=iu(e,void 0);return r[bt].isManual_=!0,ru(t),r}finishDraft(e,t){const r=e&&e[bt];(!r||!r.isManual_)&&Bt(9);const{scope_:n}=r;return Np(n,t),Bp(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const i=t[r];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}r>-1&&(t=t.slice(r+1));const n=ln("Patches").applyPatches_;return sn(e)?n(e,t):this.produce(e,i=>n(i,t))}};function iu(e,t){const r=Qi(e)?ln("MapSet").proxyMap_(e,t):is(e)?ln("MapSet").proxySet_(e,t):$A(e,t);return(t?t.scope_:b0()).drafts_.push(r),r}function fr(e){return sn(e)||Bt(10,e),x0(e)}function x0(e){if(!mr(e)||as(e))return e;const t=e[bt];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=eu(e,t.scope_.immer_.useStrictShallowCopy_)}else r=eu(e,!0);return go(r,(n,i)=>{y0(r,n,x0(i))}),t&&(t.finalized_=!1),r}var NA=new MA,_0=NA.produce;function S0(e){return({dispatch:r,getState:n})=>i=>a=>typeof a=="function"?a(r,n,e):i(a)}var LA=S0(),BA=S0,UA=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?mo:mo.apply(null,arguments)};function Ct(e,t){function r(...n){if(t){let i=t(...n);if(!i)throw new Error(vt(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>m0(n)&&n.type===e,r}var E0=class Ai extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Ai.prototype)}static get[Symbol.species](){return Ai}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Ai(...t[0].concat(this)):new Ai(...t.concat(this))}};function Fp(e){return mr(e)?_0(e,()=>{}):e}function Ra(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function FA(e){return typeof e=="boolean"}var zA=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let o=new E0;return r&&(FA(r)?o.push(LA):o.push(BA(r.extraArgument))),o},qA="RTK_autoBatch",zp=e=>t=>{setTimeout(t,e)},WA=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let i=!0,a=!1,o=!1;const s=new Set,l=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:zp(10):e.type==="callback"?e.queueNotification:zp(e.timeout),c=()=>{o=!1,a&&(a=!1,s.forEach(u=>u()))};return Object.assign({},n,{subscribe(u){const d=()=>i&&u(),f=n.subscribe(d);return s.add(u),()=>{f(),s.delete(u)}},dispatch(u){var d;try{return i=!((d=u==null?void 0:u.meta)!=null&&d[qA]),a=!i,a&&(o||(o=!0,l(c))),n.dispatch(u)}finally{i=!0}}})},KA=e=>function(r){const{autoBatch:n=!0}=r??{};let i=new E0(e);return n&&i.push(WA(typeof n=="object"?n:void 0)),i};function HA(e){const t=zA(),{reducer:r=void 0,middleware:n,devTools:i=!0,preloadedState:a=void 0,enhancers:o=void 0}=e||{};let s;if(typeof r=="function")s=r;else if(md(r))s=p0(r);else throw new Error(vt(1));let l;typeof n=="function"?l=n(t):l=t();let c=mo;i&&(c=UA({trace:!1,...typeof i=="object"&&i}));const u=kA(...l),d=KA(u);let f=typeof o=="function"?o(d):d();const h=c(...f);return h0(s,a,h)}function O0(e){const t={},r=[];let n;const i={addCase(a,o){const s=typeof a=="string"?a:a.type;if(!s)throw new Error(vt(28));if(s in t)throw new Error(vt(29));return t[s]=o,i},addAsyncThunk(a,o){return o.pending&&(t[a.pending.type]=o.pending),o.rejected&&(t[a.rejected.type]=o.rejected),o.fulfilled&&(t[a.fulfilled.type]=o.fulfilled),o.settled&&r.push({matcher:a.settled,reducer:o.settled}),i},addMatcher(a,o){return r.push({matcher:a,reducer:o}),i},addDefaultCase(a){return n=a,i}};return e(i),[t,r,n]}function VA(e){return typeof e=="function"}function GA(e,t){let[r,n,i]=O0(t),a;if(VA(e))a=()=>Fp(e());else{const s=Fp(e);a=()=>s}function o(s=a(),l){let c=[r[l.type],...n.filter(({matcher:u})=>u(l)).map(({reducer:u})=>u)];return c.filter(u=>!!u).length===0&&(c=[i]),c.reduce((u,d)=>{if(d)if(sn(u)){const h=d(u,l);return h===void 0?u:h}else{if(mr(u))return _0(u,f=>d(f,l));{const f=d(u,l);if(f===void 0){if(u===null)return u;throw Error("A case reducer on a non-draftable value must not return undefined")}return f}}return u},s)}return o.getInitialState=a,o}var YA="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",JA=(e=21)=>{let t="",r=e;for(;r--;)t+=YA[Math.random()*64|0];return t},XA=Symbol.for("rtk-slice-createasyncthunk");function ZA(e,t){return`${e}/${t}`}function QA({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[XA];return function(i){const{name:a,reducerPath:o=a}=i;if(!a)throw new Error(vt(11));const s=(typeof i.reducers=="function"?i.reducers(tT()):i.reducers)||{},l=Object.keys(s),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(_,S){const E=typeof _=="string"?_:_.type;if(!E)throw new Error(vt(12));if(E in c.sliceCaseReducersByType)throw new Error(vt(13));return c.sliceCaseReducersByType[E]=S,u},addMatcher(_,S){return c.sliceMatchers.push({matcher:_,reducer:S}),u},exposeAction(_,S){return c.actionCreators[_]=S,u},exposeCaseReducer(_,S){return c.sliceCaseReducersByName[_]=S,u}};l.forEach(_=>{const S=s[_],E={reducerName:_,type:ZA(a,_),createNotation:typeof i.reducers=="function"};nT(S)?aT(E,S,u,t):rT(E,S,u)});function d(){const[_={},S=[],E=void 0]=typeof i.extraReducers=="function"?O0(i.extraReducers):[i.extraReducers],O={..._,...c.sliceCaseReducersByType};return GA(i.initialState,k=>{for(let A in O)k.addCase(A,O[A]);for(let A of c.sliceMatchers)k.addMatcher(A.matcher,A.reducer);for(let A of S)k.addMatcher(A.matcher,A.reducer);E&&k.addDefaultCase(E)})}const f=_=>_,h=new Map,m=new WeakMap;let p;function g(_,S){return p||(p=d()),p(_,S)}function b(){return p||(p=d()),p.getInitialState()}function x(_,S=!1){function E(k){let A=k[_];return typeof A>"u"&&S&&(A=Ra(m,E,b)),A}function O(k=f){const A=Ra(h,S,()=>new WeakMap);return Ra(A,k,()=>{const D={};for(const[R,I]of Object.entries(i.selectors??{}))D[R]=eT(I,k,()=>Ra(m,k,b),S);return D})}return{reducerPath:_,getSelectors:O,get selectors(){return O(E)},selectSlice:E}}const w={name:a,reducer:g,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:b,...x(o),injectInto(_,{reducerPath:S,...E}={}){const O=S??o;return _.inject({reducerPath:O,reducer:g},E),{...w,...x(O,!0)}}};return w}}function eT(e,t,r,n){function i(a,...o){let s=t(a);return typeof s>"u"&&n&&(s=r()),e(s,...o)}return i.unwrapped=e,i}var _t=QA();function tT(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function rT({type:e,reducerName:t,createNotation:r},n,i){let a,o;if("reducer"in n){if(r&&!iT(n))throw new Error(vt(17));a=n.reducer,o=n.prepare}else a=n;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,o?Ct(e,o):Ct(e))}function nT(e){return e._reducerDefinitionType==="asyncThunk"}function iT(e){return e._reducerDefinitionType==="reducerWithPrepare"}function aT({type:e,reducerName:t},r,n,i){if(!i)throw new Error(vt(18));const{payloadCreator:a,fulfilled:o,pending:s,rejected:l,settled:c,options:u}=r,d=i(e,a,u);n.exposeAction(t,d),o&&n.addCase(d.fulfilled,o),s&&n.addCase(d.pending,s),l&&n.addCase(d.rejected,l),c&&n.addMatcher(d.settled,c),n.exposeCaseReducer(t,{fulfilled:o||Ia,pending:s||Ia,rejected:l||Ia,settled:c||Ia})}function Ia(){}var oT="task",P0="listener",j0="completed",yd="cancelled",sT=`task-${yd}`,lT=`task-${j0}`,au=`${P0}-${yd}`,cT=`${P0}-${j0}`,os=class{constructor(e){Ms(this,"name","TaskAbortError");Ms(this,"message");this.code=e,this.message=`${oT} ${yd} (reason: ${e})`}},bd=(e,t)=>{if(typeof e!="function")throw new TypeError(vt(32))},bo=()=>{},k0=(e,t=bo)=>(e.catch(t),e),A0=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),tn=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},rn=e=>{if(e.aborted){const{reason:t}=e;throw new os(t)}};function T0(e,t){let r=bo;return new Promise((n,i)=>{const a=()=>i(new os(e.reason));if(e.aborted){a();return}r=A0(e,a),t.finally(()=>r()).then(n,i)}).finally(()=>{r=bo})}var uT=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof os?"cancelled":"rejected",error:r}}finally{t==null||t()}},wo=e=>t=>k0(T0(e,t).then(r=>(rn(e),r))),C0=e=>{const t=wo(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:$n}=Object,qp={},ss="listenerMiddleware",dT=(e,t)=>{const r=n=>A0(e,()=>tn(n,e.reason));return(n,i)=>{bd(n);const a=new AbortController;r(a);const o=uT(async()=>{rn(e),rn(a.signal);const s=await n({pause:wo(a.signal),delay:C0(a.signal),signal:a.signal});return rn(a.signal),s},()=>tn(a,lT));return i!=null&&i.autoJoin&&t.push(o.catch(bo)),{result:wo(e)(o),cancel(){tn(a,sT)}}}},fT=(e,t)=>{const r=async(n,i)=>{rn(t);let a=()=>{};const s=[new Promise((l,c)=>{let u=e({predicate:n,effect:(d,f)=>{f.unsubscribe(),l([d,f.getState(),f.getOriginalState()])}});a=()=>{u(),c()}})];i!=null&&s.push(new Promise(l=>setTimeout(l,i,null)));try{const l=await T0(t,Promise.race(s));return rn(t),l}finally{a()}};return(n,i)=>k0(r(n,i))},R0=e=>{let{type:t,actionCreator:r,matcher:n,predicate:i,effect:a}=e;if(t)i=Ct(t).match;else if(r)t=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(vt(21));return bd(a),{predicate:i,type:t,effect:a}},I0=$n(e=>{const{type:t,predicate:r,effect:n}=R0(e);return{id:JA(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(vt(22))}}},{withTypes:()=>I0}),Wp=(e,t)=>{const{type:r,effect:n,predicate:i}=R0(t);return Array.from(e.values()).find(a=>(typeof r=="string"?a.type===r:a.predicate===i)&&a.effect===n)},ou=e=>{e.pending.forEach(t=>{tn(t,au)})},hT=e=>()=>{e.forEach(ou),e.clear()},Kp=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},$0=$n(Ct(`${ss}/add`),{withTypes:()=>$0}),pT=Ct(`${ss}/removeAll`),D0=$n(Ct(`${ss}/remove`),{withTypes:()=>D0}),mT=(...e)=>{console.error(`${ss}/error`,...e)},ea=(e={})=>{const t=new Map,{extra:r,onError:n=mT}=e;bd(n);const i=u=>(u.unsubscribe=()=>t.delete(u.id),t.set(u.id,u),d=>{u.unsubscribe(),d!=null&&d.cancelActive&&ou(u)}),a=u=>{const d=Wp(t,u)??I0(u);return i(d)};$n(a,{withTypes:()=>a});const o=u=>{const d=Wp(t,u);return d&&(d.unsubscribe(),u.cancelActive&&ou(d)),!!d};$n(o,{withTypes:()=>o});const s=async(u,d,f,h)=>{const m=new AbortController,p=fT(a,m.signal),g=[];try{u.pending.add(m),await Promise.resolve(u.effect(d,$n({},f,{getOriginalState:h,condition:(b,x)=>p(b,x).then(Boolean),take:p,delay:C0(m.signal),pause:wo(m.signal),extra:r,signal:m.signal,fork:dT(m.signal,g),unsubscribe:u.unsubscribe,subscribe:()=>{t.set(u.id,u)},cancelActiveListeners:()=>{u.pending.forEach((b,x,w)=>{b!==m&&(tn(b,au),w.delete(b))})},cancel:()=>{tn(m,au),u.pending.delete(m)},throwIfCancelled:()=>{rn(m.signal)}})))}catch(b){b instanceof os||Kp(n,b,{raisedBy:"effect"})}finally{await Promise.all(g),tn(m,cT),u.pending.delete(m)}},l=hT(t);return{middleware:u=>d=>f=>{if(!m0(f))return d(f);if($0.match(f))return a(f.payload);if(pT.match(f)){l();return}if(D0.match(f))return o(f.payload);let h=u.getState();const m=()=>{if(h===qp)throw new Error(vt(23));return h};let p;try{if(p=d(f),t.size>0){const g=u.getState(),b=Array.from(t.values());for(const x of b){let w=!1;try{w=x.predicate(f,g,h)}catch(_){w=!1,Kp(n,_,{raisedBy:"predicate"})}w&&s(x,f,u,m)}}}finally{h=qp}return p},startListening:a,stopListening:o,clearListeners:l}};function vt(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var gT={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},M0=_t({name:"chartLayout",initialState:gT,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,i,a;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:vT,setLayout:yT,setChartSize:bT,setScale:wT}=M0.actions,xT=M0.reducer;function Hp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Vp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Hp(Object(r),!0).forEach(function(n){_T(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hp(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _T(e,t,r){return(t=ST(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ST(e){var t=ET(e,"string");return typeof t=="symbol"?t:t+""}function ET(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xo=Math.PI/180,OT=e=>e*180/Math.PI,Ue=(e,t,r,n)=>({x:e+Math.cos(-xo*n)*r,y:t+Math.sin(-xo*n)*r}),PT=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},jT=(e,t)=>{var{x:r,y:n}=e,{x:i,y:a}=t;return Math.sqrt((r-i)**2+(n-a)**2)},kT=(e,t)=>{var{x:r,y:n}=e,{cx:i,cy:a}=t,o=jT({x:r,y:n},{x:i,y:a});if(o<=0)return{radius:o,angle:0};var s=(r-i)/o,l=Math.acos(s);return n>a&&(l=2*Math.PI-l),{radius:o,angle:OT(l),angleInRadian:l}},AT=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),i=Math.floor(r/360),a=Math.min(n,i);return{startAngle:t-a*360,endAngle:r-a*360}},TT=(e,t)=>{var{startAngle:r,endAngle:n}=t,i=Math.floor(r/360),a=Math.floor(n/360),o=Math.min(i,a);return e+o*360},CT=(e,t)=>{var{x:r,y:n}=e,{radius:i,angle:a}=kT({x:r,y:n},t),{innerRadius:o,outerRadius:s}=t;if(i<o||i>s||i===0)return null;var{startAngle:l,endAngle:c}=AT(t),u=a,d;if(l<=c){for(;u>c;)u-=360;for(;u<l;)u+=360;d=u>=l&&u<=c}else{for(;u>l;)u-=360;for(;u<c;)u+=360;d=u>=c&&u<=l}return d?Vp(Vp({},t),{},{radius:i,angle:TT(u,t)}):null};function N0(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function Gp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function kt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Gp(Object(r),!0).forEach(function(n){RT(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gp(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RT(e,t,r){return(t=IT(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IT(e){var t=$T(e,"string");return typeof t=="symbol"?t:t+""}function $T(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function et(e,t,r){return Re(e)||Re(t)?r:Zt(t)?Nn(e,t,r):typeof t=="function"?t(e):r}var DT=(e,t,r,n,i)=>{var a,o=-1,s=(a=t==null?void 0:t.length)!==null&&a!==void 0?a:0;if(s<=1||e==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var l=0;l<s;l++){var c=l>0?r[l-1].coordinate:r[s-1].coordinate,u=r[l].coordinate,d=l>=s-1?r[0].coordinate:r[l+1].coordinate,f=void 0;if(at(u-c)!==at(d-u)){var h=[];if(at(d-u)===at(i[1]-i[0])){f=d;var m=u+i[1]-i[0];h[0]=Math.min(m,(m+c)/2),h[1]=Math.max(m,(m+c)/2)}else{f=c;var p=d+i[1]-i[0];h[0]=Math.min(u,(p+u)/2),h[1]=Math.max(u,(p+u)/2)}var g=[Math.min(u,(f+u)/2),Math.max(u,(f+u)/2)];if(e>g[0]&&e<=g[1]||e>=h[0]&&e<=h[1]){({index:o}=r[l]);break}}else{var b=Math.min(c,d),x=Math.max(c,d);if(e>(b+u)/2&&e<=(x+u)/2){({index:o}=r[l]);break}}}else if(t){for(var w=0;w<s;w++)if(w===0&&e<=(t[w].coordinate+t[w+1].coordinate)/2||w>0&&w<s-1&&e>(t[w].coordinate+t[w-1].coordinate)/2&&e<=(t[w].coordinate+t[w+1].coordinate)/2||w===s-1&&e>(t[w].coordinate+t[w-1].coordinate)/2){({index:o}=t[w]);break}}return o},MT=(e,t,r)=>{if(t&&r){var{width:n,height:i}=r,{align:a,verticalAlign:o,layout:s}=t;if((s==="vertical"||s==="horizontal"&&o==="middle")&&a!=="center"&&U(e[a]))return kt(kt({},e),{},{[a]:e[a]+(n||0)});if((s==="horizontal"||s==="vertical"&&a==="center")&&o!=="middle"&&U(e[o]))return kt(kt({},e),{},{[o]:e[o]+(i||0)})}return e},hn=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",L0=(e,t,r,n)=>{if(n)return e.map(s=>s.coordinate);var i,a,o=e.map(s=>(s.coordinate===t&&(i=!0),s.coordinate===r&&(a=!0),s.coordinate));return i||o.push(t),a||o.push(r),o},B0=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:i,range:a,scale:o,realScaleType:s,isCategorical:l,categoricalDomain:c,tickCount:u,ticks:d,niceTicks:f,axisType:h}=e;if(!o)return null;var m=s==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,p=i==="category"&&o.bandwidth?o.bandwidth()/m:0;if(p=h==="angleAxis"&&a&&a.length>=2?at(a[0]-a[1])*2*p:p,d||f){var g=(d||f||[]).map((b,x)=>{var w=n?n.indexOf(b):b;return{coordinate:o(w)+p,value:b,offset:p,index:x}});return g.filter(b=>!yt(b.coordinate))}return l&&c?c.map((b,x)=>({coordinate:o(b)+p,value:b,index:x,offset:p})):o.ticks&&u!=null?o.ticks(u).map((b,x)=>({coordinate:o(b)+p,value:b,offset:p,index:x})):o.domain().map((b,x)=>({coordinate:o(b)+p,value:n?n[b]:b,index:x,offset:p}))},Yp=1e-4,NT=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),i=Math.min(n[0],n[1])-Yp,a=Math.max(n[0],n[1])+Yp,o=e(t[0]),s=e(t[r-1]);(o<i||o>a||s<i||s>a)&&e.domain([t[0],t[r-1]])}},LT=(e,t)=>{if(!t||t.length!==2||!U(t[0])||!U(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!U(e[0])||e[0]<r)&&(i[0]=r),(!U(e[1])||e[1]>n)&&(i[1]=n),i[0]>n&&(i[0]=n),i[1]<r&&(i[1]=r),i},BT=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var i=0,a=0,o=0;o<t;++o){var s=yt(e[o][r][1])?e[o][r][0]:e[o][r][1];s>=0?(e[o][r][0]=i,e[o][r][1]=i+s,i=e[o][r][1]):(e[o][r][0]=a,e[o][r][1]=a+s,a=e[o][r][1])}},UT=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var i=0,a=0;a<t;++a){var o=yt(e[a][r][1])?e[a][r][0]:e[a][r][1];o>=0?(e[a][r][0]=i,e[a][r][1]=i+o,i=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},FT={sign:BT,expand:yk,none:Ln,silhouette:bk,wiggle:wk,positive:UT},zT=(e,t,r)=>{var n=FT[r],i=vk().keys(t).value((a,o)=>+et(a,o,0)).order(Xc).offset(n);return i(e)};function qT(e){return e==null?void 0:String(e)}var Jp=e=>{var{axis:t,ticks:r,offset:n,bandSize:i,entry:a,index:o}=e;if(t.type==="category")return r[o]?r[o].coordinate+n:null;var s=et(a,t.dataKey,t.scale.domain()[o]);return Re(s)?null:t.scale(s)-i/2+n},WT=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return n<=0&&i>=0?0:i<0?i:n}return r[0]},KT=e=>{var t=e.flat(2).filter(U);return[Math.min(...t),Math.max(...t)]},HT=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],VT=(e,t,r)=>{if(e!=null)return HT(Object.keys(e).reduce((n,i)=>{var a=e[i],{stackedData:o}=a,s=o.reduce((l,c)=>{var u=N0(c,t,r),d=KT(u);return[Math.min(l[0],d[0]),Math.max(l[1],d[1])]},[1/0,-1/0]);return[Math.min(s[0],n[0]),Math.max(s[1],n[1])]},[1/0,-1/0]))},Xp=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Zp=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,wd=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var i=rs(t,u=>u.coordinate),a=1/0,o=1,s=i.length;o<s;o++){var l=i[o],c=i[o-1];a=Math.min((l.coordinate||0)-(c.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0};function Qp(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:i,name:a}=e;return kt(kt({},t),{},{dataKey:r,payload:n,value:i,name:a})}function U0(e,t){if(e)return String(e);if(typeof t=="string")return t}function GT(e,t,r,n,i){if(r==="horizontal"||r==="vertical"){var a=e>=i.left&&e<=i.left+i.width&&t>=i.top&&t<=i.top+i.height;return a?{x:e,y:t}:null}return n?CT({x:e,y:t},n):null}var YT=(e,t,r,n)=>{var i=t.find(c=>c&&c.index===r);if(i){if(e==="horizontal")return{x:i.coordinate,y:n.y};if(e==="vertical")return{x:n.x,y:i.coordinate};if(e==="centric"){var a=i.coordinate,{radius:o}=n;return kt(kt(kt({},n),Ue(n.cx,n.cy,o,a)),{},{angle:a,radius:o})}var s=i.coordinate,{angle:l}=n;return kt(kt(kt({},n),Ue(n.cx,n.cy,s,l)),{},{angle:l,radius:s})}return{x:0,y:0}},JT=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,br=e=>e.layout.width,wr=e=>e.layout.height,XT=e=>e.layout.scale,F0=e=>e.layout.margin,ls=j(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),cs=j(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),ZT="data-recharts-item-index",QT="data-recharts-item-data-key",ta=60;function em(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function $a(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?em(Object(r),!0).forEach(function(n){eC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):em(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eC(e,t,r){return(t=tC(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tC(e){var t=rC(e,"string");return typeof t=="symbol"?t:t+""}function rC(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nC=e=>e.brush.height;function iC(e){var t=cs(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:ta;return r+i}return r},0)}function aC(e){var t=cs(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:ta;return r+i}return r},0)}function oC(e){var t=ls(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function sC(e){var t=ls(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var $e=j([br,wr,F0,nC,iC,aC,oC,sC,f0,_A],(e,t,r,n,i,a,o,s,l,c)=>{var u={left:(r.left||0)+i,right:(r.right||0)+a},d={top:(r.top||0)+o,bottom:(r.bottom||0)+s},f=$a($a({},d),u),h=f.bottom;f.bottom+=n,f=MT(f,l,c);var m=e-f.left-f.right,p=t-f.top-f.bottom;return $a($a({brushBottom:h},f),{},{width:Math.max(m,0),height:Math.max(p,0)})}),lC=j($e,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),xd=j(br,wr,(e,t)=>({x:0,y:0,width:e,height:t})),cC=y.createContext(null),It=()=>y.useContext(cC)!=null,us=e=>e.brush,ds=j([us,$e,F0],(e,t,r)=>({height:e.height,x:U(e.x)?e.x:t.left,y:U(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:U(e.width)?e.width:t.width})),_d=()=>{var e,t=It(),r=F(lC),n=F(ds),i=(e=F(us))===null||e===void 0?void 0:e.padding;return!t||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},uC={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},z0=()=>{var e;return(e=F($e))!==null&&e!==void 0?e:uC},q0=()=>F(br),W0=()=>F(wr),ae=e=>e.layout.layoutType,Sd=()=>F(ae),dC={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},K0=_t({name:"legend",initialState:dC,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var r=fr(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)}}}),{setLegendSize:dz,setLegendSettings:fz,addLegendPayload:fC,removeLegendPayload:hC}=K0.actions,pC=K0.reducer;function su(){return su=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},su.apply(null,arguments)}function tm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Yl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tm(Object(r),!0).forEach(function(n){mC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tm(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mC(e,t,r){return(t=gC(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gC(e){var t=vC(e,"string");return typeof t=="symbol"?t:t+""}function vC(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yC(e){return Array.isArray(e)&&Zt(e[0])&&Zt(e[1])?e.join(" ~ "):e}var bC=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:i={},payload:a,formatter:o,itemSorter:s,wrapperClassName:l,labelClassName:c,label:u,labelFormatter:d,accessibilityLayer:f=!1}=e,h=()=>{if(a&&a.length){var S={padding:0,margin:0},E=(s?rs(a,s):a).map((O,k)=>{if(O.type==="none")return null;var A=O.formatter||o||yC,{value:D,name:R}=O,I=D,B=R;if(A){var L=A(D,R,O,k,a);if(Array.isArray(L))[I,B]=L;else if(L!=null)I=L;else return null}var H=Yl({display:"block",paddingTop:4,paddingBottom:4,color:O.color||"#000"},n);return y.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(k),style:H},Zt(B)?y.createElement("span",{className:"recharts-tooltip-item-name"},B):null,Zt(B)?y.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,y.createElement("span",{className:"recharts-tooltip-item-value"},I),y.createElement("span",{className:"recharts-tooltip-item-unit"},O.unit||""))});return y.createElement("ul",{className:"recharts-tooltip-item-list",style:S},E)}return null},m=Yl({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),p=Yl({margin:0},i),g=!Re(u),b=g?u:"",x=fe("recharts-default-tooltip",l),w=fe("recharts-tooltip-label",c);g&&d&&a!==void 0&&a!==null&&(b=d(u,a));var _=f?{role:"status","aria-live":"assertive"}:{};return y.createElement("div",su({className:x,style:m},_),y.createElement("p",{className:w,style:p},y.isValidElement(b)?b:"".concat(b)),h())},gi="recharts-tooltip-wrapper",wC={visibility:"hidden"};function xC(e){var{coordinate:t,translateX:r,translateY:n}=e;return fe(gi,{["".concat(gi,"-right")]:U(r)&&t&&U(t.x)&&r>=t.x,["".concat(gi,"-left")]:U(r)&&t&&U(t.x)&&r<t.x,["".concat(gi,"-bottom")]:U(n)&&t&&U(t.y)&&n>=t.y,["".concat(gi,"-top")]:U(n)&&t&&U(t.y)&&n<t.y})}function rm(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:i,position:a,reverseDirection:o,tooltipDimension:s,viewBox:l,viewBoxDimension:c}=e;if(a&&U(a[n]))return a[n];var u=r[n]-s-(i>0?i:0),d=r[n]+i;if(t[n])return o[n]?u:d;var f=l[n];if(f==null)return 0;if(o[n]){var h=u,m=f;return h<m?Math.max(d,f):Math.max(u,f)}if(c==null)return 0;var p=d+s,g=f+c;return p>g?Math.max(u,f):Math.max(d,f)}function _C(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function SC(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:i,reverseDirection:a,tooltipBox:o,useTranslate3d:s,viewBox:l}=e,c,u,d;return o.height>0&&o.width>0&&r?(u=rm({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),d=rm({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),c=_C({translateX:u,translateY:d,useTranslate3d:s})):c=wC,{cssProperties:c,cssClasses:xC({translateX:u,translateY:d,coordinate:r})}}function nm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Da(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nm(Object(r),!0).forEach(function(n){lu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nm(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lu(e,t,r){return(t=EC(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EC(e){var t=OC(e,"string");return typeof t=="symbol"?t:t+""}function OC(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class PC extends y.PureComponent{constructor(){super(...arguments),lu(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),lu(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:a,coordinate:o,hasPayload:s,isAnimationActive:l,offset:c,position:u,reverseDirection:d,useTranslate3d:f,viewBox:h,wrapperStyle:m,lastBoundingBox:p,innerRef:g,hasPortalFromProps:b}=this.props,{cssClasses:x,cssProperties:w}=SC({allowEscapeViewBox:r,coordinate:o,offsetTopLeft:c,position:u,reverseDirection:d,tooltipBox:{height:p.height,width:p.width},useTranslate3d:f,viewBox:h}),_=b?{}:Da(Da({transition:l&&t?"transform ".concat(n,"ms ").concat(i):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&s?"visible":"hidden",position:"absolute",top:0,left:0}),S=Da(Da({},_),{},{visibility:!this.state.dismissed&&t&&s?"visible":"hidden"},m);return y.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:x,style:S,ref:g},a)}}var jC=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),ei={devToolsEnabled:!1,isSsr:jC()},H0=()=>F(e=>e.rootProps.accessibilityLayer);function wt(e){return Number.isFinite(e)}function _o(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function cu(){return cu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cu.apply(null,arguments)}function im(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function am(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?im(Object(r),!0).forEach(function(n){kC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):im(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kC(e,t,r){return(t=AC(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AC(e){var t=TC(e,"string");return typeof t=="symbol"?t:t+""}function TC(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var om={curveBasisClosed:ok,curveBasisOpen:sk,curveBasis:ak,curveBumpX:Kj,curveBumpY:Hj,curveLinearClosed:lk,curveLinear:es,curveMonotoneX:ck,curveMonotoneY:uk,curveNatural:dk,curveStep:fk,curveStepAfter:pk,curveStepBefore:hk},Ma=e=>wt(e.x)&&wt(e.y),vi=e=>e.x,yi=e=>e.y,CC=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Zi(e));return(r==="curveMonotone"||r==="curveBump")&&t?om["".concat(r).concat(t==="vertical"?"Y":"X")]:om[r]||es},RC=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:i,connectNulls:a=!1}=e,o=CC(t,i),s=a?r.filter(Ma):r,l;if(Array.isArray(n)){var c=a?n.filter(d=>Ma(d)):n,u=s.map((d,f)=>am(am({},d),{},{base:c[f]}));return i==="vertical"?l=ka().y(yi).x1(vi).x0(d=>d.base.x):l=ka().x(vi).y1(yi).y0(d=>d.base.y),l.defined(Ma).curve(o),l(u)}return i==="vertical"&&U(n)?l=ka().y(yi).x1(vi).x0(n):U(n)?l=ka().x(vi).y1(yi).y0(n):l=zy().x(vi).y(yi),l.defined(Ma).curve(o),l(s)},IC=e=>{var{className:t,points:r,path:n,pathRef:i}=e;if((!r||!r.length)&&!n)return null;var a=r&&r.length?RC(e):n;return y.createElement("path",cu({},Qn(e),Tj(e),{className:fe("recharts-curve",t),d:a===null?void 0:a,ref:i}))},$C=["x","y","top","left","width","height","className"];function uu(){return uu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uu.apply(null,arguments)}function sm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function DC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sm(Object(r),!0).forEach(function(n){MC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sm(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MC(e,t,r){return(t=NC(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NC(e){var t=LC(e,"string");return typeof t=="symbol"?t:t+""}function LC(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function BC(e,t){if(e==null)return{};var r,n,i=UC(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function UC(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var FC=(e,t,r,n,i,a)=>"M".concat(e,",").concat(i,"v").concat(n,"M").concat(a,",").concat(t,"h").concat(r),zC=e=>{var{x:t=0,y:r=0,top:n=0,left:i=0,width:a=0,height:o=0,className:s}=e,l=BC(e,$C),c=DC({x:t,y:r,top:n,left:i,width:a,height:o},l);return!U(t)||!U(r)||!U(a)||!U(o)||!U(n)||!U(i)?null:y.createElement("path",uu({},Fe(c,!0),{className:fe("recharts-cross",s),d:FC(t,r,a,o,n,i)}))};function qC(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function lm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function WC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lm(Object(r),!0).forEach(function(n){KC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lm(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KC(e,t,r){return(t=HC(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HC(e){var t=VC(e,"string");return typeof t=="symbol"?t:t+""}function VC(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $t(e,t){var r=WC({},e),n=t,i=Object.keys(t),a=i.reduce((o,s)=>(o[s]===void 0&&n[s]!==void 0&&(o[s]=n[s]),o),r);return a}function GC(){}function cm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function um(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cm(Object(r),!0).forEach(function(n){YC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cm(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YC(e,t,r){return(t=JC(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JC(e){var t=XC(e,"string");return typeof t=="symbol"?t:t+""}function XC(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ZC=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),V0=(e,t,r)=>e.map(n=>"".concat(ZC(n)," ").concat(t,"ms ").concat(r)).join(","),QC=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(i=>n.includes(i))),Fi=(e,t)=>Object.keys(t).reduce((r,n)=>um(um({},r),{},{[n]:e(n,t[n])}),{});function dm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Be(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dm(Object(r),!0).forEach(function(n){eR(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dm(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eR(e,t,r){return(t=tR(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tR(e){var t=rR(e,"string");return typeof t=="symbol"?t:t+""}function rR(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var So=(e,t,r)=>e+(t-e)*r,du=e=>{var{from:t,to:r}=e;return t!==r},G0=(e,t,r)=>{var n=Fi((i,a)=>{if(du(a)){var[o,s]=e(a.from,a.to,a.velocity);return Be(Be({},a),{},{from:o,velocity:s})}return a},t);return r<1?Fi((i,a)=>du(a)?Be(Be({},a),{},{velocity:So(a.velocity,n[i].velocity,r),from:So(a.from,n[i].from,r)}):a,t):G0(e,n,r-1)};function nR(e,t,r,n,i,a){var o,s=n.reduce((f,h)=>Be(Be({},f),{},{[h]:{from:e[h],velocity:0,to:t[h]}}),{}),l=()=>Fi((f,h)=>h.from,s),c=()=>!Object.values(s).filter(du).length,u=null,d=f=>{o||(o=f);var h=f-o,m=h/r.dt;s=G0(r,s,m),i(Be(Be(Be({},e),t),l())),o=f,c()||(u=a.setTimeout(d))};return()=>(u=a.setTimeout(d),()=>{u()})}function iR(e,t,r,n,i,a,o){var s=null,l=i.reduce((d,f)=>Be(Be({},d),{},{[f]:[e[f],t[f]]}),{}),c,u=d=>{c||(c=d);var f=(d-c)/n,h=Fi((p,g)=>So(...g,r(f)),l);if(a(Be(Be(Be({},e),t),h)),f<1)s=o.setTimeout(u);else{var m=Fi((p,g)=>So(...g,r(1)),l);a(Be(Be(Be({},e),t),m))}};return()=>(s=o.setTimeout(u),()=>{s()})}const aR=(e,t,r,n,i,a)=>{var o=QC(e,t);return r.isStepper===!0?nR(e,t,r,o,i,a):iR(e,t,r,n,o,i,a)};var Eo=1e-4,Y0=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],J0=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),fm=(e,t)=>r=>{var n=Y0(e,t);return J0(n,r)},oR=(e,t)=>r=>{var n=Y0(e,t),i=[...n.map((a,o)=>a*o).slice(1),0];return J0(i,r)},hm=function(){for(var t,r,n,i,a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];if(o.length===1)switch(o[0]){case"linear":[t,n,r,i]=[0,0,1,1];break;case"ease":[t,n,r,i]=[.25,.1,.25,1];break;case"ease-in":[t,n,r,i]=[.42,0,1,1];break;case"ease-out":[t,n,r,i]=[.42,0,.58,1];break;case"ease-in-out":[t,n,r,i]=[0,0,.58,1];break;default:{var l=o[0].split("(");l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4&&([t,n,r,i]=l[1].split(")")[0].split(",").map(m=>parseFloat(m)))}}else o.length===4&&([t,n,r,i]=o);var c=fm(t,r),u=fm(n,i),d=oR(t,r),f=m=>m>1?1:m<0?0:m,h=m=>{for(var p=m>1?1:m,g=p,b=0;b<8;++b){var x=c(g)-p,w=d(g);if(Math.abs(x-p)<Eo||w<Eo)return u(g);g=f(g-x/w)}return u(g)};return h.isStepper=!1,h},sR=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=t,a=(o,s,l)=>{var c=-(o-s)*r,u=l*n,d=l+(c-u)*i/1e3,f=l*i/1e3+o;return Math.abs(f-s)<Eo&&Math.abs(d)<Eo?[s,0]:[f,d]};return a.isStepper=!0,a.dt=i,a},lR=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return hm(e);case"spring":return sR();default:if(e.split("(")[0]==="cubic-bezier")return hm(e)}return typeof e=="function"?e:null};function cR(e){var t,r=()=>null,n=!1,i=null,a=o=>{if(!n){if(Array.isArray(o)){if(!o.length)return;var s=o,[l,...c]=s;if(typeof l=="number"){i=e.setTimeout(a.bind(null,c),l);return}a(l),i=e.setTimeout(a.bind(null,c));return}typeof o=="string"&&(t=o,r(t)),typeof o=="object"&&(t=o,r(t)),typeof o=="function"&&o()}};return{stop:()=>{n=!0},start:o=>{n=!1,i&&(i(),i=null),a(o)},subscribe:o=>(r=o,()=>{r=()=>null}),getTimeoutController:()=>e}}class uR{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,a=o=>{o-n>=r?t(o):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{cancelAnimationFrame(i)}}}function dR(){return cR(new uR)}var fR=y.createContext(dR);function hR(e,t){var r=y.useContext(fR);return y.useMemo(()=>t??r(e),[e,t,r])}var pR={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},pm={t:0},Jl={t:1};function Ed(e){var t=$t(e,pR),{isActive:r,canBegin:n,duration:i,easing:a,begin:o,onAnimationEnd:s,onAnimationStart:l,children:c}=t,u=hR(t.animationId,t.animationManager),[d,f]=y.useState(r?pm:Jl),h=y.useRef(null);return y.useEffect(()=>{r||f(Jl)},[r]),y.useEffect(()=>{if(!r||!n)return GC;var m=aR(pm,Jl,lR(a),i,f,u.getTimeoutController()),p=()=>{h.current=m()};return u.start([l,o,p,i,s]),()=>{u.stop(),h.current&&h.current(),s()}},[r,n,i,a,o,l,s,u]),c(d.t)}function Od(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=y.useRef(Li(t)),n=y.useRef(e);return n.current!==e&&(r.current=Li(t),n.current=e),r.current}function mm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function gm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mm(Object(r),!0).forEach(function(n){mR(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mm(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mR(e,t,r){return(t=gR(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gR(e){var t=vR(e,"string");return typeof t=="symbol"?t:t+""}function vR(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Oo(){return Oo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Oo.apply(null,arguments)}var vm=(e,t,r,n,i)=>{var a=Math.min(Math.abs(r)/2,Math.abs(n)/2),o=n>=0?1:-1,s=r>=0?1:-1,l=n>=0&&r>=0||n<0&&r<0?1:0,c;if(a>0&&i instanceof Array){for(var u=[0,0,0,0],d=0,f=4;d<f;d++)u[d]=i[d]>a?a:i[d];c="M".concat(e,",").concat(t+o*u[0]),u[0]>0&&(c+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(l,",").concat(e+s*u[0],",").concat(t)),c+="L ".concat(e+r-s*u[1],",").concat(t),u[1]>0&&(c+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(l,`,
        `).concat(e+r,",").concat(t+o*u[1])),c+="L ".concat(e+r,",").concat(t+n-o*u[2]),u[2]>0&&(c+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(l,`,
        `).concat(e+r-s*u[2],",").concat(t+n)),c+="L ".concat(e+s*u[3],",").concat(t+n),u[3]>0&&(c+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(l,`,
        `).concat(e,",").concat(t+n-o*u[3])),c+="Z"}else if(a>0&&i===+i&&i>0){var h=Math.min(a,i);c="M ".concat(e,",").concat(t+o*h,`
            A `).concat(h,",").concat(h,",0,0,").concat(l,",").concat(e+s*h,",").concat(t,`
            L `).concat(e+r-s*h,",").concat(t,`
            A `).concat(h,",").concat(h,",0,0,").concat(l,",").concat(e+r,",").concat(t+o*h,`
            L `).concat(e+r,",").concat(t+n-o*h,`
            A `).concat(h,",").concat(h,",0,0,").concat(l,",").concat(e+r-s*h,",").concat(t+n,`
            L `).concat(e+s*h,",").concat(t+n,`
            A `).concat(h,",").concat(h,",0,0,").concat(l,",").concat(e,",").concat(t+n-o*h," Z")}else c="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return c},yR={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},X0=e=>{var t=$t(e,yR),r=y.useRef(null),[n,i]=y.useState(-1);y.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var L=r.current.getTotalLength();L&&i(L)}catch{}},[]);var{x:a,y:o,width:s,height:l,radius:c,className:u}=t,{animationEasing:d,animationDuration:f,animationBegin:h,isAnimationActive:m,isUpdateAnimationActive:p}=t,g=y.useRef(s),b=y.useRef(l),x=y.useRef(a),w=y.useRef(o),_=y.useMemo(()=>({x:a,y:o,width:s,height:l,radius:c}),[a,o,s,l,c]),S=Od(_,"rectangle-");if(a!==+a||o!==+o||s!==+s||l!==+l||s===0||l===0)return null;var E=fe("recharts-rectangle",u);if(!p)return y.createElement("path",Oo({},Fe(t,!0),{className:E,d:vm(a,o,s,l,c)}));var O=g.current,k=b.current,A=x.current,D=w.current,R="0px ".concat(n===-1?1:n,"px"),I="".concat(n,"px 0px"),B=V0(["strokeDasharray"],f,typeof d=="string"?d:void 0);return y.createElement(Ed,{animationId:S,key:S,canBegin:n>0,duration:f,easing:d,isActive:p,begin:h},L=>{var H=Je(O,s,L),N=Je(k,l,L),q=Je(A,a,L),Q=Je(D,o,L);r.current&&(g.current=H,b.current=N,x.current=q,w.current=Q);var ee;return m?L>0?ee={transition:B,strokeDasharray:I}:ee={strokeDasharray:R}:ee={strokeDasharray:I},y.createElement("path",Oo({},Fe(t,!0),{className:E,d:vm(q,Q,H,N,c),ref:r,style:gm(gm({},ee),t.style)}))})};function Z0(e){var{cx:t,cy:r,radius:n,startAngle:i,endAngle:a}=e,o=Ue(t,r,n,i),s=Ue(t,r,n,a);return{points:[o,s],cx:t,cy:r,radius:n,startAngle:i,endAngle:a}}function fu(){return fu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fu.apply(null,arguments)}var bR=(e,t)=>{var r=at(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},Na=e=>{var{cx:t,cy:r,radius:n,angle:i,sign:a,isExternal:o,cornerRadius:s,cornerIsExternal:l}=e,c=s*(o?1:-1)+n,u=Math.asin(s/c)/xo,d=l?i:i+a*u,f=Ue(t,r,c,d),h=Ue(t,r,n,d),m=l?i-a*u:i,p=Ue(t,r,c*Math.cos(u*xo),m);return{center:f,circleTangency:h,lineTangency:p,theta:u}},Q0=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:a,endAngle:o}=e,s=bR(a,o),l=a+s,c=Ue(t,r,i,a),u=Ue(t,r,i,l),d="M ".concat(c.x,",").concat(c.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(s)>180),",").concat(+(a>l),`,
    `).concat(u.x,",").concat(u.y,`
  `);if(n>0){var f=Ue(t,r,n,a),h=Ue(t,r,n,l);d+="L ".concat(h.x,",").concat(h.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(s)>180),",").concat(+(a<=l),`,
            `).concat(f.x,",").concat(f.y," Z")}else d+="L ".concat(t,",").concat(r," Z");return d},wR=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:s,startAngle:l,endAngle:c}=e,u=at(c-l),{circleTangency:d,lineTangency:f,theta:h}=Na({cx:t,cy:r,radius:i,angle:l,sign:u,cornerRadius:a,cornerIsExternal:s}),{circleTangency:m,lineTangency:p,theta:g}=Na({cx:t,cy:r,radius:i,angle:c,sign:-u,cornerRadius:a,cornerIsExternal:s}),b=s?Math.abs(l-c):Math.abs(l-c)-h-g;if(b<0)return o?"M ".concat(f.x,",").concat(f.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):Q0({cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:l,endAngle:c});var x="M ".concat(f.x,",").concat(f.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(d.x,",").concat(d.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(b>180),",").concat(+(u<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(p.x,",").concat(p.y,`
  `);if(n>0){var{circleTangency:w,lineTangency:_,theta:S}=Na({cx:t,cy:r,radius:n,angle:l,sign:u,isExternal:!0,cornerRadius:a,cornerIsExternal:s}),{circleTangency:E,lineTangency:O,theta:k}=Na({cx:t,cy:r,radius:n,angle:c,sign:-u,isExternal:!0,cornerRadius:a,cornerIsExternal:s}),A=s?Math.abs(l-c):Math.abs(l-c)-S-k;if(A<0&&a===0)return"".concat(x,"L").concat(t,",").concat(r,"Z");x+="L".concat(O.x,",").concat(O.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(E.x,",").concat(E.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(A>180),",").concat(+(u>0),",").concat(w.x,",").concat(w.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(_.x,",").concat(_.y,"Z")}else x+="L".concat(t,",").concat(r,"Z");return x},xR={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},eb=e=>{var t=$t(e,xR),{cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:o,forceCornerRadius:s,cornerIsExternal:l,startAngle:c,endAngle:u,className:d}=t;if(a<i||c===u)return null;var f=fe("recharts-sector",d),h=a-i,m=Ft(o,h,0,!0),p;return m>0&&Math.abs(c-u)<360?p=wR({cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:Math.min(m,h/2),forceCornerRadius:s,cornerIsExternal:l,startAngle:c,endAngle:u}):p=Q0({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:c,endAngle:u}),y.createElement("path",fu({},Fe(t,!0),{className:f,d:p}))};function _R(e,t,r){var n,i,a,o;if(e==="horizontal")n=t.x,a=n,i=r.top,o=r.top+r.height;else if(e==="vertical")i=t.y,o=i,n=r.left,a=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:s,cy:l,innerRadius:c,outerRadius:u,angle:d}=t,f=Ue(s,l,c,d),h=Ue(s,l,u,d);n=f.x,i=f.y,a=h.x,o=h.y}else return Z0(t);return[{x:n,y:i},{x:a,y:o}]}var Xl={},Zl={},Ql={},ym;function SR(){return ym||(ym=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=u0();function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(Ql)),Ql}var bm;function ER(){return bm||(bm=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=SR();function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(Zl)),Zl}var wm;function OR(){return wm||(wm=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=d0(),r=ER();function n(i,a,o){o&&typeof o!="number"&&t.isIterateeCall(i,a,o)&&(a=o=void 0),i=r.toFinite(i),a===void 0?(a=i,i=0):a=r.toFinite(a),o=o===void 0?i<a?1:-1:r.toFinite(o);const s=Math.max(Math.ceil((a-i)/(o||1)),0),l=new Array(s);for(let c=0;c<s;c++)l[c]=i,i+=o;return l}e.range=n})(Xl)),Xl}var ec,xm;function PR(){return xm||(xm=1,ec=OR().range),ec}var jR=PR();const tb=er(jR);function Ir(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function kR(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Pd(e){let t,r,n;e.length!==2?(t=Ir,r=(s,l)=>Ir(e(s),l),n=(s,l)=>e(s)-l):(t=e===Ir||e===kR?e:AR,r=e,n=e);function i(s,l,c=0,u=s.length){if(c<u){if(t(l,l)!==0)return u;do{const d=c+u>>>1;r(s[d],l)<0?c=d+1:u=d}while(c<u)}return c}function a(s,l,c=0,u=s.length){if(c<u){if(t(l,l)!==0)return u;do{const d=c+u>>>1;r(s[d],l)<=0?c=d+1:u=d}while(c<u)}return c}function o(s,l,c=0,u=s.length){const d=i(s,l,c,u-1);return d>c&&n(s[d-1],l)>-n(s[d],l)?d-1:d}return{left:i,center:o,right:a}}function AR(){return 0}function rb(e){return e===null?NaN:+e}function*TR(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const CR=Pd(Ir),ra=CR.right;Pd(rb).center;class _m extends Map{constructor(t,r=$R){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(Sm(this,t))}has(t){return super.has(Sm(this,t))}set(t,r){return super.set(RR(this,t),r)}delete(t){return super.delete(IR(this,t))}}function Sm({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function RR({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function IR({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function $R(e){return e!==null&&typeof e=="object"?e.valueOf():e}function DR(e=Ir){if(e===Ir)return nb;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function nb(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const MR=Math.sqrt(50),NR=Math.sqrt(10),LR=Math.sqrt(2);function Po(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),o=a>=MR?10:a>=NR?5:a>=LR?2:1;let s,l,c;return i<0?(c=Math.pow(10,-i)/o,s=Math.round(e*c),l=Math.round(t*c),s/c<e&&++s,l/c>t&&--l,c=-c):(c=Math.pow(10,i)*o,s=Math.round(e/c),l=Math.round(t/c),s*c<e&&++s,l*c>t&&--l),l<s&&.5<=r&&r<2?Po(e,t,r*2):[s,l,c]}function hu(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,a,o]=n?Po(t,e,r):Po(e,t,r);if(!(a>=i))return[];const s=a-i+1,l=new Array(s);if(n)if(o<0)for(let c=0;c<s;++c)l[c]=(a-c)/-o;else for(let c=0;c<s;++c)l[c]=(a-c)*o;else if(o<0)for(let c=0;c<s;++c)l[c]=(i+c)/-o;else for(let c=0;c<s;++c)l[c]=(i+c)*o;return l}function pu(e,t,r){return t=+t,e=+e,r=+r,Po(e,t,r)[2]}function mu(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?pu(t,e,r):pu(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function Em(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function Om(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function ib(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?nb:DR(i);n>r;){if(n-r>600){const l=n-r+1,c=t-r+1,u=Math.log(l),d=.5*Math.exp(2*u/3),f=.5*Math.sqrt(u*d*(l-d)/l)*(c-l/2<0?-1:1),h=Math.max(r,Math.floor(t-c*d/l+f)),m=Math.min(n,Math.floor(t+(l-c)*d/l+f));ib(e,t,h,m,i)}const a=e[t];let o=r,s=n;for(bi(e,r,t),i(e[n],a)>0&&bi(e,r,n);o<s;){for(bi(e,o,s),++o,--s;i(e[o],a)<0;)++o;for(;i(e[s],a)>0;)--s}i(e[r],a)===0?bi(e,r,s):(++s,bi(e,s,n)),s<=t&&(r=s+1),t<=s&&(n=s-1)}return e}function bi(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function BR(e,t,r){if(e=Float64Array.from(TR(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return Om(e);if(t>=1)return Em(e);var n,i=(n-1)*t,a=Math.floor(i),o=Em(ib(e,a).subarray(0,a+1)),s=Om(e.subarray(a+1));return o+(s-o)*(i-a)}}function UR(e,t,r=rb){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,a=Math.floor(i),o=+r(e[a],a,e),s=+r(e[a+1],a+1,e);return o+(s-o)*(i-a)}}function FR(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,a=new Array(i);++n<i;)a[n]=e+n*r;return a}function Dt(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function xr(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const gu=Symbol("implicit");function jd(){var e=new _m,t=[],r=[],n=gu;function i(a){let o=e.get(a);if(o===void 0){if(n!==gu)return n;e.set(a,o=t.push(a)-1)}return r[o%r.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new _m;for(const o of a)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return jd(t,r).unknown(n)},Dt.apply(i,arguments),i}function kd(){var e=jd().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,a,o,s=!1,l=0,c=0,u=.5;delete e.unknown;function d(){var f=t().length,h=i<n,m=h?i:n,p=h?n:i;a=(p-m)/Math.max(1,f-l+c*2),s&&(a=Math.floor(a)),m+=(p-m-a*(f-l))*u,o=a*(1-l),s&&(m=Math.round(m),o=Math.round(o));var g=FR(f).map(function(b){return m+a*b});return r(h?g.reverse():g)}return e.domain=function(f){return arguments.length?(t(f),d()):t()},e.range=function(f){return arguments.length?([n,i]=f,n=+n,i=+i,d()):[n,i]},e.rangeRound=function(f){return[n,i]=f,n=+n,i=+i,s=!0,d()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(f){return arguments.length?(s=!!f,d()):s},e.padding=function(f){return arguments.length?(l=Math.min(1,c=+f),d()):l},e.paddingInner=function(f){return arguments.length?(l=Math.min(1,f),d()):l},e.paddingOuter=function(f){return arguments.length?(c=+f,d()):c},e.align=function(f){return arguments.length?(u=Math.max(0,Math.min(1,f)),d()):u},e.copy=function(){return kd(t(),[n,i]).round(s).paddingInner(l).paddingOuter(c).align(u)},Dt.apply(d(),arguments)}function ab(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return ab(t())},e}function zR(){return ab(kd.apply(null,arguments).paddingInner(1))}function Ad(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function ob(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function na(){}var zi=.7,jo=1/zi,Dn="\\s*([+-]?\\d+)\\s*",qi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Xt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",qR=/^#([0-9a-f]{3,8})$/,WR=new RegExp(`^rgb\\(${Dn},${Dn},${Dn}\\)$`),KR=new RegExp(`^rgb\\(${Xt},${Xt},${Xt}\\)$`),HR=new RegExp(`^rgba\\(${Dn},${Dn},${Dn},${qi}\\)$`),VR=new RegExp(`^rgba\\(${Xt},${Xt},${Xt},${qi}\\)$`),GR=new RegExp(`^hsl\\(${qi},${Xt},${Xt}\\)$`),YR=new RegExp(`^hsla\\(${qi},${Xt},${Xt},${qi}\\)$`),Pm={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ad(na,Wi,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:jm,formatHex:jm,formatHex8:JR,formatHsl:XR,formatRgb:km,toString:km});function jm(){return this.rgb().formatHex()}function JR(){return this.rgb().formatHex8()}function XR(){return sb(this).formatHsl()}function km(){return this.rgb().formatRgb()}function Wi(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=qR.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?Am(t):r===3?new ot(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?La(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?La(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=WR.exec(e))?new ot(t[1],t[2],t[3],1):(t=KR.exec(e))?new ot(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=HR.exec(e))?La(t[1],t[2],t[3],t[4]):(t=VR.exec(e))?La(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=GR.exec(e))?Rm(t[1],t[2]/100,t[3]/100,1):(t=YR.exec(e))?Rm(t[1],t[2]/100,t[3]/100,t[4]):Pm.hasOwnProperty(e)?Am(Pm[e]):e==="transparent"?new ot(NaN,NaN,NaN,0):null}function Am(e){return new ot(e>>16&255,e>>8&255,e&255,1)}function La(e,t,r,n){return n<=0&&(e=t=r=NaN),new ot(e,t,r,n)}function ZR(e){return e instanceof na||(e=Wi(e)),e?(e=e.rgb(),new ot(e.r,e.g,e.b,e.opacity)):new ot}function vu(e,t,r,n){return arguments.length===1?ZR(e):new ot(e,t,r,n??1)}function ot(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Ad(ot,vu,ob(na,{brighter(e){return e=e==null?jo:Math.pow(jo,e),new ot(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?zi:Math.pow(zi,e),new ot(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ot(nn(this.r),nn(this.g),nn(this.b),ko(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Tm,formatHex:Tm,formatHex8:QR,formatRgb:Cm,toString:Cm}));function Tm(){return`#${Xr(this.r)}${Xr(this.g)}${Xr(this.b)}`}function QR(){return`#${Xr(this.r)}${Xr(this.g)}${Xr(this.b)}${Xr((isNaN(this.opacity)?1:this.opacity)*255)}`}function Cm(){const e=ko(this.opacity);return`${e===1?"rgb(":"rgba("}${nn(this.r)}, ${nn(this.g)}, ${nn(this.b)}${e===1?")":`, ${e})`}`}function ko(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function nn(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Xr(e){return e=nn(e),(e<16?"0":"")+e.toString(16)}function Rm(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Ut(e,t,r,n)}function sb(e){if(e instanceof Ut)return new Ut(e.h,e.s,e.l,e.opacity);if(e instanceof na||(e=Wi(e)),!e)return new Ut;if(e instanceof Ut)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),a=Math.max(t,r,n),o=NaN,s=a-i,l=(a+i)/2;return s?(t===a?o=(r-n)/s+(r<n)*6:r===a?o=(n-t)/s+2:o=(t-r)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new Ut(o,s,l,e.opacity)}function eI(e,t,r,n){return arguments.length===1?sb(e):new Ut(e,t,r,n??1)}function Ut(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Ad(Ut,eI,ob(na,{brighter(e){return e=e==null?jo:Math.pow(jo,e),new Ut(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?zi:Math.pow(zi,e),new Ut(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new ot(tc(e>=240?e-240:e+120,i,n),tc(e,i,n),tc(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new Ut(Im(this.h),Ba(this.s),Ba(this.l),ko(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ko(this.opacity);return`${e===1?"hsl(":"hsla("}${Im(this.h)}, ${Ba(this.s)*100}%, ${Ba(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Im(e){return e=(e||0)%360,e<0?e+360:e}function Ba(e){return Math.max(0,Math.min(1,e||0))}function tc(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Td=e=>()=>e;function tI(e,t){return function(r){return e+r*t}}function rI(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function nI(e){return(e=+e)==1?lb:function(t,r){return r-t?rI(t,r,e):Td(isNaN(t)?r:t)}}function lb(e,t){var r=t-e;return r?tI(e,r):Td(isNaN(e)?t:e)}const $m=(function e(t){var r=nI(t);function n(i,a){var o=r((i=vu(i)).r,(a=vu(a)).r),s=r(i.g,a.g),l=r(i.b,a.b),c=lb(i.opacity,a.opacity);return function(u){return i.r=o(u),i.g=s(u),i.b=l(u),i.opacity=c(u),i+""}}return n.gamma=e,n})(1);function iI(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=e[i]*(1-a)+t[i]*a;return n}}function aI(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function oI(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),a=new Array(r),o;for(o=0;o<n;++o)i[o]=ti(e[o],t[o]);for(;o<r;++o)a[o]=t[o];return function(s){for(o=0;o<n;++o)a[o]=i[o](s);return a}}function sI(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Ao(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function lI(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=ti(e[i],t[i]):n[i]=t[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var yu=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,rc=new RegExp(yu.source,"g");function cI(e){return function(){return e}}function uI(e){return function(t){return e(t)+""}}function dI(e,t){var r=yu.lastIndex=rc.lastIndex=0,n,i,a,o=-1,s=[],l=[];for(e=e+"",t=t+"";(n=yu.exec(e))&&(i=rc.exec(t));)(a=i.index)>r&&(a=t.slice(r,a),s[o]?s[o]+=a:s[++o]=a),(n=n[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:Ao(n,i)})),r=rc.lastIndex;return r<t.length&&(a=t.slice(r),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?uI(l[0].x):cI(t):(t=l.length,function(c){for(var u=0,d;u<t;++u)s[(d=l[u]).i]=d.x(c);return s.join("")})}function ti(e,t){var r=typeof t,n;return t==null||r==="boolean"?Td(t):(r==="number"?Ao:r==="string"?(n=Wi(t))?(t=n,$m):dI:t instanceof Wi?$m:t instanceof Date?sI:aI(t)?iI:Array.isArray(t)?oI:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?lI:Ao)(e,t)}function Cd(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function fI(e,t){t===void 0&&(t=e,e=ti);for(var r=0,n=t.length-1,i=t[0],a=new Array(n<0?0:n);r<n;)a[r]=e(i,i=t[++r]);return function(o){var s=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return a[s](o-s)}}function hI(e){return function(){return e}}function To(e){return+e}var Dm=[0,1];function Ze(e){return e}function bu(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:hI(isNaN(t)?NaN:.5)}function pI(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function mI(e,t,r){var n=e[0],i=e[1],a=t[0],o=t[1];return i<n?(n=bu(i,n),a=r(o,a)):(n=bu(n,i),a=r(a,o)),function(s){return a(n(s))}}function gI(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),a=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)i[o]=bu(e[o],e[o+1]),a[o]=r(t[o],t[o+1]);return function(s){var l=ra(e,s,1,n)-1;return a[l](i[l](s))}}function ia(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function fs(){var e=Dm,t=Dm,r=ti,n,i,a,o=Ze,s,l,c;function u(){var f=Math.min(e.length,t.length);return o!==Ze&&(o=pI(e[0],e[f-1])),s=f>2?gI:mI,l=c=null,d}function d(f){return f==null||isNaN(f=+f)?a:(l||(l=s(e.map(n),t,r)))(n(o(f)))}return d.invert=function(f){return o(i((c||(c=s(t,e.map(n),Ao)))(f)))},d.domain=function(f){return arguments.length?(e=Array.from(f,To),u()):e.slice()},d.range=function(f){return arguments.length?(t=Array.from(f),u()):t.slice()},d.rangeRound=function(f){return t=Array.from(f),r=Cd,u()},d.clamp=function(f){return arguments.length?(o=f?!0:Ze,u()):o!==Ze},d.interpolate=function(f){return arguments.length?(r=f,u()):r},d.unknown=function(f){return arguments.length?(a=f,d):a},function(f,h){return n=f,i=h,u()}}function Rd(){return fs()(Ze,Ze)}function vI(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Co(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Un(e){return e=Co(Math.abs(e)),e?e[1]:NaN}function yI(e,t){return function(r,n){for(var i=r.length,a=[],o=0,s=e[0],l=0;i>0&&s>0&&(l+s+1>n&&(s=Math.max(1,n-l)),a.push(r.substring(i-=s,i+s)),!((l+=s+1)>n));)s=e[o=(o+1)%e.length];return a.reverse().join(t)}}function bI(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var wI=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ki(e){if(!(t=wI.exec(e)))throw new Error("invalid format: "+e);var t;return new Id({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Ki.prototype=Id.prototype;function Id(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Id.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function xI(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var cb;function _I(e,t){var r=Co(e,t);if(!r)return e+"";var n=r[0],i=r[1],a=i-(cb=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return a===o?n:a>o?n+new Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+Co(e,Math.max(0,t+a-1))[0]}function Mm(e,t){var r=Co(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const Nm={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:vI,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Mm(e*100,t),r:Mm,s:_I,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Lm(e){return e}var Bm=Array.prototype.map,Um=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function SI(e){var t=e.grouping===void 0||e.thousands===void 0?Lm:yI(Bm.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?Lm:bI(Bm.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"−":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(d){d=Ki(d);var f=d.fill,h=d.align,m=d.sign,p=d.symbol,g=d.zero,b=d.width,x=d.comma,w=d.precision,_=d.trim,S=d.type;S==="n"?(x=!0,S="g"):Nm[S]||(w===void 0&&(w=12),_=!0,S="g"),(g||f==="0"&&h==="=")&&(g=!0,f="0",h="=");var E=p==="$"?r:p==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",O=p==="$"?n:/[%p]/.test(S)?o:"",k=Nm[S],A=/[defgprs%]/.test(S);w=w===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function D(R){var I=E,B=O,L,H,N;if(S==="c")B=k(R)+B,R="";else{R=+R;var q=R<0||1/R<0;if(R=isNaN(R)?l:k(Math.abs(R),w),_&&(R=xI(R)),q&&+R==0&&m!=="+"&&(q=!1),I=(q?m==="("?m:s:m==="-"||m==="("?"":m)+I,B=(S==="s"?Um[8+cb/3]:"")+B+(q&&m==="("?")":""),A){for(L=-1,H=R.length;++L<H;)if(N=R.charCodeAt(L),48>N||N>57){B=(N===46?i+R.slice(L+1):R.slice(L))+B,R=R.slice(0,L);break}}}x&&!g&&(R=t(R,1/0));var Q=I.length+R.length+B.length,ee=Q<b?new Array(b-Q+1).join(f):"";switch(x&&g&&(R=t(ee+R,ee.length?b-B.length:1/0),ee=""),h){case"<":R=I+R+B+ee;break;case"=":R=I+ee+R+B;break;case"^":R=ee.slice(0,Q=ee.length>>1)+I+R+B+ee.slice(Q);break;default:R=ee+I+R+B;break}return a(R)}return D.toString=function(){return d+""},D}function u(d,f){var h=c((d=Ki(d),d.type="f",d)),m=Math.max(-8,Math.min(8,Math.floor(Un(f)/3)))*3,p=Math.pow(10,-m),g=Um[8+m/3];return function(b){return h(p*b)+g}}return{format:c,formatPrefix:u}}var Ua,$d,ub;EI({thousands:",",grouping:[3],currency:["$",""]});function EI(e){return Ua=SI(e),$d=Ua.format,ub=Ua.formatPrefix,Ua}function OI(e){return Math.max(0,-Un(Math.abs(e)))}function PI(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Un(t)/3)))*3-Un(Math.abs(e)))}function jI(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Un(t)-Un(e))+1}function db(e,t,r,n){var i=mu(e,t,r),a;switch(n=Ki(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(a=PI(i,o))&&(n.precision=a),ub(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=jI(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=OI(i))&&(n.precision=a-(n.type==="%")*2);break}}return $d(n)}function Lr(e){var t=e.domain;return e.ticks=function(r){var n=t();return hu(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return db(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,a=n.length-1,o=n[i],s=n[a],l,c,u=10;for(s<o&&(c=o,o=s,s=c,c=i,i=a,a=c);u-- >0;){if(c=pu(o,s,r),c===l)return n[i]=o,n[a]=s,t(n);if(c>0)o=Math.floor(o/c)*c,s=Math.ceil(s/c)*c;else if(c<0)o=Math.ceil(o*c)/c,s=Math.floor(s*c)/c;else break;l=c}return e},e}function fb(){var e=Rd();return e.copy=function(){return ia(e,fb())},Dt.apply(e,arguments),Lr(e)}function hb(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,To),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return hb(e).unknown(t)},e=arguments.length?Array.from(e,To):[0,1],Lr(r)}function pb(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],a=e[n],o;return a<i&&(o=r,r=n,n=o,o=i,i=a,a=o),e[r]=t.floor(i),e[n]=t.ceil(a),e}function Fm(e){return Math.log(e)}function zm(e){return Math.exp(e)}function kI(e){return-Math.log(-e)}function AI(e){return-Math.exp(-e)}function TI(e){return isFinite(e)?+("1e"+e):e<0?0:e}function CI(e){return e===10?TI:e===Math.E?Math.exp:t=>Math.pow(e,t)}function RI(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function qm(e){return(t,r)=>-e(-t,r)}function Dd(e){const t=e(Fm,zm),r=t.domain;let n=10,i,a;function o(){return i=RI(n),a=CI(n),r()[0]<0?(i=qm(i),a=qm(a),e(kI,AI)):e(Fm,zm),t}return t.base=function(s){return arguments.length?(n=+s,o()):n},t.domain=function(s){return arguments.length?(r(s),o()):r()},t.ticks=s=>{const l=r();let c=l[0],u=l[l.length-1];const d=u<c;d&&([c,u]=[u,c]);let f=i(c),h=i(u),m,p;const g=s==null?10:+s;let b=[];if(!(n%1)&&h-f<g){if(f=Math.floor(f),h=Math.ceil(h),c>0){for(;f<=h;++f)for(m=1;m<n;++m)if(p=f<0?m/a(-f):m*a(f),!(p<c)){if(p>u)break;b.push(p)}}else for(;f<=h;++f)for(m=n-1;m>=1;--m)if(p=f>0?m/a(-f):m*a(f),!(p<c)){if(p>u)break;b.push(p)}b.length*2<g&&(b=hu(c,u,g))}else b=hu(f,h,Math.min(h-f,g)).map(a);return d?b.reverse():b},t.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=Ki(l)).precision==null&&(l.trim=!0),l=$d(l)),s===1/0)return l;const c=Math.max(1,n*s/t.ticks().length);return u=>{let d=u/a(Math.round(i(u)));return d*n<n-.5&&(d*=n),d<=c?l(u):""}},t.nice=()=>r(pb(r(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),t}function mb(){const e=Dd(fs()).domain([1,10]);return e.copy=()=>ia(e,mb()).base(e.base()),Dt.apply(e,arguments),e}function Wm(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Km(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Md(e){var t=1,r=e(Wm(t),Km(t));return r.constant=function(n){return arguments.length?e(Wm(t=+n),Km(t)):t},Lr(r)}function gb(){var e=Md(fs());return e.copy=function(){return ia(e,gb()).constant(e.constant())},Dt.apply(e,arguments)}function Hm(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function II(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function $I(e){return e<0?-e*e:e*e}function Nd(e){var t=e(Ze,Ze),r=1;function n(){return r===1?e(Ze,Ze):r===.5?e(II,$I):e(Hm(r),Hm(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},Lr(t)}function Ld(){var e=Nd(fs());return e.copy=function(){return ia(e,Ld()).exponent(e.exponent())},Dt.apply(e,arguments),e}function DI(){return Ld.apply(null,arguments).exponent(.5)}function Vm(e){return Math.sign(e)*e*e}function MI(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function vb(){var e=Rd(),t=[0,1],r=!1,n;function i(a){var o=MI(e(a));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(a){return e.invert(Vm(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,To)).map(Vm)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return vb(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Dt.apply(i,arguments),Lr(i)}function yb(){var e=[],t=[],r=[],n;function i(){var o=0,s=Math.max(1,t.length);for(r=new Array(s-1);++o<s;)r[o-1]=UR(e,o/s);return a}function a(o){return o==null||isNaN(o=+o)?n:t[ra(r,o)]}return a.invertExtent=function(o){var s=t.indexOf(o);return s<0?[NaN,NaN]:[s>0?r[s-1]:e[0],s<r.length?r[s]:e[e.length-1]]},a.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let s of o)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Ir),i()},a.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return yb().domain(e).range(t).unknown(n)},Dt.apply(a,arguments)}function bb(){var e=0,t=1,r=1,n=[.5],i=[0,1],a;function o(l){return l!=null&&l<=l?i[ra(n,l,0,r)]:a}function s(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return o}return o.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,s()):[e,t]},o.range=function(l){return arguments.length?(r=(i=Array.from(l)).length-1,s()):i.slice()},o.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[e,n[0]]:c>=r?[n[r-1],t]:[n[c-1],n[c]]},o.unknown=function(l){return arguments.length&&(a=l),o},o.thresholds=function(){return n.slice()},o.copy=function(){return bb().domain([e,t]).range(i).unknown(a)},Dt.apply(Lr(o),arguments)}function wb(){var e=[.5],t=[0,1],r,n=1;function i(a){return a!=null&&a<=a?t[ra(e,a,0,n)]:r}return i.domain=function(a){return arguments.length?(e=Array.from(a),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var o=t.indexOf(a);return[e[o-1],e[o]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return wb().domain(e).range(t).unknown(r)},Dt.apply(i,arguments)}const nc=new Date,ic=new Date;function je(e,t,r,n){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const l=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return l;let c;do l.push(c=new Date(+a)),t(a,s),e(a);while(c<a&&a<o);return l},i.filter=a=>je(o=>{if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;t(o,-1),!a(o););else for(;--s>=0;)for(;t(o,1),!a(o););}),r&&(i.count=(a,o)=>(nc.setTime(+a),ic.setTime(+o),e(nc),e(ic),Math.floor(r(nc,ic))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?o=>n(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const Ro=je(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Ro.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?je(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Ro);Ro.range;const cr=1e3,At=cr*60,ur=At*60,gr=ur*24,Bd=gr*7,Gm=gr*30,ac=gr*365,Zr=je(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*cr)},(e,t)=>(t-e)/cr,e=>e.getUTCSeconds());Zr.range;const Ud=je(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*cr)},(e,t)=>{e.setTime(+e+t*At)},(e,t)=>(t-e)/At,e=>e.getMinutes());Ud.range;const Fd=je(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*At)},(e,t)=>(t-e)/At,e=>e.getUTCMinutes());Fd.range;const zd=je(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*cr-e.getMinutes()*At)},(e,t)=>{e.setTime(+e+t*ur)},(e,t)=>(t-e)/ur,e=>e.getHours());zd.range;const qd=je(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ur)},(e,t)=>(t-e)/ur,e=>e.getUTCHours());qd.range;const aa=je(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*At)/gr,e=>e.getDate()-1);aa.range;const hs=je(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/gr,e=>e.getUTCDate()-1);hs.range;const xb=je(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/gr,e=>Math.floor(e/gr));xb.range;function pn(e){return je(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*At)/Bd)}const ps=pn(0),Io=pn(1),NI=pn(2),LI=pn(3),Fn=pn(4),BI=pn(5),UI=pn(6);ps.range;Io.range;NI.range;LI.range;Fn.range;BI.range;UI.range;function mn(e){return je(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Bd)}const ms=mn(0),$o=mn(1),FI=mn(2),zI=mn(3),zn=mn(4),qI=mn(5),WI=mn(6);ms.range;$o.range;FI.range;zI.range;zn.range;qI.range;WI.range;const Wd=je(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Wd.range;const Kd=je(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Kd.range;const vr=je(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());vr.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:je(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});vr.range;const yr=je(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());yr.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:je(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});yr.range;function _b(e,t,r,n,i,a){const o=[[Zr,1,cr],[Zr,5,5*cr],[Zr,15,15*cr],[Zr,30,30*cr],[a,1,At],[a,5,5*At],[a,15,15*At],[a,30,30*At],[i,1,ur],[i,3,3*ur],[i,6,6*ur],[i,12,12*ur],[n,1,gr],[n,2,2*gr],[r,1,Bd],[t,1,Gm],[t,3,3*Gm],[e,1,ac]];function s(c,u,d){const f=u<c;f&&([c,u]=[u,c]);const h=d&&typeof d.range=="function"?d:l(c,u,d),m=h?h.range(c,+u+1):[];return f?m.reverse():m}function l(c,u,d){const f=Math.abs(u-c)/d,h=Pd(([,,g])=>g).right(o,f);if(h===o.length)return e.every(mu(c/ac,u/ac,d));if(h===0)return Ro.every(Math.max(mu(c,u,d),1));const[m,p]=o[f/o[h-1][2]<o[h][2]/f?h-1:h];return m.every(p)}return[s,l]}const[KI,HI]=_b(yr,Kd,ms,xb,qd,Fd),[VI,GI]=_b(vr,Wd,ps,aa,zd,Ud);function oc(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function sc(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function wi(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function YI(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,a=e.days,o=e.shortDays,s=e.months,l=e.shortMonths,c=xi(i),u=_i(i),d=xi(a),f=_i(a),h=xi(o),m=_i(o),p=xi(s),g=_i(s),b=xi(l),x=_i(l),w={a:q,A:Q,b:ee,B:be,c:null,d:eg,e:eg,f:y2,g:k2,G:T2,H:m2,I:g2,j:v2,L:Sb,m:b2,M:w2,p:me,q:z,Q:ng,s:ig,S:x2,u:_2,U:S2,V:E2,w:O2,W:P2,x:null,X:null,y:j2,Y:A2,Z:C2,"%":rg},_={a:V,A:re,b:J,B:tt,c:null,d:tg,e:tg,f:D2,g:K2,G:V2,H:R2,I:I2,j:$2,L:Ob,m:M2,M:N2,p:Or,q:le,Q:ng,s:ig,S:L2,u:B2,U:U2,V:F2,w:z2,W:q2,x:null,X:null,y:W2,Y:H2,Z:G2,"%":rg},S={a:D,A:R,b:I,B,c:L,d:Zm,e:Zm,f:d2,g:Xm,G:Jm,H:Qm,I:Qm,j:s2,L:u2,m:o2,M:l2,p:A,q:a2,Q:h2,s:p2,S:c2,u:e2,U:t2,V:r2,w:QI,W:n2,x:H,X:N,y:Xm,Y:Jm,Z:i2,"%":f2};w.x=E(r,w),w.X=E(n,w),w.c=E(t,w),_.x=E(r,_),_.X=E(n,_),_.c=E(t,_);function E($,G){return function(Z){var T=[],ze=-1,ne=0,Ye=$.length,qe,ut,di;for(Z instanceof Date||(Z=new Date(+Z));++ze<Ye;)$.charCodeAt(ze)===37&&(T.push($.slice(ne,ze)),(ut=Ym[qe=$.charAt(++ze)])!=null?qe=$.charAt(++ze):ut=qe==="e"?" ":"0",(di=G[qe])&&(qe=di(Z,ut)),T.push(qe),ne=ze+1);return T.push($.slice(ne,ze)),T.join("")}}function O($,G){return function(Z){var T=wi(1900,void 0,1),ze=k(T,$,Z+="",0),ne,Ye;if(ze!=Z.length)return null;if("Q"in T)return new Date(T.Q);if("s"in T)return new Date(T.s*1e3+("L"in T?T.L:0));if(G&&!("Z"in T)&&(T.Z=0),"p"in T&&(T.H=T.H%12+T.p*12),T.m===void 0&&(T.m="q"in T?T.q:0),"V"in T){if(T.V<1||T.V>53)return null;"w"in T||(T.w=1),"Z"in T?(ne=sc(wi(T.y,0,1)),Ye=ne.getUTCDay(),ne=Ye>4||Ye===0?$o.ceil(ne):$o(ne),ne=hs.offset(ne,(T.V-1)*7),T.y=ne.getUTCFullYear(),T.m=ne.getUTCMonth(),T.d=ne.getUTCDate()+(T.w+6)%7):(ne=oc(wi(T.y,0,1)),Ye=ne.getDay(),ne=Ye>4||Ye===0?Io.ceil(ne):Io(ne),ne=aa.offset(ne,(T.V-1)*7),T.y=ne.getFullYear(),T.m=ne.getMonth(),T.d=ne.getDate()+(T.w+6)%7)}else("W"in T||"U"in T)&&("w"in T||(T.w="u"in T?T.u%7:"W"in T?1:0),Ye="Z"in T?sc(wi(T.y,0,1)).getUTCDay():oc(wi(T.y,0,1)).getDay(),T.m=0,T.d="W"in T?(T.w+6)%7+T.W*7-(Ye+5)%7:T.w+T.U*7-(Ye+6)%7);return"Z"in T?(T.H+=T.Z/100|0,T.M+=T.Z%100,sc(T)):oc(T)}}function k($,G,Z,T){for(var ze=0,ne=G.length,Ye=Z.length,qe,ut;ze<ne;){if(T>=Ye)return-1;if(qe=G.charCodeAt(ze++),qe===37){if(qe=G.charAt(ze++),ut=S[qe in Ym?G.charAt(ze++):qe],!ut||(T=ut($,Z,T))<0)return-1}else if(qe!=Z.charCodeAt(T++))return-1}return T}function A($,G,Z){var T=c.exec(G.slice(Z));return T?($.p=u.get(T[0].toLowerCase()),Z+T[0].length):-1}function D($,G,Z){var T=h.exec(G.slice(Z));return T?($.w=m.get(T[0].toLowerCase()),Z+T[0].length):-1}function R($,G,Z){var T=d.exec(G.slice(Z));return T?($.w=f.get(T[0].toLowerCase()),Z+T[0].length):-1}function I($,G,Z){var T=b.exec(G.slice(Z));return T?($.m=x.get(T[0].toLowerCase()),Z+T[0].length):-1}function B($,G,Z){var T=p.exec(G.slice(Z));return T?($.m=g.get(T[0].toLowerCase()),Z+T[0].length):-1}function L($,G,Z){return k($,t,G,Z)}function H($,G,Z){return k($,r,G,Z)}function N($,G,Z){return k($,n,G,Z)}function q($){return o[$.getDay()]}function Q($){return a[$.getDay()]}function ee($){return l[$.getMonth()]}function be($){return s[$.getMonth()]}function me($){return i[+($.getHours()>=12)]}function z($){return 1+~~($.getMonth()/3)}function V($){return o[$.getUTCDay()]}function re($){return a[$.getUTCDay()]}function J($){return l[$.getUTCMonth()]}function tt($){return s[$.getUTCMonth()]}function Or($){return i[+($.getUTCHours()>=12)]}function le($){return 1+~~($.getUTCMonth()/3)}return{format:function($){var G=E($+="",w);return G.toString=function(){return $},G},parse:function($){var G=O($+="",!1);return G.toString=function(){return $},G},utcFormat:function($){var G=E($+="",_);return G.toString=function(){return $},G},utcParse:function($){var G=O($+="",!0);return G.toString=function(){return $},G}}}var Ym={"-":"",_:" ",0:"0"},De=/^\s*\d+/,JI=/^%/,XI=/[\\^$*+?|[\]().{}]/g;function te(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(t)+i:i)}function ZI(e){return e.replace(XI,"\\$&")}function xi(e){return new RegExp("^(?:"+e.map(ZI).join("|")+")","i")}function _i(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function QI(e,t,r){var n=De.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function e2(e,t,r){var n=De.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function t2(e,t,r){var n=De.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function r2(e,t,r){var n=De.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function n2(e,t,r){var n=De.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function Jm(e,t,r){var n=De.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function Xm(e,t,r){var n=De.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function i2(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function a2(e,t,r){var n=De.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function o2(e,t,r){var n=De.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function Zm(e,t,r){var n=De.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function s2(e,t,r){var n=De.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function Qm(e,t,r){var n=De.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function l2(e,t,r){var n=De.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function c2(e,t,r){var n=De.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function u2(e,t,r){var n=De.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function d2(e,t,r){var n=De.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function f2(e,t,r){var n=JI.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function h2(e,t,r){var n=De.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function p2(e,t,r){var n=De.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function eg(e,t){return te(e.getDate(),t,2)}function m2(e,t){return te(e.getHours(),t,2)}function g2(e,t){return te(e.getHours()%12||12,t,2)}function v2(e,t){return te(1+aa.count(vr(e),e),t,3)}function Sb(e,t){return te(e.getMilliseconds(),t,3)}function y2(e,t){return Sb(e,t)+"000"}function b2(e,t){return te(e.getMonth()+1,t,2)}function w2(e,t){return te(e.getMinutes(),t,2)}function x2(e,t){return te(e.getSeconds(),t,2)}function _2(e){var t=e.getDay();return t===0?7:t}function S2(e,t){return te(ps.count(vr(e)-1,e),t,2)}function Eb(e){var t=e.getDay();return t>=4||t===0?Fn(e):Fn.ceil(e)}function E2(e,t){return e=Eb(e),te(Fn.count(vr(e),e)+(vr(e).getDay()===4),t,2)}function O2(e){return e.getDay()}function P2(e,t){return te(Io.count(vr(e)-1,e),t,2)}function j2(e,t){return te(e.getFullYear()%100,t,2)}function k2(e,t){return e=Eb(e),te(e.getFullYear()%100,t,2)}function A2(e,t){return te(e.getFullYear()%1e4,t,4)}function T2(e,t){var r=e.getDay();return e=r>=4||r===0?Fn(e):Fn.ceil(e),te(e.getFullYear()%1e4,t,4)}function C2(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+te(t/60|0,"0",2)+te(t%60,"0",2)}function tg(e,t){return te(e.getUTCDate(),t,2)}function R2(e,t){return te(e.getUTCHours(),t,2)}function I2(e,t){return te(e.getUTCHours()%12||12,t,2)}function $2(e,t){return te(1+hs.count(yr(e),e),t,3)}function Ob(e,t){return te(e.getUTCMilliseconds(),t,3)}function D2(e,t){return Ob(e,t)+"000"}function M2(e,t){return te(e.getUTCMonth()+1,t,2)}function N2(e,t){return te(e.getUTCMinutes(),t,2)}function L2(e,t){return te(e.getUTCSeconds(),t,2)}function B2(e){var t=e.getUTCDay();return t===0?7:t}function U2(e,t){return te(ms.count(yr(e)-1,e),t,2)}function Pb(e){var t=e.getUTCDay();return t>=4||t===0?zn(e):zn.ceil(e)}function F2(e,t){return e=Pb(e),te(zn.count(yr(e),e)+(yr(e).getUTCDay()===4),t,2)}function z2(e){return e.getUTCDay()}function q2(e,t){return te($o.count(yr(e)-1,e),t,2)}function W2(e,t){return te(e.getUTCFullYear()%100,t,2)}function K2(e,t){return e=Pb(e),te(e.getUTCFullYear()%100,t,2)}function H2(e,t){return te(e.getUTCFullYear()%1e4,t,4)}function V2(e,t){var r=e.getUTCDay();return e=r>=4||r===0?zn(e):zn.ceil(e),te(e.getUTCFullYear()%1e4,t,4)}function G2(){return"+0000"}function rg(){return"%"}function ng(e){return+e}function ig(e){return Math.floor(+e/1e3)}var Tn,jb,kb;Y2({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Y2(e){return Tn=YI(e),jb=Tn.format,Tn.parse,kb=Tn.utcFormat,Tn.utcParse,Tn}function J2(e){return new Date(e)}function X2(e){return e instanceof Date?+e:+new Date(+e)}function Hd(e,t,r,n,i,a,o,s,l,c){var u=Rd(),d=u.invert,f=u.domain,h=c(".%L"),m=c(":%S"),p=c("%I:%M"),g=c("%I %p"),b=c("%a %d"),x=c("%b %d"),w=c("%B"),_=c("%Y");function S(E){return(l(E)<E?h:s(E)<E?m:o(E)<E?p:a(E)<E?g:n(E)<E?i(E)<E?b:x:r(E)<E?w:_)(E)}return u.invert=function(E){return new Date(d(E))},u.domain=function(E){return arguments.length?f(Array.from(E,X2)):f().map(J2)},u.ticks=function(E){var O=f();return e(O[0],O[O.length-1],E??10)},u.tickFormat=function(E,O){return O==null?S:c(O)},u.nice=function(E){var O=f();return(!E||typeof E.range!="function")&&(E=t(O[0],O[O.length-1],E??10)),E?f(pb(O,E)):u},u.copy=function(){return ia(u,Hd(e,t,r,n,i,a,o,s,l,c))},u}function Z2(){return Dt.apply(Hd(VI,GI,vr,Wd,ps,aa,zd,Ud,Zr,jb).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Q2(){return Dt.apply(Hd(KI,HI,yr,Kd,ms,hs,qd,Fd,Zr,kb).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function gs(){var e=0,t=1,r,n,i,a,o=Ze,s=!1,l;function c(d){return d==null||isNaN(d=+d)?l:o(i===0?.5:(d=(a(d)-r)*i,s?Math.max(0,Math.min(1,d)):d))}c.domain=function(d){return arguments.length?([e,t]=d,r=a(e=+e),n=a(t=+t),i=r===n?0:1/(n-r),c):[e,t]},c.clamp=function(d){return arguments.length?(s=!!d,c):s},c.interpolator=function(d){return arguments.length?(o=d,c):o};function u(d){return function(f){var h,m;return arguments.length?([h,m]=f,o=d(h,m),c):[o(0),o(1)]}}return c.range=u(ti),c.rangeRound=u(Cd),c.unknown=function(d){return arguments.length?(l=d,c):l},function(d){return a=d,r=d(e),n=d(t),i=r===n?0:1/(n-r),c}}function Br(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Ab(){var e=Lr(gs()(Ze));return e.copy=function(){return Br(e,Ab())},xr.apply(e,arguments)}function Tb(){var e=Dd(gs()).domain([1,10]);return e.copy=function(){return Br(e,Tb()).base(e.base())},xr.apply(e,arguments)}function Cb(){var e=Md(gs());return e.copy=function(){return Br(e,Cb()).constant(e.constant())},xr.apply(e,arguments)}function Vd(){var e=Nd(gs());return e.copy=function(){return Br(e,Vd()).exponent(e.exponent())},xr.apply(e,arguments)}function e$(){return Vd.apply(null,arguments).exponent(.5)}function Rb(){var e=[],t=Ze;function r(n){if(n!=null&&!isNaN(n=+n))return t((ra(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Ir),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>BR(e,a/n))},r.copy=function(){return Rb(t).domain(e)},xr.apply(r,arguments)}function vs(){var e=0,t=.5,r=1,n=1,i,a,o,s,l,c=Ze,u,d=!1,f;function h(p){return isNaN(p=+p)?f:(p=.5+((p=+u(p))-a)*(n*p<n*a?s:l),c(d?Math.max(0,Math.min(1,p)):p))}h.domain=function(p){return arguments.length?([e,t,r]=p,i=u(e=+e),a=u(t=+t),o=u(r=+r),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),n=a<i?-1:1,h):[e,t,r]},h.clamp=function(p){return arguments.length?(d=!!p,h):d},h.interpolator=function(p){return arguments.length?(c=p,h):c};function m(p){return function(g){var b,x,w;return arguments.length?([b,x,w]=g,c=fI(p,[b,x,w]),h):[c(0),c(.5),c(1)]}}return h.range=m(ti),h.rangeRound=m(Cd),h.unknown=function(p){return arguments.length?(f=p,h):f},function(p){return u=p,i=p(e),a=p(t),o=p(r),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),n=a<i?-1:1,h}}function Ib(){var e=Lr(vs()(Ze));return e.copy=function(){return Br(e,Ib())},xr.apply(e,arguments)}function $b(){var e=Dd(vs()).domain([.1,1,10]);return e.copy=function(){return Br(e,$b()).base(e.base())},xr.apply(e,arguments)}function Db(){var e=Md(vs());return e.copy=function(){return Br(e,Db()).constant(e.constant())},xr.apply(e,arguments)}function Gd(){var e=Nd(vs());return e.copy=function(){return Br(e,Gd()).exponent(e.exponent())},xr.apply(e,arguments)}function t$(){return Gd.apply(null,arguments).exponent(.5)}const Ti=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:kd,scaleDiverging:Ib,scaleDivergingLog:$b,scaleDivergingPow:Gd,scaleDivergingSqrt:t$,scaleDivergingSymlog:Db,scaleIdentity:hb,scaleImplicit:gu,scaleLinear:fb,scaleLog:mb,scaleOrdinal:jd,scalePoint:zR,scalePow:Ld,scaleQuantile:yb,scaleQuantize:bb,scaleRadial:vb,scaleSequential:Ab,scaleSequentialLog:Tb,scaleSequentialPow:Vd,scaleSequentialQuantile:Rb,scaleSequentialSqrt:e$,scaleSequentialSymlog:Cb,scaleSqrt:DI,scaleSymlog:gb,scaleThreshold:wb,scaleTime:Z2,scaleUtc:Q2,tickFormat:db},Symbol.toStringTag,{value:"Module"}));var Ur=e=>e.chartData,r$=j([Ur],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),Yd=(e,t,r,n)=>n?r$(e):Ur(e);function qn(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(wt(t)&&wt(r))return!0}return!1}function ag(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function n$(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,i,a;if(wt(r))i=r;else if(typeof r=="function")return;if(wt(n))a=n;else if(typeof n=="function")return;var o=[i,a];if(qn(o))return o}}function i$(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(qn(n))return ag(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,o,s;if(i==="auto")t!=null&&(o=Math.min(...t));else if(U(i))o=i;else if(typeof i=="function")try{t!=null&&(o=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&Xp.test(i)){var l=Xp.exec(i);if(l==null||t==null)o=void 0;else{var c=+l[1];o=t[0]-c}}else o=t==null?void 0:t[0];if(a==="auto")t!=null&&(s=Math.max(...t));else if(U(a))s=a;else if(typeof a=="function")try{t!=null&&(s=a(t==null?void 0:t[1]))}catch{}else if(typeof a=="string"&&Zp.test(a)){var u=Zp.exec(a);if(u==null||t==null)s=void 0;else{var d=+u[1];s=t[1]+d}}else s=t==null?void 0:t[1];var f=[o,s];if(qn(f))return t==null?f:ag(f,t,r)}}}var ri=1e9,a$={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Xd,he=!0,Rt="[DecimalError] ",an=Rt+"Invalid argument: ",Jd=Rt+"Exponent out of range: ",ni=Math.floor,Gr=Math.pow,o$=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,gt,Ce=1e7,de=7,Mb=9007199254740991,Do=ni(Mb/de),M={};M.absoluteValue=M.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};M.comparedTo=M.cmp=function(e){var t,r,n,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(n=a.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};M.decimalPlaces=M.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*de;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};M.dividedBy=M.div=function(e){return hr(this,new this.constructor(e))};M.dividedToIntegerBy=M.idiv=function(e){var t=this,r=t.constructor;return se(hr(t,new r(e),0,1),r.precision)};M.equals=M.eq=function(e){return!this.cmp(e)};M.exponent=function(){return _e(this)};M.greaterThan=M.gt=function(e){return this.cmp(e)>0};M.greaterThanOrEqualTo=M.gte=function(e){return this.cmp(e)>=0};M.isInteger=M.isint=function(){return this.e>this.d.length-2};M.isNegative=M.isneg=function(){return this.s<0};M.isPositive=M.ispos=function(){return this.s>0};M.isZero=function(){return this.s===0};M.lessThan=M.lt=function(e){return this.cmp(e)<0};M.lessThanOrEqualTo=M.lte=function(e){return this.cmp(e)<1};M.logarithm=M.log=function(e){var t,r=this,n=r.constructor,i=n.precision,a=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(gt))throw Error(Rt+"NaN");if(r.s<1)throw Error(Rt+(r.s?"NaN":"-Infinity"));return r.eq(gt)?new n(0):(he=!1,t=hr(Hi(r,a),Hi(e,a),a),he=!0,se(t,i))};M.minus=M.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Bb(t,e):Nb(t,(e.s=-e.s,e))};M.modulo=M.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(Rt+"NaN");return r.s?(he=!1,t=hr(r,e,0,1).times(e),he=!0,r.minus(t)):se(new n(r),i)};M.naturalExponential=M.exp=function(){return Lb(this)};M.naturalLogarithm=M.ln=function(){return Hi(this)};M.negated=M.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};M.plus=M.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Nb(t,e):Bb(t,(e.s=-e.s,e))};M.precision=M.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(an+e);if(t=_e(i)+1,n=i.d.length-1,r=n*de+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};M.squareRoot=M.sqrt=function(){var e,t,r,n,i,a,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(Rt+"NaN")}for(e=_e(s),he=!1,i=Math.sqrt(+s),i==0||i==1/0?(t=Jt(s.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=ni((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new l(t)):n=new l(i.toString()),r=l.precision,i=o=r+3;;)if(a=n,n=a.plus(hr(s,a,o+2)).times(.5),Jt(a.d).slice(0,o)===(t=Jt(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t=="4999"){if(se(a,r+1,0),a.times(a).eq(s)){n=a;break}}else if(t!="9999")break;o+=4}return he=!0,se(n,r)};M.times=M.mul=function(e){var t,r,n,i,a,o,s,l,c,u=this,d=u.constructor,f=u.d,h=(e=new d(e)).d;if(!u.s||!e.s)return new d(0);for(e.s*=u.s,r=u.e+e.e,l=f.length,c=h.length,l<c&&(a=f,f=h,h=a,o=l,l=c,c=o),a=[],o=l+c,n=o;n--;)a.push(0);for(n=c;--n>=0;){for(t=0,i=l+n;i>n;)s=a[i]+h[n]*f[i-n-1]+t,a[i--]=s%Ce|0,t=s/Ce|0;a[i]=(a[i]+t)%Ce|0}for(;!a[--o];)a.pop();return t?++r:a.shift(),e.d=a,e.e=r,he?se(e,d.precision):e};M.toDecimalPlaces=M.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Qt(e,0,ri),t===void 0?t=n.rounding:Qt(t,0,8),se(r,e+_e(r)+1,t))};M.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=cn(n,!0):(Qt(e,0,ri),t===void 0?t=i.rounding:Qt(t,0,8),n=se(new i(n),e+1,t),r=cn(n,!0,e+1)),r};M.toFixed=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?cn(i):(Qt(e,0,ri),t===void 0?t=a.rounding:Qt(t,0,8),n=se(new a(i),e+_e(i)+1,t),r=cn(n.abs(),!1,e+_e(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};M.toInteger=M.toint=function(){var e=this,t=e.constructor;return se(new t(e),_e(e)+1,t.rounding)};M.toNumber=function(){return+this};M.toPower=M.pow=function(e){var t,r,n,i,a,o,s=this,l=s.constructor,c=12,u=+(e=new l(e));if(!e.s)return new l(gt);if(s=new l(s),!s.s){if(e.s<1)throw Error(Rt+"Infinity");return s}if(s.eq(gt))return s;if(n=l.precision,e.eq(gt))return se(s,n);if(t=e.e,r=e.d.length-1,o=t>=r,a=s.s,o){if((r=u<0?-u:u)<=Mb){for(i=new l(gt),t=Math.ceil(n/de+4),he=!1;r%2&&(i=i.times(s),sg(i.d,t)),r=ni(r/2),r!==0;)s=s.times(s),sg(s.d,t);return he=!0,e.s<0?new l(gt).div(i):se(i,n)}}else if(a<0)throw Error(Rt+"NaN");return a=a<0&&e.d[Math.max(t,r)]&1?-1:1,s.s=1,he=!1,i=e.times(Hi(s,n+c)),he=!0,i=Lb(i),i.s=a,i};M.toPrecision=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?(r=_e(i),n=cn(i,r<=a.toExpNeg||r>=a.toExpPos)):(Qt(e,1,ri),t===void 0?t=a.rounding:Qt(t,0,8),i=se(new a(i),e,t),r=_e(i),n=cn(i,e<=r||r<=a.toExpNeg,e)),n};M.toSignificantDigits=M.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Qt(e,1,ri),t===void 0?t=n.rounding:Qt(t,0,8)),se(new n(r),e,t)};M.toString=M.valueOf=M.val=M.toJSON=M[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=_e(e),r=e.constructor;return cn(e,t<=r.toExpNeg||t>=r.toExpPos)};function Nb(e,t){var r,n,i,a,o,s,l,c,u=e.constructor,d=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),he?se(t,d):t;if(l=e.d,c=t.d,o=e.e,i=t.e,l=l.slice(),a=o-i,a){for(a<0?(n=l,a=-a,s=c.length):(n=c,i=o,s=l.length),o=Math.ceil(d/de),s=o>s?o+1:s+1,a>s&&(a=s,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(s=l.length,a=c.length,s-a<0&&(a=s,n=c,c=l,l=n),r=0;a;)r=(l[--a]=l[a]+c[a]+r)/Ce|0,l[a]%=Ce;for(r&&(l.unshift(r),++i),s=l.length;l[--s]==0;)l.pop();return t.d=l,t.e=i,he?se(t,d):t}function Qt(e,t,r){if(e!==~~e||e<t||e>r)throw Error(an+e)}function Jt(e){var t,r,n,i=e.length-1,a="",o=e[0];if(i>0){for(a+=o,t=1;t<i;t++)n=e[t]+"",r=de-n.length,r&&(a+=Ar(r)),a+=n;o=e[t],n=o+"",r=de-n.length,r&&(a+=Ar(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var hr=(function(){function e(n,i){var a,o=0,s=n.length;for(n=n.slice();s--;)a=n[s]*i+o,n[s]=a%Ce|0,o=a/Ce|0;return o&&n.unshift(o),n}function t(n,i,a,o){var s,l;if(a!=o)l=a>o?1:-1;else for(s=l=0;s<a;s++)if(n[s]!=i[s]){l=n[s]>i[s]?1:-1;break}return l}function r(n,i,a){for(var o=0;a--;)n[a]-=o,o=n[a]<i[a]?1:0,n[a]=o*Ce+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,o){var s,l,c,u,d,f,h,m,p,g,b,x,w,_,S,E,O,k,A=n.constructor,D=n.s==i.s?1:-1,R=n.d,I=i.d;if(!n.s)return new A(n);if(!i.s)throw Error(Rt+"Division by zero");for(l=n.e-i.e,O=I.length,S=R.length,h=new A(D),m=h.d=[],c=0;I[c]==(R[c]||0);)++c;if(I[c]>(R[c]||0)&&--l,a==null?x=a=A.precision:o?x=a+(_e(n)-_e(i))+1:x=a,x<0)return new A(0);if(x=x/de+2|0,c=0,O==1)for(u=0,I=I[0],x++;(c<S||u)&&x--;c++)w=u*Ce+(R[c]||0),m[c]=w/I|0,u=w%I|0;else{for(u=Ce/(I[0]+1)|0,u>1&&(I=e(I,u),R=e(R,u),O=I.length,S=R.length),_=O,p=R.slice(0,O),g=p.length;g<O;)p[g++]=0;k=I.slice(),k.unshift(0),E=I[0],I[1]>=Ce/2&&++E;do u=0,s=t(I,p,O,g),s<0?(b=p[0],O!=g&&(b=b*Ce+(p[1]||0)),u=b/E|0,u>1?(u>=Ce&&(u=Ce-1),d=e(I,u),f=d.length,g=p.length,s=t(d,p,f,g),s==1&&(u--,r(d,O<f?k:I,f))):(u==0&&(s=u=1),d=I.slice()),f=d.length,f<g&&d.unshift(0),r(p,d,g),s==-1&&(g=p.length,s=t(I,p,O,g),s<1&&(u++,r(p,O<g?k:I,g))),g=p.length):s===0&&(u++,p=[0]),m[c++]=u,s&&p[0]?p[g++]=R[_]||0:(p=[R[_]],g=1);while((_++<S||p[0]!==void 0)&&x--)}return m[0]||m.shift(),h.e=l,se(h,o?a+_e(h)+1:a)}})();function Lb(e,t){var r,n,i,a,o,s,l=0,c=0,u=e.constructor,d=u.precision;if(_e(e)>16)throw Error(Jd+_e(e));if(!e.s)return new u(gt);for(he=!1,s=d,o=new u(.03125);e.abs().gte(.1);)e=e.times(o),c+=5;for(n=Math.log(Gr(2,c))/Math.LN10*2+5|0,s+=n,r=i=a=new u(gt),u.precision=s;;){if(i=se(i.times(e),s),r=r.times(++l),o=a.plus(hr(i,r,s)),Jt(o.d).slice(0,s)===Jt(a.d).slice(0,s)){for(;c--;)a=se(a.times(a),s);return u.precision=d,t==null?(he=!0,se(a,d)):a}a=o}}function _e(e){for(var t=e.e*de,r=e.d[0];r>=10;r/=10)t++;return t}function lc(e,t,r){if(t>e.LN10.sd())throw he=!0,r&&(e.precision=r),Error(Rt+"LN10 precision limit exceeded");return se(new e(e.LN10),t)}function Ar(e){for(var t="";e--;)t+="0";return t}function Hi(e,t){var r,n,i,a,o,s,l,c,u,d=1,f=10,h=e,m=h.d,p=h.constructor,g=p.precision;if(h.s<1)throw Error(Rt+(h.s?"NaN":"-Infinity"));if(h.eq(gt))return new p(0);if(t==null?(he=!1,c=g):c=t,h.eq(10))return t==null&&(he=!0),lc(p,c);if(c+=f,p.precision=c,r=Jt(m),n=r.charAt(0),a=_e(h),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)h=h.times(e),r=Jt(h.d),n=r.charAt(0),d++;a=_e(h),n>1?(h=new p("0."+r),a++):h=new p(n+"."+r.slice(1))}else return l=lc(p,c+2,g).times(a+""),h=Hi(new p(n+"."+r.slice(1)),c-f).plus(l),p.precision=g,t==null?(he=!0,se(h,g)):h;for(s=o=h=hr(h.minus(gt),h.plus(gt),c),u=se(h.times(h),c),i=3;;){if(o=se(o.times(u),c),l=s.plus(hr(o,new p(i),c)),Jt(l.d).slice(0,c)===Jt(s.d).slice(0,c))return s=s.times(2),a!==0&&(s=s.plus(lc(p,c+2,g).times(a+""))),s=hr(s,new p(d),c),p.precision=g,t==null?(he=!0,se(s,g)):s;s=l,i+=2}}function og(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=ni(r/de),e.d=[],n=(r+1)%de,r<0&&(n+=de),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=de;n<i;)e.d.push(+t.slice(n,n+=de));t=t.slice(n),n=de-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),he&&(e.e>Do||e.e<-Do))throw Error(Jd+r)}else e.s=0,e.e=0,e.d=[0];return e}function se(e,t,r){var n,i,a,o,s,l,c,u,d=e.d;for(o=1,a=d[0];a>=10;a/=10)o++;if(n=t-o,n<0)n+=de,i=t,c=d[u=0];else{if(u=Math.ceil((n+1)/de),a=d.length,u>=a)return e;for(c=a=d[u],o=1;a>=10;a/=10)o++;n%=de,i=n-de+o}if(r!==void 0&&(a=Gr(10,o-i-1),s=c/a%10|0,l=t<0||d[u+1]!==void 0||c%a,l=r<4?(s||l)&&(r==0||r==(e.s<0?3:2)):s>5||s==5&&(r==4||l||r==6&&(n>0?i>0?c/Gr(10,o-i):0:d[u-1])%10&1||r==(e.s<0?8:7))),t<1||!d[0])return l?(a=_e(e),d.length=1,t=t-a-1,d[0]=Gr(10,(de-t%de)%de),e.e=ni(-t/de)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(n==0?(d.length=u,a=1,u--):(d.length=u+1,a=Gr(10,de-n),d[u]=i>0?(c/Gr(10,o-i)%Gr(10,i)|0)*a:0),l)for(;;)if(u==0){(d[0]+=a)==Ce&&(d[0]=1,++e.e);break}else{if(d[u]+=a,d[u]!=Ce)break;d[u--]=0,a=1}for(n=d.length;d[--n]===0;)d.pop();if(he&&(e.e>Do||e.e<-Do))throw Error(Jd+_e(e));return e}function Bb(e,t){var r,n,i,a,o,s,l,c,u,d,f=e.constructor,h=f.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new f(e),he?se(t,h):t;if(l=e.d,d=t.d,n=t.e,c=e.e,l=l.slice(),o=c-n,o){for(u=o<0,u?(r=l,o=-o,s=d.length):(r=d,n=c,s=l.length),i=Math.max(Math.ceil(h/de),s)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=l.length,s=d.length,u=i<s,u&&(s=i),i=0;i<s;i++)if(l[i]!=d[i]){u=l[i]<d[i];break}o=0}for(u&&(r=l,l=d,d=r,t.s=-t.s),s=l.length,i=d.length-s;i>0;--i)l[s++]=0;for(i=d.length;i>o;){if(l[--i]<d[i]){for(a=i;a&&l[--a]===0;)l[a]=Ce-1;--l[a],l[i]+=Ce}l[i]-=d[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(t.d=l,t.e=n,he?se(t,h):t):new f(0)}function cn(e,t,r){var n,i=_e(e),a=Jt(e.d),o=a.length;return t?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+Ar(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Ar(-i-1)+a,r&&(n=r-o)>0&&(a+=Ar(n))):i>=o?(a+=Ar(i+1-o),r&&(n=r-i-1)>0&&(a=a+"."+Ar(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(a+="."),a+=Ar(n))),e.s<0?"-"+a:a}function sg(e,t){if(e.length>t)return e.length=t,!0}function Ub(e){var t,r,n;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(an+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return og(o,a.toString())}else if(typeof a!="string")throw Error(an+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,o$.test(a))og(o,a);else throw Error(an+a)}if(i.prototype=M,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=Ub,i.config=i.set=s$,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function s$(e){if(!e||typeof e!="object")throw Error(Rt+"Object expected");var t,r,n,i=["precision",1,ri,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(ni(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(an+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(an+r+": "+n);return this}var Xd=Ub(a$);gt=new Xd(1);const ie=Xd;var l$=e=>e,Fb={},zb=e=>e===Fb,lg=e=>function t(){return arguments.length===0||arguments.length===1&&zb(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},qb=(e,t)=>e===1?t:lg(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var a=n.filter(o=>o!==Fb).length;return a>=e?t(...n):qb(e-a,lg(function(){for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];var c=n.map(u=>zb(u)?s.shift():u);return t(...c,...s)}))}),ys=e=>qb(e.length,e),wu=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},c$=ys((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),u$=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return l$;var i=r.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce((s,l)=>l(s),a(...arguments))}},xu=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),Wb=e=>{var t=null,r=null;return function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return t&&i.every((o,s)=>{var l;return o===((l=t)===null||l===void 0?void 0:l[s])})||(t=i,r=e(...i)),r}};function Kb(e){var t;return e===0?t=1:t=Math.floor(new ie(e).abs().log(10).toNumber())+1,t}function Hb(e,t,r){for(var n=new ie(e),i=0,a=[];n.lt(t)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}ys((e,t,r)=>{var n=+e,i=+t;return n+r*(i-n)});ys((e,t,r)=>{var n=t-+e;return n=n||1/0,(r-e)/n});ys((e,t,r)=>{var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});var Vb=e=>{var[t,r]=e,[n,i]=[t,r];return t>r&&([n,i]=[r,t]),[n,i]},Gb=(e,t,r)=>{if(e.lte(0))return new ie(0);var n=Kb(e.toNumber()),i=new ie(10).pow(n),a=e.div(i),o=n!==1?.05:.1,s=new ie(Math.ceil(a.div(o).toNumber())).add(r).mul(o),l=s.mul(i);return t?new ie(l.toNumber()):new ie(Math.ceil(l.toNumber()))},d$=(e,t,r)=>{var n=new ie(1),i=new ie(e);if(!i.isint()&&r){var a=Math.abs(e);a<1?(n=new ie(10).pow(Kb(e)-1),i=new ie(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new ie(Math.floor(e)))}else e===0?i=new ie(Math.floor((t-1)/2)):r||(i=new ie(Math.floor(e)));var o=Math.floor((t-1)/2),s=u$(c$(l=>i.add(new ie(l-o).mul(n)).toNumber()),wu);return s(0,t)},Yb=function(t,r,n,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new ie(0),tickMin:new ie(0),tickMax:new ie(0)};var o=Gb(new ie(r).sub(t).div(n-1),i,a),s;t<=0&&r>=0?s=new ie(0):(s=new ie(t).add(r).div(2),s=s.sub(new ie(s).mod(o)));var l=Math.ceil(s.sub(t).div(o).toNumber()),c=Math.ceil(new ie(r).sub(s).div(o).toNumber()),u=l+c+1;return u>n?Yb(t,r,n,i,a+1):(u<n&&(c=r>0?c+(n-u):c,l=r>0?l:l+(n-u)),{step:o,tickMin:s.sub(new ie(l).mul(o)),tickMax:s.add(new ie(c).mul(o))})};function f$(e){var[t,r]=e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(n,2),[o,s]=Vb([t,r]);if(o===-1/0||s===1/0){var l=s===1/0?[o,...wu(0,n-1).map(()=>1/0)]:[...wu(0,n-1).map(()=>-1/0),s];return t>r?xu(l):l}if(o===s)return d$(o,n,i);var{step:c,tickMin:u,tickMax:d}=Yb(o,s,a,i,0),f=Hb(u,d.add(new ie(.1).mul(c)),c);return t>r?xu(f):f}function h$(e,t){var[r,n]=e,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,o]=Vb([r,n]);if(a===-1/0||o===1/0)return[r,n];if(a===o)return[a];var s=Math.max(t,2),l=Gb(new ie(o).sub(a).div(s-1),i,0),c=[...Hb(new ie(a),new ie(o),l),o];return i===!1&&(c=c.map(u=>Math.round(u))),r>n?xu(c):c}var p$=Wb(f$),m$=Wb(h$),Jb=e=>e.rootProps.maxBarSize,g$=e=>e.rootProps.barGap,Xb=e=>e.rootProps.barCategoryGap,v$=e=>e.rootProps.barSize,bs=e=>e.rootProps.stackOffset,Zd=e=>e.options.chartName,Qd=e=>e.rootProps.syncId,Zb=e=>e.rootProps.syncMethod,ef=e=>e.options.eventEmitter,sr={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},mt={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},ws=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},y$={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:sr.angleAxisId,includeHidden:!1,name:void 0,reversed:sr.reversed,scale:sr.scale,tick:sr.tick,tickCount:void 0,ticks:void 0,type:sr.type,unit:void 0},b$={allowDataOverflow:mt.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:mt.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:mt.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:mt.scale,tick:mt.tick,tickCount:mt.tickCount,ticks:void 0,type:mt.type,unit:void 0},w$={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:sr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:sr.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:sr.scale,tick:sr.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},x$={allowDataOverflow:mt.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:mt.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:mt.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:mt.scale,tick:mt.tick,tickCount:mt.tickCount,ticks:void 0,type:"category",unit:void 0},tf=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?w$:y$,rf=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?x$:b$,xs=e=>e.polarOptions,nf=j([br,wr,$e],PT),Qb=j([xs,nf],(e,t)=>{if(e!=null)return Ft(e.innerRadius,t,0)}),ew=j([xs,nf],(e,t)=>{if(e!=null)return Ft(e.outerRadius,t,t*.8)}),_$=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},tw=j([xs],_$);j([tf,tw],ws);var rw=j([nf,Qb,ew],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});j([rf,rw],ws);var nw=j([ae,xs,Qb,ew,br,wr],(e,t,r,n,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:o,cy:s,startAngle:l,endAngle:c}=t;return{cx:Ft(o,i,i/2),cy:Ft(s,a,a/2),innerRadius:r,outerRadius:n,startAngle:l,endAngle:c,clockWise:!1}}}),Ee=(e,t)=>t,_s=(e,t,r)=>r;function af(e){return e==null?void 0:e.id}var ke=e=>{var t=ae(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},ii=e=>e.tooltip.settings.axisId,Me=e=>{var t=ke(e),r=ii(e);return oa(e,t,r)},iw=j([Me],e=>e==null?void 0:e.dataKey);function aw(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=r,o=new Map;return e.forEach(s=>{var l,c=(l=s.data)!==null&&l!==void 0?l:n;if(!(c==null||c.length===0)){var u=af(s);c.forEach((d,f)=>{var h=a==null||i?f:String(et(d,a,null)),m=et(d,s.dataKey,0),p;o.has(h)?p=o.get(h):p={},Object.assign(p,{[u]:m}),o.set(h,p)})}}),Array.from(o.values())}function Ss(e){return e.stackId!=null&&e.dataKey!=null}function cg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Mo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cg(Object(r),!0).forEach(function(n){S$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function S$(e,t,r){return(t=E$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E$(e){var t=O$(e,"string");return typeof t=="symbol"?t:t+""}function O$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _u=[0,"auto"],ht={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},ow=(e,t)=>e.cartesianAxis.xAxis[t],_r=(e,t)=>{var r=ow(e,t);return r??ht},pt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:_u,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:ta},sw=(e,t)=>e.cartesianAxis.yAxis[t],Sr=(e,t)=>{var r=sw(e,t);return r??pt},P$={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},of=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??P$},ct=(e,t,r)=>{switch(t){case"xAxis":return _r(e,r);case"yAxis":return Sr(e,r);case"zAxis":return of(e,r);case"angleAxis":return tf(e,r);case"radiusAxis":return rf(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},j$=(e,t,r)=>{switch(t){case"xAxis":return _r(e,r);case"yAxis":return Sr(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},oa=(e,t,r)=>{switch(t){case"xAxis":return _r(e,r);case"yAxis":return Sr(e,r);case"angleAxis":return tf(e,r);case"radiusAxis":return rf(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},lw=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function cw(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var sf=e=>e.graphicalItems.cartesianItems,k$=j([Ee,_s],cw),uw=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),sa=j([sf,ct,k$],uw),dw=j([sa],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Ss)),fw=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),hw=j([sa],fw),pw=e=>e.map(t=>t.data).filter(Boolean).flat(1),A$=j([sa],pw),mw=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=t;return e.length>0?e:r.slice(n,i+1)},lf=j([A$,Yd],mw),gw=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:et(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(i=>({value:et(i,n)}))):e.map(n=>({value:n})),Es=j([lf,ct,sa],gw);function vw(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function gn(e){return e.filter(t=>Zt(t)||t instanceof Date).map(Number).filter(t=>yt(t)===!1)}function T$(e,t,r){return!r||typeof t!="number"||yt(t)?[]:r.length?gn(r.flatMap(n=>{var i=et(e,n.dataKey),a,o;if(Array.isArray(i)?[a,o]=i:a=o=i,!(!wt(a)||!wt(o)))return[t-a,t+o]})):[]}var C$=j([dw,Yd,Me],aw),yw=(e,t,r)=>{var n={},i=t.reduce((a,o)=>(o.stackId==null||(a[o.stackId]==null&&(a[o.stackId]=[]),a[o.stackId].push(o)),a),n);return Object.fromEntries(Object.entries(i).map(a=>{var[o,s]=a,l=s.map(af);return[o,{stackedData:zT(e,l,r),graphicalItems:s}]}))},Su=j([C$,dw,bs],yw),bw=(e,t,r)=>{var{dataStartIndex:n,dataEndIndex:i}=t;if(r!=="zAxis"){var a=VT(e,n,i);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},R$=j([Su,Ur,Ee],bw),ww=(e,t,r,n,i)=>r.length>0?e.flatMap(a=>r.flatMap(o=>{var s,l,c=(s=n[o.id])===null||s===void 0?void 0:s.filter(d=>vw(i,d)),u=et(a,(l=t.dataKey)!==null&&l!==void 0?l:o.dataKey);return{value:u,errorDomain:T$(a,u,c)}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(a=>({value:et(a,t.dataKey),errorDomain:[]})):e.map(a=>({value:a,errorDomain:[]})),Os=e=>e.errorBars,xw=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>vw(r,n));j([hw,Os,Ee],xw);var I$=j([lf,ct,hw,Os,Ee],ww);function $$(e){var{value:t}=e;if(Zt(t)||t instanceof Date)return t}var ug=e=>{var t=e.flatMap(n=>[n.value,n.errorDomain]).flat(1),r=gn(t);if(r.length!==0)return[Math.min(...r),Math.max(...r)]},D$=(e,t,r)=>{var n=e.map($$).filter(i=>i!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&Iy(n))?tb(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},cf=e=>{var t;if(e==null||!("domain"in e))return _u;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=gn(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:_u},No=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var a=i.flat(),o=Math.min(...a),s=Math.max(...a);return[o,s]}},_w=e=>e.referenceElements.dots,ai=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),M$=j([_w,Ee,_s],ai),Sw=e=>e.referenceElements.areas,N$=j([Sw,Ee,_s],ai),Ew=e=>e.referenceElements.lines,L$=j([Ew,Ee,_s],ai),Ow=(e,t)=>{var r=gn(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},B$=j(M$,Ee,Ow),Pw=(e,t)=>{var r=gn(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},U$=j([N$,Ee],Pw),jw=(e,t)=>{var r=gn(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},F$=j(L$,Ee,jw),z$=j(B$,F$,U$,(e,t,r)=>No(e,r,t)),q$=j([ct],cf),kw=(e,t,r,n,i,a,o)=>{var s=n$(t,e.allowDataOverflow);if(s!=null)return s;var l=a==="vertical"&&o==="xAxis"||a==="horizontal"&&o==="yAxis",c=l?No(r,i,ug(n)):No(i,ug(n));return i$(t,c,e.allowDataOverflow)},W$=j([ct,q$,R$,I$,z$,ae,Ee],kw),K$=[0,1],Aw=(e,t,r,n,i,a,o)=>{if(!((e==null||r==null||r.length===0)&&o===void 0)){var{dataKey:s,type:l}=e,c=hn(t,a);return c&&s==null?tb(0,r.length):l==="category"?D$(n,e,c):i==="expand"?K$:o}},uf=j([ct,ae,lf,Es,bs,Ee,W$],Aw),Tw=(e,t,r,n,i)=>{if(e!=null){var{scale:a,type:o}=e;if(a==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":o==="category"?"band":"linear";if(typeof a=="string"){var s="scale".concat(Zi(a));return s in Ti?s:"point"}}},la=j([ct,ae,lw,Zd,Ee],Tw);function H$(e){if(e!=null){if(e in Ti)return Ti[e]();var t="scale".concat(Zi(e));if(t in Ti)return Ti[t]()}}function df(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var i=H$(t);if(i!=null){var a=i.domain(r).range(n);return NT(a),a}}}var Cw=(e,t,r)=>{var n=cf(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&qn(e))return p$(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&qn(e))return m$(e,t.tickCount,t.allowDecimals)}},ff=j([uf,oa,la],Cw),Rw=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&qn(t)&&Array.isArray(r)&&r.length>0){var i=t[0],a=r[0],o=t[1],s=r[r.length-1];return[Math.min(i,a),Math.max(o,s)]}return t},V$=j([ct,uf,ff,Ee],Rw),G$=j(Es,ct,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(gn(e.map(s=>s.value))).sort((s,l)=>s-l);if(n.length<2)return 1/0;var i=n[n.length-1]-n[0];if(i===0)return 1/0;for(var a=0;a<n.length-1;a++){var o=n[a+1]-n[a];r=Math.min(r,o)}return r/i}}),Iw=j(G$,ae,Xb,$e,(e,t,r,n)=>n,(e,t,r,n,i)=>{if(!wt(e))return 0;var a=t==="vertical"?n.height:n.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var o=Ft(r,e*a),s=e*a/2;return s-o-(s-o)/a*o}return 0}),Y$=(e,t)=>{var r=_r(e,t);return r==null||typeof r.padding!="string"?0:Iw(e,"xAxis",t,r.padding)},J$=(e,t)=>{var r=Sr(e,t);return r==null||typeof r.padding!="string"?0:Iw(e,"yAxis",t,r.padding)},X$=j(_r,Y$,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((r=i.left)!==null&&r!==void 0?r:0)+t,right:((n=i.right)!==null&&n!==void 0?n:0)+t}}),Z$=j(Sr,J$,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((r=i.top)!==null&&r!==void 0?r:0)+t,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+t}}),Q$=j([$e,X$,ds,us,(e,t,r)=>r],(e,t,r,n,i)=>{var{padding:a}=n;return i?[a.left,r.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),eD=j([$e,ae,Z$,ds,us,(e,t,r)=>r],(e,t,r,n,i,a)=>{var{padding:o}=i;return a?[n.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),ca=(e,t,r,n)=>{var i;switch(t){case"xAxis":return Q$(e,r,n);case"yAxis":return eD(e,r,n);case"zAxis":return(i=of(e,r))===null||i===void 0?void 0:i.range;case"angleAxis":return tw(e);case"radiusAxis":return rw(e,r);default:return}},$w=j([ct,ca],ws),oi=j([ct,la,V$,$w],df);j([sa,Os,Ee],xw);function Dw(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Ps=(e,t)=>t,js=(e,t,r)=>r,tD=j(ls,Ps,js,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(Dw)),rD=j(cs,Ps,js,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(Dw)),Mw=(e,t)=>({width:e.width,height:t.height}),nD=(e,t)=>{var r=typeof t.width=="number"?t.width:ta;return{width:r,height:e.height}},Nw=j($e,_r,Mw),iD=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},aD=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},oD=j(wr,$e,tD,Ps,js,(e,t,r,n,i)=>{var a={},o;return r.forEach(s=>{var l=Mw(t,s);o==null&&(o=iD(t,n,e));var c=n==="top"&&!i||n==="bottom"&&i;a[s.id]=o-Number(c)*l.height,o+=(c?-1:1)*l.height}),a}),sD=j(br,$e,rD,Ps,js,(e,t,r,n,i)=>{var a={},o;return r.forEach(s=>{var l=nD(t,s);o==null&&(o=aD(t,n,e));var c=n==="left"&&!i||n==="right"&&i;a[s.id]=o-Number(c)*l.width,o+=(c?-1:1)*l.width}),a}),lD=(e,t)=>{var r=_r(e,t);if(r!=null)return oD(e,r.orientation,r.mirror)},cD=j([$e,_r,lD,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r==null?void 0:r[n];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),uD=(e,t)=>{var r=Sr(e,t);if(r!=null)return sD(e,r.orientation,r.mirror)},dD=j([$e,Sr,uD,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r==null?void 0:r[n];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),Lw=j($e,Sr,(e,t)=>{var r=typeof t.width=="number"?t.width:ta;return{width:r,height:e.height}}),dg=(e,t,r)=>{switch(t){case"xAxis":return Nw(e,r).width;case"yAxis":return Lw(e,r).height;default:return}},Bw=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:a,dataKey:o}=r,s=hn(e,n),l=t.map(c=>c.value);if(o&&s&&a==="category"&&i&&Iy(l))return l}},hf=j([ae,Es,ct,Ee],Bw),Uw=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:a}=r,o=hn(e,n);if(o&&(i==="number"||a!=="auto"))return t.map(s=>s.value)}},pf=j([ae,Es,oa,Ee],Uw),fg=j([ae,j$,la,oi,hf,pf,ca,ff,Ee],(e,t,r,n,i,a,o,s,l)=>{if(t==null)return null;var c=hn(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:a,duplicateDomain:i,isCategorical:c,niceTicks:s,range:o,realScaleType:r,scale:n}}),fD=(e,t,r,n,i,a,o,s,l)=>{if(!(t==null||n==null)){var c=hn(e,l),{type:u,ticks:d,tickCount:f}=t,h=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,m=u==="category"&&n.bandwidth?n.bandwidth()/h:0;m=l==="angleAxis"&&a!=null&&a.length>=2?at(a[0]-a[1])*2*m:m;var p=d||i;if(p){var g=p.map((b,x)=>{var w=o?o.indexOf(b):b;return{index:x,coordinate:n(w)+m,value:b,offset:m}});return g.filter(b=>!yt(b.coordinate))}return c&&s?s.map((b,x)=>({coordinate:n(b)+m,value:b,index:x,offset:m})):n.ticks?n.ticks(f).map(b=>({coordinate:n(b)+m,value:b,offset:m})):n.domain().map((b,x)=>({coordinate:n(b)+m,value:o?o[b]:b,index:x,offset:m}))}},Fw=j([ae,oa,la,oi,ff,ca,hf,pf,Ee],fD),hD=(e,t,r,n,i,a,o)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var s=hn(e,o),{tickCount:l}=t,c=0;return c=o==="angleAxis"&&(n==null?void 0:n.length)>=2?at(n[0]-n[1])*2*c:c,s&&a?a.map((u,d)=>({coordinate:r(u)+c,value:u,index:d,offset:c})):r.ticks?r.ticks(l).map(u=>({coordinate:r(u)+c,value:u,offset:c})):r.domain().map((u,d)=>({coordinate:r(u)+c,value:i?i[u]:u,index:d,offset:c}))}},Wn=j([ae,oa,oi,ca,hf,pf,Ee],hD),Kn=j(ct,oi,(e,t)=>{if(!(e==null||t==null))return Mo(Mo({},e),{},{scale:t})}),pD=j([ct,la,uf,$w],df);j((e,t,r)=>of(e,r),pD,(e,t)=>{if(!(e==null||t==null))return Mo(Mo({},e),{},{scale:t})});var mD=j([ae,ls,cs],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),zw=e=>e.options.defaultTooltipEventType,qw=e=>e.options.validateTooltipEventTypes;function Ww(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function mf(e,t){var r=zw(e),n=qw(e);return Ww(t,r,n)}function gD(e){return F(t=>mf(t,e))}var Kw=(e,t)=>{var r,n=Number(t);if(!(yt(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},vD=e=>e.tooltip.settings,Rr={active:!1,index:null,dataKey:void 0,coordinate:void 0},yD={itemInteraction:{click:Rr,hover:Rr},axisInteraction:{click:Rr,hover:Rr},keyboardInteraction:Rr,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},Hw=_t({name:"tooltip",initialState:yD,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var r=fr(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:bD,removeTooltipEntrySettings:wD,setTooltipSettingsState:xD,setActiveMouseOverItemIndex:Vw,mouseLeaveItem:_D,mouseLeaveChart:Gw,setActiveClickItemIndex:SD,setMouseOverAxisIndex:Yw,setMouseClickAxisIndex:ED,setSyncInteraction:Eu,setKeyboardInteraction:Ou}=Hw.actions,OD=Hw.reducer;function hg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Fa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hg(Object(r),!0).forEach(function(n){PD(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PD(e,t,r){return(t=jD(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jD(e){var t=kD(e,"string");return typeof t=="symbol"?t:t+""}function kD(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function AD(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function TD(e){return e.index!=null}var Jw=(e,t,r,n)=>{if(t==null)return Rr;var i=AD(e,t,r);if(i==null)return Rr;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(TD(i)){if(a)return Fa(Fa({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return Fa(Fa({},Rr),{},{coordinate:i.coordinate})},gf=(e,t)=>{var r=e==null?void 0:e.index;if(r==null)return null;var n=Number(r);if(!wt(n))return r;var i=0,a=1/0;return t.length>0&&(a=t.length-1),String(Math.max(i,Math.min(n,a)))},Xw=(e,t,r,n,i,a,o,s)=>{if(!(a==null||s==null)){var l=o[0],c=l==null?void 0:s(l.positions,a);if(c!=null)return c;var u=i==null?void 0:i[Number(a)];if(u)switch(r){case"horizontal":return{x:u.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:u.coordinate}}}},Zw=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return r==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(a=>{var o;return((o=a.settings)===null||o===void 0?void 0:o.dataKey)===i})},ua=e=>e.options.tooltipPayloadSearcher,si=e=>e.tooltip;function pg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function mg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pg(Object(r),!0).forEach(function(n){CD(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CD(e,t,r){return(t=RD(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RD(e){var t=ID(e,"string");return typeof t=="symbol"?t:t+""}function ID(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $D(e,t){return e??t}var Qw=(e,t,r,n,i,a,o)=>{if(!(t==null||a==null)){var{chartData:s,computedData:l,dataStartIndex:c,dataEndIndex:u}=r,d=[];return e.reduce((f,h)=>{var m,{dataDefinedOnItem:p,settings:g}=h,b=$D(p,s),x=Array.isArray(b)?N0(b,c,u):b,w=(m=g==null?void 0:g.dataKey)!==null&&m!==void 0?m:n,_=g==null?void 0:g.nameKey,S;if(n&&Array.isArray(x)&&!Array.isArray(x[0])&&o==="axis"?S=jj(x,n,i):S=a(x,t,l,_),Array.isArray(S))S.forEach(O=>{var k=mg(mg({},g),{},{name:O.name,unit:O.unit,color:void 0,fill:void 0});f.push(Qp({tooltipEntrySettings:k,dataKey:O.dataKey,payload:O.payload,value:et(O.payload,O.dataKey),name:O.name}))});else{var E;f.push(Qp({tooltipEntrySettings:g,dataKey:w,payload:S,value:et(S,w),name:(E=et(S,_))!==null&&E!==void 0?E:g==null?void 0:g.name}))}return f},d)}},vf=j([Me,ae,lw,Zd,ke],Tw),DD=j([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),MD=j([ke,ii],cw),da=j([DD,Me,MD],uw),ND=j([da],e=>e.filter(Ss)),LD=j([da],pw),li=j([LD,Ur],mw),BD=j([ND,Ur,Me],aw),yf=j([li,Me,da],gw),UD=j([Me],cf),FD=j([da],e=>e.filter(Ss)),zD=j([BD,FD,bs],yw),qD=j([zD,Ur,ke],bw),WD=j([da],fw),KD=j([li,Me,WD,Os,ke],ww),HD=j([_w,ke,ii],ai),VD=j([HD,ke],Ow),GD=j([Sw,ke,ii],ai),YD=j([GD,ke],Pw),JD=j([Ew,ke,ii],ai),XD=j([JD,ke],jw),ZD=j([VD,XD,YD],No),QD=j([Me,UD,qD,KD,ZD,ae,ke],kw),ex=j([Me,ae,li,yf,bs,ke,QD],Aw),eM=j([ex,Me,vf],Cw),tM=j([Me,ex,eM,ke],Rw),tx=e=>{var t=ke(e),r=ii(e),n=!1;return ca(e,t,r,n)},rx=j([Me,tx],ws),nx=j([Me,vf,tM,rx],df),rM=j([ae,yf,Me,ke],Bw),nM=j([ae,yf,Me,ke],Uw),iM=(e,t,r,n,i,a,o,s)=>{if(t){var{type:l}=t,c=hn(e,s);if(n){var u=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,d=l==="category"&&n.bandwidth?n.bandwidth()/u:0;return d=s==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?at(i[0]-i[1])*2*d:d,c&&o?o.map((f,h)=>({coordinate:n(f)+d,value:f,index:h,offset:d})):n.domain().map((f,h)=>({coordinate:n(f)+d,value:a?a[f]:f,index:h,offset:d}))}}},Er=j([ae,Me,vf,nx,tx,rM,nM,ke],iM),bf=j([zw,qw,vD],(e,t,r)=>Ww(r.shared,e,t)),ix=e=>e.tooltip.settings.trigger,wf=e=>e.tooltip.settings.defaultIndex,ks=j([si,bf,ix,wf],Jw),Hn=j([ks,li],gf),ax=j([Er,Hn],Kw),ox=j([ks],e=>{if(e)return e.dataKey}),sx=j([si,bf,ix,wf],Zw),aM=j([br,wr,ae,$e,Er,wf,sx,ua],Xw),oM=j([ks,aM],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),sM=j([ks],e=>e.active),lM=j([sx,Hn,Ur,iw,ax,ua,bf],Qw);j([lM],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function gg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function vg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gg(Object(r),!0).forEach(function(n){cM(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cM(e,t,r){return(t=uM(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uM(e){var t=dM(e,"string");return typeof t=="symbol"?t:t+""}function dM(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fM=()=>F(Me),hM=()=>{var e=fM(),t=F(Er),r=F(nx);return wd(vg(vg({},e),{},{scale:r}),t)},pM=()=>F(Zd),xf=(e,t)=>t,lx=(e,t,r)=>r,_f=(e,t,r,n)=>n,mM=j(Er,e=>rs(e,t=>t.coordinate)),Sf=j([si,xf,lx,_f],Jw),cx=j([Sf,li],gf),gM=(e,t,r)=>{if(t!=null){var n=si(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},ux=j([si,xf,lx,_f],Zw),Lo=j([br,wr,ae,$e,Er,_f,ux,ua],Xw),vM=j([Sf,Lo],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),dx=j(Er,cx,Kw),yM=j([ux,cx,Ur,iw,dx,ua,xf],Qw),bM=j([Sf],e=>({isActive:e.active,activeIndex:e.index})),wM=(e,t,r,n,i,a,o,s)=>{if(!(!e||!t||!n||!i||!a)){var l=GT(e.chartX,e.chartY,t,r,s);if(l){var c=JT(l,t),u=DT(c,o,a,n,i),d=YT(t,a,u,l);return{activeIndex:String(u),activeCoordinate:d}}}};function Pu(){return Pu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pu.apply(null,arguments)}function yg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function za(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yg(Object(r),!0).forEach(function(n){xM(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xM(e,t,r){return(t=_M(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _M(e){var t=SM(e,"string");return typeof t=="symbol"?t:t+""}function SM(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function EM(e){var{coordinate:t,payload:r,index:n,offset:i,tooltipAxisBandSize:a,layout:o,cursor:s,tooltipEventType:l,chartName:c}=e,u=t,d=r,f=n;if(!s||!u||c!=="ScatterChart"&&l!=="axis")return null;var h,m;if(c==="ScatterChart")h=u,m=zC;else if(c==="BarChart")h=qC(o,u,i,a),m=X0;else if(o==="radial"){var{cx:p,cy:g,radius:b,startAngle:x,endAngle:w}=Z0(u);h={cx:p,cy:g,startAngle:x,endAngle:w,innerRadius:b,outerRadius:b},m=eb}else h={points:_R(o,u,i)},m=IC;var _=typeof s=="object"&&"className"in s?s.className:void 0,S=za(za(za(za({stroke:"#ccc",pointerEvents:"none"},i),h),Fe(s,!1)),{},{payload:d,payloadIndex:f,className:fe("recharts-tooltip-cursor",_)});return y.isValidElement(s)?y.cloneElement(s,S):y.createElement(m,S)}function OM(e){var t=hM(),r=z0(),n=Sd(),i=pM();return y.createElement(EM,Pu({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:n,tooltipAxisBandSize:t,chartName:i}))}var fx=y.createContext(null),PM=()=>y.useContext(fx),cc={exports:{}},bg;function jM(){return bg||(bg=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function a(l,c,u,d,f){if(typeof u!="function")throw new TypeError("The listener must be a function");var h=new i(u,d||l,f),m=r?r+c:c;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],h]:l._events[m].push(h):(l._events[m]=h,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var c=[],u,d;if(this._eventsCount===0)return c;for(d in u=this._events)t.call(u,d)&&c.push(r?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},s.prototype.listeners=function(c){var u=r?r+c:c,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var f=0,h=d.length,m=new Array(h);f<h;f++)m[f]=d[f].fn;return m},s.prototype.listenerCount=function(c){var u=r?r+c:c,d=this._events[u];return d?d.fn?1:d.length:0},s.prototype.emit=function(c,u,d,f,h,m){var p=r?r+c:c;if(!this._events[p])return!1;var g=this._events[p],b=arguments.length,x,w;if(g.fn){switch(g.once&&this.removeListener(c,g.fn,void 0,!0),b){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,u),!0;case 3:return g.fn.call(g.context,u,d),!0;case 4:return g.fn.call(g.context,u,d,f),!0;case 5:return g.fn.call(g.context,u,d,f,h),!0;case 6:return g.fn.call(g.context,u,d,f,h,m),!0}for(w=1,x=new Array(b-1);w<b;w++)x[w-1]=arguments[w];g.fn.apply(g.context,x)}else{var _=g.length,S;for(w=0;w<_;w++)switch(g[w].once&&this.removeListener(c,g[w].fn,void 0,!0),b){case 1:g[w].fn.call(g[w].context);break;case 2:g[w].fn.call(g[w].context,u);break;case 3:g[w].fn.call(g[w].context,u,d);break;case 4:g[w].fn.call(g[w].context,u,d,f);break;default:if(!x)for(S=1,x=new Array(b-1);S<b;S++)x[S-1]=arguments[S];g[w].fn.apply(g[w].context,x)}}return!0},s.prototype.on=function(c,u,d){return a(this,c,u,d,!1)},s.prototype.once=function(c,u,d){return a(this,c,u,d,!0)},s.prototype.removeListener=function(c,u,d,f){var h=r?r+c:c;if(!this._events[h])return this;if(!u)return o(this,h),this;var m=this._events[h];if(m.fn)m.fn===u&&(!f||m.once)&&(!d||m.context===d)&&o(this,h);else{for(var p=0,g=[],b=m.length;p<b;p++)(m[p].fn!==u||f&&!m[p].once||d&&m[p].context!==d)&&g.push(m[p]);g.length?this._events[h]=g.length===1?g[0]:g:o(this,h)}return this},s.prototype.removeAllListeners=function(c){var u;return c?(u=r?r+c:c,this._events[u]&&o(this,u)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,e.exports=s})(cc)),cc.exports}var kM=jM();const AM=er(kM);var Vi=new AM,ju="recharts.syncEvent.tooltip",wg="recharts.syncEvent.brush";function TM(e,t){if(t){var r=Number.parseInt(t,10);if(!yt(r))return e==null?void 0:e[r]}}var CM={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},hx=_t({name:"options",initialState:CM,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),RM=hx.reducer,{createEventEmitter:IM}=hx.actions;function $M(e){return e.tooltip.syncInteraction}var DM={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},px=_t({name:"chartData",initialState:DM,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:xg,setDataStartEndIndexes:MM,setComputedData:hz}=px.actions,NM=px.reducer,LM=["x","y"];function _g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Wr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_g(Object(r),!0).forEach(function(n){BM(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_g(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BM(e,t,r){return(t=UM(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UM(e){var t=FM(e,"string");return typeof t=="symbol"?t:t+""}function FM(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zM(e,t){if(e==null)return{};var r,n,i=qM(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function qM(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var mx=()=>{};function WM(){var e=F(Qd),t=F(ef),r=Ie(),n=F(Zb),i=F(Er),a=Sd(),o=_d(),s=F(l=>l.rootProps.className);y.useEffect(()=>{if(e==null)return mx;var l=(c,u,d)=>{if(t!==d&&e===c){if(n==="index"){var f;if(o&&u!==null&&u!==void 0&&(f=u.payload)!==null&&f!==void 0&&f.coordinate){var h=u.payload.coordinate,{x:m,y:p}=h,g=zM(h,LM),b=Wr(Wr(Wr({},g),typeof m=="number"&&{x:Math.max(o.x,Math.min(m,o.x+o.width))}),typeof p=="number"&&{y:Math.max(o.y,Math.min(p,o.y+o.height))}),x=Wr(Wr({},u),{},{payload:Wr(Wr({},u.payload),{},{coordinate:b})});r(x)}else r(u);return}if(i!=null){var w;if(typeof n=="function"){var _={activeTooltipIndex:u.payload.index==null?void 0:Number(u.payload.index),isTooltipActive:u.payload.active,activeIndex:u.payload.index==null?void 0:Number(u.payload.index),activeLabel:u.payload.label,activeDataKey:u.payload.dataKey,activeCoordinate:u.payload.coordinate},S=n(i,_);w=i[S]}else n==="value"&&(w=i.find(B=>String(B.value)===u.payload.label));var{coordinate:E}=u.payload;if(w==null||u.payload.active===!1||E==null||o==null){r(Eu({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:O,y:k}=E,A=Math.min(O,o.x+o.width),D=Math.min(k,o.y+o.height),R={x:a==="horizontal"?w.coordinate:A,y:a==="horizontal"?D:w.coordinate},I=Eu({active:u.payload.active,coordinate:R,dataKey:u.payload.dataKey,index:String(w.index),label:u.payload.label});r(I)}}};return Vi.on(ju,l),()=>{Vi.off(ju,l)}},[s,r,t,e,n,i,a,o])}function KM(){var e=F(Qd),t=F(ef),r=Ie();y.useEffect(()=>{if(e==null)return mx;var n=(i,a,o)=>{t!==o&&e===i&&r(MM(a))};return Vi.on(wg,n),()=>{Vi.off(wg,n)}},[r,t,e])}function HM(){var e=Ie();y.useEffect(()=>{e(IM())},[e]),WM(),KM()}function VM(e,t,r,n,i,a){var o=F(f=>gM(f,e,t)),s=F(ef),l=F(Qd),c=F(Zb),u=F($M),d=u==null?void 0:u.active;y.useEffect(()=>{if(!d&&l!=null&&s!=null){var f=Eu({active:a,coordinate:r,dataKey:o,index:i,label:typeof n=="number"?String(n):n});Vi.emit(ju,l,f,s)}},[d,r,o,i,n,s,l,c,a])}function Sg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Eg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Sg(Object(r),!0).forEach(function(n){GM(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GM(e,t,r){return(t=YM(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YM(e){var t=JM(e,"string");return typeof t=="symbol"?t:t+""}function JM(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function XM(e){return e.dataKey}function ZM(e,t){return y.isValidElement(e)?y.cloneElement(e,t):typeof e=="function"?y.createElement(e,t):y.createElement(bC,t)}var Og=[],QM={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!ei.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function eN(e){var t=$t(e,QM),{active:r,allowEscapeViewBox:n,animationDuration:i,animationEasing:a,content:o,filterNull:s,isAnimationActive:l,offset:c,payloadUniqBy:u,position:d,reverseDirection:f,useTranslate3d:h,wrapperStyle:m,cursor:p,shared:g,trigger:b,defaultIndex:x,portal:w,axisId:_}=t,S=Ie(),E=typeof x=="number"?String(x):x;y.useEffect(()=>{S(xD({shared:g,trigger:b,axisId:_,active:r,defaultIndex:E}))},[S,g,b,_,r,E]);var O=_d(),k=H0(),A=gD(g),{activeIndex:D,isActive:R}=F(J=>bM(J,A,b,E)),I=F(J=>yM(J,A,b,E)),B=F(J=>dx(J,A,b,E)),L=F(J=>vM(J,A,b,E)),H=I,N=PM(),q=r??R,[Q,ee]=EA([H,q]),be=A==="axis"?B:void 0;VM(A,b,L,be,D,q);var me=w??N;if(me==null)return null;var z=H??Og;q||(z=Og),s&&z.length&&(z=Jk(H.filter(J=>J.value!=null&&(J.hide!==!0||t.includeHidden)),u,XM));var V=z.length>0,re=y.createElement(PC,{allowEscapeViewBox:n,animationDuration:i,animationEasing:a,isAnimationActive:l,active:q,coordinate:L,hasPayload:V,offset:c,position:d,reverseDirection:f,useTranslate3d:h,viewBox:O,wrapperStyle:m,lastBoundingBox:Q,innerRef:ee,hasPortalFromProps:!!w},ZM(o,Eg(Eg({},t),{},{payload:z,label:be,active:q,coordinate:L,accessibilityLayer:k})));return y.createElement(y.Fragment,null,ly.createPortal(re,me),q&&y.createElement(OM,{cursor:p,tooltipEventType:A,coordinate:L,payload:H,index:D}))}var uc={},dc={},fc={},Pg;function tN(){return Pg||(Pg=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:i,edges:a}={}){let o,s=null;const l=a!=null&&a.includes("leading"),c=a==null||a.includes("trailing"),u=()=>{s!==null&&(r.apply(o,s),o=void 0,s=null)},d=()=>{c&&u(),p()};let f=null;const h=()=>{f!=null&&clearTimeout(f),f=setTimeout(()=>{f=null,d()},n)},m=()=>{f!==null&&(clearTimeout(f),f=null)},p=()=>{m(),o=void 0,s=null},g=()=>{u()},b=function(...x){if(i!=null&&i.aborted)return;o=this,s=x;const w=f==null;h(),l&&w&&u()};return b.schedule=h,b.cancel=p,b.flush=g,i==null||i.addEventListener("abort",p,{once:!0}),b}e.debounce=t})(fc)),fc}var jg;function rN(){return jg||(jg=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tN();function r(n,i=0,a={}){typeof a!="object"&&(a={});const{leading:o=!1,trailing:s=!0,maxWait:l}=a,c=Array(2);o&&(c[0]="leading"),s&&(c[1]="trailing");let u,d=null;const f=t.debounce(function(...p){u=n.apply(this,p),d=null},i,{edges:c}),h=function(...p){return l!=null&&(d===null&&(d=Date.now()),Date.now()-d>=l)?(u=n.apply(this,p),d=Date.now(),f.cancel(),f.schedule(),u):(f.apply(this,p),u)},m=()=>(f.flush(),u);return h.cancel=f.cancel,h.flush=m,h}e.debounce=r})(dc)),dc}var kg;function nN(){return kg||(kg=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rN();function r(n,i=0,a={}){const{leading:o=!0,trailing:s=!0}=a;return t.debounce(n,i,{leading:o,maxWait:i,trailing:s})}e.throttle=r})(uc)),uc}var hc,Ag;function iN(){return Ag||(Ag=1,hc=nN().throttle),hc}var aN=iN();const oN=er(aN);var $i=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]};function Tg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function pc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Tg(Object(r),!0).forEach(function(n){sN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sN(e,t,r){return(t=lN(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lN(e){var t=cN(e,"string");return typeof t=="symbol"?t:t+""}function cN(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uN=y.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:i="100%",height:a="100%",minWidth:o=0,minHeight:s,maxHeight:l,children:c,debounce:u=0,id:d,className:f,onResize:h,style:m={}}=e,p=y.useRef(null),g=y.useRef();g.current=h,y.useImperativeHandle(t,()=>p.current);var[b,x]=y.useState({containerWidth:n.width,containerHeight:n.height}),w=y.useCallback((S,E)=>{x(O=>{var k=Math.round(S),A=Math.round(E);return O.containerWidth===k&&O.containerHeight===A?O:{containerWidth:k,containerHeight:A}})},[]);y.useEffect(()=>{var S=A=>{var D,{width:R,height:I}=A[0].contentRect;w(R,I),(D=g.current)===null||D===void 0||D.call(g,R,I)};u>0&&(S=oN(S,u,{trailing:!0,leading:!1}));var E=new ResizeObserver(S),{width:O,height:k}=p.current.getBoundingClientRect();return w(O,k),E.observe(p.current),()=>{E.disconnect()}},[w,u]);var _=y.useMemo(()=>{var{containerWidth:S,containerHeight:E}=b;if(S<0||E<0)return null;$i(Jr(i)||Jr(a),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,a),$i(!r||r>0,"The aspect(%s) must be greater than zero.",r);var O=Jr(i)?S:i,k=Jr(a)?E:a;return r&&r>0&&(O?k=O/r:k&&(O=k*r),l&&k>l&&(k=l)),$i(O>0||k>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,O,k,i,a,o,s,r),y.Children.map(c,A=>y.cloneElement(A,{width:O,height:k,style:pc({width:O,height:k},A.props.style)}))},[r,c,a,l,s,o,b,i]);return y.createElement("div",{id:d?"".concat(d):void 0,className:fe("recharts-responsive-container",f),style:pc(pc({},m),{},{width:i,height:a,minWidth:o,minHeight:s,maxHeight:l}),ref:p},y.createElement("div",{style:{width:0,height:0,overflow:"visible"}},_))}),gx=e=>null;gx.displayName="Cell";function dN(e,t,r){return(t=fN(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fN(e){var t=hN(e,"string");return typeof t=="symbol"?t:t+""}function hN(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class pN{constructor(t){dN(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function Cg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function mN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Cg(Object(r),!0).forEach(function(n){gN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gN(e,t,r){return(t=vN(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vN(e){var t=yN(e,"string");return typeof t=="symbol"?t:t+""}function yN(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bN={cacheSize:2e3,enableCache:!0},vx=mN({},bN),Rg=new pN(vx.cacheSize),wN={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Ig="recharts_measurement_span";function xN(e,t){var r=t.fontSize||"",n=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",o=t.letterSpacing||"",s=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(a,"|").concat(o,"|").concat(s)}var $g=(e,t)=>{try{var r=document.getElementById(Ig);r||(r=document.createElement("span"),r.setAttribute("id",Ig),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,wN,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Di=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||ei.isSsr)return{width:0,height:0};if(!vx.enableCache)return $g(t,r);var n=xN(t,r),i=Rg.get(n);if(i)return i;var a=$g(t,r);return Rg.set(n,a),a},Dg=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Mg=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,_N=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,SN=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,yx={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},EN=Object.keys(yx),In="NaN";function ON(e,t){return e*yx[t]}class it{static parse(t){var r,[,n,i]=(r=SN.exec(t))!==null&&r!==void 0?r:[];return new it(parseFloat(n),i??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,yt(t)&&(this.unit=""),r!==""&&!_N.test(r)&&(this.num=NaN,this.unit=""),EN.includes(r)&&(this.num=ON(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new it(NaN,""):new it(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new it(NaN,""):new it(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new it(NaN,""):new it(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new it(NaN,""):new it(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return yt(this.num)}}function bx(e){if(e.includes(In))return In;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,i,a]=(r=Dg.exec(t))!==null&&r!==void 0?r:[],o=it.parse(n??""),s=it.parse(a??""),l=i==="*"?o.multiply(s):o.divide(s);if(l.isNaN())return In;t=t.replace(Dg,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var c,[,u,d,f]=(c=Mg.exec(t))!==null&&c!==void 0?c:[],h=it.parse(u??""),m=it.parse(f??""),p=d==="+"?h.add(m):h.subtract(m);if(p.isNaN())return In;t=t.replace(Mg,p.toString())}return t}var Ng=/\(([^()]*)\)/;function PN(e){for(var t=e,r;(r=Ng.exec(t))!=null;){var[,n]=r;t=t.replace(Ng,bx(n))}return t}function jN(e){var t=e.replace(/\s+/g,"");return t=PN(t),t=bx(t),t}function kN(e){try{return jN(e)}catch{return In}}function mc(e){var t=kN(e.slice(5,-1));return t===In?"":t}var AN=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],TN=["dx","dy","angle","className","breakAll"];function ku(){return ku=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ku.apply(null,arguments)}function Lg(e,t){if(e==null)return{};var r,n,i=CN(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function CN(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var wx=/[ \f\n\r\t\v\u2028\u2029]+/,xx=e=>{var{children:t,breakAll:r,style:n}=e;try{var i=[];Re(t)||(r?i=t.toString().split(""):i=t.toString().split(wx));var a=i.map(s=>({word:s,width:Di(s,n).width})),o=r?0:Di(" ",n).width;return{wordsWithComputedWidth:a,spaceWidth:o}}catch{return null}},RN=(e,t,r,n,i)=>{var{maxLines:a,children:o,style:s,breakAll:l}=e,c=U(a),u=o,d=function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return R.reduce((I,B)=>{var{word:L,width:H}=B,N=I[I.length-1];if(N&&(n==null||i||N.width+H+r<Number(n)))N.words.push(L),N.width+=H+r;else{var q={words:[L],width:H};I.push(q)}return I},[])},f=d(t),h=D=>D.reduce((R,I)=>R.width>I.width?R:I);if(!c||i)return f;var m=f.length>a||h(f).width>Number(n);if(!m)return f;for(var p="…",g=D=>{var R=u.slice(0,D),I=xx({breakAll:l,style:s,children:R+p}).wordsWithComputedWidth,B=d(I),L=B.length>a||h(B).width>Number(n);return[L,B]},b=0,x=u.length-1,w=0,_;b<=x&&w<=u.length-1;){var S=Math.floor((b+x)/2),E=S-1,[O,k]=g(E),[A]=g(S);if(!O&&!A&&(b=S+1),O&&A&&(x=S-1),!O&&A){_=k;break}w++}return _||f},Bg=e=>{var t=Re(e)?[]:e.toString().split(wx);return[{words:t}]},IN=e=>{var{width:t,scaleToFit:r,children:n,style:i,breakAll:a,maxLines:o}=e;if((t||r)&&!ei.isSsr){var s,l,c=xx({breakAll:a,children:n,style:i});if(c){var{wordsWithComputedWidth:u,spaceWidth:d}=c;s=u,l=d}else return Bg(n);return RN({breakAll:a,children:n,maxLines:o,style:i},s,l,t,r)}return Bg(n)},Ug="#808080",Ef=y.forwardRef((e,t)=>{var{x:r=0,y:n=0,lineHeight:i="1em",capHeight:a="0.71em",scaleToFit:o=!1,textAnchor:s="start",verticalAnchor:l="end",fill:c=Ug}=e,u=Lg(e,AN),d=y.useMemo(()=>IN({breakAll:u.breakAll,children:u.children,maxLines:u.maxLines,scaleToFit:o,style:u.style,width:u.width}),[u.breakAll,u.children,u.maxLines,o,u.style,u.width]),{dx:f,dy:h,angle:m,className:p,breakAll:g}=u,b=Lg(u,TN);if(!Zt(r)||!Zt(n)||d.length===0)return null;var x=r+(U(f)?f:0),w=n+(U(h)?h:0),_;switch(l){case"start":_=mc("calc(".concat(a,")"));break;case"middle":_=mc("calc(".concat((d.length-1)/2," * -").concat(i," + (").concat(a," / 2))"));break;default:_=mc("calc(".concat(d.length-1," * -").concat(i,")"));break}var S=[];if(o){var E=d[0].width,{width:O}=u;S.push("scale(".concat(U(O)?O/E:1,")"))}return m&&S.push("rotate(".concat(m,", ").concat(x,", ").concat(w,")")),S.length&&(b.transform=S.join(" ")),y.createElement("text",ku({},Fe(b,!0),{ref:t,x,y:w,className:fe("recharts-text",p),textAnchor:s,fill:c.includes("url")?Ug:c}),d.map((k,A)=>{var D=k.words.join(g?"":" ");return y.createElement("tspan",{x,dy:A===0?_:i,key:"".concat(D,"-").concat(A)},D)}))});Ef.displayName="Text";var $N=["labelRef"];function DN(e,t){if(e==null)return{};var r,n,i=MN(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function MN(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Fg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function we(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fg(Object(r),!0).forEach(function(n){NN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NN(e,t,r){return(t=LN(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LN(e){var t=BN(e,"string");return typeof t=="symbol"?t:t+""}function BN(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lr(){return lr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lr.apply(null,arguments)}var _x=y.createContext(null),UN=e=>{var{x:t,y:r,width:n,height:i,children:a}=e,o=y.useMemo(()=>({x:t,y:r,width:n,height:i}),[t,r,n,i]);return y.createElement(_x.Provider,{value:o},a)},Sx=()=>{var e=y.useContext(_x),t=_d();return e||t},FN=y.createContext(null),zN=()=>{var e=y.useContext(FN),t=F(nw);return e||t},qN=e=>{var{value:t,formatter:r}=e,n=Re(e.children)?t:e.children;return typeof r=="function"?r(n):n},Of=e=>e!=null&&typeof e=="function",WN=(e,t)=>{var r=at(t-e),n=Math.min(Math.abs(t-e),360);return r*n},KN=(e,t,r,n,i)=>{var{offset:a,className:o}=e,{cx:s,cy:l,innerRadius:c,outerRadius:u,startAngle:d,endAngle:f,clockWise:h}=i,m=(c+u)/2,p=WN(d,f),g=p>=0?1:-1,b,x;switch(t){case"insideStart":b=d+g*a,x=h;break;case"insideEnd":b=f-g*a,x=!h;break;case"end":b=f+g*a,x=h;break;default:throw new Error("Unsupported position ".concat(t))}x=p<=0?x:!x;var w=Ue(s,l,m,b),_=Ue(s,l,m,b+(x?1:-1)*359),S="M".concat(w.x,",").concat(w.y,`
    A`).concat(m,",").concat(m,",0,1,").concat(x?0:1,`,
    `).concat(_.x,",").concat(_.y),E=Re(e.id)?Li("recharts-radial-line-"):e.id;return y.createElement("text",lr({},n,{dominantBaseline:"central",className:fe("recharts-radial-bar-label",o)}),y.createElement("defs",null,y.createElement("path",{id:E,d:S})),y.createElement("textPath",{xlinkHref:"#".concat(E)},r))},HN=(e,t,r)=>{var{cx:n,cy:i,innerRadius:a,outerRadius:o,startAngle:s,endAngle:l}=e,c=(s+l)/2;if(r==="outside"){var{x:u,y:d}=Ue(n,i,o+t,c);return{x:u,y:d,textAnchor:u>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var f=(a+o)/2,{x:h,y:m}=Ue(n,i,f,c);return{x:h,y:m,textAnchor:"middle",verticalAnchor:"middle"}},Ex=e=>"cx"in e&&U(e.cx),VN=(e,t)=>{var{parentViewBox:r,offset:n,position:i}=e,a;r!=null&&!Ex(r)&&(a=r);var{x:o,y:s,width:l,height:c}=t,u=c>=0?1:-1,d=u*n,f=u>0?"end":"start",h=u>0?"start":"end",m=l>=0?1:-1,p=m*n,g=m>0?"end":"start",b=m>0?"start":"end";if(i==="top"){var x={x:o+l/2,y:s-u*n,textAnchor:"middle",verticalAnchor:f};return we(we({},x),a?{height:Math.max(s-a.y,0),width:l}:{})}if(i==="bottom"){var w={x:o+l/2,y:s+c+d,textAnchor:"middle",verticalAnchor:h};return we(we({},w),a?{height:Math.max(a.y+a.height-(s+c),0),width:l}:{})}if(i==="left"){var _={x:o-p,y:s+c/2,textAnchor:g,verticalAnchor:"middle"};return we(we({},_),a?{width:Math.max(_.x-a.x,0),height:c}:{})}if(i==="right"){var S={x:o+l+p,y:s+c/2,textAnchor:b,verticalAnchor:"middle"};return we(we({},S),a?{width:Math.max(a.x+a.width-S.x,0),height:c}:{})}var E=a?{width:l,height:c}:{};return i==="insideLeft"?we({x:o+p,y:s+c/2,textAnchor:b,verticalAnchor:"middle"},E):i==="insideRight"?we({x:o+l-p,y:s+c/2,textAnchor:g,verticalAnchor:"middle"},E):i==="insideTop"?we({x:o+l/2,y:s+d,textAnchor:"middle",verticalAnchor:h},E):i==="insideBottom"?we({x:o+l/2,y:s+c-d,textAnchor:"middle",verticalAnchor:f},E):i==="insideTopLeft"?we({x:o+p,y:s+d,textAnchor:b,verticalAnchor:h},E):i==="insideTopRight"?we({x:o+l-p,y:s+d,textAnchor:g,verticalAnchor:h},E):i==="insideBottomLeft"?we({x:o+p,y:s+c-d,textAnchor:b,verticalAnchor:f},E):i==="insideBottomRight"?we({x:o+l-p,y:s+c-d,textAnchor:g,verticalAnchor:f},E):i&&typeof i=="object"&&(U(i.x)||Jr(i.x))&&(U(i.y)||Jr(i.y))?we({x:o+Ft(i.x,l),y:s+Ft(i.y,c),textAnchor:"end",verticalAnchor:"end"},E):we({x:o+l/2,y:s+c/2,textAnchor:"middle",verticalAnchor:"middle"},E)},GN={offset:5};function Tr(e){var t=$t(e,GN),{viewBox:r,position:n,value:i,children:a,content:o,className:s="",textBreakAll:l,labelRef:c}=t,u=zN(),d=Sx(),f=n==="center"?d:u??d,h=r||f;if(!h||Re(i)&&Re(a)&&!y.isValidElement(o)&&typeof o!="function")return null;var m=we(we({},t),{},{viewBox:h});if(y.isValidElement(o)){var{labelRef:p}=m,g=DN(m,$N);return y.cloneElement(o,g)}var b;if(typeof o=="function"){if(b=y.createElement(o,m),y.isValidElement(b))return b}else b=qN(t);var x=Ex(h),w=Fe(t,!0);if(x&&(n==="insideStart"||n==="insideEnd"||n==="end"))return KN(t,n,b,w,h);var _=x?HN(h,t.offset,t.position):VN(t,h);return y.createElement(Ef,lr({ref:c,className:fe("recharts-label",s)},w,_,{breakAll:l}),b)}Tr.displayName="Label";var YN=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?y.createElement(Tr,lr({key:"label-implicit"},n)):Zt(e)?y.createElement(Tr,lr({key:"label-implicit",value:e},n)):y.isValidElement(e)?e.type===Tr?y.cloneElement(e,we({key:"label-implicit"},n)):y.createElement(Tr,lr({key:"label-implicit",content:e},n)):Of(e)?y.createElement(Tr,lr({key:"label-implicit",content:e},n)):e&&typeof e=="object"?y.createElement(Tr,lr({},e,{key:"label-implicit"},n)):null};function JN(e){var{label:t}=e,r=Sx();return YN(t,r)||null}var gc={},vc={},zg;function XN(){return zg||(zg=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(vc)),vc}var yc={},qg;function ZN(){return qg||(qg=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(yc)),yc}var Wg;function QN(){return Wg||(Wg=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=XN(),r=ZN(),n=fd();function i(a){if(n.isArrayLike(a))return t.last(r.toArray(a))}e.last=i})(gc)),gc}var bc,Kg;function eL(){return Kg||(Kg=1,bc=QN().last),bc}var tL=eL();const rL=er(tL);var nL=["valueAccessor"],iL=["dataKey","clockWise","id","textBreakAll"];function Bo(){return Bo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bo.apply(null,arguments)}function Hg(e,t){if(e==null)return{};var r,n,i=aL(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function aL(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var oL=e=>Array.isArray(e.value)?rL(e.value):e.value,Ox=y.createContext(void 0),sL=Ox.Provider,Px=y.createContext(void 0);Px.Provider;function lL(){return y.useContext(Ox)}function cL(){return y.useContext(Px)}function Qa(e){var{valueAccessor:t=oL}=e,r=Hg(e,nL),{dataKey:n,clockWise:i,id:a,textBreakAll:o}=r,s=Hg(r,iL),l=lL(),c=cL(),u=l||c;return!u||!u.length?null:y.createElement(Dr,{className:"recharts-label-list"},u.map((d,f)=>{var h,m=Re(n)?t(d,f):et(d&&d.payload,n),p=Re(a)?{}:{id:"".concat(a,"-").concat(f)};return y.createElement(Tr,Bo({},Fe(d,!0),s,p,{fill:(h=r.fill)!==null&&h!==void 0?h:d.fill,parentViewBox:d.parentViewBox,value:m,textBreakAll:o,viewBox:d.viewBox,key:"label-".concat(f),index:f}))}))}Qa.displayName="LabelList";function uL(e){var{label:t}=e;return t?t===!0?y.createElement(Qa,{key:"labelList-implicit"}):y.isValidElement(t)||Of(t)?y.createElement(Qa,{key:"labelList-implicit",content:t}):typeof t=="object"?y.createElement(Qa,Bo({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}var dL={radiusAxis:{},angleAxis:{}},jx=_t({name:"polarAxis",initialState:dL,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:pz,removeRadiusAxis:mz,addAngleAxis:gz,removeAngleAxis:vz}=jx.actions,fL=jx.reducer,wc={},Vg;function hL(){return Vg||(Vg=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var i;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const a=r[Symbol.toStringTag];return a==null||!((i=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&i.writable)?!1:r.toString()===`[object ${a}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(wc)),wc}var xc,Gg;function pL(){return Gg||(Gg=1,xc=hL().isPlainObject),xc}var mL=pL();const gL=er(mL);function Yg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Jg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Yg(Object(r),!0).forEach(function(n){vL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vL(e,t,r){return(t=yL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yL(e){var t=bL(e,"string");return typeof t=="symbol"?t:t+""}function bL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Uo(){return Uo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Uo.apply(null,arguments)}var Xg=(e,t,r,n,i)=>{var a=r-n,o;return o="M ".concat(e,",").concat(t),o+="L ".concat(e+r,",").concat(t),o+="L ".concat(e+r-a/2,",").concat(t+i),o+="L ".concat(e+r-a/2-n,",").concat(t+i),o+="L ".concat(e,",").concat(t," Z"),o},wL={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},xL=e=>{var t=$t(e,wL),{x:r,y:n,upperWidth:i,lowerWidth:a,height:o,className:s}=t,{animationEasing:l,animationDuration:c,animationBegin:u,isUpdateAnimationActive:d}=t,f=y.useRef(),[h,m]=y.useState(-1),p=y.useRef(i),g=y.useRef(a),b=y.useRef(o),x=y.useRef(r),w=y.useRef(n),_=Od(e,"trapezoid-");if(y.useEffect(()=>{if(f.current&&f.current.getTotalLength)try{var L=f.current.getTotalLength();L&&m(L)}catch{}},[]),r!==+r||n!==+n||i!==+i||a!==+a||o!==+o||i===0&&a===0||o===0)return null;var S=fe("recharts-trapezoid",s);if(!d)return y.createElement("g",null,y.createElement("path",Uo({},Fe(t,!0),{className:S,d:Xg(r,n,i,a,o)})));var E=p.current,O=g.current,k=b.current,A=x.current,D=w.current,R="0px ".concat(h===-1?1:h,"px"),I="".concat(h,"px 0px"),B=V0(["strokeDasharray"],c,l);return y.createElement(Ed,{animationId:_,key:_,canBegin:h>0,duration:c,easing:l,isActive:d,begin:u},L=>{var H=Je(E,i,L),N=Je(O,a,L),q=Je(k,o,L),Q=Je(A,r,L),ee=Je(D,n,L);f.current&&(p.current=H,g.current=N,b.current=q,x.current=Q,w.current=ee);var be=L>0?{transition:B,strokeDasharray:I}:{strokeDasharray:R};return y.createElement("path",Uo({},Fe(t,!0),{className:S,d:Xg(Q,ee,H,N,q),ref:f,style:Jg(Jg({},be),t.style)}))})},_L=["option","shapeType","propTransformer","activeClassName","isActive"];function SL(e,t){if(e==null)return{};var r,n,i=EL(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function EL(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Zg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Fo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Zg(Object(r),!0).forEach(function(n){OL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OL(e,t,r){return(t=PL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PL(e){var t=jL(e,"string");return typeof t=="symbol"?t:t+""}function jL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kL(e,t){return Fo(Fo({},t),e)}function AL(e,t){return e==="symbols"}function Qg(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return y.createElement(X0,r);case"trapezoid":return y.createElement(xL,r);case"sector":return y.createElement(eb,r);case"symbols":if(AL(t))return y.createElement(e0,r);break;default:return null}}function TL(e){return y.isValidElement(e)?e.props:e}function CL(e){var{option:t,shapeType:r,propTransformer:n=kL,activeClassName:i="recharts-active-shape",isActive:a}=e,o=SL(e,_L),s;if(y.isValidElement(t))s=y.cloneElement(t,Fo(Fo({},o),TL(t)));else if(typeof t=="function")s=t(o);else if(gL(t)&&typeof t!="boolean"){var l=n(t,o);s=y.createElement(Qg,{shapeType:r,elementProps:l})}else{var c=o;s=y.createElement(Qg,{shapeType:r,elementProps:c})}return a?y.createElement(Dr,{className:i},s):s}var kx=(e,t)=>{var r=Ie();return(n,i)=>a=>{e==null||e(n,i,a),r(Vw({activeIndex:String(i),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}},Ax=e=>{var t=Ie();return(r,n)=>i=>{e==null||e(r,n,i),t(_D())}},Tx=(e,t)=>{var r=Ie();return(n,i)=>a=>{e==null||e(n,i,a),r(SD({activeIndex:String(i),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}};function RL(e){var{fn:t,args:r}=e,n=Ie(),i=It();return y.useEffect(()=>{if(!i){var a=t(r);return n(bD(a)),()=>{n(wD(a))}}},[t,r,n,i]),null}var IL=()=>{};function $L(e){var{legendPayload:t}=e,r=Ie(),n=It();return y.useEffect(()=>n?IL:(r(fC(t)),()=>{r(hC(t))}),[r,n,t]),null}var _c,DL=()=>{var[e]=y.useState(()=>Li("uid-"));return e},ML=(_c=F_.useId)!==null&&_c!==void 0?_c:DL;function NL(e,t){var r=ML();return t||(e?"".concat(e,"-").concat(r):r)}var LL=y.createContext(void 0),BL=e=>{var{id:t,type:r,children:n}=e,i=NL("recharts-".concat(r),t);return y.createElement(LL.Provider,{value:i},n(i))},UL={cartesianItems:[],polarItems:[]},Cx=_t({name:"graphicalItems",initialState:UL,reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:r,next:n}=t.payload,i=fr(e).cartesianItems.indexOf(r);i>-1&&(e.cartesianItems[i]=n)},removeCartesianGraphicalItem(e,t){var r=fr(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var r=fr(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)}}}),{addCartesianGraphicalItem:FL,replaceCartesianGraphicalItem:zL,removeCartesianGraphicalItem:qL,addPolarGraphicalItem:yz,removePolarGraphicalItem:bz}=Cx.actions,WL=Cx.reducer;function KL(e){var t=Ie(),r=y.useRef(null);return y.useEffect(()=>{r.current===null?t(FL(e)):r.current!==e&&t(zL({prev:r.current,next:e})),r.current=e},[t,e]),y.useEffect(()=>()=>{r.current&&(t(qL(r.current)),r.current=null)},[t]),null}function ev(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function tv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ev(Object(r),!0).forEach(function(n){HL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ev(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HL(e,t,r){return(t=VL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VL(e){var t=GL(e,"string");return typeof t=="symbol"?t:t+""}function GL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var YL={xAxis:{},yAxis:{},zAxis:{}},Rx=_t({name:"cartesianAxis",initialState:YL,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload;e.yAxis[r]&&(e.yAxis[r]=tv(tv({},e.yAxis[r]),{},{width:n}))}}}),{addXAxis:JL,removeXAxis:XL,addYAxis:ZL,removeYAxis:QL,addZAxis:wz,removeZAxis:xz,updateYAxisWidth:eB}=Rx.actions,tB=Rx.reducer,rB=j([$e],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),nB=j([rB,br,wr],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),Ix=()=>F(nB),iB="Invariant failed";function aB(e,t){throw new Error(iB)}var oB=["x","y"];function Au(){return Au=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Au.apply(null,arguments)}function rv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Si(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rv(Object(r),!0).forEach(function(n){sB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sB(e,t,r){return(t=lB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lB(e){var t=cB(e,"string");return typeof t=="symbol"?t:t+""}function cB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uB(e,t){if(e==null)return{};var r,n,i=dB(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function dB(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function fB(e,t){var{x:r,y:n}=e,i=uB(e,oB),a="".concat(r),o=parseInt(a,10),s="".concat(n),l=parseInt(s,10),c="".concat(t.height||i.height),u=parseInt(c,10),d="".concat(t.width||i.width),f=parseInt(d,10);return Si(Si(Si(Si(Si({},t),i),o?{x:o}:{}),l?{y:l}:{}),{},{height:u,width:f,name:t.name,radius:t.radius})}function Pf(e){return y.createElement(CL,Au({shapeType:"rectangle",propTransformer:fB,activeClassName:"recharts-active-bar"},e))}var hB=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,i)=>{if(U(t))return t;var a=U(n)||Re(n);return a?t(n,i):(a||aB(),r)}},pB={},$x=_t({name:"errorBars",initialState:pB,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:i}=t.payload;e[r]&&(e[r]=e[r].map(a=>a.dataKey===n.dataKey&&a.direction===n.direction?i:a))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(i=>i.dataKey!==n.dataKey||i.direction!==n.direction))}}}),{addErrorBar:_z,replaceErrorBar:Sz,removeErrorBar:Ez}=$x.actions,mB=$x.reducer,gB=["children"];function vB(e,t){if(e==null)return{};var r,n,i=yB(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function yB(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var bB={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},wB=y.createContext(bB);function xB(e){var{children:t}=e,r=vB(e,gB);return y.createElement(wB.Provider,{value:r},t)}function Dx(e,t){var r,n,i=F(c=>_r(c,e)),a=F(c=>Sr(c,t)),o=(r=i==null?void 0:i.allowDataOverflow)!==null&&r!==void 0?r:ht.allowDataOverflow,s=(n=a==null?void 0:a.allowDataOverflow)!==null&&n!==void 0?n:pt.allowDataOverflow,l=o||s;return{needClip:l,needClipX:o,needClipY:s}}function _B(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,i=Ix(),{needClipX:a,needClipY:o,needClip:s}=Dx(t,r);if(!s)return null;var{x:l,y:c,width:u,height:d}=i;return y.createElement("clipPath",{id:"clipPath-".concat(n)},y.createElement("rect",{x:a?l:l-u/2,y:o?c:c-d/2,width:a?u:u*2,height:o?d:d*2}))}var SB=["onMouseEnter","onMouseLeave","onClick"],EB=["value","background","tooltipPosition"],OB=["id"],PB=["onMouseEnter","onClick","onMouseLeave"];function Mr(){return Mr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mr.apply(null,arguments)}function nv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Xe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nv(Object(r),!0).forEach(function(n){jB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jB(e,t,r){return(t=kB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kB(e){var t=AB(e,"string");return typeof t=="symbol"?t:t+""}function AB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zo(e,t){if(e==null)return{};var r,n,i=TB(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function TB(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var CB=e=>{var{dataKey:t,name:r,fill:n,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:n,value:U0(r,t),payload:e}]};function RB(e){var{dataKey:t,stroke:r,strokeWidth:n,fill:i,name:a,hide:o,unit:s}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:i,dataKey:t,nameKey:void 0,name:U0(a,t),hide:o,type:e.tooltipType,color:e.fill,unit:s}}}function IB(e){var t=F(Hn),{data:r,dataKey:n,background:i,allOtherBarProps:a}=e,{onMouseEnter:o,onMouseLeave:s,onClick:l}=a,c=zo(a,SB),u=kx(o,n),d=Ax(s),f=Tx(l,n);if(!i||r==null)return null;var h=Fe(i,!1);return y.createElement(y.Fragment,null,r.map((m,p)=>{var{value:g,background:b,tooltipPosition:x}=m,w=zo(m,EB);if(!b)return null;var _=u(m,p),S=d(m,p),E=f(m,p),O=Xe(Xe(Xe(Xe(Xe({option:i,isActive:String(p)===t},w),{},{fill:"#eee"},b),h),ld(c,m,p)),{},{onMouseEnter:_,onMouseLeave:S,onClick:E,dataKey:n,index:p,className:"recharts-bar-background-rectangle"});return y.createElement(Pf,Mr({key:"background-bar-".concat(O.index)},O))}))}function $B(e){var{showLabels:t,children:r,rects:n}=e,i=n==null?void 0:n.map(a=>{var o={x:a.x,y:a.y,width:a.width,height:a.height};return Xe(Xe({},o),{},{value:a.value,payload:a.payload,parentViewBox:a.parentViewBox,viewBox:o,fill:a.fill})});return y.createElement(sL,{value:t?i:void 0},r)}function DB(e){var{shape:t,activeBar:r,baseProps:n,entry:i,index:a,dataKey:o}=e,s=F(Hn),l=F(ox),c=r&&String(a)===s&&(l==null||o===l),u=c?r:t;return y.createElement(Pf,Mr({},n,i,{isActive:c,option:u,index:a,dataKey:o}))}function MB(e){var{shape:t,baseProps:r,entry:n,index:i,dataKey:a}=e;return y.createElement(Pf,Mr({},r,n,{isActive:!1,option:t,index:i,dataKey:a}))}function NB(e){var{data:t,props:r}=e,n=Qn(r),{id:i}=n,a=zo(n,OB),{shape:o,dataKey:s,activeBar:l}=r,{onMouseEnter:c,onClick:u,onMouseLeave:d}=r,f=zo(r,PB),h=kx(c,s),m=Ax(d),p=Tx(u,s);return t?y.createElement(y.Fragment,null,t.map((g,b)=>y.createElement(Dr,Mr({className:"recharts-bar-rectangle"},ld(f,g,b),{onMouseEnter:h(g,b),onMouseLeave:m(g,b),onClick:p(g,b),key:"rectangle-".concat(g==null?void 0:g.x,"-").concat(g==null?void 0:g.y,"-").concat(g==null?void 0:g.value,"-").concat(b)}),l?y.createElement(DB,{shape:o,activeBar:l,baseProps:a,entry:g,index:b,dataKey:s}):y.createElement(MB,{shape:o,baseProps:a,entry:g,index:b,dataKey:s})))):null}function LB(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:i,isAnimationActive:a,animationBegin:o,animationDuration:s,animationEasing:l,onAnimationEnd:c,onAnimationStart:u}=t,d=r.current,f=Od(t,"recharts-bar-"),[h,m]=y.useState(!1),p=!h,g=y.useCallback(()=>{typeof c=="function"&&c(),m(!1)},[c]),b=y.useCallback(()=>{typeof u=="function"&&u(),m(!0)},[u]);return y.createElement($B,{showLabels:p,rects:n},y.createElement(Ed,{animationId:f,begin:o,duration:s,isActive:a,easing:l,onAnimationEnd:g,onAnimationStart:b,key:f},x=>{var w=x===1?n:n==null?void 0:n.map((_,S)=>{var E=d&&d[S];if(E)return Xe(Xe({},_),{},{x:Je(E.x,_.x,x),y:Je(E.y,_.y,x),width:Je(E.width,_.width,x),height:Je(E.height,_.height,x)});if(i==="horizontal"){var O=Je(0,_.height,x);return Xe(Xe({},_),{},{y:_.y+_.height-O,height:O})}var k=Je(0,_.width,x);return Xe(Xe({},_),{},{width:k})});return x>0&&(r.current=w??null),w==null?null:y.createElement(Dr,null,y.createElement(NB,{props:t,data:w}))}),y.createElement(uL,{label:t.label}),t.children)}function BB(e){var t=y.useRef(null);return y.createElement(LB,{previousRectanglesRef:t,props:e})}var Mx=0,UB=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:et(e,t)}};class FB extends y.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:i,xAxisId:a,yAxisId:o,needClip:s,background:l,id:c}=this.props;if(t||r==null)return null;var u=fe("recharts-bar",i),d=c;return y.createElement(Dr,{className:u,id:c},s&&y.createElement("defs",null,y.createElement(_B,{clipPathId:d,xAxisId:a,yAxisId:o})),y.createElement(Dr,{className:"recharts-bar-rectangles",clipPath:s?"url(#clipPath-".concat(d,")"):void 0},y.createElement(IB,{data:r,dataKey:n,background:l,allOtherBarProps:this.props}),y.createElement(BB,this.props)))}}var zB={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!ei.isSsr,legendType:"rect",minPointSize:Mx,xAxisId:0,yAxisId:0};function qB(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:a,activeBar:o,animationBegin:s,animationDuration:l,animationEasing:c,isAnimationActive:u}=e,{needClip:d}=Dx(t,r),f=Sd(),h=It(),m=Ij(e.children,gx),p=F(x=>v4(x,t,r,h,e.id,m));if(f!=="vertical"&&f!=="horizontal")return null;var g,b=p==null?void 0:p[0];return b==null||b.height==null||b.width==null?g=0:g=f==="vertical"?b.height/2:b.width/2,y.createElement(xB,{xAxisId:t,yAxisId:r,data:p,dataPointFormatter:UB,errorBarOffset:g},y.createElement(FB,Mr({},e,{layout:f,needClip:d,data:p,xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:a,activeBar:o,animationBegin:s,animationDuration:l,animationEasing:c,isAnimationActive:u})))}function WB(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:i,bandSize:a,xAxis:o,yAxis:s,xAxisTicks:l,yAxisTicks:c,stackedData:u,displayedData:d,offset:f,cells:h,parentViewBox:m}=e,p=t==="horizontal"?s:o,g=u?p.scale.domain():null,b=WT({numericAxis:p});return d.map((x,w)=>{var _,S,E,O,k,A;u?_=LT(u[w],g):(_=et(x,r),Array.isArray(_)||(_=[b,_]));var D=hB(n,Mx)(_[1],w);if(t==="horizontal"){var R,[I,B]=[s.scale(_[0]),s.scale(_[1])];S=Jp({axis:o,ticks:l,bandSize:a,offset:i.offset,entry:x,index:w}),E=(R=B??I)!==null&&R!==void 0?R:void 0,O=i.size;var L=I-B;if(k=yt(L)?0:L,A={x:S,y:f.top,width:O,height:f.height},Math.abs(D)>0&&Math.abs(k)<Math.abs(D)){var H=at(k||D)*(Math.abs(D)-Math.abs(k));E-=H,k+=H}}else{var[N,q]=[o.scale(_[0]),o.scale(_[1])];if(S=N,E=Jp({axis:s,ticks:c,bandSize:a,offset:i.offset,entry:x,index:w}),O=q-N,k=i.size,A={x:f.left,y:E,width:f.width,height:k},Math.abs(D)>0&&Math.abs(O)<Math.abs(D)){var Q=at(O||D)*(Math.abs(D)-Math.abs(O));O+=Q}}if(S==null||E==null||O==null||k==null)return null;var ee=Xe(Xe({},x),{},{x:S,y:E,width:O,height:k,value:u?_:_[1],payload:x,background:A,tooltipPosition:{x:S+O/2,y:E+k/2},parentViewBox:m},h&&h[w]&&h[w].props);return ee}).filter(Boolean)}function KB(e){var t=$t(e,zB),r=It();return y.createElement(BL,{id:t.id,type:"bar"},n=>y.createElement(y.Fragment,null,y.createElement($L,{legendPayload:CB(t)}),y.createElement(RL,{fn:RB,args:t}),y.createElement(KL,{type:"bar",id:n,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:qT(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),y.createElement(qB,Mr({},t,{id:n}))))}var Tu=y.memo(KB);Tu.displayName="Bar";function iv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function qa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iv(Object(r),!0).forEach(function(n){HB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HB(e,t,r){return(t=VB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VB(e){var t=GB(e,"string");return typeof t=="symbol"?t:t+""}function GB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var YB=(e,t)=>t,JB=(e,t,r)=>r,XB=(e,t,r,n)=>n,ZB=(e,t,r,n,i)=>i,fa=j([sf,ZB],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),QB=j([fa],e=>e==null?void 0:e.maxBarSize),e4=(e,t,r,n,i,a)=>a,av=(e,t,r)=>{var n=r??e;if(!Re(n))return Ft(n,t,0)},t4=j([ae,sf,YB,JB,XB],(e,t,r,n,i)=>t.filter(a=>e==="horizontal"?a.xAxisId===r:a.yAxisId===n).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),r4=(e,t,r,n)=>{var i=ae(e);return i==="horizontal"?Su(e,"yAxis",r,n):Su(e,"xAxis",t,n)},n4=(e,t,r)=>{var n=ae(e);return n==="horizontal"?dg(e,"xAxis",t):dg(e,"yAxis",r)},i4=(e,t,r)=>{var n={},i=e.filter(Ss),a=e.filter(c=>c.stackId==null),o=i.reduce((c,u)=>(c[u.stackId]||(c[u.stackId]=[]),c[u.stackId].push(u),c),n),s=Object.entries(o).map(c=>{var[u,d]=c,f=d.map(m=>m.dataKey),h=av(t,r,d[0].barSize);return{stackId:u,dataKeys:f,barSize:h}}),l=a.map(c=>{var u=[c.dataKey].filter(f=>f!=null),d=av(t,r,c.barSize);return{stackId:void 0,dataKeys:u,barSize:d}});return[...s,...l]},a4=j([t4,v$,n4],i4),o4=(e,t,r,n,i)=>{var a,o,s=fa(e,t,r,n,i);if(s!=null){var l=ae(e),c=Jb(e),{maxBarSize:u}=s,d=Re(u)?c:u,f,h;return l==="horizontal"?(f=Kn(e,"xAxis",t,n),h=Wn(e,"xAxis",t,n)):(f=Kn(e,"yAxis",r,n),h=Wn(e,"yAxis",r,n)),(a=(o=wd(f,h,!0))!==null&&o!==void 0?o:d)!==null&&a!==void 0?a:0}},Nx=(e,t,r,n)=>{var i=ae(e),a,o;return i==="horizontal"?(a=Kn(e,"xAxis",t,n),o=Wn(e,"xAxis",t,n)):(a=Kn(e,"yAxis",r,n),o=Wn(e,"yAxis",r,n)),wd(a,o)};function s4(e,t,r,n,i){var a=n.length;if(!(a<1)){var o=Ft(e,r,0,!0),s,l=[];if(wt(n[0].barSize)){var c=!1,u=r/a,d=n.reduce((b,x)=>b+(x.barSize||0),0);d+=(a-1)*o,d>=r&&(d-=(a-1)*o,o=0),d>=r&&u>0&&(c=!0,u*=.9,d=a*u);var f=(r-d)/2>>0,h={offset:f-o,size:0};s=n.reduce((b,x)=>{var w,_={stackId:x.stackId,dataKeys:x.dataKeys,position:{offset:h.offset+h.size+o,size:c?u:(w=x.barSize)!==null&&w!==void 0?w:0}},S=[...b,_];return h=S[S.length-1].position,S},l)}else{var m=Ft(t,r,0,!0);r-2*m-(a-1)*o<=0&&(o=0);var p=(r-2*m-(a-1)*o)/a;p>1&&(p>>=0);var g=wt(i)?Math.min(p,i):p;s=n.reduce((b,x,w)=>[...b,{stackId:x.stackId,dataKeys:x.dataKeys,position:{offset:m+(p+o)*w+(p-g)/2,size:g}}],l)}return s}}var l4=(e,t,r,n,i,a,o)=>{var s=Re(o)?t:o,l=s4(r,n,i!==a?i:a,e,s);return i!==a&&l!=null&&(l=l.map(c=>qa(qa({},c),{},{position:qa(qa({},c.position),{},{offset:c.position.offset-i/2})}))),l},c4=j([a4,Jb,g$,Xb,o4,Nx,QB],l4),u4=(e,t,r,n)=>Kn(e,"xAxis",t,n),d4=(e,t,r,n)=>Kn(e,"yAxis",r,n),f4=(e,t,r,n)=>Wn(e,"xAxis",t,n),h4=(e,t,r,n)=>Wn(e,"yAxis",r,n),p4=j([c4,fa],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),m4=(e,t)=>{var r=af(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var i=e[n];if(i){var{stackedData:a}=i;if(a)return a.find(o=>o.key===r)}}}},g4=j([r4,fa],m4),v4=j([$e,xd,u4,d4,f4,h4,p4,ae,Yd,Nx,g4,fa,e4],(e,t,r,n,i,a,o,s,l,c,u,d,f)=>{var{chartData:h,dataStartIndex:m,dataEndIndex:p}=l;if(!(d==null||o==null||t==null||s!=="horizontal"&&s!=="vertical"||r==null||n==null||i==null||a==null||c==null)){var{data:g}=d,b;if(g!=null&&g.length>0?b=g:b=h==null?void 0:h.slice(m,p+1),b!=null)return WB({layout:s,barSettings:d,pos:o,parentViewBox:t,bandSize:c,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:a,stackedData:u,displayedData:b,offset:e,cells:f})}}),y4=e=>{var{chartData:t}=e,r=Ie(),n=It();return y.useEffect(()=>n?()=>{}:(r(xg(t)),()=>{r(xg(void 0))}),[t,r,n]),null},ov={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},Lx=_t({name:"brush",initialState:ov,reducers:{setBrushSettings(e,t){return t.payload==null?ov:t.payload}}}),{setBrushSettings:Oz}=Lx.actions,b4=Lx.reducer;function w4(e,t,r){return(t=x4(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function x4(e){var t=_4(e,"string");return typeof t=="symbol"?t:t+""}function _4(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class jf{static create(t){return new jf(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(t)+a}default:return this.scale(t)}if(r){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],i=r[r.length-1];return n<=i?t>=n&&t<=i:t>=i&&t<=n}}w4(jf,"EPS",1e-4);function S4(e){return(e%180+180)%180}var E4=function(t){var{width:r,height:n}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=S4(i),o=a*Math.PI/180,s=Math.atan(n/r),l=o>s&&o<Math.PI-s?n/Math.sin(o):r/Math.cos(o);return Math.abs(l)},O4={dots:[],areas:[],lines:[]},Bx=_t({name:"referenceElements",initialState:O4,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=fr(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=fr(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=fr(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:Pz,removeDot:jz,addArea:kz,removeArea:Az,addLine:Tz,removeLine:Cz}=Bx.actions,P4=Bx.reducer,j4=y.createContext(void 0),k4=e=>{var{children:t}=e,[r]=y.useState("".concat(Li("recharts"),"-clip")),n=Ix();if(n==null)return null;var{x:i,y:a,width:o,height:s}=n;return y.createElement(j4.Provider,{value:r},y.createElement("defs",null,y.createElement("clipPath",{id:r},y.createElement("rect",{x:i,y:a,height:s,width:o}))),t)};function Vn(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function Ux(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],i=0;i<e.length;i+=t)n.push(e[i]);return n}function A4(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return E4(n,r)}function T4(e,t,r){var n=r==="width",{x:i,y:a,width:o,height:s}=e;return t===1?{start:n?i:a,end:n?i+o:a+s}:{start:n?i+o:a+s,end:n?i:a}}function qo(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var a=r();return e*(t-e*a/2-n)>=0&&e*(t+e*a/2-i)<=0}function C4(e,t){return Ux(e,t+1)}function R4(e,t,r,n,i){for(var a=(n||[]).slice(),{start:o,end:s}=t,l=0,c=1,u=o,d=function(){var m=n==null?void 0:n[l];if(m===void 0)return{v:Ux(n,c)};var p=l,g,b=()=>(g===void 0&&(g=r(m,p)),g),x=m.coordinate,w=l===0||qo(e,x,b,u,s);w||(l=0,u=o,c+=1),w&&(u=x+e*(b()/2+i),l+=c)},f;c<=a.length;)if(f=d(),f)return f.v;return[]}function sv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ke(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sv(Object(r),!0).forEach(function(n){I4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function I4(e,t,r){return(t=$4(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $4(e){var t=D4(e,"string");return typeof t=="symbol"?t:t+""}function D4(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function M4(e,t,r,n,i){for(var a=(n||[]).slice(),o=a.length,{start:s}=t,{end:l}=t,c=function(f){var h=a[f],m,p=()=>(m===void 0&&(m=r(h,f)),m);if(f===o-1){var g=e*(h.coordinate+e*p()/2-l);a[f]=h=Ke(Ke({},h),{},{tickCoord:g>0?h.coordinate-g*e:h.coordinate})}else a[f]=h=Ke(Ke({},h),{},{tickCoord:h.coordinate});var b=qo(e,h.tickCoord,p,s,l);b&&(l=h.tickCoord-e*(p()/2+i),a[f]=Ke(Ke({},h),{},{isShow:!0}))},u=o-1;u>=0;u--)c(u);return a}function N4(e,t,r,n,i,a){var o=(n||[]).slice(),s=o.length,{start:l,end:c}=t;if(a){var u=n[s-1],d=r(u,s-1),f=e*(u.coordinate+e*d/2-c);o[s-1]=u=Ke(Ke({},u),{},{tickCoord:f>0?u.coordinate-f*e:u.coordinate});var h=qo(e,u.tickCoord,()=>d,l,c);h&&(c=u.tickCoord-e*(d/2+i),o[s-1]=Ke(Ke({},u),{},{isShow:!0}))}for(var m=a?s-1:s,p=function(x){var w=o[x],_,S=()=>(_===void 0&&(_=r(w,x)),_);if(x===0){var E=e*(w.coordinate-e*S()/2-l);o[x]=w=Ke(Ke({},w),{},{tickCoord:E<0?w.coordinate-E*e:w.coordinate})}else o[x]=w=Ke(Ke({},w),{},{tickCoord:w.coordinate});var O=qo(e,w.tickCoord,S,l,c);O&&(l=w.tickCoord+e*(S()/2+i),o[x]=Ke(Ke({},w),{},{isShow:!0}))},g=0;g<m;g++)p(g);return o}function kf(e,t,r){var{tick:n,ticks:i,viewBox:a,minTickGap:o,orientation:s,interval:l,tickFormatter:c,unit:u,angle:d}=e;if(!i||!i.length||!n)return[];if(U(l)||ei.isSsr){var f;return(f=C4(i,U(l)?l:0))!==null&&f!==void 0?f:[]}var h=[],m=s==="top"||s==="bottom"?"width":"height",p=u&&m==="width"?Di(u,{fontSize:t,letterSpacing:r}):{width:0,height:0},g=(w,_)=>{var S=typeof c=="function"?c(w.value,_):w.value;return m==="width"?A4(Di(S,{fontSize:t,letterSpacing:r}),p,d):Di(S,{fontSize:t,letterSpacing:r})[m]},b=i.length>=2?at(i[1].coordinate-i[0].coordinate):1,x=T4(a,b,m);return l==="equidistantPreserveStart"?R4(b,x,g,i,o):(l==="preserveStart"||l==="preserveStartEnd"?h=N4(b,x,g,i,o,l==="preserveStartEnd"):h=M4(b,x,g,i,o),h.filter(w=>w.isShow))}var L4=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:a=0}=e,o=0;if(t){t.forEach(u=>{if(u){var d=u.getBoundingClientRect();d.width>o&&(o=d.width)}});var s=r?r.getBoundingClientRect().width:0,l=i+a,c=o+l+s+(r?n:0);return Math.round(c)}return 0},B4=["axisLine","width","height","className","hide","ticks"],U4=["viewBox"],F4=["viewBox"];function Cu(e,t){if(e==null)return{};var r,n,i=z4(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function z4(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function un(){return un=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},un.apply(null,arguments)}function lv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Pe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lv(Object(r),!0).forEach(function(n){q4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function q4(e,t,r){return(t=W4(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function W4(e){var t=K4(e,"string");return typeof t=="symbol"?t:t+""}function K4(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Af={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function H4(e){var{x:t,y:r,width:n,height:i,orientation:a,mirror:o,axisLine:s,otherSvgProps:l}=e;if(!s)return null;var c=Pe(Pe(Pe({},l),Fe(s,!1)),{},{fill:"none"});if(a==="top"||a==="bottom"){var u=+(a==="top"&&!o||a==="bottom"&&o);c=Pe(Pe({},c),{},{x1:t,y1:r+u*i,x2:t+n,y2:r+u*i})}else{var d=+(a==="left"&&!o||a==="right"&&o);c=Pe(Pe({},c),{},{x1:t+d*n,y1:r,x2:t+d*n,y2:r+i})}return y.createElement("line",un({},c,{className:fe("recharts-cartesian-axis-line",Nn(s,"className"))}))}function V4(e,t,r,n,i,a,o,s,l){var c,u,d,f,h,m,p=s?-1:1,g=e.tickSize||o,b=U(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":c=u=e.coordinate,f=r+ +!s*i,d=f-p*g,m=d-p*l,h=b;break;case"left":d=f=e.coordinate,u=t+ +!s*n,c=u-p*g,h=c-p*l,m=b;break;case"right":d=f=e.coordinate,u=t+ +s*n,c=u+p*g,h=c+p*l,m=b;break;default:c=u=e.coordinate,f=r+ +s*i,d=f+p*g,m=d+p*l,h=b;break}return{line:{x1:c,y1:d,x2:u,y2:f},tick:{x:h,y:m}}}function G4(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function Y4(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function J4(e){var{option:t,tickProps:r,value:n}=e,i,a=fe(r.className,"recharts-cartesian-axis-tick-value");if(y.isValidElement(t))i=y.cloneElement(t,Pe(Pe({},r),{},{className:a}));else if(typeof t=="function")i=t(Pe(Pe({},r),{},{className:a}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=fe(o,t==null?void 0:t.className)),i=y.createElement(Ef,un({},r,{className:o}),n)}return i}function X4(e){var{ticks:t=[],tick:r,tickLine:n,stroke:i,tickFormatter:a,unit:o,padding:s,tickTextProps:l,orientation:c,mirror:u,x:d,y:f,width:h,height:m,tickSize:p,tickMargin:g,fontSize:b,letterSpacing:x,getTicksConfig:w,events:_}=e,S=kf(Pe(Pe({},w),{},{ticks:t}),b,x),E=G4(c,u),O=Y4(c,u),k=Qn(w),A=Fe(r,!1),D=Pe(Pe({},k),{},{fill:"none"},Fe(n,!1)),R=S.map((I,B)=>{var{line:L,tick:H}=V4(I,d,f,h,m,c,p,u,g),N=Pe(Pe(Pe(Pe({textAnchor:E,verticalAnchor:O},k),{},{stroke:"none",fill:i},A),H),{},{index:B,payload:I,visibleTicksCount:S.length,tickFormatter:a,padding:s},l);return y.createElement(Dr,un({className:"recharts-cartesian-axis-tick",key:"tick-".concat(I.value,"-").concat(I.coordinate,"-").concat(I.tickCoord)},ld(_,I,B)),n&&y.createElement("line",un({},D,L,{className:fe("recharts-cartesian-axis-tick-line",Nn(n,"className"))})),r&&y.createElement(J4,{option:r,tickProps:N,value:"".concat(typeof a=="function"?a(I.value,B):I.value).concat(o||"")}))});return R.length>0?y.createElement("g",{className:"recharts-cartesian-axis-ticks"},R):null}var Z4=y.forwardRef((e,t)=>{var{axisLine:r,width:n,height:i,className:a,hide:o,ticks:s}=e,l=Cu(e,B4),[c,u]=y.useState(""),[d,f]=y.useState(""),h=y.useRef([]);y.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var p;return L4({ticks:h.current,label:(p=e.labelRef)===null||p===void 0?void 0:p.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var m=y.useCallback(p=>{if(p){var g=p.getElementsByClassName("recharts-cartesian-axis-tick-value");h.current=Array.from(g);var b=g[0];if(b){var x=window.getComputedStyle(b),w=x.fontSize,_=x.letterSpacing;(w!==c||_!==d)&&(u(w),f(_))}}},[c,d]);return o||n!=null&&n<=0||i!=null&&i<=0?null:y.createElement(Dr,{className:fe("recharts-cartesian-axis",a),ref:m},y.createElement(H4,{x:e.x,y:e.y,width:n,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:Qn(e)}),y.createElement(X4,{ticks:s,tick:e.tick,tickLine:e.tickLine,stroke:e.stroke,tickFormatter:e.tickFormatter,unit:e.unit,padding:e.padding,tickTextProps:e.tickTextProps,orientation:e.orientation,mirror:e.mirror,x:e.x,y:e.y,width:e.width,height:e.height,tickSize:e.tickSize,tickMargin:e.tickMargin,fontSize:c,letterSpacing:d,getTicksConfig:e,events:l}),y.createElement(UN,{x:e.x,y:e.y,width:e.width,height:e.height},y.createElement(JN,{label:e.label}),e.children))}),Q4=y.memo(Z4,(e,t)=>{var{viewBox:r}=e,n=Cu(e,U4),{viewBox:i}=t,a=Cu(t,F4);return Vn(r,i)&&Vn(n,a)}),Tf=y.forwardRef((e,t)=>{var r=$t(e,Af);return y.createElement(Q4,un({},r,{ref:t}))});Tf.displayName="CartesianAxis";var e5=["x1","y1","x2","y2","key"],t5=["offset"],r5=["xAxisId","yAxisId"],n5=["xAxisId","yAxisId"];function cv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ve(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cv(Object(r),!0).forEach(function(n){i5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function i5(e,t,r){return(t=a5(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a5(e){var t=o5(e,"string");return typeof t=="symbol"?t:t+""}function o5(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qr(){return Qr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qr.apply(null,arguments)}function Wo(e,t){if(e==null)return{};var r,n,i=s5(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function s5(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var l5=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:i,width:a,height:o,ry:s}=e;return y.createElement("rect",{x:n,y:i,ry:s,width:a,height:o,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function Fx(e,t){var r;if(y.isValidElement(e))r=y.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var{x1:n,y1:i,x2:a,y2:o,key:s}=t,l=Wo(t,e5),c=Qn(l),{offset:u}=c,d=Wo(c,t5);r=y.createElement("line",Qr({},d,{x1:n,y1:i,x2:a,y2:o,fill:"none",key:s}))}return r}function c5(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=e,s=Wo(e,r5),l=i.map((c,u)=>{var d=Ve(Ve({},s),{},{x1:t,y1:c,x2:t+r,y2:c,key:"line-".concat(u),index:u});return Fx(n,d)});return y.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function u5(e){var{y:t,height:r,vertical:n=!0,verticalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=e,s=Wo(e,n5),l=i.map((c,u)=>{var d=Ve(Ve({},s),{},{x1:c,y1:t,x2:c,y2:t+r,key:"line-".concat(u),index:u});return Fx(n,d)});return y.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function d5(e){var{horizontalFill:t,fillOpacity:r,x:n,y:i,width:a,height:o,horizontalPoints:s,horizontal:l=!0}=e;if(!l||!t||!t.length)return null;var c=s.map(d=>Math.round(d+i-i)).sort((d,f)=>d-f);i!==c[0]&&c.unshift(0);var u=c.map((d,f)=>{var h=!c[f+1],m=h?i+o-d:c[f+1]-d;if(m<=0)return null;var p=f%t.length;return y.createElement("rect",{key:"react-".concat(f),y:d,x:n,height:m,width:a,stroke:"none",fill:t[p],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return y.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},u)}function f5(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:i,y:a,width:o,height:s,verticalPoints:l}=e;if(!t||!r||!r.length)return null;var c=l.map(d=>Math.round(d+i-i)).sort((d,f)=>d-f);i!==c[0]&&c.unshift(0);var u=c.map((d,f)=>{var h=!c[f+1],m=h?i+o-d:c[f+1]-d;if(m<=0)return null;var p=f%r.length;return y.createElement("rect",{key:"react-".concat(f),x:d,y:a,width:m,height:s,stroke:"none",fill:r[p],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return y.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},u)}var h5=(e,t)=>{var{xAxis:r,width:n,height:i,offset:a}=e;return L0(kf(Ve(Ve(Ve({},Af),r),{},{ticks:B0(r),viewBox:{x:0,y:0,width:n,height:i}})),a.left,a.left+a.width,t)},p5=(e,t)=>{var{yAxis:r,width:n,height:i,offset:a}=e;return L0(kf(Ve(Ve(Ve({},Af),r),{},{ticks:B0(r),viewBox:{x:0,y:0,width:n,height:i}})),a.top,a.top+a.height,t)},m5={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function zx(e){var t=q0(),r=W0(),n=z0(),i=Ve(Ve({},$t(e,m5)),{},{x:U(e.x)?e.x:n.left,y:U(e.y)?e.y:n.top,width:U(e.width)?e.width:n.width,height:U(e.height)?e.height:n.height}),{xAxisId:a,yAxisId:o,x:s,y:l,width:c,height:u,syncWithTicks:d,horizontalValues:f,verticalValues:h}=i,m=It(),p=F(A=>fg(A,"xAxis",a,m)),g=F(A=>fg(A,"yAxis",o,m));if(!U(c)||c<=0||!U(u)||u<=0||!U(s)||s!==+s||!U(l)||l!==+l)return null;var b=i.verticalCoordinatesGenerator||h5,x=i.horizontalCoordinatesGenerator||p5,{horizontalPoints:w,verticalPoints:_}=i;if((!w||!w.length)&&typeof x=="function"){var S=f&&f.length,E=x({yAxis:g?Ve(Ve({},g),{},{ticks:S?f:g.ticks}):void 0,width:t,height:r,offset:n},S?!0:d);$i(Array.isArray(E),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof E,"]")),Array.isArray(E)&&(w=E)}if((!_||!_.length)&&typeof b=="function"){var O=h&&h.length,k=b({xAxis:p?Ve(Ve({},p),{},{ticks:O?h:p.ticks}):void 0,width:t,height:r,offset:n},O?!0:d);$i(Array.isArray(k),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof k,"]")),Array.isArray(k)&&(_=k)}return y.createElement("g",{className:"recharts-cartesian-grid"},y.createElement(l5,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),y.createElement(d5,Qr({},i,{horizontalPoints:w})),y.createElement(f5,Qr({},i,{verticalPoints:_})),y.createElement(c5,Qr({},i,{offset:n,horizontalPoints:w,xAxis:p,yAxis:g})),y.createElement(u5,Qr({},i,{offset:n,verticalPoints:_,xAxis:p,yAxis:g})))}zx.displayName="CartesianGrid";var g5=["dangerouslySetInnerHTML","ticks"],v5=["id"],y5=["domain"],b5=["domain"];function Ru(){return Ru=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ru.apply(null,arguments)}function Ko(e,t){if(e==null)return{};var r,n,i=w5(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function w5(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function x5(e){var t=Ie();return y.useEffect(()=>(t(JL(e)),()=>{t(XL(e))}),[e,t]),null}var _5=e=>{var{xAxisId:t,className:r}=e,n=F(xd),i=It(),a="xAxis",o=F(g=>oi(g,a,t,i)),s=F(g=>Fw(g,a,t,i)),l=F(g=>Nw(g,t)),c=F(g=>cD(g,t)),u=F(g=>ow(g,t));if(l==null||c==null||u==null)return null;var{dangerouslySetInnerHTML:d,ticks:f}=e,h=Ko(e,g5),{id:m}=u,p=Ko(u,v5);return y.createElement(Tf,Ru({},h,p,{scale:o,x:c.x,y:c.y,width:l.width,height:l.height,className:fe("recharts-".concat(a," ").concat(a),r),viewBox:n,ticks:s}))},S5={allowDataOverflow:ht.allowDataOverflow,allowDecimals:ht.allowDecimals,allowDuplicatedCategory:ht.allowDuplicatedCategory,height:ht.height,hide:!1,mirror:ht.mirror,orientation:ht.orientation,padding:ht.padding,reversed:ht.reversed,scale:ht.scale,tickCount:ht.tickCount,type:ht.type,xAxisId:0},E5=e=>{var t,r,n,i,a,o=$t(e,S5);return y.createElement(y.Fragment,null,y.createElement(x5,{interval:(t=o.interval)!==null&&t!==void 0?t:"preserveEnd",id:o.xAxisId,scale:o.scale,type:o.type,padding:o.padding,allowDataOverflow:o.allowDataOverflow,domain:o.domain,dataKey:o.dataKey,allowDuplicatedCategory:o.allowDuplicatedCategory,allowDecimals:o.allowDecimals,tickCount:o.tickCount,includeHidden:(r=o.includeHidden)!==null&&r!==void 0?r:!1,reversed:o.reversed,ticks:o.ticks,height:o.height,orientation:o.orientation,mirror:o.mirror,hide:o.hide,unit:o.unit,name:o.name,angle:(n=o.angle)!==null&&n!==void 0?n:0,minTickGap:(i=o.minTickGap)!==null&&i!==void 0?i:5,tick:(a=o.tick)!==null&&a!==void 0?a:!0,tickFormatter:o.tickFormatter}),y.createElement(_5,o))},O5=(e,t)=>{var{domain:r}=e,n=Ko(e,y5),{domain:i}=t,a=Ko(t,b5);return Vn(n,a)?Array.isArray(r)&&r.length===2&&Array.isArray(i)&&i.length===2?r[0]===i[0]&&r[1]===i[1]:Vn({domain:r},{domain:i}):!1},qx=y.memo(E5,O5);qx.displayName="XAxis";var P5=["dangerouslySetInnerHTML","ticks"],j5=["id"],k5=["domain"],A5=["domain"];function Iu(){return Iu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Iu.apply(null,arguments)}function Ho(e,t){if(e==null)return{};var r,n,i=T5(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function T5(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function C5(e){var t=Ie();return y.useEffect(()=>(t(ZL(e)),()=>{t(QL(e))}),[e,t]),null}var R5=e=>{var{yAxisId:t,className:r,width:n,label:i}=e,a=y.useRef(null),o=y.useRef(null),s=F(xd),l=It(),c=Ie(),u="yAxis",d=F(S=>oi(S,u,t,l)),f=F(S=>Lw(S,t)),h=F(S=>dD(S,t)),m=F(S=>Fw(S,u,t,l)),p=F(S=>sw(S,t));if(y.useLayoutEffect(()=>{if(!(n!=="auto"||!f||Of(i)||y.isValidElement(i)||p==null)){var S=a.current;if(S){var E=S.getCalculatedWidth();Math.round(f.width)!==Math.round(E)&&c(eB({id:t,width:E}))}}},[m,f,c,i,t,n,p]),f==null||h==null||p==null)return null;var{dangerouslySetInnerHTML:g,ticks:b}=e,x=Ho(e,P5),{id:w}=p,_=Ho(p,j5);return y.createElement(Tf,Iu({},x,_,{ref:a,labelRef:o,scale:d,x:h.x,y:h.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:f.width,height:f.height,className:fe("recharts-".concat(u," ").concat(u),r),viewBox:s,ticks:m}))},I5={allowDataOverflow:pt.allowDataOverflow,allowDecimals:pt.allowDecimals,allowDuplicatedCategory:pt.allowDuplicatedCategory,hide:!1,mirror:pt.mirror,orientation:pt.orientation,padding:pt.padding,reversed:pt.reversed,scale:pt.scale,tickCount:pt.tickCount,type:pt.type,width:pt.width,yAxisId:0},$5=e=>{var t,r,n,i,a,o=$t(e,I5);return y.createElement(y.Fragment,null,y.createElement(C5,{interval:(t=o.interval)!==null&&t!==void 0?t:"preserveEnd",id:o.yAxisId,scale:o.scale,type:o.type,domain:o.domain,allowDataOverflow:o.allowDataOverflow,dataKey:o.dataKey,allowDuplicatedCategory:o.allowDuplicatedCategory,allowDecimals:o.allowDecimals,tickCount:o.tickCount,padding:o.padding,includeHidden:(r=o.includeHidden)!==null&&r!==void 0?r:!1,reversed:o.reversed,ticks:o.ticks,width:o.width,orientation:o.orientation,mirror:o.mirror,hide:o.hide,unit:o.unit,name:o.name,angle:(n=o.angle)!==null&&n!==void 0?n:0,minTickGap:(i=o.minTickGap)!==null&&i!==void 0?i:5,tick:(a=o.tick)!==null&&a!==void 0?a:!0,tickFormatter:o.tickFormatter}),y.createElement(R5,o))},D5=(e,t)=>{var{domain:r}=e,n=Ho(e,k5),{domain:i}=t,a=Ho(t,A5);return Vn(n,a)?Array.isArray(r)&&r.length===2&&Array.isArray(i)&&i.length===2?r[0]===i[0]&&r[1]===i[1]:Vn({domain:r},{domain:i}):!1},Wx=y.memo($5,D5);Wx.displayName="YAxis";var Sc={exports:{}},Ec={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uv;function M5(){if(uv)return Ec;uv=1;var e=qu();function t(l,c){return l===c&&(l!==0||1/l===1/c)||l!==l&&c!==c}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,i=e.useRef,a=e.useEffect,o=e.useMemo,s=e.useDebugValue;return Ec.useSyncExternalStoreWithSelector=function(l,c,u,d,f){var h=i(null);if(h.current===null){var m={hasValue:!1,value:null};h.current=m}else m=h.current;h=o(function(){function g(S){if(!b){if(b=!0,x=S,S=d(S),f!==void 0&&m.hasValue){var E=m.value;if(f(E,S))return w=E}return w=S}if(E=w,r(x,S))return E;var O=d(S);return f!==void 0&&f(E,O)?(x=S,E):(x=S,w=O)}var b=!1,x,w,_=u===void 0?null:u;return[function(){return g(c())},_===null?void 0:function(){return g(_())}]},[c,u,d,f]);var p=n(l,h[0],h[1]);return a(function(){m.hasValue=!0,m.value=p},[p]),s(p),p},Ec}var dv;function N5(){return dv||(dv=1,Sc.exports=M5()),Sc.exports}N5();function L5(e){e()}function B5(){let e=null,t=null;return{clear(){e=null,t=null},notify(){L5(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=t={callback:r,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!n||e===null||(n=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var fv={notify(){},get:()=>[]};function U5(e,t){let r,n=fv,i=0,a=!1;function o(p){u();const g=n.subscribe(p);let b=!1;return()=>{b||(b=!0,g(),d())}}function s(){n.notify()}function l(){m.onStateChange&&m.onStateChange()}function c(){return a}function u(){i++,r||(r=e.subscribe(l),n=B5())}function d(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=fv)}function f(){a||(a=!0,u())}function h(){a&&(a=!1,d())}const m={addNestedSub:o,notifyNestedSubs:s,handleChangeWrapper:l,isSubscribed:c,trySubscribe:f,tryUnsubscribe:h,getListeners:()=>n};return m}var F5=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",z5=F5(),q5=()=>typeof navigator<"u"&&navigator.product==="ReactNative",W5=q5(),K5=()=>z5||W5?y.useLayoutEffect:y.useEffect,H5=K5(),Oc=Symbol.for("react-redux-context"),Pc=typeof globalThis<"u"?globalThis:{};function V5(){if(!y.createContext)return{};const e=Pc[Oc]??(Pc[Oc]=new Map);let t=e.get(y.createContext);return t||(t=y.createContext(null),e.set(y.createContext,t)),t}var G5=V5();function Y5(e){const{children:t,context:r,serverState:n,store:i}=e,a=y.useMemo(()=>{const l=U5(i);return{store:i,subscription:l,getServerState:n?()=>n:void 0}},[i,n]),o=y.useMemo(()=>i.getState(),[i]);H5(()=>{const{subscription:l}=a;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),o!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[a,o]);const s=r||G5;return y.createElement(s.Provider,{value:a},t)}var J5=Y5,X5=(e,t)=>t,Cf=j([X5,ae,nw,ke,rx,Er,mM,$e],wM),Rf=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},Kx=Ct("mouseClick"),Hx=ea();Hx.startListening({actionCreator:Kx,effect:(e,t)=>{var r=e.payload,n=Cf(t.getState(),Rf(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(ED({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var $u=Ct("mouseMove"),Vx=ea();Vx.startListening({actionCreator:$u,effect:(e,t)=>{var r=e.payload,n=t.getState(),i=mf(n,n.tooltip.settings.shared),a=Cf(n,Rf(r));i==="axis"&&((a==null?void 0:a.activeIndex)!=null?t.dispatch(Yw({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):t.dispatch(Gw()))}});var hv={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},Gx=_t({name:"rootProps",initialState:hv,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:hv.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),Z5=Gx.reducer,{updateOptions:Q5}=Gx.actions,Yx=_t({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:Rz}=Yx.actions,eU=Yx.reducer,Jx=Ct("keyDown"),Xx=Ct("focus"),If=ea();If.startListening({actionCreator:Jx,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var o=Number(gf(i,li(r))),s=Er(r);if(a==="Enter"){var l=Lo(r,"axis","hover",String(i.index));t.dispatch(Ou({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:l}));return}var c=mD(r),u=c==="left-to-right"?1:-1,d=a==="ArrowRight"?1:-1,f=o+d*u;if(!(s==null||f>=s.length||f<0)){var h=Lo(r,"axis","hover",String(f));t.dispatch(Ou({active:!0,activeIndex:f.toString(),activeDataKey:void 0,activeCoordinate:h}))}}}}});If.startListening({actionCreator:Xx,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var a="0",o=Lo(r,"axis","hover",String(a));t.dispatch(Ou({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:o}))}}}});var jt=Ct("externalEvent"),Zx=ea();Zx.startListening({actionCreator:jt,effect:(e,t)=>{if(e.payload.handler!=null){var r=t.getState(),n={activeCoordinate:oM(r),activeDataKey:ox(r),activeIndex:Hn(r),activeLabel:ax(r),activeTooltipIndex:Hn(r),isTooltipActive:sM(r)};e.payload.handler(n,e.payload.reactEvent)}}});var tU=j([si],e=>e.tooltipItemPayloads),rU=j([tU,ua,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var i=e.find(s=>s.settings.dataKey===n);if(i!=null){var{positions:a}=i;if(a!=null){var o=t(a,r);return o}}}),Qx=Ct("touchMove"),e_=ea();e_.startListening({actionCreator:Qx,effect:(e,t)=>{var r=e.payload,n=t.getState(),i=mf(n,n.tooltip.settings.shared);if(i==="axis"){var a=Cf(n,Rf({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(a==null?void 0:a.activeIndex)!=null&&t.dispatch(Yw({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var o,s=r.touches[0],l=document.elementFromPoint(s.clientX,s.clientY);if(!l||!l.getAttribute)return;var c=l.getAttribute(ZT),u=(o=l.getAttribute(QT))!==null&&o!==void 0?o:void 0,d=rU(t.getState(),c,u);t.dispatch(Vw({activeDataKey:u,activeIndex:c,activeCoordinate:d}))}}});var nU=p0({brush:b4,cartesianAxis:tB,chartData:NM,errorBars:mB,graphicalItems:WL,layout:xT,legend:pC,options:RM,polarAxis:fL,polarOptions:eU,referenceElements:P4,rootProps:Z5,tooltip:OD}),iU=function(t){return HA({reducer:nU,preloadedState:t,middleware:r=>r({serializableCheck:!1}).concat([Hx.middleware,Vx.middleware,If.middleware,Zx.middleware,e_.middleware]),devTools:ei.devToolsEnabled})};function aU(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,i=It(),a=y.useRef(null);if(i)return r;a.current==null&&(a.current=iU(t));var o=pd;return y.createElement(J5,{context:o,store:a.current},r)}function oU(e){var{layout:t,width:r,height:n,margin:i}=e,a=Ie(),o=It();return y.useEffect(()=>{o||(a(yT(t)),a(bT({width:r,height:n})),a(vT(i)))},[a,o,t,r,n,i]),null}function sU(e){var t=Ie();return y.useEffect(()=>{t(Q5(e))},[t,e]),null}var lU=["children"];function cU(e,t){if(e==null)return{};var r,n,i=uU(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function uU(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Vo(){return Vo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vo.apply(null,arguments)}var dU={width:"100%",height:"100%"},fU=y.forwardRef((e,t)=>{var r=q0(),n=W0(),i=H0();if(!_o(r)||!_o(n))return null;var{children:a,otherAttributes:o,title:s,desc:l}=e,c,u;return typeof o.tabIndex=="number"?c=o.tabIndex:c=i?0:void 0,typeof o.role=="string"?u=o.role:u=i?"application":void 0,y.createElement(My,Vo({},o,{title:s,desc:l,role:u,tabIndex:c,width:r,height:n,style:dU,ref:t}),a)}),hU=e=>{var{children:t}=e,r=F(ds);if(!r)return null;var{width:n,height:i,y:a,x:o}=r;return y.createElement(My,{width:n,height:i,x:o,y:a},t)},pv=y.forwardRef((e,t)=>{var{children:r}=e,n=cU(e,lU),i=It();return i?y.createElement(hU,null,r):y.createElement(fU,Vo({ref:t},n),r)});function pU(){var e=Ie(),[t,r]=y.useState(null),n=F(XT);return y.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;wt(a)&&a!==n&&e(wT(a))}},[t,e,n]),r}function mv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function mU(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mv(Object(r),!0).forEach(function(n){gU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gU(e,t,r){return(t=vU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vU(e){var t=yU(e,"string");return typeof t=="symbol"?t:t+""}function yU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bU=y.forwardRef((e,t)=>{var{children:r,className:n,height:i,onClick:a,onContextMenu:o,onDoubleClick:s,onMouseDown:l,onMouseEnter:c,onMouseLeave:u,onMouseMove:d,onMouseUp:f,onTouchEnd:h,onTouchMove:m,onTouchStart:p,style:g,width:b}=e,x=Ie(),[w,_]=y.useState(null),[S,E]=y.useState(null);HM();var O=pU(),k=y.useCallback(z=>{O(z),typeof t=="function"&&t(z),_(z),E(z)},[O,t,_,E]),A=y.useCallback(z=>{x(Kx(z)),x(jt({handler:a,reactEvent:z}))},[x,a]),D=y.useCallback(z=>{x($u(z)),x(jt({handler:c,reactEvent:z}))},[x,c]),R=y.useCallback(z=>{x(Gw()),x(jt({handler:u,reactEvent:z}))},[x,u]),I=y.useCallback(z=>{x($u(z)),x(jt({handler:d,reactEvent:z}))},[x,d]),B=y.useCallback(()=>{x(Xx())},[x]),L=y.useCallback(z=>{x(Jx(z.key))},[x]),H=y.useCallback(z=>{x(jt({handler:o,reactEvent:z}))},[x,o]),N=y.useCallback(z=>{x(jt({handler:s,reactEvent:z}))},[x,s]),q=y.useCallback(z=>{x(jt({handler:l,reactEvent:z}))},[x,l]),Q=y.useCallback(z=>{x(jt({handler:f,reactEvent:z}))},[x,f]),ee=y.useCallback(z=>{x(jt({handler:p,reactEvent:z}))},[x,p]),be=y.useCallback(z=>{x(Qx(z)),x(jt({handler:m,reactEvent:z}))},[x,m]),me=y.useCallback(z=>{x(jt({handler:h,reactEvent:z}))},[x,h]);return y.createElement(fx.Provider,{value:w},y.createElement(Fj.Provider,{value:S},y.createElement("div",{className:fe("recharts-wrapper",n),style:mU({position:"relative",cursor:"default",width:b,height:i},g),onClick:A,onContextMenu:H,onDoubleClick:N,onFocus:B,onKeyDown:L,onMouseDown:q,onMouseEnter:D,onMouseLeave:R,onMouseMove:I,onMouseUp:Q,onTouchEnd:me,onTouchMove:be,onTouchStart:ee,ref:k},r)))}),wU=["children","className","width","height","style","compact","title","desc"];function xU(e,t){if(e==null)return{};var r,n,i=_U(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function _U(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var SU=y.forwardRef((e,t)=>{var{children:r,className:n,width:i,height:a,style:o,compact:s,title:l,desc:c}=e,u=xU(e,wU),d=Qn(u);return s?y.createElement(pv,{otherAttributes:d,title:l,desc:c},r):y.createElement(bU,{className:n,style:o,width:i,height:a,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},y.createElement(pv,{otherAttributes:d,title:l,desc:c,ref:t},y.createElement(k4,null,r)))}),EU=["width","height"];function Du(){return Du=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Du.apply(null,arguments)}function OU(e,t){if(e==null)return{};var r,n,i=PU(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function PU(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var jU={top:5,right:5,bottom:5,left:5},kU={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:jU,reverseStackOrder:!1,syncMethod:"index"},AU=y.forwardRef(function(t,r){var n,i=$t(t.categoricalChartProps,kU),{width:a,height:o}=i,s=OU(i,EU);if(!_o(a)||!_o(o))return null;var{chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,categoricalChartProps:f}=t,h={chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,eventEmitter:void 0};return y.createElement(aU,{preloadedState:{options:h},reduxStoreName:(n=f.id)!==null&&n!==void 0?n:l},y.createElement(y4,{chartData:f.data}),y.createElement(oU,{width:a,height:o,layout:i.layout,margin:i.margin}),y.createElement(sU,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),y.createElement(SU,Du({},s,{width:a,height:o,ref:r})))}),TU=["axis","item"],CU=y.forwardRef((e,t)=>y.createElement(AU,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:TU,tooltipPayloadSearcher:TM,categoricalChartProps:e,ref:t}));function RU(){var x;const[e,t]=y.useState(null),[r,n]=y.useState(null),[i,a]=y.useState(!1),o=rr(),{t:s}=Se();if(y.useEffect(()=>{(async()=>{const{data:_,error:S}=await Qe.auth.getUser();S&&console.error("❌ Error obteniendo usuario:",S),_!=null&&_.user?n(_.user):n(null)})()},[]),y.useEffect(()=>{(async()=>{if(!o){console.warn("⚠️ client_id no disponible aún");return}try{const _=await fetch(`http://localhost:8001/dashboard_summary?client_id=${o}`),S=await _.json();_.ok?t(S):console.error("❌ Error en respuesta de dashboard_summary:",S)}catch(_){console.error("❌ Error de red al obtener dashboard:",_)}})()},[o]),y.useEffect(()=>{sessionStorage.getItem("alreadyRedirected")!=="true"&&a(!0)},[]),!r||!e)return v.jsx("div",{style:{color:"white",padding:"2rem"},children:s("loading")});const{plan:l,usage:c,history_preview:u,assistant_config:d,upgrade_suggestion:f,subscription_start:h,subscription_end:m}=e,p=w=>w.toLowerCase().replace(/\s+/g,"_"),g=((x=l==null?void 0:l.plan_features)==null?void 0:x.map(w=>p(w)))||[],b=[{name:s("messages"),used:c.messages_used,max:l.is_unlimited?c.messages_used:l.max_messages},{name:s("documents"),used:c.documents_uploaded,max:l.max_documents}];return v.jsxs("div",{style:{backgroundColor:i?"rgba(15,28,46,0.7)":"#0f1c2e",minHeight:"100vh",padding:"2rem",fontFamily:"system-ui, sans-serif",color:"white",overflow:"hidden"},children:[i&&v.jsx(dj,{onClose:()=>a(!1)}),v.jsxs("h1",{style:{fontSize:"1.8rem",fontWeight:"bold",color:"#f5a623",marginBottom:"0.5rem"},children:["👋 ",s("welcome"),", ",r.email]}),v.jsxs("p",{style:{color:"#ededed",marginBottom:"2rem"},children:[s("assistant_intro")," ",v.jsx("strong",{style:{color:"#a3d9b1"},children:(d==null?void 0:d.assistant_name)||s("your_assistant")}),"."]}),v.jsxs("div",{style:Wa,children:[v.jsx("h2",{style:Ka,children:s("your_plan")}),v.jsx("p",{children:v.jsx("strong",{children:l.name})}),v.jsxs("p",{children:[s("messages"),": ",l.is_unlimited?"∞":l.max_messages]}),v.jsxs("p",{children:[s("documents"),": ",l.max_documents]}),h&&m&&v.jsxs("p",{style:{marginTop:"0.5rem",color:"#ededed"},children:[s("subscription_period"),":"," ",v.jsxs("strong",{children:[h," – ",m]})]})]}),v.jsxs("div",{style:Wa,children:[v.jsx("h2",{style:Ka,children:s("usage_summary")}),v.jsxs("p",{children:[s("messages_used"),":"," ",v.jsx("strong",{style:{color:"#a3d9b1"},children:c.messages_used})," ","/ ",l.is_unlimited?"∞":l.max_messages,f&&v.jsxs(v.Fragment,{children:[" ","— ",s("almost_limit")," 🚀"," ",f.action==="upgrade"&&v.jsxs(v.Fragment,{children:[s("upgrade_to")," ",v.jsx("strong",{children:f.to})]}),f.action==="contact_support"&&v.jsxs(v.Fragment,{children:[" contacting ",v.jsx("strong",{children:f.email})]})]})]}),v.jsxs("p",{children:[s("documents_uploaded"),":"," ",v.jsx("strong",{style:{color:"#a3d9b1"},children:c.documents_uploaded})," ","/ ",l.max_documents]}),v.jsx("div",{style:{width:"100%",height:250,marginTop:"1rem"},children:v.jsx(uN,{children:v.jsxs(CU,{data:b,children:[v.jsx(zx,{strokeDasharray:"3 3",stroke:"#274472"}),v.jsx(qx,{dataKey:"name",stroke:"#ededed"}),v.jsx(Wx,{stroke:"#ededed"}),v.jsx(eN,{contentStyle:{backgroundColor:"#1b2a41",border:"1px solid #274472",color:"#ededed"}}),v.jsx(Tu,{dataKey:"used",fill:"#a3d9b1",name:s("used")}),v.jsx(Tu,{dataKey:"max",fill:"#4a90e2",name:s("max")})]})})})]}),v.jsxs("div",{style:Wa,children:[v.jsx("h2",{style:Ka,children:s("active_features")}),v.jsx("ul",{children:g.length>0?g.map(w=>v.jsxs("li",{style:{marginBottom:"0.5rem"},children:["✅ ",s(w)]},w)):v.jsx("li",{children:s("no_features")})})]}),v.jsxs("div",{style:Wa,children:[v.jsx("h2",{style:Ka,children:s("recent_activity")}),u&&u.length>0?v.jsx("ul",{children:u.map((w,_)=>v.jsxs("li",{style:{marginBottom:"0.5rem"},children:[w.question," (",new Date(w.timestamp).toLocaleDateString(),")"]},_))}):v.jsx("p",{children:s("no_history")})]})]})}const Wa={backgroundColor:"#1b2a41",border:"1px solid #274472",borderRadius:"1rem",padding:"1.5rem",marginBottom:"2rem",boxShadow:"0 4px 10px rgba(0,0,0,0.2)"},Ka={fontSize:"1.3rem",color:"#4a90e2",marginBottom:"1rem",fontWeight:"bold"};function IU(){const[e,t]=y.useState(null),[r,n]=y.useState(""),[i,a]=y.useState([]),[o,s]=y.useState(!1),l=rr(),{t:c}=Se(),u=async()=>{if(l)try{const m=await(await fetch(`http://localhost:8001/list_files?client_id=${l}`)).json();a(m.files||[])}catch(h){console.error("❌ Error al listar archivos:",h),a([])}};y.useEffect(()=>{l&&u()},[l]);const d=async h=>{if(h.preventDefault(),!l||l==="undefined"||l.trim()===""){n(`❌ ${c("invalid_client_id")}`);return}if(!e){n(`⚠️ ${c("please_select_file")}`);return}const m=new FormData;m.append("client_id",l),m.append("file",e);try{const p=await fetch("http://localhost:8001/upload_document",{method:"POST",body:m});if(p.status===403){const b=await p.json(),x=(b==null?void 0:b.detail)||"";s(!0),n(x==="limit_reached"?`🚫 ${c("limit_reached_error")}`:`🚫 ${x||c("unknown_upload_error")}`);return}if(!p.ok){const b=await p.json();throw new Error(b.detail||c("unknown_upload_error"))}const g=await p.json();console.log("📥 Respuesta backend:",g),n(`✅ ${g.message||c("file_uploaded_success")}`),t(null),u()}catch(p){console.error("❌ Error al subir archivo:",p),n(`❌ ${p.message}`)}},f=async h=>{if(window.confirm(`⚠️ ${c("confirm_delete_file")} ${h}?`))try{const m=await fetch(`http://localhost:8001/delete_file?storage_path=${encodeURIComponent(h)}`,{method:"DELETE"});if(!m.ok){const g=await m.json();throw new Error(g.detail||c("unknown_delete_error"))}const p=await m.json();console.log("🗑️ Respuesta backend:",p),n(`✅ ${p.message||c("file_deleted_success")}`),u()}catch(m){console.error("❌ Error al borrar archivo:",m),n(`❌ ${m.message}`)}};return v.jsx("div",{style:{backgroundColor:"#0f1c2e",minHeight:"100vh",padding:"2rem",fontFamily:"system-ui, sans-serif",color:"white",display:"flex",justifyContent:"center",alignItems:"flex-start"},children:v.jsxs("div",{style:{backgroundColor:"#1b2a41",padding:"2rem",borderRadius:"16px",maxWidth:"600px",width:"100%",boxShadow:"0 10px 30px rgba(0,0,0,0.2)",border:"1px solid #274472"},children:[v.jsxs("h1",{style:{fontSize:"1.8rem",marginBottom:"1rem",color:"#f5a623"},children:["📤 ",c("upload_document")]}),v.jsxs("form",{onSubmit:d,children:[v.jsxs("div",{style:{marginBottom:"1.2rem"},children:[v.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",color:"#ededed"},children:["📎 ",c("select_file_label")]}),v.jsx("input",{type:"file",accept:".pdf,.txt",onChange:h=>t(h.target.files[0]),disabled:o,style:{width:"100%",padding:"0.4rem",backgroundColor:"#0f1c2e",border:"1px solid #4a90e2",color:"white",borderRadius:"8px",cursor:o?"not-allowed":"pointer"}})]}),v.jsx("button",{type:"submit",disabled:o,style:{backgroundColor:o?"#777":"#4a90e2",padding:"0.7rem 1.2rem",color:"white",borderRadius:"8px",fontWeight:"bold",border:"none",cursor:o?"not-allowed":"pointer",transition:"background 0.3s ease"},children:c("upload_file")})]}),r&&v.jsx("p",{style:{marginTop:"1rem",fontWeight:"500",color:"#a3d9b1"},children:r}),i.length>0&&v.jsxs("div",{style:{marginTop:"2rem"},children:[v.jsxs("h3",{style:{color:"#f5a623",marginBottom:"0.75rem"},children:["📂 ",c("uploaded_files")]}),v.jsx("ul",{style:{listStyleType:"none",paddingLeft:0},children:i.map((h,m)=>v.jsxs("li",{style:{marginBottom:"0.8rem",color:"#ededed",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[v.jsxs("span",{children:["📄 ",h.name," – ",h.size_kb," KB"]}),v.jsxs("button",{onClick:()=>f(h.storage_path),style:{backgroundColor:"#e74c3c",padding:"0.4rem 0.8rem",color:"white",borderRadius:"6px",border:"none",cursor:"pointer",fontWeight:"bold"},children:["🗑️ ",c("delete")]})]},m))})]})]})})}function t_(e,t){return function(){return e.apply(t,arguments)}}const{toString:$U}=Object.prototype,{getPrototypeOf:$f}=Object,{iterator:As,toStringTag:r_}=Symbol,Ts=(e=>t=>{const r=$U.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Kt=e=>(e=e.toLowerCase(),t=>Ts(t)===e),Cs=e=>t=>typeof t===e,{isArray:ci}=Array,Gn=Cs("undefined");function ha(e){return e!==null&&!Gn(e)&&e.constructor!==null&&!Gn(e.constructor)&&st(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const n_=Kt("ArrayBuffer");function DU(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&n_(e.buffer),t}const MU=Cs("string"),st=Cs("function"),i_=Cs("number"),pa=e=>e!==null&&typeof e=="object",NU=e=>e===!0||e===!1,eo=e=>{if(Ts(e)!=="object")return!1;const t=$f(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(r_ in e)&&!(As in e)},LU=e=>{if(!pa(e)||ha(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},BU=Kt("Date"),UU=Kt("File"),FU=Kt("Blob"),zU=Kt("FileList"),qU=e=>pa(e)&&st(e.pipe),WU=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||st(e.append)&&((t=Ts(e))==="formdata"||t==="object"&&st(e.toString)&&e.toString()==="[object FormData]"))},KU=Kt("URLSearchParams"),[HU,VU,GU,YU]=["ReadableStream","Request","Response","Headers"].map(Kt),JU=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ma(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,i;if(typeof e!="object"&&(e=[e]),ci(e))for(n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else{if(ha(e))return;const a=r?Object.getOwnPropertyNames(e):Object.keys(e),o=a.length;let s;for(n=0;n<o;n++)s=a[n],t.call(null,e[s],s,e)}}function a_(e,t){if(ha(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,i;for(;n-- >0;)if(i=r[n],t===i.toLowerCase())return i;return null}const en=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,o_=e=>!Gn(e)&&e!==en;function Mu(){const{caseless:e,skipUndefined:t}=o_(this)&&this||{},r={},n=(i,a)=>{const o=e&&a_(r,a)||a;eo(r[o])&&eo(i)?r[o]=Mu(r[o],i):eo(i)?r[o]=Mu({},i):ci(i)?r[o]=i.slice():(!t||!Gn(i))&&(r[o]=i)};for(let i=0,a=arguments.length;i<a;i++)arguments[i]&&ma(arguments[i],n);return r}const XU=(e,t,r,{allOwnKeys:n}={})=>(ma(t,(i,a)=>{r&&st(i)?e[a]=t_(i,r):e[a]=i},{allOwnKeys:n}),e),ZU=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),QU=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},eF=(e,t,r,n)=>{let i,a,o;const s={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),a=i.length;a-- >0;)o=i[a],(!n||n(o,e,t))&&!s[o]&&(t[o]=e[o],s[o]=!0);e=r!==!1&&$f(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},tF=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},rF=e=>{if(!e)return null;if(ci(e))return e;let t=e.length;if(!i_(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},nF=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&$f(Uint8Array)),iF=(e,t)=>{const n=(e&&e[As]).call(e);let i;for(;(i=n.next())&&!i.done;){const a=i.value;t.call(e,a[0],a[1])}},aF=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},oF=Kt("HTMLFormElement"),sF=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),gv=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),lF=Kt("RegExp"),s_=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};ma(r,(i,a)=>{let o;(o=t(i,a,e))!==!1&&(n[a]=o||i)}),Object.defineProperties(e,n)},cF=e=>{s_(e,(t,r)=>{if(st(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(st(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},uF=(e,t)=>{const r={},n=i=>{i.forEach(a=>{r[a]=!0})};return ci(e)?n(e):n(String(e).split(t)),r},dF=()=>{},fF=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function hF(e){return!!(e&&st(e.append)&&e[r_]==="FormData"&&e[As])}const pF=e=>{const t=new Array(10),r=(n,i)=>{if(pa(n)){if(t.indexOf(n)>=0)return;if(ha(n))return n;if(!("toJSON"in n)){t[i]=n;const a=ci(n)?[]:{};return ma(n,(o,s)=>{const l=r(o,i+1);!Gn(l)&&(a[s]=l)}),t[i]=void 0,a}}return n};return r(e,0)},mF=Kt("AsyncFunction"),gF=e=>e&&(pa(e)||st(e))&&st(e.then)&&st(e.catch),l_=((e,t)=>e?setImmediate:t?((r,n)=>(en.addEventListener("message",({source:i,data:a})=>{i===en&&a===r&&n.length&&n.shift()()},!1),i=>{n.push(i),en.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",st(en.postMessage)),vF=typeof queueMicrotask<"u"?queueMicrotask.bind(en):typeof process<"u"&&process.nextTick||l_,yF=e=>e!=null&&st(e[As]),P={isArray:ci,isArrayBuffer:n_,isBuffer:ha,isFormData:WU,isArrayBufferView:DU,isString:MU,isNumber:i_,isBoolean:NU,isObject:pa,isPlainObject:eo,isEmptyObject:LU,isReadableStream:HU,isRequest:VU,isResponse:GU,isHeaders:YU,isUndefined:Gn,isDate:BU,isFile:UU,isBlob:FU,isRegExp:lF,isFunction:st,isStream:qU,isURLSearchParams:KU,isTypedArray:nF,isFileList:zU,forEach:ma,merge:Mu,extend:XU,trim:JU,stripBOM:ZU,inherits:QU,toFlatObject:eF,kindOf:Ts,kindOfTest:Kt,endsWith:tF,toArray:rF,forEachEntry:iF,matchAll:aF,isHTMLForm:oF,hasOwnProperty:gv,hasOwnProp:gv,reduceDescriptors:s_,freezeMethods:cF,toObjectSet:uF,toCamelCase:sF,noop:dF,toFiniteNumber:fF,findKey:a_,global:en,isContextDefined:o_,isSpecCompliantForm:hF,toJSONObject:pF,isAsyncFn:mF,isThenable:gF,setImmediate:l_,asap:vF,isIterable:yF};function K(e,t,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}P.inherits(K,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:P.toJSONObject(this.config),code:this.code,status:this.status}}});const c_=K.prototype,u_={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{u_[e]={value:e}});Object.defineProperties(K,u_);Object.defineProperty(c_,"isAxiosError",{value:!0});K.from=(e,t,r,n,i,a)=>{const o=Object.create(c_);P.toFlatObject(e,o,function(u){return u!==Error.prototype},c=>c!=="isAxiosError");const s=e&&e.message?e.message:"Error",l=t==null&&e?e.code:t;return K.call(o,s,l,r,n,i),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",a&&Object.assign(o,a),o};const bF=null;function Nu(e){return P.isPlainObject(e)||P.isArray(e)}function d_(e){return P.endsWith(e,"[]")?e.slice(0,-2):e}function vv(e,t,r){return e?e.concat(t).map(function(i,a){return i=d_(i),!r&&a?"["+i+"]":i}).join(r?".":""):t}function wF(e){return P.isArray(e)&&!e.some(Nu)}const xF=P.toFlatObject(P,{},null,function(t){return/^is[A-Z]/.test(t)});function Rs(e,t,r){if(!P.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=P.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(p,g){return!P.isUndefined(g[p])});const n=r.metaTokens,i=r.visitor||u,a=r.dots,o=r.indexes,l=(r.Blob||typeof Blob<"u"&&Blob)&&P.isSpecCompliantForm(t);if(!P.isFunction(i))throw new TypeError("visitor must be a function");function c(m){if(m===null)return"";if(P.isDate(m))return m.toISOString();if(P.isBoolean(m))return m.toString();if(!l&&P.isBlob(m))throw new K("Blob is not supported. Use a Buffer instead.");return P.isArrayBuffer(m)||P.isTypedArray(m)?l&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function u(m,p,g){let b=m;if(m&&!g&&typeof m=="object"){if(P.endsWith(p,"{}"))p=n?p:p.slice(0,-2),m=JSON.stringify(m);else if(P.isArray(m)&&wF(m)||(P.isFileList(m)||P.endsWith(p,"[]"))&&(b=P.toArray(m)))return p=d_(p),b.forEach(function(w,_){!(P.isUndefined(w)||w===null)&&t.append(o===!0?vv([p],_,a):o===null?p:p+"[]",c(w))}),!1}return Nu(m)?!0:(t.append(vv(g,p,a),c(m)),!1)}const d=[],f=Object.assign(xF,{defaultVisitor:u,convertValue:c,isVisitable:Nu});function h(m,p){if(!P.isUndefined(m)){if(d.indexOf(m)!==-1)throw Error("Circular reference detected in "+p.join("."));d.push(m),P.forEach(m,function(b,x){(!(P.isUndefined(b)||b===null)&&i.call(t,b,P.isString(x)?x.trim():x,p,f))===!0&&h(b,p?p.concat(x):[x])}),d.pop()}}if(!P.isObject(e))throw new TypeError("data must be an object");return h(e),t}function yv(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function Df(e,t){this._pairs=[],e&&Rs(e,this,t)}const f_=Df.prototype;f_.append=function(t,r){this._pairs.push([t,r])};f_.toString=function(t){const r=t?function(n){return t.call(this,n,yv)}:yv;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function _F(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function h_(e,t,r){if(!t)return e;const n=r&&r.encode||_F;P.isFunction(r)&&(r={serialize:r});const i=r&&r.serialize;let a;if(i?a=i(t,r):a=P.isURLSearchParams(t)?t.toString():new Df(t,r).toString(n),a){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class bv{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){P.forEach(this.handlers,function(n){n!==null&&t(n)})}}const p_={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},SF=typeof URLSearchParams<"u"?URLSearchParams:Df,EF=typeof FormData<"u"?FormData:null,OF=typeof Blob<"u"?Blob:null,PF={isBrowser:!0,classes:{URLSearchParams:SF,FormData:EF,Blob:OF},protocols:["http","https","file","blob","url","data"]},Mf=typeof window<"u"&&typeof document<"u",Lu=typeof navigator=="object"&&navigator||void 0,jF=Mf&&(!Lu||["ReactNative","NativeScript","NS"].indexOf(Lu.product)<0),kF=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",AF=Mf&&window.location.href||"http://localhost",TF=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Mf,hasStandardBrowserEnv:jF,hasStandardBrowserWebWorkerEnv:kF,navigator:Lu,origin:AF},Symbol.toStringTag,{value:"Module"})),Ge={...TF,...PF};function CF(e,t){return Rs(e,new Ge.classes.URLSearchParams,{visitor:function(r,n,i,a){return Ge.isNode&&P.isBuffer(r)?(this.append(n,r.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...t})}function RF(e){return P.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function IF(e){const t={},r=Object.keys(e);let n;const i=r.length;let a;for(n=0;n<i;n++)a=r[n],t[a]=e[a];return t}function m_(e){function t(r,n,i,a){let o=r[a++];if(o==="__proto__")return!0;const s=Number.isFinite(+o),l=a>=r.length;return o=!o&&P.isArray(i)?i.length:o,l?(P.hasOwnProp(i,o)?i[o]=[i[o],n]:i[o]=n,!s):((!i[o]||!P.isObject(i[o]))&&(i[o]=[]),t(r,n,i[o],a)&&P.isArray(i[o])&&(i[o]=IF(i[o])),!s)}if(P.isFormData(e)&&P.isFunction(e.entries)){const r={};return P.forEachEntry(e,(n,i)=>{t(RF(n),i,r,0)}),r}return null}function $F(e,t,r){if(P.isString(e))try{return(t||JSON.parse)(e),P.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const ga={transitional:p_,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,a=P.isObject(t);if(a&&P.isHTMLForm(t)&&(t=new FormData(t)),P.isFormData(t))return i?JSON.stringify(m_(t)):t;if(P.isArrayBuffer(t)||P.isBuffer(t)||P.isStream(t)||P.isFile(t)||P.isBlob(t)||P.isReadableStream(t))return t;if(P.isArrayBufferView(t))return t.buffer;if(P.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let s;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return CF(t,this.formSerializer).toString();if((s=P.isFileList(t))||n.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Rs(s?{"files[]":t}:t,l&&new l,this.formSerializer)}}return a||i?(r.setContentType("application/json",!1),$F(t)):t}],transformResponse:[function(t){const r=this.transitional||ga.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(P.isResponse(t)||P.isReadableStream(t))return t;if(t&&P.isString(t)&&(n&&!this.responseType||i)){const o=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(t,this.parseReviver)}catch(s){if(o)throw s.name==="SyntaxError"?K.from(s,K.ERR_BAD_RESPONSE,this,null,this.response):s}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ge.classes.FormData,Blob:Ge.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};P.forEach(["delete","get","head","post","put","patch"],e=>{ga.headers[e]={}});const DF=P.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),MF=e=>{const t={};let r,n,i;return e&&e.split(`
`).forEach(function(o){i=o.indexOf(":"),r=o.substring(0,i).trim().toLowerCase(),n=o.substring(i+1).trim(),!(!r||t[r]&&DF[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},wv=Symbol("internals");function Ei(e){return e&&String(e).trim().toLowerCase()}function to(e){return e===!1||e==null?e:P.isArray(e)?e.map(to):String(e)}function NF(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const LF=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function jc(e,t,r,n,i){if(P.isFunction(n))return n.call(this,t,r);if(i&&(t=r),!!P.isString(t)){if(P.isString(n))return t.indexOf(n)!==-1;if(P.isRegExp(n))return n.test(t)}}function BF(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function UF(e,t){const r=P.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(i,a,o){return this[n].call(this,t,i,a,o)},configurable:!0})})}let lt=class{constructor(t){t&&this.set(t)}set(t,r,n){const i=this;function a(s,l,c){const u=Ei(l);if(!u)throw new Error("header name must be a non-empty string");const d=P.findKey(i,u);(!d||i[d]===void 0||c===!0||c===void 0&&i[d]!==!1)&&(i[d||l]=to(s))}const o=(s,l)=>P.forEach(s,(c,u)=>a(c,u,l));if(P.isPlainObject(t)||t instanceof this.constructor)o(t,r);else if(P.isString(t)&&(t=t.trim())&&!LF(t))o(MF(t),r);else if(P.isObject(t)&&P.isIterable(t)){let s={},l,c;for(const u of t){if(!P.isArray(u))throw TypeError("Object iterator must return a key-value pair");s[c=u[0]]=(l=s[c])?P.isArray(l)?[...l,u[1]]:[l,u[1]]:u[1]}o(s,r)}else t!=null&&a(r,t,n);return this}get(t,r){if(t=Ei(t),t){const n=P.findKey(this,t);if(n){const i=this[n];if(!r)return i;if(r===!0)return NF(i);if(P.isFunction(r))return r.call(this,i,n);if(P.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=Ei(t),t){const n=P.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||jc(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let i=!1;function a(o){if(o=Ei(o),o){const s=P.findKey(n,o);s&&(!r||jc(n,n[s],s,r))&&(delete n[s],i=!0)}}return P.isArray(t)?t.forEach(a):a(t),i}clear(t){const r=Object.keys(this);let n=r.length,i=!1;for(;n--;){const a=r[n];(!t||jc(this,this[a],a,t,!0))&&(delete this[a],i=!0)}return i}normalize(t){const r=this,n={};return P.forEach(this,(i,a)=>{const o=P.findKey(n,a);if(o){r[o]=to(i),delete r[a];return}const s=t?BF(a):String(a).trim();s!==a&&delete r[a],r[s]=to(i),n[s]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return P.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=t&&P.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(i=>n.set(i)),n}static accessor(t){const n=(this[wv]=this[wv]={accessors:{}}).accessors,i=this.prototype;function a(o){const s=Ei(o);n[s]||(UF(i,o),n[s]=!0)}return P.isArray(t)?t.forEach(a):a(t),this}};lt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);P.reduceDescriptors(lt.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});P.freezeMethods(lt);function kc(e,t){const r=this||ga,n=t||r,i=lt.from(n.headers);let a=n.data;return P.forEach(e,function(s){a=s.call(r,a,i.normalize(),t?t.status:void 0)}),i.normalize(),a}function g_(e){return!!(e&&e.__CANCEL__)}function ui(e,t,r){K.call(this,e??"canceled",K.ERR_CANCELED,t,r),this.name="CanceledError"}P.inherits(ui,K,{__CANCEL__:!0});function v_(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new K("Request failed with status code "+r.status,[K.ERR_BAD_REQUEST,K.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function FF(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function zF(e,t){e=e||10;const r=new Array(e),n=new Array(e);let i=0,a=0,o;return t=t!==void 0?t:1e3,function(l){const c=Date.now(),u=n[a];o||(o=c),r[i]=l,n[i]=c;let d=a,f=0;for(;d!==i;)f+=r[d++],d=d%e;if(i=(i+1)%e,i===a&&(a=(a+1)%e),c-o<t)return;const h=u&&c-u;return h?Math.round(f*1e3/h):void 0}}function qF(e,t){let r=0,n=1e3/t,i,a;const o=(c,u=Date.now())=>{r=u,i=null,a&&(clearTimeout(a),a=null),e(...c)};return[(...c)=>{const u=Date.now(),d=u-r;d>=n?o(c,u):(i=c,a||(a=setTimeout(()=>{a=null,o(i)},n-d)))},()=>i&&o(i)]}const Go=(e,t,r=3)=>{let n=0;const i=zF(50,250);return qF(a=>{const o=a.loaded,s=a.lengthComputable?a.total:void 0,l=o-n,c=i(l),u=o<=s;n=o;const d={loaded:o,total:s,progress:s?o/s:void 0,bytes:l,rate:c||void 0,estimated:c&&s&&u?(s-o)/c:void 0,event:a,lengthComputable:s!=null,[t?"download":"upload"]:!0};e(d)},r)},xv=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},_v=e=>(...t)=>P.asap(()=>e(...t)),WF=Ge.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Ge.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Ge.origin),Ge.navigator&&/(msie|trident)/i.test(Ge.navigator.userAgent)):()=>!0,KF=Ge.hasStandardBrowserEnv?{write(e,t,r,n,i,a){const o=[e+"="+encodeURIComponent(t)];P.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),P.isString(n)&&o.push("path="+n),P.isString(i)&&o.push("domain="+i),a===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function HF(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function VF(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function y_(e,t,r){let n=!HF(t);return e&&(n||r==!1)?VF(e,t):t}const Sv=e=>e instanceof lt?{...e}:e;function dn(e,t){t=t||{};const r={};function n(c,u,d,f){return P.isPlainObject(c)&&P.isPlainObject(u)?P.merge.call({caseless:f},c,u):P.isPlainObject(u)?P.merge({},u):P.isArray(u)?u.slice():u}function i(c,u,d,f){if(P.isUndefined(u)){if(!P.isUndefined(c))return n(void 0,c,d,f)}else return n(c,u,d,f)}function a(c,u){if(!P.isUndefined(u))return n(void 0,u)}function o(c,u){if(P.isUndefined(u)){if(!P.isUndefined(c))return n(void 0,c)}else return n(void 0,u)}function s(c,u,d){if(d in t)return n(c,u);if(d in e)return n(void 0,c)}const l={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:s,headers:(c,u,d)=>i(Sv(c),Sv(u),d,!0)};return P.forEach(Object.keys({...e,...t}),function(u){const d=l[u]||i,f=d(e[u],t[u],u);P.isUndefined(f)&&d!==s||(r[u]=f)}),r}const b_=e=>{const t=dn({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:a,headers:o,auth:s}=t;if(t.headers=o=lt.from(o),t.url=h_(y_(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),s&&o.set("Authorization","Basic "+btoa((s.username||"")+":"+(s.password?unescape(encodeURIComponent(s.password)):""))),P.isFormData(r)){if(Ge.hasStandardBrowserEnv||Ge.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(P.isFunction(r.getHeaders)){const l=r.getHeaders(),c=["content-type","content-length"];Object.entries(l).forEach(([u,d])=>{c.includes(u.toLowerCase())&&o.set(u,d)})}}if(Ge.hasStandardBrowserEnv&&(n&&P.isFunction(n)&&(n=n(t)),n||n!==!1&&WF(t.url))){const l=i&&a&&KF.read(a);l&&o.set(i,l)}return t},GF=typeof XMLHttpRequest<"u",YF=GF&&function(e){return new Promise(function(r,n){const i=b_(e);let a=i.data;const o=lt.from(i.headers).normalize();let{responseType:s,onUploadProgress:l,onDownloadProgress:c}=i,u,d,f,h,m;function p(){h&&h(),m&&m(),i.cancelToken&&i.cancelToken.unsubscribe(u),i.signal&&i.signal.removeEventListener("abort",u)}let g=new XMLHttpRequest;g.open(i.method.toUpperCase(),i.url,!0),g.timeout=i.timeout;function b(){if(!g)return;const w=lt.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders()),S={data:!s||s==="text"||s==="json"?g.responseText:g.response,status:g.status,statusText:g.statusText,headers:w,config:e,request:g};v_(function(O){r(O),p()},function(O){n(O),p()},S),g=null}"onloadend"in g?g.onloadend=b:g.onreadystatechange=function(){!g||g.readyState!==4||g.status===0&&!(g.responseURL&&g.responseURL.indexOf("file:")===0)||setTimeout(b)},g.onabort=function(){g&&(n(new K("Request aborted",K.ECONNABORTED,e,g)),g=null)},g.onerror=function(_){const S=_&&_.message?_.message:"Network Error",E=new K(S,K.ERR_NETWORK,e,g);E.event=_||null,n(E),g=null},g.ontimeout=function(){let _=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const S=i.transitional||p_;i.timeoutErrorMessage&&(_=i.timeoutErrorMessage),n(new K(_,S.clarifyTimeoutError?K.ETIMEDOUT:K.ECONNABORTED,e,g)),g=null},a===void 0&&o.setContentType(null),"setRequestHeader"in g&&P.forEach(o.toJSON(),function(_,S){g.setRequestHeader(S,_)}),P.isUndefined(i.withCredentials)||(g.withCredentials=!!i.withCredentials),s&&s!=="json"&&(g.responseType=i.responseType),c&&([f,m]=Go(c,!0),g.addEventListener("progress",f)),l&&g.upload&&([d,h]=Go(l),g.upload.addEventListener("progress",d),g.upload.addEventListener("loadend",h)),(i.cancelToken||i.signal)&&(u=w=>{g&&(n(!w||w.type?new ui(null,e,g):w),g.abort(),g=null)},i.cancelToken&&i.cancelToken.subscribe(u),i.signal&&(i.signal.aborted?u():i.signal.addEventListener("abort",u)));const x=FF(i.url);if(x&&Ge.protocols.indexOf(x)===-1){n(new K("Unsupported protocol "+x+":",K.ERR_BAD_REQUEST,e));return}g.send(a||null)})},JF=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,i;const a=function(c){if(!i){i=!0,s();const u=c instanceof Error?c:this.reason;n.abort(u instanceof K?u:new ui(u instanceof Error?u.message:u))}};let o=t&&setTimeout(()=>{o=null,a(new K(`timeout ${t} of ms exceeded`,K.ETIMEDOUT))},t);const s=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(c=>{c.unsubscribe?c.unsubscribe(a):c.removeEventListener("abort",a)}),e=null)};e.forEach(c=>c.addEventListener("abort",a));const{signal:l}=n;return l.unsubscribe=()=>P.asap(s),l}},XF=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,i;for(;n<r;)i=n+t,yield e.slice(n,i),n=i},ZF=async function*(e,t){for await(const r of QF(e))yield*XF(r,t)},QF=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},Ev=(e,t,r,n)=>{const i=ZF(e,t);let a=0,o,s=l=>{o||(o=!0,n&&n(l))};return new ReadableStream({async pull(l){try{const{done:c,value:u}=await i.next();if(c){s(),l.close();return}let d=u.byteLength;if(r){let f=a+=d;r(f)}l.enqueue(new Uint8Array(u))}catch(c){throw s(c),c}},cancel(l){return s(l),i.return()}},{highWaterMark:2})},Ov=64*1024,{isFunction:Ha}=P,e3=(({Request:e,Response:t})=>({Request:e,Response:t}))(P.global),{ReadableStream:Pv,TextEncoder:jv}=P.global,kv=(e,...t)=>{try{return!!e(...t)}catch{return!1}},t3=e=>{e=P.merge.call({skipUndefined:!0},e3,e);const{fetch:t,Request:r,Response:n}=e,i=t?Ha(t):typeof fetch=="function",a=Ha(r),o=Ha(n);if(!i)return!1;const s=i&&Ha(Pv),l=i&&(typeof jv=="function"?(m=>p=>m.encode(p))(new jv):async m=>new Uint8Array(await new r(m).arrayBuffer())),c=a&&s&&kv(()=>{let m=!1;const p=new r(Ge.origin,{body:new Pv,method:"POST",get duplex(){return m=!0,"half"}}).headers.has("Content-Type");return m&&!p}),u=o&&s&&kv(()=>P.isReadableStream(new n("").body)),d={stream:u&&(m=>m.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(m=>{!d[m]&&(d[m]=(p,g)=>{let b=p&&p[m];if(b)return b.call(p);throw new K(`Response type '${m}' is not supported`,K.ERR_NOT_SUPPORT,g)})});const f=async m=>{if(m==null)return 0;if(P.isBlob(m))return m.size;if(P.isSpecCompliantForm(m))return(await new r(Ge.origin,{method:"POST",body:m}).arrayBuffer()).byteLength;if(P.isArrayBufferView(m)||P.isArrayBuffer(m))return m.byteLength;if(P.isURLSearchParams(m)&&(m=m+""),P.isString(m))return(await l(m)).byteLength},h=async(m,p)=>{const g=P.toFiniteNumber(m.getContentLength());return g??f(p)};return async m=>{let{url:p,method:g,data:b,signal:x,cancelToken:w,timeout:_,onDownloadProgress:S,onUploadProgress:E,responseType:O,headers:k,withCredentials:A="same-origin",fetchOptions:D}=b_(m),R=t||fetch;O=O?(O+"").toLowerCase():"text";let I=JF([x,w&&w.toAbortSignal()],_),B=null;const L=I&&I.unsubscribe&&(()=>{I.unsubscribe()});let H;try{if(E&&c&&g!=="get"&&g!=="head"&&(H=await h(k,b))!==0){let me=new r(p,{method:"POST",body:b,duplex:"half"}),z;if(P.isFormData(b)&&(z=me.headers.get("content-type"))&&k.setContentType(z),me.body){const[V,re]=xv(H,Go(_v(E)));b=Ev(me.body,Ov,V,re)}}P.isString(A)||(A=A?"include":"omit");const N=a&&"credentials"in r.prototype,q={...D,signal:I,method:g.toUpperCase(),headers:k.normalize().toJSON(),body:b,duplex:"half",credentials:N?A:void 0};B=a&&new r(p,q);let Q=await(a?R(B,D):R(p,q));const ee=u&&(O==="stream"||O==="response");if(u&&(S||ee&&L)){const me={};["status","statusText","headers"].forEach(J=>{me[J]=Q[J]});const z=P.toFiniteNumber(Q.headers.get("content-length")),[V,re]=S&&xv(z,Go(_v(S),!0))||[];Q=new n(Ev(Q.body,Ov,V,()=>{re&&re(),L&&L()}),me)}O=O||"text";let be=await d[P.findKey(d,O)||"text"](Q,m);return!ee&&L&&L(),await new Promise((me,z)=>{v_(me,z,{data:be,headers:lt.from(Q.headers),status:Q.status,statusText:Q.statusText,config:m,request:B})})}catch(N){throw L&&L(),N&&N.name==="TypeError"&&/Load failed|fetch/i.test(N.message)?Object.assign(new K("Network Error",K.ERR_NETWORK,m,B),{cause:N.cause||N}):K.from(N,N&&N.code,m,B)}}},r3=new Map,w_=e=>{let t=e?e.env:{};const{fetch:r,Request:n,Response:i}=t,a=[n,i,r];let o=a.length,s=o,l,c,u=r3;for(;s--;)l=a[s],c=u.get(l),c===void 0&&u.set(l,c=s?new Map:t3(t)),u=c;return c};w_();const Bu={http:bF,xhr:YF,fetch:{get:w_}};P.forEach(Bu,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Av=e=>`- ${e}`,n3=e=>P.isFunction(e)||e===null||e===!1,x_={getAdapter:(e,t)=>{e=P.isArray(e)?e:[e];const{length:r}=e;let n,i;const a={};for(let o=0;o<r;o++){n=e[o];let s;if(i=n,!n3(n)&&(i=Bu[(s=String(n)).toLowerCase()],i===void 0))throw new K(`Unknown adapter '${s}'`);if(i&&(P.isFunction(i)||(i=i.get(t))))break;a[s||"#"+o]=i}if(!i){const o=Object.entries(a).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let s=r?o.length>1?`since :
`+o.map(Av).join(`
`):" "+Av(o[0]):"as no adapter specified";throw new K("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return i},adapters:Bu};function Ac(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ui(null,e)}function Tv(e){return Ac(e),e.headers=lt.from(e.headers),e.data=kc.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),x_.getAdapter(e.adapter||ga.adapter,e)(e).then(function(n){return Ac(e),n.data=kc.call(e,e.transformResponse,n),n.headers=lt.from(n.headers),n},function(n){return g_(n)||(Ac(e),n&&n.response&&(n.response.data=kc.call(e,e.transformResponse,n.response),n.response.headers=lt.from(n.response.headers))),Promise.reject(n)})}const __="1.12.2",Is={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Is[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const Cv={};Is.transitional=function(t,r,n){function i(a,o){return"[Axios v"+__+"] Transitional option '"+a+"'"+o+(n?". "+n:"")}return(a,o,s)=>{if(t===!1)throw new K(i(o," has been removed"+(r?" in "+r:"")),K.ERR_DEPRECATED);return r&&!Cv[o]&&(Cv[o]=!0,console.warn(i(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(a,o,s):!0}};Is.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function i3(e,t,r){if(typeof e!="object")throw new K("options must be an object",K.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let i=n.length;for(;i-- >0;){const a=n[i],o=t[a];if(o){const s=e[a],l=s===void 0||o(s,a,e);if(l!==!0)throw new K("option "+a+" must be "+l,K.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new K("Unknown option "+a,K.ERR_BAD_OPTION)}}const ro={assertOptions:i3,validators:Is},Vt=ro.validators;let on=class{constructor(t){this.defaults=t||{},this.interceptors={request:new bv,response:new bv}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const a=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?a&&!String(n.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+a):n.stack=a}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=dn(this.defaults,r);const{transitional:n,paramsSerializer:i,headers:a}=r;n!==void 0&&ro.assertOptions(n,{silentJSONParsing:Vt.transitional(Vt.boolean),forcedJSONParsing:Vt.transitional(Vt.boolean),clarifyTimeoutError:Vt.transitional(Vt.boolean)},!1),i!=null&&(P.isFunction(i)?r.paramsSerializer={serialize:i}:ro.assertOptions(i,{encode:Vt.function,serialize:Vt.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),ro.assertOptions(r,{baseUrl:Vt.spelling("baseURL"),withXsrfToken:Vt.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=a&&P.merge(a.common,a[r.method]);a&&P.forEach(["delete","get","head","post","put","patch","common"],m=>{delete a[m]}),r.headers=lt.concat(o,a);const s=[];let l=!0;this.interceptors.request.forEach(function(p){typeof p.runWhen=="function"&&p.runWhen(r)===!1||(l=l&&p.synchronous,s.unshift(p.fulfilled,p.rejected))});const c=[];this.interceptors.response.forEach(function(p){c.push(p.fulfilled,p.rejected)});let u,d=0,f;if(!l){const m=[Tv.bind(this),void 0];for(m.unshift(...s),m.push(...c),f=m.length,u=Promise.resolve(r);d<f;)u=u.then(m[d++],m[d++]);return u}f=s.length;let h=r;for(;d<f;){const m=s[d++],p=s[d++];try{h=m(h)}catch(g){p.call(this,g);break}}try{u=Tv.call(this,h)}catch(m){return Promise.reject(m)}for(d=0,f=c.length;d<f;)u=u.then(c[d++],c[d++]);return u}getUri(t){t=dn(this.defaults,t);const r=y_(t.baseURL,t.url,t.allowAbsoluteUrls);return h_(r,t.params,t.paramsSerializer)}};P.forEach(["delete","get","head","options"],function(t){on.prototype[t]=function(r,n){return this.request(dn(n||{},{method:t,url:r,data:(n||{}).data}))}});P.forEach(["post","put","patch"],function(t){function r(n){return function(a,o,s){return this.request(dn(s||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:a,data:o}))}}on.prototype[t]=r(),on.prototype[t+"Form"]=r(!0)});let a3=class S_{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(a){r=a});const n=this;this.promise.then(i=>{if(!n._listeners)return;let a=n._listeners.length;for(;a-- >0;)n._listeners[a](i);n._listeners=null}),this.promise.then=i=>{let a;const o=new Promise(s=>{n.subscribe(s),a=s}).then(i);return o.cancel=function(){n.unsubscribe(a)},o},t(function(a,o,s){n.reason||(n.reason=new ui(a,o,s),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new S_(function(i){t=i}),cancel:t}}};function o3(e){return function(r){return e.apply(null,r)}}function s3(e){return P.isObject(e)&&e.isAxiosError===!0}const Uu={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Uu).forEach(([e,t])=>{Uu[t]=e});function E_(e){const t=new on(e),r=t_(on.prototype.request,t);return P.extend(r,on.prototype,t,{allOwnKeys:!0}),P.extend(r,t,null,{allOwnKeys:!0}),r.create=function(i){return E_(dn(e,i))},r}const ye=E_(ga);ye.Axios=on;ye.CanceledError=ui;ye.CancelToken=a3;ye.isCancel=g_;ye.VERSION=__;ye.toFormData=Rs;ye.AxiosError=K;ye.Cancel=ye.CanceledError;ye.all=function(t){return Promise.all(t)};ye.spread=o3;ye.isAxiosError=s3;ye.mergeConfig=dn;ye.AxiosHeaders=lt;ye.formToJSON=e=>m_(P.isHTMLForm(e)?new FormData(e):e);ye.getAdapter=x_.getAdapter;ye.HttpStatusCode=Uu;ye.default=ye;const{Axios:Dz,AxiosError:Mz,CanceledError:Nz,isCancel:Lz,CancelToken:Bz,VERSION:Uz,all:Fz,Cancel:zz,isAxiosError:qz,spread:Wz,toFormData:Kz,AxiosHeaders:Hz,HttpStatusCode:Vz,formToJSON:Gz,getAdapter:Yz,mergeConfig:Jz}=ye;function l3(){const[e,t]=y.useState([]),[r,n]=y.useState(!0),[i,a]=y.useState(0),o=rr(),{t:s}=Se();return y.useEffect(()=>{(async()=>{if(o){n(!0);try{const c=await ye.get(`http://localhost:8001/history?client_id=${o}`);t(c.data.history||[])}catch(c){console.error("Error cargando historial",c),t([])}finally{n(!1)}}})()},[o,i]),v.jsx("div",{style:{backgroundColor:"#0f1c2e",minHeight:"100vh",padding:"2rem",fontFamily:"system-ui, sans-serif",color:"white",display:"flex",justifyContent:"center",alignItems:"flex-start"},children:v.jsxs("div",{style:{maxWidth:"800px",width:"100%",backgroundColor:"#1b2a41",padding:"2rem",borderRadius:"16px",boxShadow:"0 10px 30px rgba(0,0,0,0.2)",border:"1px solid #274472"},children:[v.jsxs("h2",{style:{fontSize:"1.8rem",fontWeight:"bold",color:"#f5a623",marginBottom:"1.5rem"},children:["📚 ",s("question_history")]}),r?v.jsxs("p",{style:{color:"#ededed"},children:["🔄 ",s("loading_history")]}):e.length===0?v.jsx("p",{style:{color:"#ededed"},children:s("no_questions_yet")}):v.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:e.map(l=>v.jsxs("div",{style:{backgroundColor:"#ededed",color:"#1b2a41",padding:"1rem",borderRadius:"12px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",border:"1px solid #a3d9b1"},children:[v.jsxs("p",{style:{marginBottom:"0.5rem"},children:[v.jsxs("strong",{children:["🧠 ",s("question"),":"]})," ",l.question]}),v.jsxs("p",{style:{marginBottom:"0.5rem"},children:[v.jsxs("strong",{children:["🤖 ",s("answer"),":"]})," ",l.answer]}),v.jsxs("p",{style:{fontSize:"0.85rem",color:"#4a90e2"},children:["🕒 ",new Date(l.created_at).toLocaleString()]})]},l.id))})]})})}const Oi=e=>/^\+\d{11,15}$/.test(e),Pi=e=>/^\d{10,20}$/.test(e),ji=e=>/^EA[A-Za-z0-9]{16,}$/.test(e);function c3(){const{t:e}=Se(),[t,r]=y.useState("meta"),[n,i]=y.useState(""),[a,o]=y.useState(""),[s,l]=y.useState(""),[c,u]=y.useState({phone:!1,waPhoneId:!1,waToken:!1}),[d,f]=y.useState(null),[h,m]=y.useState({message:"",type:""}),[p,g]=y.useState(!1),b=rr();y.useEffect(()=>{const _=async()=>{const{data:{session:E}}=await Qe.auth.getSession();f(E)},S=async()=>{try{const E=await ye.get("http://localhost:8001/get_whatsapp_config",{params:{client_id:b}}),{phone:O,wa_phone_id:k,wa_token:A,provider:D}=E.data||{};O&&i(O),k&&o(k),A&&l(A),r(D==="meta"||D==="twilio"?D:"meta"),O&&(D==="twilio"||k&&A)&&g(!0)}catch(E){console.log("ℹ️ No config found or failed to fetch:",E)}};_(),S()},[b]);const x=async()=>{if(!d||!Oi(n)||t==="meta"&&(!Pi(a)||!ji(s)))return;const _={auth_user_id:d.user.id,email:d.user.email,phone:n,provider:t,wa_phone_id:t==="meta"?a:null,wa_token:t==="meta"?s:null};try{await ye.post("http://localhost:8001/link_whatsapp",_),m({message:e("wa_success"),type:"success"}),g(!0)}catch(S){console.error(S),m({message:e("wa_error_linking"),type:"error"})}},w=(_,S)=>c[_]&&v.jsxs("p",{style:h3,children:[_==="phone"&&!Oi(S)&&e("wa_error_phone"),_==="waPhoneId"&&!Pi(S)&&e("wa_error_phone_id"),_==="waToken"&&!ji(S)&&e("wa_error_token")]});return v.jsx("div",{style:u3,children:v.jsxs("div",{style:d3,children:[v.jsx("div",{style:p3,children:v.jsxs("h2",{style:f3,children:["💬 ",e("wa_setup_title")]})}),v.jsxs("div",{style:Ga,children:[v.jsx("label",{style:Rv,children:e("wa_choose_provider")}),v.jsxs("select",{value:t,onChange:_=>r(_.target.value),disabled:p,style:{...Va,backgroundColor:p?"#1b2a41":"#0f1c2e",color:p?"#aaa":"white",cursor:p?"not-allowed":"pointer",fontWeight:"bold",border:"1px solid #4a90e2",appearance:"none",backgroundImage:`url("data:image/svg+xml;utf8,<svg fill='white' height='24' viewBox='0 0 24 24' width='24' xmlns='http://www.w3.org/2000/svg'><path d='M7 10l5 5 5-5z'/></svg>")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 0.75rem center",paddingRight:"2rem",marginBottom:"1.5rem"},children:[v.jsx("option",{value:"meta",children:e("wa_provider_meta")}),v.jsx("option",{value:"twilio",children:e("wa_provider_twilio")})]})]}),v.jsxs("div",{style:Ga,children:[v.jsx("label",{style:Rv,children:e("wa_label_phone")}),v.jsx("input",{type:"text",placeholder:"+52XXXXXXXXXXXX",value:n,onChange:_=>i(_.target.value),onBlur:()=>u(_=>({..._,phone:!0})),disabled:p,style:Va}),w("phone",n)]}),t==="meta"&&v.jsxs(v.Fragment,{children:[v.jsxs("div",{style:Ga,children:[v.jsx("input",{type:"text",placeholder:e("wa_placeholder_phone_id"),value:a,onChange:_=>o(_.target.value),onBlur:()=>u(_=>({..._,waPhoneId:!0})),disabled:p,style:Va}),w("waPhoneId",a)]}),v.jsxs("div",{style:Ga,children:[v.jsx("input",{type:"text",placeholder:e("wa_placeholder_token"),value:s,onChange:_=>l(_.target.value),onBlur:()=>u(_=>({..._,waToken:!0})),disabled:p,style:Va}),w("waToken",s)]})]}),!p&&v.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[v.jsxs("button",{onClick:x,disabled:!Oi(n)||t==="meta"&&(!Pi(a)||!ji(s)),style:{...Iv,opacity:Oi(n)&&(t==="twilio"||Pi(a)&&ji(s))?1:.5,cursor:Oi(n)&&(t==="twilio"||Pi(a)&&ji(s))?"pointer":"not-allowed"},children:["📲 ",e("wa_button_link")]}),v.jsxs("button",{onClick:()=>window.history.back(),style:{...Iv,backgroundColor:"#ededed",color:"#1b2a41"},children:["⬅️ ",e("wa_button_back")]})]}),h.message&&v.jsx("p",{style:{marginTop:"1rem",fontWeight:"bold",color:h.type==="error"?"#f87171":"#a3d9b1"},children:h.message})]})})}const u3={padding:"2rem",fontFamily:"system-ui, sans-serif",backgroundColor:"#0f1c2e",color:"white",minHeight:"100vh",display:"flex",justifyContent:"center"},d3={backgroundColor:"#1b2a41",padding:"2rem",borderRadius:"16px",maxWidth:"600px",width:"100%",boxShadow:"0 10px 30px rgba(0,0,0,0.2)",border:"1px solid #274472"},f3={fontSize:"1.8rem",fontWeight:"bold",color:"#f5a623",margin:0},Rv={fontWeight:600,fontSize:"0.95rem",color:"#ededed",marginBottom:"0.25rem"},Va={width:"100%",padding:"0.6rem",borderRadius:"8px",border:"1px solid #4a90e2",marginBottom:"0.5rem",backgroundColor:"#0f1c2e",color:"white"},h3={fontSize:"0.8rem",color:"#f87171",marginTop:"-0.5rem",marginBottom:"1rem"},Ga={marginBottom:"1.5rem"},Iv={backgroundColor:"#4a90e2",color:"white",padding:"0.7rem 1.2rem",borderRadius:"8px",fontWeight:"bold",border:"none",cursor:"pointer"},p3={display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"};function m3(){return v.jsxs("div",{style:{padding:"2rem"},children:[v.jsx("h2",{style:{color:"#274472"},children:"🧰 Servicios Disponibles"}),v.jsxs("ul",{style:{marginTop:"1rem",fontSize:"1.1rem"},children:[v.jsx("li",{children:"🧠 Chat Assistant"}),v.jsx("li",{children:"✉️ Email"}),v.jsx("li",{children:"💬 WhatsApp"})]}),v.jsx("p",{style:{marginTop:"1rem",color:"#666"},children:"Usa el menú lateral para configurar cada servicio."})]})}const g3="http://localhost:8001";function O_(){const[e,t]=y.useState(null),[r,n]=y.useState(null),[i,a]=y.useState(null),[o,s]=y.useState(!0),l=qt(),c=xt(),u=["/","/login","/register","/confirm","/forgot-password","/reset-password","/verify-mfa","/welcome","/chat-widget","/widget","/widget-preview"];return y.useEffect(()=>{(async()=>{let f=0,h=null;for(console.log("%c🔄 Buscando sesión activa...","color: #4a90e2; font-weight: bold");!h&&f<5&&(h=(await Qe.auth.getSession()).data.session,!h);)await new Promise(p=>setTimeout(p,300)),f++;if(!h||!h.user){console.warn("%c⛔ No hay sesión. Redirigiendo a /verify-mfa","color: #e74c3c; font-weight: bold"),t(null),n(null),a(null),s(!1),["/login","/register","/forgot-password","/reset-password"].includes(c.pathname)||l("/verify-mfa",{replace:!0});return}console.log(`%c✅ Sesión activa como: ${h.user.email}`,"color: #2ecc71; font-weight: bold");try{const m=await fetch(`${g3}/initialize_user`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({auth_user_id:h.user.id,email:h.user.email})});let p={};try{p=await m.json()}catch(b){console.error("%c❌ Error parsing JSON:","color: #e74c3c",b),p={}}if(!m.ok){console.error("%c❌ Error en /initialize_user:","color: #e74c3c; font-weight: bold",p),s(!1);return}console.log("%c📡 Datos de /initialize_user:","color: #3498db; font-weight: bold",p),t(h),n(p.client_id),a(p.public_client_id),localStorage.setItem("client_id",p.client_id),localStorage.setItem("public_client_id",p.public_client_id),localStorage.setItem("user_id",h.user.id),s(!1);const g=sessionStorage.getItem("alreadyRedirected");u.includes(c.pathname)?p.is_new_user&&!g?(console.log("%c📥 Usuario nuevo → Redirigiendo a /welcome","color: #f5a623; font-weight: bold"),sessionStorage.setItem("alreadyRedirected","true"),l("/welcome",{replace:!0})):!g&&c.pathname==="/login"?(console.log("%c🏠 Usuario existente. Redirigiendo a /dashboard","color: #f5a623; font-weight: bold"),l("/dashboard",{replace:!0})):console.log("%c🛑 Ruta pública correcta, no redirigir:","color: #3498db",c.pathname):console.log("%c🛑 Ruta privada detectada. No redirigir.","color: #3498db")}catch(m){console.error("%c❌ Error de red al llamar a /initialize_user:","color: #e74c3c; font-weight: bold",m),s(!1)}})()},[l,c.pathname]),{session:e,clientId:r,publicClientId:i,loading:o}}function v3(){const{publicClientId:e,loading:t}=O_(),{t:r}=Se(),n=s=>{navigator.clipboard.writeText(s),alert(`📋 ${r("copied_to_clipboard")}`)},i=window.location.hostname.includes("localhost")?"http://localhost:5180/static":"https://evolvian-assistant.onrender.com/static",a=`<script
  type="module"
  src="${i}/embed-floating.js"
  data-public-client-id="${e}"
><\/script>`,o=`<iframe
  src="${i}/widget.html?public_client_id=${e||"TU_ID_PUBLICO"}"
  style="width:360px;height:520px;border:none;border-radius:12px;"
  allow="clipboard-write; microphone"
  title="Evolvian AI Chat Widget"
></iframe>`;return t?v.jsx("div",{style:$v,children:v.jsxs("div",{style:{color:"#ededed"},children:["🔄 ",r("loading_setup")]})}):v.jsx("div",{style:$v,children:v.jsxs("div",{style:{maxWidth:"1400px",margin:"0 auto"},children:[v.jsxs("h2",{style:y3,children:["🧠 ",r("setup_evolvian_web")]}),v.jsx("p",{style:b3,children:r("setup_description")}),v.jsxs("div",{style:w3,children:[v.jsxs("div",{children:[v.jsxs("strong",{children:[r("your_public_id"),":"]})," ",v.jsx("span",{style:{color:"#a3d9b1"},children:e||r("not_available")})]}),v.jsx("button",{onClick:()=>n(e),disabled:!e,style:x3(e),children:r("copy_id")})]}),v.jsxs("div",{style:_3,children:[v.jsxs("div",{style:Dv,children:[v.jsxs("h3",{style:Mv,children:["🔹 ",r("option1_title")]}),v.jsxs("p",{style:Nv,children:["💡 ",r("option1_hint")]}),v.jsxs("ol",{style:Lv,children:[v.jsxs("li",{children:["1. ",r("copy_script")]}),v.jsxs("li",{children:["2. ",r("paste_before_body")]})]}),v.jsx("pre",{style:Bv,children:a}),v.jsx("button",{onClick:()=>n(a),style:Uv,children:r("copy_script_button")})]}),v.jsxs("div",{style:Dv,children:[v.jsxs("h3",{style:Mv,children:["🔹 ",r("option2_title")]}),v.jsxs("p",{style:Nv,children:["💡 ",r("option2_hint")]}),v.jsxs("ol",{style:Lv,children:[v.jsxs("li",{children:["1. ",r("copy_code")]}),v.jsxs("li",{children:["2. ",r("paste_before_body")]})]}),v.jsx("pre",{style:Bv,children:o}),v.jsx("button",{onClick:()=>n(o),style:Uv,children:r("copy_iframe")})]})]})]})})}const $v={padding:"2rem 3rem",fontFamily:"system-ui, sans-serif",backgroundColor:"#0f1c2e",color:"#ffffff",minHeight:"100vh"},y3={fontSize:"2rem",color:"#f5a623",fontWeight:"bold",marginBottom:"1rem"},b3={color:"#ffffff",maxWidth:"800px",marginBottom:"2rem"},w3={backgroundColor:"#1b2a41",padding:"1rem",borderRadius:"12px",marginBottom:"2rem",display:"flex",alignItems:"center",justifyContent:"space-between",maxWidth:"600px"},x3=e=>({backgroundColor:"#4a90e2",color:"white",border:"none",borderRadius:"8px",padding:"0.5rem 1rem",fontWeight:"bold",cursor:e?"pointer":"not-allowed",opacity:e?1:.5}),_3={display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(400px, 1fr))",gap:"2rem",marginTop:"2rem"},Dv={display:"flex",flexDirection:"column",justifyContent:"space-between",backgroundColor:"#1b2a41",padding:"1.5rem",borderRadius:"12px",minHeight:"460px"},Mv={color:"#f5a623",fontSize:"1.2rem",marginBottom:"0.75rem"},Nv={fontSize:"0.85rem",color:"#a3d9b1",marginBottom:"1rem"},Lv={fontSize:"0.85rem",marginBottom:"1rem"},Bv={background:"#ededed",color:"#274472",padding:"1rem",borderRadius:"8px",fontSize:"0.75rem",overflowX:"auto",marginBottom:"0.5rem"},Uv={backgroundColor:"#f5a623",color:"#1b2a41",border:"none",borderRadius:"8px",padding:"0.5rem 1rem",fontWeight:"bold",fontSize:"0.85rem",cursor:"pointer"};function S3(){const[e,t]=y.useState(""),[r,n]=y.useState(!1),i=rr(),{t:a}=Se();y.useEffect(()=>{(async()=>{if(!i)return;const{data:l}=await Qe.from("clients").select("email_forward").eq("id",i).single();l!=null&&l.email_forward&&t(l.email_forward)})()},[i]);const o=async()=>{if(!i||!e)return;const{error:s}=await Qe.from("clients").update({email_forward:e}).eq("id",i);s||n(!0)};return v.jsx("div",{style:E3,children:v.jsxs("div",{style:O3,children:[v.jsxs("h2",{style:P3,children:["✉️ ",a("setup_email_assistant")]}),v.jsx("p",{style:Fv,children:a("email_instructions_intro")}),v.jsx("code",{style:j3,children:"contacto@tudominio.com → evolvian@correo.evolvian.app"}),v.jsx("p",{style:Fv,children:a("save_email_instruction")}),v.jsx("input",{type:"email",placeholder:a("email_placeholder"),value:e,onChange:s=>{t(s.target.value),n(!1)},style:k3}),v.jsx("button",{onClick:o,style:A3,children:a("save_address")}),r&&v.jsxs("p",{style:{color:"#a3d9b1",fontSize:"0.95rem"},children:["✅ ",a("address_saved")]}),v.jsxs("div",{style:{marginTop:"2rem",fontSize:"0.9rem",color:"#ededed"},children:[v.jsx("p",{children:v.jsx("strong",{children:a("how_it_works")})}),v.jsxs("ul",{style:T3,children:[v.jsxs("li",{children:["1️⃣ ",a("step1")]}),v.jsxs("li",{children:["2️⃣ ",a("step2")]}),v.jsxs("li",{children:["3️⃣ ",a("step3")]})]})]})]})})}const E3={backgroundColor:"#0f1c2e",minHeight:"100vh",padding:"2rem",fontFamily:"system-ui, sans-serif",color:"white",display:"flex",justifyContent:"center"},O3={backgroundColor:"#1b2a41",padding:"2rem",borderRadius:"16px",maxWidth:"600px",width:"100%",boxShadow:"0 10px 30px rgba(0,0,0,0.2)",border:"1px solid #274472"},P3={fontSize:"1.8rem",fontWeight:"bold",color:"#f5a623",marginBottom:"1.5rem"},Fv={marginBottom:"1rem"},j3={backgroundColor:"#ededed",color:"#274472",padding:"0.6rem 1rem",borderRadius:"8px",display:"block",marginBottom:"1.5rem"},k3={width:"100%",padding:"0.6rem",borderRadius:"8px",border:"1px solid #4a90e2",marginBottom:"1rem",backgroundColor:"#0f1c2e",color:"white"},A3={backgroundColor:"#4a90e2",color:"white",padding:"0.7rem 1.2rem",borderRadius:"8px",fontWeight:"bold",border:"none",cursor:"pointer",marginBottom:"1rem"},T3={marginTop:"0.5rem",paddingLeft:"1.2rem",lineHeight:"1.7"};function C3({children:e,...t}){return v.jsx("button",{className:"w-full py-2.5 bg-[#2eb39a] hover:bg-[#26a488] text-white font-semibold rounded-lg transition",...t,children:e})}function zv({children:e}){return v.jsx("div",{className:"w-full max-w-md bg-[#1b2a41] border border-[#274472] rounded-2xl p-8 shadow-lg text-white",children:e})}const Fu=He;function R3(){const{t:e}=Se(),t=rr(),[r,n]=y.useState(!1),[i,a]=y.useState([]),o=xt(),s=qt();y.useEffect(()=>{const c=new URLSearchParams(o.search);c.get("connected_calendar")==="true"&&(Fu({title:e("calendar_connected_title"),description:e("calendar_connected_description")}),c.delete("connected_calendar"),s({pathname:o.pathname,search:c.toString()},{replace:!0}))},[o,s]),y.useEffect(()=>{t&&fetch(`/api/calendar/status?client_id=${t}`).then(c=>c.json()).then(c=>{if(c.connected){n(!0);const u=(c.available_slots||[]).filter(d=>typeof d=="string"||typeof d=="number");a(u)}}).catch(()=>{Fu({title:e("calendar_error_title"),description:e("calendar_error_description"),variant:"destructive"})})},[t]);const l=()=>{const u=`http://localhost:8001/api/auth/google_calendar/init?client_id=${t}`;console.log("🔗 Redirigiendo a:",u),window.location.href=u};return v.jsxs("div",{className:"p-6 max-w-4xl mx-auto",children:[v.jsx("h1",{className:"text-2xl font-bold mb-4",children:e("calendar_title")}),v.jsxs(zv,{children:[v.jsx("p",{className:"mb-4",children:e("calendar_description")}),v.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[v.jsx(C3,{onClick:l,disabled:!t||r,children:e(r?"calendar_account_connected":"calendar_connect_button")}),r&&v.jsx("span",{className:"text-sm text-green-600 font-medium",children:e("calendar_active_connection")})]})]}),r&&v.jsx("div",{className:"mt-8",children:v.jsxs(zv,{children:[v.jsx("h2",{className:"text-xl font-semibold mb-2",children:e("calendar_next_slots_title")}),i.length===0?v.jsx("p",{className:"text-sm text-gray-500",children:e("calendar_no_slots")}):v.jsx("ul",{className:"list-disc ml-5",children:i.map((c,u)=>{const d=new Date(c),f=!isNaN(d.getTime());return v.jsx("li",{className:"text-sm",children:f?d.toLocaleString():"⛔ Fecha inválida"},u)})})]})})]})}function I3({activeTab:e,formData:t,refetchSettings:r}){var m;const{t:n}=Se();rr();const i=xt(),[a,o]=y.useState(!1),s=[{id:"free",name:n("plan_free"),price:"$0",features:[n("feature_chat_widget"),n("feature_basic_usage")]},{id:"starter",name:n("plan_starter"),price:"$19/mo",features:[n("feature_chat_widget"),n("feature_email_support"),n("feature_higher_limits")]},{id:"premium",name:n("plan_premium"),price:"$49/mo",features:[n("feature_all_starter"),n("feature_custom_prompt"),n("premium_messages")]},{id:"white_label",name:n("plan_white_label"),price:"",features:[n("feature_all_premium"),n("feature_custom_needs")]}];function l(p){const g={year:"numeric",month:"short",day:"numeric"};return new Date(p).toLocaleDateString(void 0,g)}if(e!=="plan")return null;const c=t.plan||{id:"free",name:n("plan_free")},u=((m=c==null?void 0:c.id)==null?void 0:m.toLowerCase())||"free",d=t.show_powered_by,f=t.subscription_start,h=t.subscription_end;return y.useEffect(()=>{new URLSearchParams(i.search).get("session_id")&&(Fu({title:n("subscription_activated_title"),description:n("subscription_activated_desc")}),r&&r().then(()=>{var g;console.log("✅ Plan actualizado tras sesión Stripe:",(g=t.plan)==null?void 0:g.id)}))},[i]),v.jsxs("div",{style:{marginTop:"2rem"},children:[v.jsxs("div",{style:{backgroundColor:"white",border:"1px solid #4a90e2",borderRadius:"16px",padding:"1.5rem",boxShadow:"0 4px 10px rgba(0,0,0,0.08)"},children:[v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[v.jsxs("h3",{style:{color:"#274472",fontSize:"1.2rem",fontWeight:"bold"},children:["🧾 ",n("your_current_plan")]}),v.jsx("span",{style:{backgroundColor:"#4a90e2",color:"white",padding:"4px 12px",borderRadius:"999px",fontSize:"0.85rem",textTransform:"capitalize"},children:(c==null?void 0:c.name)||u})]}),v.jsxs("ul",{style:{fontSize:"0.95rem",paddingLeft:"1rem",marginBottom:"1rem",lineHeight:"1.8",color:"#1b2a41"},children:[v.jsxs("li",{children:[v.jsxs("strong",{style:{color:"#4a90e2"},children:["💬 ",n("messages"),":"]})," ",c!=null&&c.is_unlimited?n("unlimited"):(c==null?void 0:c.max_messages)??"—"]}),v.jsxs("li",{children:[v.jsxs("strong",{style:{color:"#4a90e2"},children:["📄 ",n("documents"),":"]})," ",c!=null&&c.is_unlimited?n("unlimited"):(c==null?void 0:c.max_documents)??"—"]}),v.jsxs("li",{children:[v.jsxs("strong",{style:{color:"#4a90e2"},children:["🔖 ",n("branding_active"),":"]})," ",n(d?"yes":"no")]}),f&&v.jsxs("li",{children:[v.jsxs("strong",{style:{color:"#4a90e2"},children:["📅 ",n("start_date"),":"]})," ",l(f)]}),h&&v.jsxs("li",{children:[v.jsxs("strong",{style:{color:"#4a90e2"},children:["⏳ ",n("end_date"),":"]})," ",l(h)]})]}),v.jsxs("div",{style:{backgroundColor:"#fef3c7",border:"1px solid #f5a623",padding:"1rem",borderRadius:"8px",fontSize:"0.95rem",color:"#1b2a41"},children:[n("change_plan_help")," ",v.jsx("a",{href:"mailto:support@evolvianai.com",style:{color:"#4a90e2",textDecoration:"underline"},children:"support@evolvianai.com"})]})]}),v.jsxs("h4",{style:{fontSize:"1.1rem",marginTop:"2rem",marginBottom:"1rem",color:"#f5a623"},children:["💡 ",n("see_plans")]}),v.jsx("div",{style:{display:"flex",flexDirection:"row",gap:"1rem",overflowX:"auto",paddingBottom:"0.5rem"},children:s.map(p=>{const g=u===p.id;return v.jsxs("div",{style:{minWidth:"240px",flex:"0 0 auto",border:g?"2px solid #a3d9b1":"1px solid #ccc",borderRadius:"12px",padding:"1rem",backgroundColor:"#fff",color:"#1b2a41"},children:[v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[v.jsx("h5",{style:{margin:0,fontSize:"1rem",color:"#1b2a41"},children:p.name}),p.price&&v.jsx("span",{style:{fontWeight:"bold"},children:p.price})]}),v.jsx("ul",{style:{marginTop:"0.5rem",fontSize:"0.9rem",paddingLeft:"1rem"},children:p.features.map((b,x)=>v.jsx("li",{children:b},x))}),p.id==="white_label"&&v.jsxs("p",{style:{marginTop:"0.75rem",fontSize:"0.85rem",color:"#4a90e2",fontWeight:"bold"},children:[n("contact_for_whitelabel")," ",v.jsx("a",{href:"mailto:support@evolvianai.com",style:{textDecoration:"underline"},children:"support@evolvianai.com"})]}),g&&v.jsxs("div",{style:{marginTop:"0.75rem",fontSize:"0.85rem",color:"#4a90e2",fontWeight:"bold"},children:["✅ ",n("current_plan")]})]},p.id)})})]})}const qv={chat_widget:["free","starter","premium"],email_support:["starter","premium"],whatsapp_integration:["premium"],custom_greeting:["starter","premium"],white_labeling:["white_label"]},Wv=["free","starter","premium","white_label"];function $3({activeTab:e,plan:t}){const{t:r}=Se();if(console.log("📢 Render FeatureList"),console.log("🧾 activeTab:",e),console.log("📦 plan prop:",t),e!=="features")return null;const n=typeof(t==null?void 0:t.id)=="string"?t.id.toLowerCase():"free",i=(o,s)=>{const l=qv[o];if(!l)return!1;const c=Wv.indexOf(s);return l.some(u=>Wv.indexOf(u)<=c)},a=o=>{const s=qv[o];return!s||s.length===0?"—":s.includes("free")?r("free"):s.includes("starter")?r("starter"):s.includes("premium")?r("premium"):s[0]};return v.jsxs("div",{style:{marginTop:"2rem",backgroundColor:"white",border:"1px solid #4a90e2",borderRadius:"16px",padding:"1.5rem",boxShadow:"0 4px 10px rgba(0,0,0,0.08)"},children:[v.jsxs("h4",{style:{fontSize:"1.1rem",fontWeight:"bold",color:"#274472",marginBottom:"1rem"},children:["🧩 ",r("included_features")]}),v.jsx("ul",{style:{listStyle:"none",padding:0,margin:0,fontSize:"0.95rem"},children:[{key:"chat_widget",label:r("chat_widget"),icon:"💬"}].map(o=>{const s=i(o.key,n);return v.jsxs("li",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"0.5rem",color:s?"#4a90e2":"#999"},children:[v.jsx("span",{children:o.icon}),v.jsx("span",{children:o.label}),v.jsx("span",{style:{marginLeft:"auto",backgroundColor:s?"#a3d9b1":"#f5a623",color:"#1b2a41",fontSize:"0.7rem",padding:"2px 6px",borderRadius:"999px",fontWeight:"bold"},children:s?r("included_in_plan"):`${r("available_from")} ${a(o.key)}`})]},o.key)})})]})}function D3({activeTab:e,custom_prompt:t,hasPromptFeature:r,onChange:n,maxLength:i,defaultPrompt:a,temperature:o}){const{t:s}=Se();if(e!=="prompt")return null;const l=t||a,c=l.length>i;return v.jsxs("div",{style:{marginTop:"2rem",display:"flex",flexDirection:"column",gap:"1.5rem"},children:[v.jsxs("div",{children:[v.jsx("label",{children:s("custom_prompt")}),v.jsx("textarea",{name:"custom_prompt",value:l,onChange:n,readOnly:!r,rows:6,style:{width:"100%",padding:"8px",borderRadius:"6px",border:c?"2px solid #e53935":"1px solid #ccc",marginTop:"4px",fontFamily:"inherit"}}),v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"4px"},children:[!r&&v.jsx("p",{style:{color:"#888",fontSize:"0.85rem"},children:s("custom_prompt_locked")}),v.jsxs("p",{style:{fontSize:"0.85rem",color:c?"#e53935":"#666"},children:[l.length," / ",i," ",s("characters")]})]})]}),v.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:[v.jsxs("label",{htmlFor:"temperature",style:{fontWeight:"bold"},children:["🌡️ ",s("temperature_label")||"Model temperature (0.0 - 1.0)"]}),v.jsx("input",{type:"number",step:"0.1",min:"0",max:"1",name:"temperature",id:"temperature",value:o,onChange:n,readOnly:!r,style:{padding:"0.5rem",border:"1px solid #ccc",borderRadius:"4px",width:"100%",backgroundColor:r?"white":"#f5f5f5",color:r?"#000":"#999"}}),!r&&v.jsx("small",{style:{color:"#888"},children:s("upgrade_to_edit_temperature")||"Upgrade your plan to customize temperature."})]})]})}function M3(){var g,b;const e=rr(),{t}=Se(),[r,n]=y.useState("plan"),[i,a]=y.useState({assistant_name:"",language:"es",temperature:.7,plan:null,show_powered_by:!0,custom_prompt:"",require_email:!1,require_phone:!1,require_terms:!1}),[o,s]=y.useState({message:"",type:""}),[l,c]=y.useState(!0),u=t("default_prompt")||"Eres un asistente de IA diseñado para ayudar con preguntas sobre los documentos cargados por el cliente.",d=2e3,f=y.useCallback(async()=>{if(e){try{console.log("📡 Fetching settings for:",e);const x=await fetch(`http://localhost:8001/client_settings?client_id=${e}`),w=await x.json();if(console.log("📦 Response from /client_settings:",w),x.ok&&w){const _=w.plan||{id:"free",plan_features:[]};a(S=>({...S,...w,plan:{..._,plan_features:_.plan_features??[]}})),console.log("🧾 Plan actualizado en estado:",_==null?void 0:_.id)}else console.error("❌ Error al obtener configuración:",w)}catch(x){console.error("❌ Error de red en fetchSettings:",x)}c(!1)}},[e]);y.useEffect(()=>{f()},[f]);const h=x=>{const{name:w,type:_,checked:S,value:E}=x.target;a(O=>({...O,[w]:_==="checkbox"?S:E}))},m=async x=>{if(x.preventDefault(),(i.custom_prompt||u).length>d){s({message:`❌ ${t("prompt_too_long")}`,type:"error"});return}const w={client_id:e,assistant_name:i.assistant_name,language:i.language,temperature:i.temperature,custom_prompt:i.custom_prompt,require_email:i.require_email,require_phone:i.require_phone,require_terms:i.require_terms};try{console.log("📤 Enviando payload:",w);const _=await fetch("http://localhost:8001/client_settings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(w)}),S=await _.json();console.log("📨 Respuesta POST /client_settings:",S),_.ok?s({message:`✅ ${t("settings_saved")}`,type:"success"}):s({message:`❌ ${S.error||t("error_saving")}`,type:"error"})}catch(_){console.error("❌ Error en handleSubmit:",_),s({message:"❌ Error al guardar configuración.",type:"error"})}},p=((b=(g=i.plan)==null?void 0:g.plan_features)==null?void 0:b.some(x=>{var w,_;return typeof x=="string"?x==="custom_prompt_editing":((_=(w=x==null?void 0:x.feature)==null?void 0:w.toLowerCase())==null?void 0:_.replace(/\s+/g,"_"))==="custom_prompt_editing"}))??!1;return l?v.jsx("p",{children:t("loading_settings")}):(console.log("📌 Renderizando ClientSettings con tab:",r),v.jsxs("div",{style:{padding:"2rem",maxWidth:"700px",margin:"0 auto"},children:[v.jsxs("h2",{children:["⚙️ ",t("client_settings")]}),v.jsxs("div",{style:{display:"flex",gap:"1rem",marginBottom:"2rem",flexWrap:"wrap"},children:[v.jsxs("button",{onClick:()=>n("plan"),style:Tc(r==="plan"),children:["🧾 ",t("your_current_plan")]}),v.jsxs("button",{onClick:()=>n("features"),style:Tc(r==="features"),children:["🧩 ",t("included_features")]}),v.jsxs("button",{onClick:()=>n("prompt"),style:Tc(r==="prompt"),children:["🎨 ",t("custom_prompt")]})]}),r==="plan"&&v.jsx(I3,{activeTab:r,formData:i,refetchSettings:f}),r==="features"&&v.jsx($3,{activeTab:r,plan:i.plan}),r==="prompt"&&v.jsxs("form",{onSubmit:m,style:{display:"flex",flexDirection:"column",gap:"2rem"},children:[v.jsx(D3,{activeTab:r,custom_prompt:i.custom_prompt,temperature:i.temperature,hasPromptFeature:p,onChange:h,maxLength:d,defaultPrompt:u}),v.jsx("button",{type:"submit",style:{backgroundColor:"#4a90e2",color:"white",padding:"10px 16px",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"bold",width:"fit-content"},children:t("save_settings")})]}),o.message&&v.jsx("p",{style:{marginTop:"1.5rem",fontWeight:"bold",color:o.type==="error"?"#e53935":"#2e7d32"},children:o.message})]}))}const Tc=e=>({padding:"6px 12px",backgroundColor:e?"#a3d9b1":"#ededed",color:"#274472",borderRadius:"999px",border:"none",cursor:"pointer",fontWeight:"500",fontSize:"0.9rem"});function N3(){const{lang:e,changeLanguage:t}=Se();return v.jsxs("div",{style:L3,children:[v.jsx("button",{onClick:()=>t("en"),disabled:e==="en",style:{...Kv,backgroundColor:e==="en"?"#4a90e2":"#ededed",color:e==="en"?"white":"#274472"},children:"English"}),v.jsx("button",{onClick:()=>t("es"),disabled:e==="es",style:{...Kv,backgroundColor:e==="es"?"#4a90e2":"#ededed",color:e==="es"?"white":"#274472"},children:"Español"})]})}const L3={display:"flex",justifyContent:"center",gap:"0.5rem",marginTop:"1rem"},Kv={padding:"0.4rem 0.8rem",borderRadius:"8px",border:"none",fontWeight:"bold",cursor:"pointer"};function B3(){const e=qt(),t=rr(),{t:r}=Se(),[n,i]=y.useState([]),[a,o]=y.useState(null);y.useEffect(()=>{(async()=>{var u,d;if(t)try{const f=await fetch(`http://localhost:8001/client_settings?client_id=${t}`),h=await f.json();if(f.ok){const m=g=>g.toLowerCase().replace(/\s+/g,"_"),p=((d=(u=h.plan)==null?void 0:u.plan_features)==null?void 0:d.map(g=>m(g.feature)))||[];i(p)}}catch(f){console.error("❌ Error al conectar con el backend:",f)}})()},[t]);const s=async()=>{await Qe.auth.signOut(),localStorage.clear(),e("/login",{replace:!0}),window.location.reload()},l=c=>n.includes(c);return v.jsx("aside",{style:U3,children:v.jsxs("div",{children:[v.jsxs("div",{style:F3,children:[v.jsx("img",{src:"/logo-evolvian.svg",alt:"Evolvian Logo",style:{width:"60px",margin:"0 auto"}}),v.jsx(N3,{})]}),v.jsxs("nav",{style:z3,children:[v.jsx(Ya,{label:`📊 ${r("dashboard")}`,to:"/dashboard",hovered:a,setHovered:o,id:"dashboard"}),v.jsx(Ya,{label:`📤 ${r("upload")}`,to:"/upload",hovered:a,setHovered:o,id:"upload"}),v.jsx(Ya,{label:`📚 ${r("history")}`,to:"/history",hovered:a,setHovered:o,id:"history"}),[{label:`🧠 ${r("chat_assistant")}`,path:"/services/chat",feature:"chat_widget"}].map(({label:c,path:u,feature:d})=>{const f=l(d),h=u;return v.jsxs("div",{style:zu,children:[v.jsx($r,{to:f?u:"#",style:{...P_,backgroundColor:a===h?"#4a90e2":"transparent",color:f?"white":"#999",pointerEvents:f?"auto":"none"},onMouseEnter:()=>o(h),onMouseLeave:()=>o(null),title:f?"":r("premium_only"),children:c}),!f&&v.jsx("span",{style:{...q3,marginLeft:"8px"},children:"Premium"})]},d)}),v.jsx(Ya,{label:`⚙️ ${r("settings")}`,to:"/settings",hovered:a,setHovered:o,id:"settings"}),v.jsx("div",{style:{...zu,marginTop:"1.5rem"},children:v.jsx("button",{onClick:s,style:W3,children:r("logout")})})]})]})})}function Ya({to:e,label:t,hovered:r,setHovered:n,id:i}){return v.jsx("div",{style:zu,children:v.jsx($r,{to:e,onMouseEnter:()=>n(i),onMouseLeave:()=>n(null),style:{...P_,backgroundColor:r===i?"#4a90e2":"transparent"},children:t})})}const U3={width:"240px",background:"#274472",color:"white",padding:"2rem 1.5rem",minHeight:"100vh",display:"flex",flexDirection:"column"},F3={textAlign:"center",marginBottom:"2rem"},z3={display:"flex",flexDirection:"column"},zu={padding:"0.4rem 0.6rem",borderBottom:"1px solid rgba(255, 255, 255, 0.1)"},P_={color:"white",textDecoration:"none",fontWeight:"500",fontSize:"1rem",transition:"all 0.2s ease",display:"block",borderRadius:"6px"},q3={backgroundColor:"#f5a623",color:"#1b2a41",fontSize:"0.7rem",padding:"2px 6px",borderRadius:"999px",fontWeight:"bold",verticalAlign:"middle"},W3={backgroundColor:"#f5a623",color:"white",border:"none",borderRadius:"8px",padding:"0.5rem 1rem",cursor:"pointer",fontWeight:"bold",width:"100%"},K3="evolvian-internal";function H3(){const[e,t]=y.useState(!1),r=K3;return v.jsxs(v.Fragment,{children:[v.jsx("button",{onClick:()=>t(!e),style:{position:"fixed",bottom:e?"540px":"24px",right:"24px",zIndex:1e4,borderRadius:"50%",width:"64px",height:"64px",border:"none",cursor:"pointer",overflow:"hidden",padding:0},children:e?v.jsx("span",{style:{fontSize:"32px",color:"white",background:"#4a90e2",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:"×"}):v.jsx("img",{src:"/logo-evolvian.svg",alt:"Evolvian Logo",style:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"50%"}})}),e&&v.jsx("div",{style:V3.container,children:v.jsx(Yo,{clientId:r})})]})}const V3={container:{position:"fixed",bottom:"24px",right:"24px",width:"360px",height:"500px",backgroundColor:"#ffffff",borderRadius:"16px",boxShadow:"0 6px 24px rgba(0,0,0,0.2)",zIndex:9999,overflow:"hidden"}};function ir({children:e}){return v.jsxs("div",{style:G3,children:[v.jsx("header",{style:Y3,children:"Evolvian™"}),v.jsxs("div",{style:J3,children:[v.jsx(B3,{}),v.jsx("main",{style:X3,children:e})]}),v.jsxs("footer",{style:Z3,children:[v.jsx("div",{children:"Evolvian™ is a pending trademark application filed with the USPTO. All rights reserved."}),v.jsxs("div",{children:["Version v1.0 —"," ",v.jsx("a",{href:"https://evolvianai.com",target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"underline",color:"#a3d9b1"},children:"Visit Public Site"})," ","|"," ",v.jsx("a",{href:"/terms",style:{textDecoration:"underline",color:"#a3d9b1"},children:"Terms & Conditions"})]})]}),v.jsx(H3,{})]})}const G3={display:"flex",flexDirection:"column",minHeight:"100vh",backgroundColor:"#0f1c2e",color:"white"},Y3={padding:"1rem",fontSize:"1.5rem",fontWeight:"bold",color:"#f5a623",backgroundColor:"#1b2a41",textAlign:"center"},J3={display:"flex",flex:1},X3={flex:1,padding:"2rem",overflowY:"auto"},Z3={textAlign:"center",padding:"1rem",fontSize:"0.875rem",backgroundColor:"#1b2a41",color:"#ededed"};function Q3({children:e}){const[t,r]=y.useState(!0),[n,i]=y.useState(!1),[a,o]=y.useState(!1);return y.useEffect(()=>{(async()=>{const{data:{session:l}}=await Qe.auth.getSession();l||o(!0),i(!!l),r(!1)})()},[]),t?v.jsx("p",{className:"p-6",children:"🔐 Verificando sesión..."}):a?(alert("⚠️ Debes iniciar sesión para acceder a esta sección."),v.jsx(ty,{to:"/login",replace:!0})):e}function ar({children:e}){const{session:t,clientId:r,loading:n}=O_();return n?v.jsx("div",{style:{padding:"2rem",color:"white"},children:"🔄 Cargando sesión..."}):!t||!r?v.jsx("div",{style:{padding:"2rem",color:"white"},children:"⛔ Sesión no válida. Por favor inicia sesión."}):v.jsx(Q3,{children:e})}function ez(){const[e]=sy(),t=e.get("public_client_id"),[r,n]=y.useState(null),[i,a]=y.useState(!0);return y.useEffect(()=>{if(!t){console.warn("⚠️ No se encontró public_client_id en la URL");return}(async()=>{try{const l=await(await fetch(`http://localhost:8001/client_settings?public_client_id=${t}`)).json();console.log(`⚙️ Settings cargados desde backend (crudo):
`,JSON.stringify(l,null,2));const c=(l==null?void 0:l.settings)||l;console.log("📌 Usando configuración extraída:",c),n(c)}catch(s){console.error("❌ Error al obtener settings:",s)}finally{a(!1)}})()},[t]),t?i?v.jsx("p",{children:"🔄 Cargando configuración del cliente..."}):r?v.jsx("div",{style:{height:"100vh",padding:"1rem",fontFamily:"sans-serif"},children:v.jsx(Yo,{clientId:t,requireEmail:r.require_email,requirePhone:r.require_phone,requireTerms:r.require_terms})}):v.jsx("p",{children:"⚠️ No se pudo cargar la configuración del asistente."}):v.jsxs("p",{children:["❌ No hay public_client_id en la URL. Usa ",v.jsx("code",{children:"?public_client_id=..."})]})}function tz(){return v.jsx("div",{style:ge.container,children:v.jsxs("div",{style:ge.card,children:[v.jsx("h1",{style:ge.title,children:"Terms and Conditions"}),v.jsx("p",{style:ge.paragraph,children:"These Terms and Conditions (“Terms”) govern your use of the Evolvian™ platform (“Service”). By accessing or using our Service, you agree to be bound by these Terms. If you do not agree, please do not use the Service."}),v.jsx("h2",{style:ge.subtitle,children:"1. Use of Service"}),v.jsx("p",{style:ge.paragraph,children:"You must be at least 18 years old to use the Service. You agree to use the platform only for lawful purposes and in accordance with these Terms."}),v.jsx("h2",{style:ge.subtitle,children:"2. Account Responsibility"}),v.jsx("p",{style:ge.paragraph,children:"You are responsible for maintaining the confidentiality of your credentials and for any activity conducted under your account. You agree to notify us immediately of any unauthorized use."}),v.jsx("h2",{style:ge.subtitle,children:"3. Document Privacy"}),v.jsx("p",{style:ge.paragraph,children:"Documents uploaded to Evolvian are private and are not shared with third parties or used to train any public AI model. We do not access your data unless explicitly authorized or required by law."}),v.jsx("h2",{style:ge.subtitle,children:"4. Intellectual Property"}),v.jsx("p",{style:ge.paragraph,children:"All intellectual property rights in the platform and its components are owned by Evolvian. You retain ownership of any documents or data you upload."}),v.jsx("h2",{style:ge.subtitle,children:"5. Prohibited Activities"}),v.jsx("p",{style:ge.paragraph,children:"You agree not to misuse the platform, including but not limited to uploading malicious content, violating privacy rights, reverse engineering the software, or exceeding usage limits based on your plan."}),v.jsx("h2",{style:ge.subtitle,children:"6. Service Availability"}),v.jsx("p",{style:ge.paragraph,children:"We aim to provide continuous access but do not guarantee uninterrupted availability. We may suspend access for maintenance or upgrades with prior notice when possible."}),v.jsx("h2",{style:ge.subtitle,children:"7. Limitation of Liability"}),v.jsx("p",{style:ge.paragraph,children:"Evolvian is not liable for any indirect, incidental, or consequential damages resulting from the use or inability to use the Service, to the extent permitted by law."}),v.jsx("h2",{style:ge.subtitle,children:"8. Changes to Terms"}),v.jsx("p",{style:ge.paragraph,children:"We may update these Terms at any time. Continued use of the Service after such changes implies acceptance. We encourage users to review the Terms periodically."}),v.jsx("h2",{style:ge.subtitle,children:"9. Contact"}),v.jsxs("p",{style:ge.paragraph,children:["For any questions regarding these Terms, please contact us at ",v.jsx("a",{href:"mailto:legal@evolvian.com",style:ge.link,children:"legal@evolvian.com"}),"."]})]})})}const ge={container:{minHeight:"100vh",backgroundColor:"#0f1c2e",display:"flex",justifyContent:"center",alignItems:"center",padding:"2rem"},card:{backgroundColor:"#1b2a41",borderRadius:"1rem",padding:"2.5rem",maxWidth:"750px",width:"100%",border:"1px solid #274472",color:"#ededed"},title:{color:"#a3d9b1",fontSize:"2rem",marginBottom:"1.5rem"},subtitle:{color:"#f5a623",fontSize:"1.2rem",marginTop:"1.5rem",marginBottom:"0.5rem"},paragraph:{fontSize:"1rem",lineHeight:"1.6",marginBottom:"1rem"},link:{color:"#4a90e2",textDecoration:"underline"}};function rz(){const e=xt();return["/","/login","/register","/confirm","/forgot-password","/reset-password","/verify-mfa","/welcome","/chat-widget","/widget","/widget-preview","/terms"].includes(e.pathname),v.jsxs(I1,{children:[v.jsx(ve,{path:"/",element:v.jsx(ty,{to:"/login"})}),v.jsx(ve,{path:"/login",element:v.jsx(IO,{})}),v.jsx(ve,{path:"/register",element:v.jsx(gP,{})}),v.jsx(ve,{path:"/confirm",element:v.jsx(EP,{})}),v.jsx(ve,{path:"/forgot-password",element:v.jsx(AP,{})}),v.jsx(ve,{path:"/reset-password",element:v.jsx(BP,{})}),v.jsx(ve,{path:"/verify-mfa",element:v.jsx(GP,{})}),v.jsx(ve,{path:"/welcome",element:v.jsx(rj,{})}),v.jsx(ve,{path:"/terms",element:v.jsx(tz,{})}),v.jsx(ve,{path:"/chat-widget",element:v.jsx(ij,{})}),v.jsx(ve,{path:"/widget",element:v.jsx(aj,{})}),v.jsx(ve,{path:"/widget-preview",element:v.jsx(ez,{})}),v.jsx(ve,{path:"/dashboard",element:v.jsx(ar,{children:v.jsx(ir,{children:v.jsx(RU,{})})})}),v.jsx(ve,{path:"/upload",element:v.jsx(ar,{children:v.jsx(ir,{children:v.jsx(IU,{})})})}),v.jsx(ve,{path:"/history",element:v.jsx(ar,{children:v.jsx(ir,{children:v.jsx(l3,{})})})}),v.jsx(ve,{path:"/services",element:v.jsx(ar,{children:v.jsx(ir,{children:v.jsx(m3,{})})})}),v.jsx(ve,{path:"/services/chat",element:v.jsx(ar,{children:v.jsx(ir,{children:v.jsx(v3,{})})})}),v.jsx(ve,{path:"/services/email",element:v.jsx(ar,{children:v.jsx(ir,{children:v.jsx(S3,{})})})}),v.jsx(ve,{path:"/services/whatsapp",element:v.jsx(ar,{children:v.jsx(ir,{children:v.jsx(c3,{})})})}),v.jsx(ve,{path:"/services/calendar",element:v.jsx(ar,{children:v.jsx(ir,{children:v.jsx(R3,{})})})}),v.jsx(ve,{path:"/settings",element:v.jsx(ar,{children:v.jsx(ir,{children:v.jsx(M3,{})})})}),v.jsx(ve,{path:"*",element:v.jsx(nj,{})})]})}z_.createRoot(document.getElementById("root")).render(v.jsx(C.StrictMode,{children:v.jsxs(q_,{children:[" ",v.jsx(nS,{children:v.jsxs(v.Fragment,{children:[v.jsx(rz,{}),v.jsx(mP,{position:"top-right",richColors:!0})," "]})})]})}));
