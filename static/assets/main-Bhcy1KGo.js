var X1=Object.defineProperty;var Z1=(e,t,r)=>t in e?X1(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Ks=(e,t,r)=>Z1(e,typeof t!="symbol"?t+"":t,r);import{r as y,a as Q1,g as ir,b as e_,R as D,u as _e,j as h,C as as,c as Qu,d as t_,e as r_,L as n_}from"./ChatWidget-H3pJ1ODk.js";/**
 * react-router v7.9.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var eh="popstate";function i_(e={}){function t(n,i){let{pathname:a,search:o,hash:s}=n.location;return zc("",{pathname:a,search:o,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Hi(i)}return o_(t,r,null,e)}function be(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function It(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function a_(){return Math.random().toString(36).substring(2,10)}function th(e,t){return{usr:e.state,key:e.key,idx:t}}function zc(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?ei(t):t,state:r,key:t&&t.key||n||a_()}}function Hi({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ei(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function o_(e,t,r,n={}){let{window:i=document.defaultView,v5Compat:a=!1}=n,o=i.history,s="POP",l=null,c=u();c==null&&(c=0,o.replaceState({...o.state,idx:c},""));function u(){return(o.state||{idx:null}).idx}function d(){s="POP";let v=u(),b=v==null?null:v-c;c=v,l&&l({action:s,location:g.location,delta:b})}function f(v,b){s="PUSH";let x=zc(g.location,v,b);c=u()+1;let w=th(x,c),_=g.createHref(x);try{o.pushState(w,"",_)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(_)}a&&l&&l({action:s,location:g.location,delta:1})}function p(v,b){s="REPLACE";let x=zc(g.location,v,b);c=u();let w=th(x,c),_=g.createHref(x);o.replaceState(w,"",_),a&&l&&l({action:s,location:g.location,delta:0})}function m(v){return s_(v)}let g={get action(){return s},get location(){return e(i,o)},listen(v){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(eh,d),l=v,()=>{i.removeEventListener(eh,d),l=null}},createHref(v){return t(i,v)},createURL:m,encodeLocation(v){let b=m(v);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:f,replace:p,go(v){return o.go(v)}};return g}function s_(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),be(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:Hi(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function iy(e,t,r="/"){return l_(e,t,r,!1)}function l_(e,t,r,n){let i=typeof t=="string"?ei(t):t,a=vr(i.pathname||"/",r);if(a==null)return null;let o=ay(e);c_(o);let s=null;for(let l=0;s==null&&l<o.length;++l){let c=w_(a);s=y_(o[l],c,n)}return s}function ay(e,t=[],r=[],n="",i=!1){let a=(o,s,l=i,c)=>{let u={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};if(u.relativePath.startsWith("/")){if(!u.relativePath.startsWith(n)&&l)return;be(u.relativePath.startsWith(n),`Absolute route path "${u.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(n.length)}let d=pr([n,u.relativePath]),f=r.concat(u);o.children&&o.children.length>0&&(be(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),ay(o.children,t,f,d,l)),!(o.path==null&&!o.index)&&t.push({path:d,score:g_(d,o.index),routesMeta:f})};return e.forEach((o,s)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))a(o,s);else for(let c of oy(o.path))a(o,s,!0,c)}),t}function oy(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let o=oy(n.join("/")),s=[];return s.push(...o.map(l=>l===""?a:[a,l].join("/"))),i&&s.push(...o),s.map(l=>e.startsWith("/")&&l===""?"/":l)}function c_(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:v_(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var u_=/^:[\w-]+$/,d_=3,f_=2,h_=1,p_=10,m_=-2,rh=e=>e==="*";function g_(e,t){let r=e.split("/"),n=r.length;return r.some(rh)&&(n+=m_),t&&(n+=f_),r.filter(i=>!rh(i)).reduce((i,a)=>i+(u_.test(a)?d_:a===""?h_:p_),n)}function v_(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function y_(e,t,r=!1){let{routesMeta:n}=e,i={},a="/",o=[];for(let s=0;s<n.length;++s){let l=n[s],c=s===n.length-1,u=a==="/"?t:t.slice(a.length)||"/",d=po({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),f=l.route;if(!d&&c&&r&&!n[n.length-1].route.index&&(d=po({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:pr([a,d.pathname]),pathnameBase:E_(pr([a,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(a=pr([a,d.pathnameBase]))}return o}function po(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=b_(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:n.reduce((c,{paramName:u,isOptional:d},f)=>{if(u==="*"){let m=s[f]||"";o=a.slice(0,a.length-m.length).replace(/(.)\/+$/,"$1")}const p=s[f];return d&&!p?c[u]=void 0:c[u]=(p||"").replace(/%2F/g,"/"),c},{}),pathname:a,pathnameBase:o,pattern:e}}function b_(e,t=!1,r=!0){It(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,s,l)=>(n.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function w_(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return It(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function vr(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function x_(e,t="/"){let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?ei(e):e;return{pathname:r?r.startsWith("/")?r:__(r,t):t,search:j_(n),hash:P_(i)}}function __(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Vs(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function S_(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function ed(e){let t=S_(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function td(e,t,r,n=!1){let i;typeof e=="string"?i=ei(e):(i={...e},be(!i.pathname||!i.pathname.includes("?"),Vs("?","pathname","search",i)),be(!i.pathname||!i.pathname.includes("#"),Vs("#","pathname","hash",i)),be(!i.search||!i.search.includes("#"),Vs("#","search","hash",i)));let a=e===""||i.pathname==="",o=a?"/":i.pathname,s;if(o==null)s=r;else{let d=t.length-1;if(!n&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}s=d>=0?t[d]:"/"}let l=x_(i,s),c=o&&o!=="/"&&o.endsWith("/"),u=(a||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}var pr=e=>e.join("/").replace(/\/\/+/g,"/"),E_=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),j_=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,P_=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function O_(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var sy=["POST","PUT","PATCH","DELETE"];new Set(sy);var k_=["GET",...sy];new Set(k_);var ti=y.createContext(null);ti.displayName="DataRouter";var os=y.createContext(null);os.displayName="DataRouterState";y.createContext(!1);var ly=y.createContext({isTransitioning:!1});ly.displayName="ViewTransition";var A_=y.createContext(new Map);A_.displayName="Fetchers";var C_=y.createContext(null);C_.displayName="Await";var Kt=y.createContext(null);Kt.displayName="Navigation";var na=y.createContext(null);na.displayName="Location";var ar=y.createContext({outlet:null,matches:[],isDataRoute:!1});ar.displayName="Route";var rd=y.createContext(null);rd.displayName="RouteError";function T_(e,{relative:t}={}){be(ri(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=y.useContext(Kt),{hash:i,pathname:a,search:o}=ia(e,{relative:t}),s=a;return r!=="/"&&(s=a==="/"?r:pr([r,a])),n.createHref({pathname:s,search:o,hash:i})}function ri(){return y.useContext(na)!=null}function St(){return be(ri(),"useLocation() may be used only in the context of a <Router> component."),y.useContext(na).location}var cy="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function uy(e){y.useContext(Kt).static||y.useLayoutEffect(e)}function Mt(){let{isDataRoute:e}=y.useContext(ar);return e?q_():R_()}function R_(){be(ri(),"useNavigate() may be used only in the context of a <Router> component.");let e=y.useContext(ti),{basename:t,navigator:r}=y.useContext(Kt),{matches:n}=y.useContext(ar),{pathname:i}=St(),a=JSON.stringify(ed(n)),o=y.useRef(!1);return uy(()=>{o.current=!0}),y.useCallback((l,c={})=>{if(It(o.current,cy),!o.current)return;if(typeof l=="number"){r.go(l);return}let u=td(l,JSON.parse(a),i,c.relative==="path");e==null&&t!=="/"&&(u.pathname=u.pathname==="/"?t:pr([t,u.pathname])),(c.replace?r.replace:r.push)(u,c.state,c)},[t,r,a,i,e])}y.createContext(null);function ia(e,{relative:t}={}){let{matches:r}=y.useContext(ar),{pathname:n}=St(),i=JSON.stringify(ed(r));return y.useMemo(()=>td(e,JSON.parse(i),n,t==="path"),[e,i,n,t])}function I_(e,t){return dy(e,t)}function dy(e,t,r,n,i){var x;be(ri(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=y.useContext(Kt),{matches:o}=y.useContext(ar),s=o[o.length-1],l=s?s.params:{},c=s?s.pathname:"/",u=s?s.pathnameBase:"/",d=s&&s.route;{let w=d&&d.path||"";fy(c,!d||w.endsWith("*")||w.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${w}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${w}"> to <Route path="${w==="/"?"*":`${w}/*`}">.`)}let f=St(),p;if(t){let w=typeof t=="string"?ei(t):t;be(u==="/"||((x=w.pathname)==null?void 0:x.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${w.pathname}" was given in the \`location\` prop.`),p=w}else p=f;let m=p.pathname||"/",g=m;if(u!=="/"){let w=u.replace(/^\//,"").split("/");g="/"+m.replace(/^\//,"").split("/").slice(w.length).join("/")}let v=iy(e,{pathname:g});It(d||v!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),It(v==null||v[v.length-1].route.element!==void 0||v[v.length-1].route.Component!==void 0||v[v.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let b=L_(v&&v.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:pr([u,a.encodeLocation?a.encodeLocation(w.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?u:pr([u,a.encodeLocation?a.encodeLocation(w.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:w.pathnameBase])})),o,r,n,i);return t&&b?y.createElement(na.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},b):b}function $_(){let e=W_(),t=O_(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},a={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=y.createElement(y.Fragment,null,y.createElement("p",null,"💿 Hey developer 👋"),y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",y.createElement("code",{style:a},"ErrorBoundary")," or"," ",y.createElement("code",{style:a},"errorElement")," prop on your route.")),y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},t),r?y.createElement("pre",{style:i},r):null,o)}var D_=y.createElement($_,null),M_=class extends y.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?y.createElement(ar.Provider,{value:this.props.routeContext},y.createElement(rd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function N_({routeContext:e,match:t,children:r}){let n=y.useContext(ti);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),y.createElement(ar.Provider,{value:e},r)}function L_(e,t=[],r=null,n=null,i=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let a=e,o=r==null?void 0:r.errors;if(o!=null){let c=a.findIndex(u=>u.route.id&&(o==null?void 0:o[u.route.id])!==void 0);be(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,c+1))}let s=!1,l=-1;if(r)for(let c=0;c<a.length;c++){let u=a[c];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(l=c),u.route.id){let{loaderData:d,errors:f}=r,p=u.route.loader&&!d.hasOwnProperty(u.route.id)&&(!f||f[u.route.id]===void 0);if(u.route.lazy||p){s=!0,l>=0?a=a.slice(0,l+1):a=[a[0]];break}}}return a.reduceRight((c,u,d)=>{let f,p=!1,m=null,g=null;r&&(f=o&&u.route.id?o[u.route.id]:void 0,m=u.route.errorElement||D_,s&&(l<0&&d===0?(fy("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,g=null):l===d&&(p=!0,g=u.route.hydrateFallbackElement||null)));let v=t.concat(a.slice(0,d+1)),b=()=>{let x;return f?x=m:p?x=g:u.route.Component?x=y.createElement(u.route.Component,null):u.route.element?x=u.route.element:x=c,y.createElement(N_,{match:u,routeContext:{outlet:c,matches:v,isDataRoute:r!=null},children:x})};return r&&(u.route.ErrorBoundary||u.route.errorElement||d===0)?y.createElement(M_,{location:r.location,revalidation:r.revalidation,component:m,error:f,children:b(),routeContext:{outlet:null,matches:v,isDataRoute:!0},unstable_onError:n}):b()},null)}function nd(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function B_(e){let t=y.useContext(ti);return be(t,nd(e)),t}function U_(e){let t=y.useContext(os);return be(t,nd(e)),t}function F_(e){let t=y.useContext(ar);return be(t,nd(e)),t}function id(e){let t=F_(e),r=t.matches[t.matches.length-1];return be(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function z_(){return id("useRouteId")}function W_(){var n;let e=y.useContext(rd),t=U_("useRouteError"),r=id("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function q_(){let{router:e}=B_("useNavigate"),t=id("useNavigate"),r=y.useRef(!1);return uy(()=>{r.current=!0}),y.useCallback(async(i,a={})=>{It(r.current,cy),r.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...a}))},[e,t])}var nh={};function fy(e,t,r){!t&&!nh[e]&&(nh[e]=!0,It(!1,r))}y.memo(H_);function H_({routes:e,future:t,state:r,unstable_onError:n}){return dy(e,void 0,r,n,t)}function hy({to:e,replace:t,state:r,relative:n}){be(ri(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=y.useContext(Kt);It(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=y.useContext(ar),{pathname:o}=St(),s=Mt(),l=td(e,ed(a),o,n==="path"),c=JSON.stringify(l);return y.useEffect(()=>{s(JSON.parse(c),{replace:t,state:r,relative:n})},[s,c,n,t,r]),null}function ve(e){be(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function K_({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:i,static:a=!1}){be(!ri(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),s=y.useMemo(()=>({basename:o,navigator:i,static:a,future:{}}),[o,i,a]);typeof r=="string"&&(r=ei(r));let{pathname:l="/",search:c="",hash:u="",state:d=null,key:f="default"}=r,p=y.useMemo(()=>{let m=vr(l,o);return m==null?null:{location:{pathname:m,search:c,hash:u,state:d,key:f},navigationType:n}},[o,l,c,u,d,f,n]);return It(p!=null,`<Router basename="${o}"> is not able to match the URL "${l}${c}${u}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:y.createElement(Kt.Provider,{value:s},y.createElement(na.Provider,{children:t,value:p}))}function V_({children:e,location:t}){return I_(Wc(e),t)}function Wc(e,t=[]){let r=[];return y.Children.forEach(e,(n,i)=>{if(!y.isValidElement(n))return;let a=[...t,i];if(n.type===y.Fragment){r.push.apply(r,Wc(n.props.children,a));return}be(n.type===ve,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),be(!n.props.index||!n.props.children,"An index route cannot have child routes.");let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Wc(n.props.children,a)),r.push(o)}),r}var oo="get",so="application/x-www-form-urlencoded";function ss(e){return e!=null&&typeof e.tagName=="string"}function G_(e){return ss(e)&&e.tagName.toLowerCase()==="button"}function Y_(e){return ss(e)&&e.tagName.toLowerCase()==="form"}function J_(e){return ss(e)&&e.tagName.toLowerCase()==="input"}function X_(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Z_(e,t){return e.button===0&&(!t||t==="_self")&&!X_(e)}function qc(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function Q_(e,t){let r=qc(e);return t&&t.forEach((n,i)=>{r.has(i)||t.getAll(i).forEach(a=>{r.append(i,a)})}),r}var Aa=null;function eS(){if(Aa===null)try{new FormData(document.createElement("form"),0),Aa=!1}catch{Aa=!0}return Aa}var tS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Gs(e){return e!=null&&!tS.has(e)?(It(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${so}"`),null):e}function rS(e,t){let r,n,i,a,o;if(Y_(e)){let s=e.getAttribute("action");n=s?vr(s,t):null,r=e.getAttribute("method")||oo,i=Gs(e.getAttribute("enctype"))||so,a=new FormData(e)}else if(G_(e)||J_(e)&&(e.type==="submit"||e.type==="image")){let s=e.form;if(s==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||s.getAttribute("action");if(n=l?vr(l,t):null,r=e.getAttribute("formmethod")||s.getAttribute("method")||oo,i=Gs(e.getAttribute("formenctype"))||Gs(s.getAttribute("enctype"))||so,a=new FormData(s,e),!eS()){let{name:c,type:u,value:d}=e;if(u==="image"){let f=c?`${c}.`:"";a.append(`${f}x`,"0"),a.append(`${f}y`,"0")}else c&&a.append(c,d)}}else{if(ss(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=oo,n=null,i=so,o=e}return a&&i==="text/plain"&&(o=a,a=void 0),{action:n,method:r.toLowerCase(),encType:i,formData:a,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ad(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function nS(e,t,r){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${r}`:t&&vr(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function iS(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function aS(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function oS(e,t,r){let n=await Promise.all(e.map(async i=>{let a=t.routes[i.route.id];if(a){let o=await iS(a,r);return o.links?o.links():[]}return[]}));return uS(n.flat(1).filter(aS).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function ih(e,t,r,n,i,a){let o=(l,c)=>r[c]?l.route.id!==r[c].route.id:!0,s=(l,c)=>{var u;return r[c].pathname!==l.pathname||((u=r[c].route.path)==null?void 0:u.endsWith("*"))&&r[c].params["*"]!==l.params["*"]};return a==="assets"?t.filter((l,c)=>o(l,c)||s(l,c)):a==="data"?t.filter((l,c)=>{var d;let u=n.routes[l.route.id];if(!u||!u.hasLoader)return!1;if(o(l,c)||s(l,c))return!0;if(l.route.shouldRevalidate){let f=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((d=r[0])==null?void 0:d.params)||{},nextUrl:new URL(e,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function sS(e,t,{includeHydrateFallback:r}={}){return lS(e.map(n=>{let i=t.routes[n.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function lS(e){return[...new Set(e)]}function cS(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function uS(e,t){let r=new Set;return new Set(t),e.reduce((n,i)=>{let a=JSON.stringify(cS(i));return r.has(a)||(r.add(a),n.push({key:a,link:i})),n},[])}function py(){let e=y.useContext(ti);return ad(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function dS(){let e=y.useContext(os);return ad(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var od=y.createContext(void 0);od.displayName="FrameworkContext";function my(){let e=y.useContext(od);return ad(e,"You must render this element inside a <HydratedRouter> element"),e}function fS(e,t){let r=y.useContext(od),[n,i]=y.useState(!1),[a,o]=y.useState(!1),{onFocus:s,onBlur:l,onMouseEnter:c,onMouseLeave:u,onTouchStart:d}=t,f=y.useRef(null);y.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let g=b=>{b.forEach(x=>{o(x.isIntersecting)})},v=new IntersectionObserver(g,{threshold:.5});return f.current&&v.observe(f.current),()=>{v.disconnect()}}},[e]),y.useEffect(()=>{if(n){let g=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(g)}}},[n]);let p=()=>{i(!0)},m=()=>{i(!1),o(!1)};return r?e!=="intent"?[a,f,{}]:[a,f,{onFocus:vi(s,p),onBlur:vi(l,m),onMouseEnter:vi(c,p),onMouseLeave:vi(u,m),onTouchStart:vi(d,p)}]:[!1,f,{}]}function vi(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function hS({page:e,...t}){let{router:r}=py(),n=y.useMemo(()=>iy(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?y.createElement(mS,{page:e,matches:n,...t}):null}function pS(e){let{manifest:t,routeModules:r}=my(),[n,i]=y.useState([]);return y.useEffect(()=>{let a=!1;return oS(e,t,r).then(o=>{a||i(o)}),()=>{a=!0}},[e,t,r]),n}function mS({page:e,matches:t,...r}){let n=St(),{manifest:i,routeModules:a}=my(),{basename:o}=py(),{loaderData:s,matches:l}=dS(),c=y.useMemo(()=>ih(e,t,l,i,n,"data"),[e,t,l,i,n]),u=y.useMemo(()=>ih(e,t,l,i,n,"assets"),[e,t,l,i,n]),d=y.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let m=new Set,g=!1;if(t.forEach(b=>{var w;let x=i.routes[b.route.id];!x||!x.hasLoader||(!c.some(_=>_.route.id===b.route.id)&&b.route.id in s&&((w=a[b.route.id])!=null&&w.shouldRevalidate)||x.hasClientLoader?g=!0:m.add(b.route.id))}),m.size===0)return[];let v=nS(e,o,"data");return g&&m.size>0&&v.searchParams.set("_routes",t.filter(b=>m.has(b.route.id)).map(b=>b.route.id).join(",")),[v.pathname+v.search]},[o,s,n,i,c,t,e,a]),f=y.useMemo(()=>sS(u,i),[u,i]),p=pS(u);return y.createElement(y.Fragment,null,d.map(m=>y.createElement("link",{key:m,rel:"prefetch",as:"fetch",href:m,...r})),f.map(m=>y.createElement("link",{key:m,rel:"modulepreload",href:m,...r})),p.map(({key:m,link:g})=>y.createElement("link",{key:m,nonce:r.nonce,...g})))}function gS(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var gy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{gy&&(window.__reactRouterVersion="7.9.3")}catch{}function vS({basename:e,children:t,window:r}){let n=y.useRef();n.current==null&&(n.current=i_({window:r,v5Compat:!0}));let i=n.current,[a,o]=y.useState({action:i.action,location:i.location}),s=y.useCallback(l=>{y.startTransition(()=>o(l))},[o]);return y.useLayoutEffect(()=>i.listen(s),[i,s]),y.createElement(K_,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:i})}var vy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Nr=y.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:i,reloadDocument:a,replace:o,state:s,target:l,to:c,preventScrollReset:u,viewTransition:d,...f},p){let{basename:m}=y.useContext(Kt),g=typeof c=="string"&&vy.test(c),v,b=!1;if(typeof c=="string"&&g&&(v=c,gy))try{let A=new URL(window.location.href),I=c.startsWith("//")?new URL(A.protocol+c):new URL(c),C=vr(I.pathname,m);I.origin===A.origin&&C!=null?c=C+I.search+I.hash:b=!0}catch{It(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let x=T_(c,{relative:i}),[w,_,S]=fS(n,f),E=xS(c,{replace:o,state:s,target:l,preventScrollReset:u,relative:i,viewTransition:d});function j(A){t&&t(A),A.defaultPrevented||E(A)}let k=y.createElement("a",{...f,...S,href:v||x,onClick:b||a?t:j,ref:gS(p,_),target:l,"data-discover":!g&&r==="render"?"true":void 0});return w&&!g?y.createElement(y.Fragment,null,k,y.createElement(hS,{page:x})):k});Nr.displayName="Link";var yS=y.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:i=!1,style:a,to:o,viewTransition:s,children:l,...c},u){let d=ia(o,{relative:c.relative}),f=St(),p=y.useContext(os),{navigator:m,basename:g}=y.useContext(Kt),v=p!=null&&PS(d)&&s===!0,b=m.encodeLocation?m.encodeLocation(d).pathname:d.pathname,x=f.pathname,w=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;r||(x=x.toLowerCase(),w=w?w.toLowerCase():null,b=b.toLowerCase()),w&&g&&(w=vr(w,g)||w);const _=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let S=x===b||!i&&x.startsWith(b)&&x.charAt(_)==="/",E=w!=null&&(w===b||!i&&w.startsWith(b)&&w.charAt(b.length)==="/"),j={isActive:S,isPending:E,isTransitioning:v},k=S?t:void 0,A;typeof n=="function"?A=n(j):A=[n,S?"active":null,E?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let I=typeof a=="function"?a(j):a;return y.createElement(Nr,{...c,"aria-current":k,className:A,ref:u,style:I,to:o,viewTransition:s},typeof l=="function"?l(j):l)});yS.displayName="NavLink";var bS=y.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:i,state:a,method:o=oo,action:s,onSubmit:l,relative:c,preventScrollReset:u,viewTransition:d,...f},p)=>{let m=ES(),g=jS(s,{relative:c}),v=o.toLowerCase()==="get"?"get":"post",b=typeof s=="string"&&vy.test(s),x=w=>{if(l&&l(w),w.defaultPrevented)return;w.preventDefault();let _=w.nativeEvent.submitter,S=(_==null?void 0:_.getAttribute("formmethod"))||o;m(_||w.currentTarget,{fetcherKey:t,method:S,navigate:r,replace:i,state:a,relative:c,preventScrollReset:u,viewTransition:d})};return y.createElement("form",{ref:p,method:v,action:g,onSubmit:n?l:x,...f,"data-discover":!b&&e==="render"?"true":void 0})});bS.displayName="Form";function wS(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function yy(e){let t=y.useContext(ti);return be(t,wS(e)),t}function xS(e,{target:t,replace:r,state:n,preventScrollReset:i,relative:a,viewTransition:o}={}){let s=Mt(),l=St(),c=ia(e,{relative:a});return y.useCallback(u=>{if(Z_(u,t)){u.preventDefault();let d=r!==void 0?r:Hi(l)===Hi(c);s(e,{replace:d,state:n,preventScrollReset:i,relative:a,viewTransition:o})}},[l,s,c,r,n,t,e,i,a,o])}function by(e){It(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=y.useRef(qc(e)),r=y.useRef(!1),n=St(),i=y.useMemo(()=>Q_(n.search,r.current?null:t.current),[n.search]),a=Mt(),o=y.useCallback((s,l)=>{const c=qc(typeof s=="function"?s(new URLSearchParams(i)):s);r.current=!0,a("?"+c,l)},[a,i]);return[i,o]}var _S=0,SS=()=>`__${String(++_S)}__`;function ES(){let{router:e}=yy("useSubmit"),{basename:t}=y.useContext(Kt),r=z_();return y.useCallback(async(n,i={})=>{let{action:a,method:o,encType:s,formData:l,body:c}=rS(n,t);if(i.navigate===!1){let u=i.fetcherKey||SS();await e.fetch(u,r,i.action||a,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||o,formEncType:i.encType||s,flushSync:i.flushSync})}else await e.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||o,formEncType:i.encType||s,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,r])}function jS(e,{relative:t}={}){let{basename:r}=y.useContext(Kt),n=y.useContext(ar);be(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),a={...ia(e||".",{relative:t})},o=St();if(e==null){a.search=o.search;let s=new URLSearchParams(a.search),l=s.getAll("index");if(l.some(u=>u==="")){s.delete("index"),l.filter(d=>d).forEach(d=>s.append("index",d));let u=s.toString();a.search=u?`?${u}`:""}}return(!e||e===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(a.pathname=a.pathname==="/"?r:pr([r,a.pathname])),Hi(a)}function PS(e,{relative:t}={}){let r=y.useContext(ly);be(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=yy("useViewTransitionState"),i=ia(e,{relative:t});if(!r.isTransitioning)return!1;let a=vr(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=vr(r.nextLocation.pathname,n)||r.nextLocation.pathname;return po(i.pathname,o)!=null||po(i.pathname,a)!=null}var wy=Q1();const OS=ir(wy),kS="modulepreload",AS=function(e,t){return new URL(e,t).href},ah={},aa=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){let o=function(u){return Promise.all(u.map(d=>Promise.resolve(d).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};const s=document.getElementsByTagName("link"),l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));i=o(r.map(u=>{if(u=AS(u,n),u in ah)return;ah[u]=!0;const d=u.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(!!n)for(let g=s.length-1;g>=0;g--){const v=s[g];if(v.href===u&&(!d||v.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${f}`))return;const m=document.createElement("link");if(m.rel=d?"stylesheet":kS,d||(m.as="script"),m.crossOrigin="",m.href=u,c&&m.setAttribute("nonce",c),document.head.appendChild(m),d)return new Promise((g,v)=>{m.addEventListener("load",g),m.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${u}`)))})}))}function a(o){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o}return i.then(o=>{for(const s of o||[])s.status==="rejected"&&a(s.reason);return t().catch(a)})},CS=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>aa(async()=>{const{default:n}=await Promise.resolve().then(()=>ni);return{default:n}},[],import.meta.url).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class sd extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class oh extends sd{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class sh extends sd{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class lh extends sd{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Hc;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Hc||(Hc={}));var TS=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(u){try{c(n.next(u))}catch(d){o(d)}}function l(u){try{c(n.throw(u))}catch(d){o(d)}}function c(u){u.done?a(u.value):i(u.value).then(s,l)}c((n=n.apply(e,t||[])).next())})};class RS{constructor(t,{headers:r={},customFetch:n,region:i=Hc.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=CS(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return TS(this,void 0,void 0,function*(){try{const{headers:i,method:a,body:o,signal:s}=r;let l={},{region:c}=r;c||(c=this.region);const u=new URL(`${this.url}/${t}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let d;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(l["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(l["Content-Type"]="application/json",d=JSON.stringify(o)));const f=yield this.fetch(u.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),i),body:d,signal:s}).catch(v=>{throw v.name==="AbortError"?v:new oh(v)}),p=f.headers.get("x-relay-error");if(p&&p==="true")throw new sh(f);if(!f.ok)throw new lh(f);let m=((n=f.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),g;return m==="application/json"?g=yield f.json():m==="application/octet-stream"?g=yield f.blob():m==="text/event-stream"?g=f:m==="multipart/form-data"?g=yield f.formData():g=yield f.text(),{data:g,error:null,response:f}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new oh(i)}:{data:null,error:i,response:i instanceof lh||i instanceof sh?i.context:void 0}}})}}var Te={},En={},jn={},Pn={},On={},kn={},IS=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Fn=IS();const $S=Fn.fetch,xy=Fn.fetch.bind(Fn),_y=Fn.Headers,DS=Fn.Request,MS=Fn.Response,ni=Object.freeze(Object.defineProperty({__proto__:null,Headers:_y,Request:DS,Response:MS,default:xy,fetch:$S},Symbol.toStringTag,{value:"Module"})),NS=e_(ni);var Ca={},ch;function Sy(){if(ch)return Ca;ch=1,Object.defineProperty(Ca,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Ca.default=e,Ca}var uh;function Ey(){if(uh)return kn;uh=1;var e=kn&&kn.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(kn,"__esModule",{value:!0});const t=e(NS),r=e(Sy());class n{constructor(a){var o,s;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=(o=a.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=a.signal,this.isMaybeSingle=(s=a.isMaybeSingle)!==null&&s!==void 0?s:!1,a.fetch?this.fetch=a.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,o){return this.headers=new Headers(this.headers),this.headers.set(a,o),this}then(a,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let l=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var u,d,f,p;let m=null,g=null,v=null,b=c.status,x=c.statusText;if(c.ok){if(this.method!=="HEAD"){const E=await c.text();E===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?g=E:g=JSON.parse(E))}const _=(d=this.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),S=(f=c.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");_&&S&&S.length>1&&(v=parseInt(S[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(g)&&(g.length>1?(m={code:"PGRST116",details:`Results contain ${g.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},g=null,v=null,b=406,x="Not Acceptable"):g.length===1?g=g[0]:g=null)}else{const _=await c.text();try{m=JSON.parse(_),Array.isArray(m)&&c.status===404&&(g=[],m=null,b=200,x="OK")}catch{c.status===404&&_===""?(b=204,x="No Content"):m={message:_}}if(m&&this.isMaybeSingle&&(!((p=m==null?void 0:m.details)===null||p===void 0)&&p.includes("0 rows"))&&(m=null,b=200,x="OK"),m&&this.shouldThrowOnError)throw new r.default(m)}return{error:m,data:g,count:v,status:b,statusText:x}});return this.shouldThrowOnError||(l=l.catch(c=>{var u,d,f;return{error:{message:`${(u=c==null?void 0:c.name)!==null&&u!==void 0?u:"FetchError"}: ${c==null?void 0:c.message}`,details:`${(d=c==null?void 0:c.stack)!==null&&d!==void 0?d:""}`,hint:"",code:`${(f=c==null?void 0:c.code)!==null&&f!==void 0?f:""}`},data:null,count:null,status:0,statusText:""}})),l.then(a,o)}returns(){return this}overrideTypes(){return this}}return kn.default=n,kn}var dh;function jy(){if(dh)return On;dh=1;var e=On&&On.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(On,"__esModule",{value:!0});const t=e(Ey());class r extends t.default{select(i){let a=!1;const o=(i??"*").split("").map(s=>/\s/.test(s)&&!a?"":(s==='"'&&(a=!a),s)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:a=!0,nullsFirst:o,foreignTable:s,referencedTable:l=s}={}){const c=l?`${l}.order`:"order",u=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${u?`${u},`:""}${i}.${a?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:a,referencedTable:o=a}={}){const s=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(s,`${i}`),this}range(i,a,{foreignTable:o,referencedTable:s=o}={}){const l=typeof s>"u"?"offset":`${s}.offset`,c=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(l,`${i}`),this.url.searchParams.set(c,`${a-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:a=!1,settings:o=!1,buffers:s=!1,wal:l=!1,format:c="text"}={}){var u;const d=[i?"analyze":null,a?"verbose":null,o?"settings":null,s?"buffers":null,l?"wal":null].filter(Boolean).join("|"),f=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${f}"; options=${d};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return On.default=r,On}var fh;function ld(){if(fh)return Pn;fh=1;var e=Pn&&Pn.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Pn,"__esModule",{value:!0});const t=e(jy());class r extends t.default{eq(i,a){return this.url.searchParams.append(i,`eq.${a}`),this}neq(i,a){return this.url.searchParams.append(i,`neq.${a}`),this}gt(i,a){return this.url.searchParams.append(i,`gt.${a}`),this}gte(i,a){return this.url.searchParams.append(i,`gte.${a}`),this}lt(i,a){return this.url.searchParams.append(i,`lt.${a}`),this}lte(i,a){return this.url.searchParams.append(i,`lte.${a}`),this}like(i,a){return this.url.searchParams.append(i,`like.${a}`),this}likeAllOf(i,a){return this.url.searchParams.append(i,`like(all).{${a.join(",")}}`),this}likeAnyOf(i,a){return this.url.searchParams.append(i,`like(any).{${a.join(",")}}`),this}ilike(i,a){return this.url.searchParams.append(i,`ilike.${a}`),this}ilikeAllOf(i,a){return this.url.searchParams.append(i,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(i,a){return this.url.searchParams.append(i,`ilike(any).{${a.join(",")}}`),this}is(i,a){return this.url.searchParams.append(i,`is.${a}`),this}in(i,a){const o=Array.from(new Set(a)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(i,`in.(${o})`),this}contains(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cs.{${a.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(a)}`),this}containedBy(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cd.{${a.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(a)}`),this}rangeGt(i,a){return this.url.searchParams.append(i,`sr.${a}`),this}rangeGte(i,a){return this.url.searchParams.append(i,`nxl.${a}`),this}rangeLt(i,a){return this.url.searchParams.append(i,`sl.${a}`),this}rangeLte(i,a){return this.url.searchParams.append(i,`nxr.${a}`),this}rangeAdjacent(i,a){return this.url.searchParams.append(i,`adj.${a}`),this}overlaps(i,a){return typeof a=="string"?this.url.searchParams.append(i,`ov.${a}`):this.url.searchParams.append(i,`ov.{${a.join(",")}}`),this}textSearch(i,a,{config:o,type:s}={}){let l="";s==="plain"?l="pl":s==="phrase"?l="ph":s==="websearch"&&(l="w");const c=o===void 0?"":`(${o})`;return this.url.searchParams.append(i,`${l}fts${c}.${a}`),this}match(i){return Object.entries(i).forEach(([a,o])=>{this.url.searchParams.append(a,`eq.${o}`)}),this}not(i,a,o){return this.url.searchParams.append(i,`not.${a}.${o}`),this}or(i,{foreignTable:a,referencedTable:o=a}={}){const s=o?`${o}.or`:"or";return this.url.searchParams.append(s,`(${i})`),this}filter(i,a,o){return this.url.searchParams.append(i,`${a}.${o}`),this}}return Pn.default=r,Pn}var hh;function Py(){if(hh)return jn;hh=1;var e=jn&&jn.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(jn,"__esModule",{value:!0});const t=e(ld());class r{constructor(i,{headers:a={},schema:o,fetch:s}){this.url=i,this.headers=new Headers(a),this.schema=o,this.fetch=s}select(i,{head:a=!1,count:o}={}){const s=a?"HEAD":"GET";let l=!1;const c=(i??"*").split("").map(u=>/\s/.test(u)&&!l?"":(u==='"'&&(l=!l),u)).join("");return this.url.searchParams.set("select",c),o&&this.headers.append("Prefer",`count=${o}`),new t.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:a,defaultToNull:o=!0}={}){var s;const l="POST";if(a&&this.headers.append("Prefer",`count=${a}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const c=i.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(i,{onConflict:a,ignoreDuplicates:o=!1,count:s,defaultToNull:l=!0}={}){var c;const u="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),s&&this.headers.append("Prefer",`count=${s}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const d=i.reduce((f,p)=>f.concat(Object.keys(p)),[]);if(d.length>0){const f=[...new Set(d)].map(p=>`"${p}"`);this.url.searchParams.set("columns",f.join(","))}}return new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}update(i,{count:a}={}){var o;const s="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:i}={}){var a;const o="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}}return jn.default=r,jn}var ph;function LS(){if(ph)return En;ph=1;var e=En&&En.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(En,"__esModule",{value:!0});const t=e(Py()),r=e(ld());class n{constructor(a,{headers:o={},schema:s,fetch:l}={}){this.url=a,this.headers=new Headers(o),this.schemaName=s,this.fetch=l}from(a){const o=new URL(`${this.url}/${a}`);return new t.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new n(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,o={},{head:s=!1,get:l=!1,count:c}={}){var u;let d;const f=new URL(`${this.url}/rpc/${a}`);let p;s||l?(d=s?"HEAD":"GET",Object.entries(o).filter(([g,v])=>v!==void 0).map(([g,v])=>[g,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([g,v])=>{f.searchParams.append(g,v)})):(d="POST",p=o);const m=new Headers(this.headers);return c&&m.set("Prefer",`count=${c}`),new r.default({method:d,url:f,headers:m,schema:this.schemaName,body:p,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}}return En.default=n,En}var mh;function BS(){if(mh)return Te;mh=1;var e=Te&&Te.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Te,"__esModule",{value:!0}),Te.PostgrestError=Te.PostgrestBuilder=Te.PostgrestTransformBuilder=Te.PostgrestFilterBuilder=Te.PostgrestQueryBuilder=Te.PostgrestClient=void 0;const t=e(LS());Te.PostgrestClient=t.default;const r=e(Py());Te.PostgrestQueryBuilder=r.default;const n=e(ld());Te.PostgrestFilterBuilder=n.default;const i=e(jy());Te.PostgrestTransformBuilder=i.default;const a=e(Ey());Te.PostgrestBuilder=a.default;const o=e(Sy());return Te.PostgrestError=o.default,Te.default={PostgrestClient:t.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:a.default,PostgrestError:o.default},Te}var US=BS();const FS=ir(US),{PostgrestClient:zS,PostgrestQueryBuilder:Zz,PostgrestFilterBuilder:Qz,PostgrestTransformBuilder:eW,PostgrestBuilder:tW,PostgrestError:rW}=FS;class WS{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const qS="2.15.5",HS=`realtime-js/${qS}`,KS="1.0.0",Kc=1e4,VS=1e3,GS=100;var Ui;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Ui||(Ui={}));var Pe;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Pe||(Pe={}));var zt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(zt||(zt={}));var Vc;(function(e){e.websocket="websocket"})(Vc||(Vc={}));var Qr;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Qr||(Qr={}));class YS{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const i=r.getUint8(1),a=r.getUint8(2);let o=this.HEADER_LENGTH+2;const s=n.decode(t.slice(o,o+i));o=o+i;const l=n.decode(t.slice(o,o+a));o=o+a;const c=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:s,event:l,payload:c}}}class Oy{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var fe;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(fe||(fe={}));const gh=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((a,o)=>(a[o]=JS(o,e,t,i),a),{})},JS=(e,t,r,n)=>{const i=t.find(s=>s.name===e),a=i==null?void 0:i.type,o=r[e];return a&&!n.includes(a)?ky(a,o):Gc(o)},ky=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return eE(t,r)}switch(e){case fe.bool:return XS(t);case fe.float4:case fe.float8:case fe.int2:case fe.int4:case fe.int8:case fe.numeric:case fe.oid:return ZS(t);case fe.json:case fe.jsonb:return QS(t);case fe.timestamp:return tE(t);case fe.abstime:case fe.date:case fe.daterange:case fe.int4range:case fe.int8range:case fe.money:case fe.reltime:case fe.text:case fe.time:case fe.timestamptz:case fe.timetz:case fe.tsrange:case fe.tstzrange:return Gc(t);default:return Gc(t)}},Gc=e=>e,XS=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},ZS=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},QS=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},eE=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const o=e.slice(1,r);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(s=>ky(t,s))}return e},tE=e=>typeof e=="string"?e.replace(" ","T"):e,Ay=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class Ys{constructor(t,r,n={},i=Kc){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var vh;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(vh||(vh={}));class Fi{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:a,onLeave:o,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Fi.syncState(this.state,i,a,o),this.pendingDiffs.forEach(l=>{this.state=Fi.syncDiff(this.state,l,a,o)}),this.pendingDiffs=[],s()}),this.channel._on(n.diff,{},i=>{const{onJoin:a,onLeave:o,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Fi.syncDiff(this.state,i,a,o),s())}),this.onJoin((i,a,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:o})}),this.onLeave((i,a,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const a=this.cloneDeep(t),o=this.transformState(r),s={},l={};return this.map(a,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const d=a[c];if(d){const f=u.map(v=>v.presence_ref),p=d.map(v=>v.presence_ref),m=u.filter(v=>p.indexOf(v.presence_ref)<0),g=d.filter(v=>f.indexOf(v.presence_ref)<0);m.length>0&&(s[c]=m),g.length>0&&(l[c]=g)}else s[c]=u}),this.syncDiff(a,{joins:s,leaves:l},n,i)}static syncDiff(t,r,n,i){const{joins:a,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(a,(s,l)=>{var c;const u=(c=t[s])!==null&&c!==void 0?c:[];if(t[s]=this.cloneDeep(l),u.length>0){const d=t[s].map(p=>p.presence_ref),f=u.filter(p=>d.indexOf(p.presence_ref)<0);t[s].unshift(...f)}n(s,u,l)}),this.map(o,(s,l)=>{let c=t[s];if(!c)return;const u=l.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),t[s]=c,i(s,c,l),c.length===0&&delete t[s]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var yh;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(yh||(yh={}));var zi;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(zi||(zi={}));var cr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(cr||(cr={}));class cd{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Pe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Ys(this,zt.join,this.params,this.timeout),this.rejoinTimer=new Oy(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Pe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Pe.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Pe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Pe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Pe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(zt.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new Fi(this),this.broadcastEndpointURL=Ay(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Pe.closed){const{config:{broadcast:o,presence:s,private:l}}=this.params,c=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&i!==void 0?i:[],u=!!this.bindings[zi.PRESENCE]&&this.bindings[zi.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,d={},f={broadcast:o,presence:Object.assign(Object.assign({},s),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t(cr.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(cr.CLOSED)),this.updateJoinPayload(Object.assign({config:f},d)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var m;if(this.socket.setAuth(),p===void 0){t==null||t(cr.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,v=(m=g==null?void 0:g.length)!==null&&m!==void 0?m:0,b=[];for(let x=0;x<v;x++){const w=g[x],{filter:{event:_,schema:S,table:E,filter:j}}=w,k=p&&p[x];if(k&&k.event===_&&k.schema===S&&k.table===E&&k.filter===j)b.push(Object.assign(Object.assign({},w),{id:k.id}));else{this.unsubscribe(),this.state=Pe.errored,t==null||t(cr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,t&&t(cr.SUBSCRIBED);return}}).receive("error",p=>{this.state=Pe.errored,t==null||t(cr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(cr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Pe.joined&&t===zi.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){const{event:a,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,s,l;const c=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(s=(o=this.params)===null||o===void 0?void 0:o.config)===null||s===void 0?void 0:s.broadcast)===null||l===void 0)&&l.ack)&&a("ok"),c.receive("ok",()=>a("ok")),c.receive("error",()=>a("error")),c.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Pe.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(zt.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new Ys(this,zt.leave,{},t),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Pe.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const i=new AbortController,a=setTimeout(()=>i.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(a),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Ys(this,t,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>GS){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,a;const o=t.toLocaleLowerCase(),{close:s,error:l,leave:c,join:u}=zt;if(n&&[s,l,c,u].indexOf(o)>=0&&n!==this._joinRef())return;let f=this._onMessage(o,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(p=>{var m,g,v;return((m=p.filter)===null||m===void 0?void 0:m.event)==="*"||((v=(g=p.filter)===null||g===void 0?void 0:g.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===o}).map(p=>p.callback(f,n)):(a=this.bindings[o])===null||a===void 0||a.filter(p=>{var m,g,v,b,x,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const _=p.id,S=(m=p.filter)===null||m===void 0?void 0:m.event;return _&&((g=r.ids)===null||g===void 0?void 0:g.includes(_))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((v=r.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const _=(x=(b=p==null?void 0:p.filter)===null||b===void 0?void 0:b.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return _==="*"||_===((w=r==null?void 0:r.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof f=="object"&&"ids"in f){const m=f.data,{schema:g,table:v,commit_timestamp:b,type:x,errors:w}=m;f=Object.assign(Object.assign({},{schema:g,table:v,commit_timestamp:b,eventType:x,new:{},old:{},errors:w}),this._getPayloadRecords(m))}p.callback(f,n)})}_isClosed(){return this.state===Pe.closed}_isJoined(){return this.state===Pe.joined}_isJoining(){return this.state===Pe.joining}_isLeaving(){return this.state===Pe.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),a={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&cd.isEqual(i.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(zt.close,{},t)}_onError(t){this._on(zt.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Pe.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=gh(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=gh(t.columns,t.old_record)),r}}const Js=()=>{},Ta={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},rE=[1e3,2e3,5e3,1e4],nE=1e4,iE=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class aE{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Kc,this.transport=null,this.heartbeatIntervalMs=Ta.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Js,this.ref=0,this.reconnectTimer=null,this.logger=Js,this.conn=null,this.sendBuffer=[],this.serializer=new YS,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...o)=>aa(async()=>{const{default:s}=await Promise.resolve().then(()=>ni);return{default:s}},void 0,import.meta.url).then(({default:s})=>s(...o)).catch(s=>{throw new Error(`Failed to load @supabase/node-fetch: ${s.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):a=fetch,(...o)=>a(...o)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Vc.websocket}`,this.httpEndpoint=Ay(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=WS.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:KS}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Ui.connecting:return Qr.Connecting;case Ui.open:return Qr.Open;case Ui.closing:return Qr.Closing;default:return Qr.Closed}}isConnected(){return this.connectionState()===Qr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===n);if(i)return i;{const a=new cd(`realtime:${t}`,r,this);return this.channels.push(a),a}}push(t){const{topic:r,event:n,payload:i,ref:a}=t,o=()=>{this.encode(t,s=>{var l;(l=this.conn)===null||l===void 0||l.send(s)})};this.log("push",`${r} ${n} (${a})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(VS,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Ta.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:a,ref:o}=r,s=o?`(${o})`:"",l=a.status||"";this.log("receive",`${l} ${n} ${i} ${s}`.trim(),a),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(i,a,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(zt.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([iE],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:HS};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(zt.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Oy(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ta.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,i,a,o,s,l,c,u;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:Kc,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:Ta.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(s=t==null?void 0:t.heartbeatCallback)!==null&&s!==void 0?s:Js,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=t==null?void 0:t.reconnectAfterMs)!==null&&l!==void 0?l:(d=>rE[d-1]||nE),this.encode=(c=t==null?void 0:t.encode)!==null&&c!==void 0?c:((d,f)=>f(JSON.stringify(d))),this.decode=(u=t==null?void 0:t.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class ud extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Se(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class oE extends ud{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Yc extends ud{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var sE=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(u){try{c(n.next(u))}catch(d){o(d)}}function l(u){try{c(n.throw(u))}catch(d){o(d)}}function c(u){u.done?a(u.value):i(u.value).then(s,l)}c((n=n.apply(e,t||[])).next())})};const Cy=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>aa(async()=>{const{default:n}=await Promise.resolve().then(()=>ni);return{default:n}},void 0,import.meta.url).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},lE=()=>sE(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield aa(()=>Promise.resolve().then(()=>ni),void 0,import.meta.url)).Response:Response}),Jc=e=>{if(Array.isArray(e))return e.map(r=>Jc(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=Jc(n)}),t},cE=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var gn=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(u){try{c(n.next(u))}catch(d){o(d)}}function l(u){try{c(n.throw(u))}catch(d){o(d)}}function c(u){u.done?a(u.value):i(u.value).then(s,l)}c((n=n.apply(e,t||[])).next())})};const Xs=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),uE=(e,t,r)=>gn(void 0,void 0,void 0,function*(){const n=yield lE();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(i=>{const a=e.status||500,o=(i==null?void 0:i.statusCode)||a+"";t(new oE(Xs(i),a,o))}).catch(i=>{t(new Yc(Xs(i),i))}):t(new Yc(Xs(e),e))}),dE=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?i:(cE(n)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,t!=null&&t.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),r))};function oa(e,t,r,n,i,a){return gn(this,void 0,void 0,function*(){return new Promise((o,s)=>{e(r,dE(t,n,i,a)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>uE(l,s,n))})})}function mo(e,t,r,n){return gn(this,void 0,void 0,function*(){return oa(e,"GET",t,r,n)})}function Qt(e,t,r,n,i){return gn(this,void 0,void 0,function*(){return oa(e,"POST",t,n,i,r)})}function Xc(e,t,r,n,i){return gn(this,void 0,void 0,function*(){return oa(e,"PUT",t,n,i,r)})}function fE(e,t,r,n){return gn(this,void 0,void 0,function*(){return oa(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Ty(e,t,r,n,i){return gn(this,void 0,void 0,function*(){return oa(e,"DELETE",t,n,i,r)})}var hE=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(u){try{c(n.next(u))}catch(d){o(d)}}function l(u){try{c(n.throw(u))}catch(d){o(d)}}function c(u){u.done?a(u.value):i(u.value).then(s,l)}c((n=n.apply(e,t||[])).next())})};class pE{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return hE(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Se(t))return{data:null,error:t};throw t}})}}var mE=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(u){try{c(n.next(u))}catch(d){o(d)}}function l(u){try{c(n.throw(u))}catch(d){o(d)}}function c(u){u.done?a(u.value):i(u.value).then(s,l)}c((n=n.apply(e,t||[])).next())})};class gE{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}asStream(){return new pE(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.execute().then(t,r)}execute(){return mE(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Se(t))return{data:null,error:t};throw t}})}}var nt=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(u){try{c(n.next(u))}catch(d){o(d)}}function l(u){try{c(n.throw(u))}catch(d){o(d)}}function c(u){u.done?a(u.value):i(u.value).then(s,l)}c((n=n.apply(e,t||[])).next())})};const vE={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},bh={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class yE{constructor(t,r={},n,i){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=Cy(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,i){return nt(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},bh),i);let s=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),l&&a.append("metadata",this.encodeMetadata(l)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.append("cacheControl",o.cacheControl),l&&a.append("metadata",this.encodeMetadata(l))):(a=n,s["cache-control"]=`max-age=${o.cacheControl}`,s["content-type"]=o.contentType,l&&(s["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(s=Object.assign(Object.assign({},s),i.headers));const c=this._removeEmptyFolders(r),u=this._getFinalPath(c),d=yield(t=="PUT"?Xc:Qt)(this.fetch,`${this.url}/object/${u}`,a,Object.assign({headers:s},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:d.Id,fullPath:d.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Se(a))return{data:null,error:a};throw a}})}upload(t,r,n){return nt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,i){return nt(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),o=this._getFinalPath(a),s=new URL(this.url+`/object/upload/sign/${o}`);s.searchParams.set("token",r);try{let l;const c=Object.assign({upsert:bh.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const d=yield Xc(this.fetch,s.toString(),l,{headers:u});return{data:{path:a,fullPath:d.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Se(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,r){return nt(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const a=yield Qt(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),o=new URL(this.url+a.url),s=o.searchParams.get("token");if(!s)throw new ud("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:s},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Se(n))return{data:null,error:n};throw n}})}update(t,r,n){return nt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return nt(this,void 0,void 0,function*(){try{return{data:yield Qt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Se(i))return{data:null,error:i};throw i}})}copy(t,r,n){return nt(this,void 0,void 0,function*(){try{return{data:{path:(yield Qt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Se(i))return{data:null,error:i};throw i}})}createSignedUrl(t,r,n){return nt(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),a=yield Qt(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Se(i))return{data:null,error:i};throw i}})}createSignedUrls(t,r,n){return nt(this,void 0,void 0,function*(){try{const i=yield Qt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Se(i))return{data:null,error:i};throw i}})}download(t,r){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=a?`?${a}`:"",s=this._getFinalPath(t),l=()=>mo(this.fetch,`${this.url}/${i}/${s}${o}`,{headers:this.headers,noResolveJson:!0});return new gE(l,this.shouldThrowOnError)}info(t){return nt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield mo(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Jc(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Se(n))return{data:null,error:n};throw n}})}exists(t){return nt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield fE(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Se(n)&&n instanceof Yc){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),i=[],a=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&i.push(a);const s=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${n}${c}`)}}}remove(t){return nt(this,void 0,void 0,function*(){try{return{data:yield Ty(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Se(r))return{data:null,error:r};throw r}})}list(t,r,n){return nt(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},vE),r),{prefix:t||""});return{data:yield Qt(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Se(i))return{data:null,error:i};throw i}})}listV2(t,r){return nt(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield Qt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Se(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const bE="2.12.2",wE={"X-Client-Info":`storage-js/${bE}`};var An=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(u){try{c(n.next(u))}catch(d){o(d)}}function l(u){try{c(n.throw(u))}catch(d){o(d)}}function c(u){u.done?a(u.value):i(u.value).then(s,l)}c((n=n.apply(e,t||[])).next())})};class xE{constructor(t,r={},n,i){this.shouldThrowOnError=!1;const a=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href,this.headers=Object.assign(Object.assign({},wE),r),this.fetch=Cy(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return An(this,void 0,void 0,function*(){try{return{data:yield mo(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Se(t))return{data:null,error:t};throw t}})}getBucket(t){return An(this,void 0,void 0,function*(){try{return{data:yield mo(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Se(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return An(this,void 0,void 0,function*(){try{return{data:yield Qt(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Se(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return An(this,void 0,void 0,function*(){try{return{data:yield Xc(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Se(n))return{data:null,error:n};throw n}})}emptyBucket(t){return An(this,void 0,void 0,function*(){try{return{data:yield Qt(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Se(r))return{data:null,error:r};throw r}})}deleteBucket(t){return An(this,void 0,void 0,function*(){try{return{data:yield Ty(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Se(r))return{data:null,error:r};throw r}})}}class _E extends xE{constructor(t,r={},n,i){super(t,r,n,i)}from(t){return new yE(this.url,this.headers,t,this.fetch)}}const SE="2.58.0";let Ni="";typeof Deno<"u"?Ni="deno":typeof document<"u"?Ni="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ni="react-native":Ni="node";const EE={"X-Client-Info":`supabase-js-${Ni}/${SE}`},jE={headers:EE},PE={schema:"public"},OE={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},kE={};var AE=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(u){try{c(n.next(u))}catch(d){o(d)}}function l(u){try{c(n.throw(u))}catch(d){o(d)}}function c(u){u.done?a(u.value):i(u.value).then(s,l)}c((n=n.apply(e,t||[])).next())})};const CE=e=>{let t;return e?t=e:typeof fetch>"u"?t=xy:t=fetch,(...r)=>t(...r)},TE=()=>typeof Headers>"u"?_y:Headers,RE=(e,t,r)=>{const n=CE(r),i=TE();return(a,o)=>AE(void 0,void 0,void 0,function*(){var s;const l=(s=yield t())!==null&&s!==void 0?s:e;let c=new i(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(a,Object.assign(Object.assign({},o),{headers:c}))})};var IE=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(u){try{c(n.next(u))}catch(d){o(d)}}function l(u){try{c(n.throw(u))}catch(d){o(d)}}function c(u){u.done?a(u.value):i(u.value).then(s,l)}c((n=n.apply(e,t||[])).next())})};function $E(e){return e.endsWith("/")?e:e+"/"}function DE(e,t){var r,n;const{db:i,auth:a,realtime:o,global:s}=e,{db:l,auth:c,realtime:u,global:d}=t,f={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},c),a),realtime:Object.assign(Object.assign({},u),o),storage:{},global:Object.assign(Object.assign(Object.assign({},d),s),{headers:Object.assign(Object.assign({},(r=d==null?void 0:d.headers)!==null&&r!==void 0?r:{}),(n=s==null?void 0:s.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>IE(this,void 0,void 0,function*(){return""})};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}function ME(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL($E(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Ry="2.72.0",Mn=30*1e3,Zc=3,Zs=Zc*Mn,NE="http://localhost:9999",LE="supabase.auth.token",BE={"X-Client-Info":`gotrue-js/${Ry}`},Qc="X-Supabase-Api-Version",Iy={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},UE=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,FE=600*1e3;class dd extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function H(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class zE extends dd{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function WE(e){return H(e)&&e.name==="AuthApiError"}class $y extends dd{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Ur extends dd{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}}class Tr extends Ur{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function qE(e){return H(e)&&e.name==="AuthSessionMissingError"}class yi extends Ur{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ra extends Ur{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Ia extends Ur{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function HE(e){return H(e)&&e.name==="AuthImplicitGrantRedirectError"}class wh extends Ur{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class eu extends Ur{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Qs(e){return H(e)&&e.name==="AuthRetryableFetchError"}class xh extends Ur{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class tu extends Ur{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const go="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),_h=` 	
\r=`.split(""),KE=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<_h.length;t+=1)e[_h[t].charCodeAt(0)]=-2;for(let t=0;t<go.length;t+=1)e[go[t].charCodeAt(0)]=t;return e})();function Sh(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(go[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(go[n]),t.queuedBits-=6}}function Dy(e,t,r){const n=KE[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Eh(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=o=>{YE(o,n,r)};for(let o=0;o<e.length;o+=1)Dy(e.charCodeAt(o),i,a);return t.join("")}function VE(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function GE(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}VE(n,t)}}function YE(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if((e>>7-n&1)===0){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function JE(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)Dy(e.charCodeAt(i),r,n);return new Uint8Array(t)}function XE(e){const t=[];return GE(e,r=>t.push(r)),new Uint8Array(t)}function ZE(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>Sh(i,r,n)),Sh(null,r,n),t.join("")}function QE(e){return Math.round(Date.now()/1e3)+e}function ej(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const At=()=>typeof window<"u"&&typeof document<"u",Hr={tested:!1,writable:!1},My=()=>{if(!At())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Hr.tested)return Hr.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Hr.tested=!0,Hr.writable=!0}catch{Hr.tested=!0,Hr.writable=!1}return Hr.writable};function tj(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const Ny=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>aa(async()=>{const{default:n}=await Promise.resolve().then(()=>ni);return{default:n}},void 0,import.meta.url).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},rj=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Nn=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Kr=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Cr=async(e,t)=>{await e.removeItem(t)};class ls{constructor(){this.promise=new ls.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}ls.promiseConstructor=Promise;function el(e){const t=e.split(".");if(t.length!==3)throw new tu("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!UE.test(t[n]))throw new tu("JWT not in base64url format");return{header:JSON.parse(Eh(t[0])),payload:JSON.parse(Eh(t[1])),signature:JE(t[2]),raw:{header:t[0],payload:t[1]}}}async function nj(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function ij(e,t){return new Promise((n,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await e(a);if(!t(a,null,o)){n(o);return}}catch(o){if(!t(a,o)){i(o);return}}})()})}function aj(e){return("0"+e.toString(16)).substr(-2)}function oj(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let a=0;a<56;a++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,aj).join("")}async function sj(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function lj(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await sj(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Cn(e,t,r=!1){const n=oj();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await Nn(e,`${t}-code-verifier`,i);const a=await lj(n);return[a,n===a?"plain":"s256"]}const cj=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function uj(e){const t=e.headers.get(Qc);if(!t||!t.match(cj))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function dj(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function fj(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const hj=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Tn(e){if(!hj.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function tl(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function jh(e){return JSON.parse(JSON.stringify(e))}var pj=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};const Yr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),mj=[502,503,504];async function Ph(e){var t;if(!rj(e))throw new eu(Yr(e),0);if(mj.includes(e.status))throw new eu(Yr(e),e.status);let r;try{r=await e.json()}catch(a){throw new $y(Yr(a),a)}let n;const i=uj(e);if(i&&i.getTime()>=Iy["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new xh(Yr(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Tr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new xh(Yr(r),e.status,r.weak_password.reasons);throw new zE(Yr(r),e.status||500,n)}const gj=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function te(e,t,r,n){var i;const a=Object.assign({},n==null?void 0:n.headers);a[Qc]||(a[Qc]=Iy["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const o=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const s=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await vj(e,t,r+s,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function vj(e,t,r,n,i,a){const o=gj(t,n,i,a);let s;try{s=await e(r,Object.assign({},o))}catch(l){throw console.error(l),new eu(Yr(l),0)}if(s.ok||await Ph(s),n!=null&&n.noResolveJson)return s;try{return await s.json()}catch(l){await Ph(l)}}function Zt(e){var t;let r=null;xj(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=QE(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Oh(e){const t=Zt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function $r(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function yj(e){return{data:e,error:null}}function bj(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a}=e,o=pj(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),s={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a},l=Object.assign({},o);return{data:{properties:s,user:l},error:null}}function wj(e){return e}function xj(e){return e.access_token&&e.refresh_token&&e.expires_in}const rl=["global","local","others"];var _j=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};class Sj{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=Ny(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=rl[0]){if(rl.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${rl.join(", ")}`);try{return await te(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(H(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await te(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:$r})}catch(n){if(H(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=_j(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await te(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:bj,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(H(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await te(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:$r})}catch(r){if(H(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,a,o,s,l;try{const c={nextPage:null,lastPage:0,total:0},u=await te(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:wj});if(u.error)throw u.error;const d=await u.json(),f=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(s=u.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(m=>{const g=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(m.split(";")[1].split("=")[1]);c[`${v}Page`]=g}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(H(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){Tn(t);try{return await te(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:$r})}catch(r){if(H(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Tn(t);try{return await te(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:$r})}catch(n){if(H(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Tn(t);try{return await te(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:$r})}catch(n){if(H(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Tn(t.userId);try{const{data:r,error:n}=await te(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(H(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Tn(t.userId),Tn(t.id);try{return{data:await te(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(H(r))return{data:null,error:r};throw r}}}function kh(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function Ej(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Rn={debug:!!(globalThis&&My()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Ly extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class jj extends Ly{}async function Pj(e,t,r){Rn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Rn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){Rn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{Rn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Rn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new jj(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Rn.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function By(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function Oj(e){return parseInt(e,16)}function kj(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function Aj(e){var t;const{chainId:r,domain:n,expirationTime:i,issuedAt:a=new Date,nonce:o,notBefore:s,requestId:l,resources:c,scheme:u,uri:d,version:f}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const p=By(e.address),m=u?`${u}://${n}`:n,g=e.statement?`${e.statement}
`:"",v=`${m} wants you to sign in with your Ethereum account:
${p}

${g}`;let b=`URI: ${d}
Version: ${f}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${a.toISOString()}`;if(i&&(b+=`
Expiration Time: ${i.toISOString()}`),s&&(b+=`
Not Before: ${s.toISOString()}`),l&&(b+=`
Request ID: ${l}`),c){let x=`
Resources:`;for(const w of c){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);x+=`
- ${w}`}b+=x}return`${v}
${b}`}Ej();const Cj={url:NE,storageKey:LE,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:BE,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Ah(e,t,r){return await r()}const In={};class Ki{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ki.nextInstanceID,Ki.nextInstanceID+=1,this.instanceID>0&&At()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},Cj),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Sj({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Ny(i.fetch),this.lock=i.lock||Ah,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:At()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Pj:this.lock=Ah,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:My()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=kh(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=kh(this.memoryStorage)),At()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=In[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){In[this.storageKey]=Object.assign(Object.assign({},In[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=In[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){In[this.storageKey]=Object.assign(Object.assign({},In[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Ry}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=tj(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),At()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),HE(a)){const l=(t=a.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:s}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",s),await this._saveSession(o),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return H(r)?{error:r}:{error:new $y("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const a=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:Zt}),{data:o,error:s}=a;if(s||!o)return{data:{user:null,session:null},error:s};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(a){if(H(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var r,n,i;try{let a;if("email"in t){const{email:u,password:d,options:f}=t;let p=null,m=null;this.flowType==="pkce"&&([p,m]=await Cn(this.storage,this.storageKey)),a=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:u,password:d,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:m},xform:Zt})}else if("phone"in t){const{phone:u,password:d,options:f}=t;a=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:d,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(i=f==null?void 0:f.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Zt})}else throw new Ra("You must provide either an email or phone number and a password");const{data:o,error:s}=a;if(s||!o)return{data:{user:null,session:null},error:s};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(a){if(H(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:o,options:s}=t;r=await te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Oh})}else if("phone"in t){const{phone:a,password:o,options:s}=t;r=await te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Oh})}else throw new Ra("You must provide either an email or phone number and a password");const{data:n,error:i}=r;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new yi}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(H(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,i,a,o,s,l,c,u,d,f;let p,m;if("message"in t)p=t.message,m=t.signature;else{const{chain:g,wallet:v,statement:b,options:x}=t;let w;if(At())if(typeof v=="object")w=v;else{const A=window;if("ethereum"in A&&typeof A.ethereum=="object"&&"request"in A.ethereum&&typeof A.ethereum.request=="function")w=A.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=v}const _=new URL((r=x==null?void 0:x.url)!==null&&r!==void 0?r:window.location.href),S=await w.request({method:"eth_requestAccounts"}).then(A=>A).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const E=By(S[0]);let j=(n=x==null?void 0:x.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!j){const A=await w.request({method:"eth_chainId"});j=Oj(A)}const k={domain:_.host,address:E,statement:b,uri:_.href,version:"1",chainId:j,nonce:(i=x==null?void 0:x.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(a=x==null?void 0:x.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(s=x==null?void 0:x.signInWithEthereum)===null||s===void 0?void 0:s.expirationTime,notBefore:(l=x==null?void 0:x.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=x==null?void 0:x.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(u=x==null?void 0:x.signInWithEthereum)===null||u===void 0?void 0:u.resources};p=Aj(k),m=await w.request({method:"personal_sign",params:[kj(p),E]})}try{const{data:g,error:v}=await te(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:m},!((d=t.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Zt});if(v)throw v;return!g||!g.session||!g.user?{data:{user:null,session:null},error:new yi}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:Object.assign({},g),error:v})}catch(g){if(H(g))return{data:{user:null,session:null},error:g};throw g}}async signInWithSolana(t){var r,n,i,a,o,s,l,c,u,d,f,p;let m,g;if("message"in t)m=t.message,g=t.signature;else{const{chain:v,wallet:b,statement:x,options:w}=t;let _;if(At())if(typeof b=="object")_=b;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))_=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=b}const S=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const E=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),x?{statement:x}:null));let j;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")j=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)j=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in j&&"signature"in j&&(typeof j.signedMessage=="string"||j.signedMessage instanceof Uint8Array)&&j.signature instanceof Uint8Array)m=typeof j.signedMessage=="string"?j.signedMessage:new TextDecoder().decode(j.signedMessage),g=j.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${S.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(i=(n=w==null?void 0:w.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=w==null?void 0:w.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((s=w==null?void 0:w.signInWithSolana)===null||s===void 0)&&s.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((d=(u=w==null?void 0:w.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||d===void 0)&&d.length?["Resources",...w.signInWithSolana.resources.map(j=>`- ${j}`)]:[]].join(`
`);const E=await _.signMessage(new TextEncoder().encode(m),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=E}}try{const{data:v,error:b}=await te(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:ZE(g)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Zt});if(b)throw b;return!v||!v.session||!v.user?{data:{user:null,session:null},error:new yi}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:Object.assign({},v),error:b})}catch(v){if(H(v))return{data:{user:null,session:null},error:v};throw v}}async _exchangeCodeForSession(t){const r=await Kr(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:a,error:o}=await te(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Zt});if(await Cr(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new yi}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:o})}catch(a){if(H(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:a,nonce:o}=t,s=await te(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Zt}),{data:l,error:c}=s;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new yi}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(r){if(H(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,i,a,o;try{if("email"in t){const{email:s,options:l}=t;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await Cn(this.storage,this.storageKey));const{error:d}=await te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:s,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in t){const{phone:s,options:l}=t,{data:c,error:u}=await te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:s,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(a=l==null?void 0:l.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new Ra("You must provide either an email or phone number.")}catch(s){if(H(s))return{data:{user:null,session:null},error:s};throw s}}async verifyOtp(t){var r,n;try{let i,a;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:s}=await te(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Zt});if(s)throw s;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(H(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var r,n,i;try{let a=null,o=null;return this.flowType==="pkce"&&([a,o]=await Cn(this.storage,this.storageKey)),await te(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:o}),headers:this.headers,xform:yj})}catch(a){if(H(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Tr;const{error:i}=await te(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(H(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:a}=t,{error:o}=await te(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:i,options:a}=t,{data:o,error:s}=await te(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:s}}throw new Ra("You must provide either an email or phone number and a type")}catch(r){if(H(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Kr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Zs:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await Kr(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=tl()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,c,u)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:t},error:null}}const{session:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:$r}):await this._useSession(async r=>{var n,i,a;const{data:o,error:s}=r;if(s)throw s;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Tr}:await te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:$r})})}catch(r){if(H(r))return qE(r)&&(await this._removeSession(),await Cr(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:a}=n;if(a)throw a;if(!i.session)throw new Tr;const o=i.session;let s=null,l=null;this.flowType==="pkce"&&t.email!=null&&([s,l]=await Cn(this.storage,this.storageKey));const{data:c,error:u}=await te(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:s,code_challenge_method:l}),jwt:o.access_token,xform:$r});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(H(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Tr;const r=Date.now()/1e3;let n=r,i=!0,a=null;const{payload:o}=el(t.access_token);if(o.exp&&(n=o.exp,i=n<=r),i){const{session:s,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!s)return{data:{user:null,session:null},error:null};a=s}else{const{data:s,error:l}=await this._getUser(t.access_token);if(l)throw l;a={access_token:t.access_token,refresh_token:t.refresh_token,user:s.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(r){if(H(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:s}=r;if(s)throw s;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Tr;const{session:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(H(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!At())throw new Ia("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Ia(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new wh("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ia("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new wh("No code detected.");const{data:x,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:a,refresh_token:o,expires_in:s,expires_at:l,token_type:c}=t;if(!a||!s||!o||!c)throw new Ia("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(s);let f=u+d;l&&(f=parseInt(l));const p=f-u;p*1e3<=Mn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${d}s`);const m=f-d;u-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,f,u):u-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,f,u);const{data:g,error:v}=await this._getUser(a);if(v)throw v;const b={provider_token:n,provider_refresh_token:i,access_token:a,expires_in:d,expires_at:f,refresh_token:o,token_type:c,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:b,redirectType:t.type},error:null}}catch(n){if(H(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Kr(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return{error:a};const o=(n=i.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:s}=await this.admin.signOut(o,t);if(s&&!(WE(s)&&(s.status===404||s.status===401||s.status===403)))return{error:s}}return t!=="others"&&(await this._removeSession(),await Cr(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=ej(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:a},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await Cn(this.storage,this.storageKey,!0));try{return await te(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(H(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(H(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:i}=await this._useSession(async a=>{var o,s,l,c,u;const{data:d,error:f}=a;if(f)throw f;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await te(this.fetch,"GET",p,{headers:this.headers,jwt:(u=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(i)throw i;return At()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(H(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:o}=r;if(o)throw o;return await te(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(H(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await ij(async i=>(i>0&&await nj(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await te(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Zt})),(i,a)=>{const o=200*Math.pow(2,i);return a&&Qs(a)&&Date.now()+o-n<Mn})}catch(n){if(this._debug(r,"error",n),H(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),At()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await Kr(this.storage,this.storageKey);if(i&&this.userStorage){let o=await Kr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await Nn(this.userStorage,this.storageKey+"-user",o)),i.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:tl()}else if(i&&!i.user&&!i.user){const o=await Kr(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(i.user=o.user,await Cr(this.storage,this.storageKey+"-user"),await Nn(this.storage,this.storageKey,i)):i.user=tl()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const a=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Zs;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${Zs}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),Qs(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:s}=await this._getUser(i.access_token);!s&&(o!=null&&o.user)?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Tr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new ls;const{data:a,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!a.session)throw new Tr;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const s={session:a.session,error:null};return this.refreshingDeferred.resolve(s),s}catch(a){if(this._debug(i,"error",a),H(a)){const o={session:null,error:a};return Qs(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async s=>{try{await s.callback(t,r)}catch(l){a.push(l)}});if(await Promise.all(o),a.length>0){for(let s=0;s<a.length;s+=1)console.error(a[s]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Nn(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const a=jh(i);await Nn(this.storage,this.storageKey,a)}else{const i=jh(r);await Nn(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Cr(this.storage,this.storageKey),await Cr(this.storage,this.storageKey+"-code-verifier"),await Cr(this.storage,this.storageKey+"-user"),this.userStorage&&await Cr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&At()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Mn);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/Mn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Mn}ms, refresh threshold is ${Zc} ticks`),i<=Zc&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Ly)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!At()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,o]=await Cn(this.storage,this.storageKey),s=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(s.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);i.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?{data:null,error:a}:await te(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(H(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:o}=r;if(o)return{data:null,error:o};const s=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:c}=await te(this.fetch,"POST",`${this.url}/factors`,{body:s,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(H(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return{data:null,error:a};const{data:o,error:s}=await te(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return s?{data:null,error:s}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:s})})}catch(r){if(H(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?{data:null,error:a}:await te(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(H(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],i=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),a=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:i,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:i},error:a}=t;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=el(i.access_token);let s=null;o.aal&&(s=o.aal);let l=s;((n=(r=i.user.factors)===null||r===void 0?void 0:r.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const u=o.amr||[];return{data:{currentLevel:s,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(s=>s.kid===t);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(s=>s.kid===t),n&&this.jwks_cached_at+FE>i)return n;const{data:a,error:o}=await te(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,n=a.keys.find(s=>s.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:p,error:m}=await this.getSession();if(m||!p.session)return{data:null,error:m};n=p.session.access_token}const{header:i,payload:a,signature:o,raw:{header:s,payload:l}}=el(n);r!=null&&r.allowExpired||dj(a.exp);const c=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!c){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:a,header:i,signature:o},error:null}}const u=fj(i.alg),d=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,d,o,XE(`${s}.${l}`)))throw new tu("Invalid JWT signature");return{data:{claims:a,header:i,signature:o},error:null}}catch(n){if(H(n))return{data:null,error:n};throw n}}}Ki.nextInstanceID=0;const Tj=Ki;class Rj extends Tj{constructor(t){super(t)}}var Ij=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(u){try{c(n.next(u))}catch(d){o(d)}}function l(u){try{c(n.throw(u))}catch(d){o(d)}}function c(u){u.done?a(u.value):i(u.value).then(s,l)}c((n=n.apply(e,t||[])).next())})};class $j{constructor(t,r,n){var i,a,o;this.supabaseUrl=t,this.supabaseKey=r;const s=ME(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const l=`sb-${s.hostname.split(".")[0]}-auth-token`,c={db:PE,realtime:kE,auth:Object.assign(Object.assign({},OE),{storageKey:l}),global:jE},u=DE(n??{},c);this.storageKey=(i=u.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=u.global.headers)!==null&&a!==void 0?a:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=RE(r,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new zS(new URL("rest/v1",s).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new _E(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new RS(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return Ij(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:a,storageKey:o,flowType:s,lock:l,debug:c},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Rj({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:o,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:a,flowType:s,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new aE(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Dj=(e,t,r)=>new $j(e,t,r);function Mj(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}Mj()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Nj="https://rjbgomsmplhldxnojkyz.supabase.co",Lj="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJqYmdvbXNtcGxobGR4bm9qa3l6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDQ0OTUwOTAsImV4cCI6MjA2MDA3MTA5MH0.FGoxQunc7nWaIwb1F9FdrmFgCSJ3ut34VwVg2w0g4l0",Je=Dj(Nj,Lj);var Uy={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Ch=D.createContext&&D.createContext(Uy),Bj=["attr","size","title"];function Uj(e,t){if(e==null)return{};var r=Fj(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Fj(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function vo(){return vo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vo.apply(this,arguments)}function Th(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function yo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Th(Object(r),!0).forEach(function(n){zj(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Th(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zj(e,t,r){return t=Wj(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wj(e){var t=qj(e,"string");return typeof t=="symbol"?t:t+""}function qj(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fy(e){return e&&e.map((t,r)=>D.createElement(t.tag,yo({key:r},t.attr),Fy(t.child)))}function fd(e){return t=>D.createElement(Hj,vo({attr:yo({},e.attr)},t),Fy(e.child))}function Hj(e){var t=r=>{var{attr:n,size:i,title:a}=e,o=Uj(e,Bj),s=i||r.size||"1em",l;return r.className&&(l=r.className),e.className&&(l=(l?l+" ":"")+e.className),D.createElement("svg",vo({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,o,{className:l,style:yo(yo({color:e.color||r.color},r.style),e.style),height:s,width:s,xmlns:"http://www.w3.org/2000/svg"}),a&&D.createElement("title",null,a),e.children)};return Ch!==void 0?D.createElement(Ch.Consumer,null,r=>t(r)):t(Uy)}function Kj(e){return fd({attr:{viewBox:"0 0 488 512"},child:[{tag:"path",attr:{d:"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"},child:[]}]})(e)}function hd(e){return fd({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"},child:[]}]})(e)}function pd(e){return fd({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(e)}function Vj(){const{t:e}=_e(),[t,r]=y.useState(""),[n,i]=y.useState(""),[a,o]=y.useState(!1),[s,l]=y.useState(""),[c,u]=y.useState(!0),d=Mt();y.useEffect(()=>{(async()=>{const{data:v}=await Je.auth.getSession();v!=null&&v.session&&(console.log("✅ Sesión detectada, redirigiendo..."),d("/dashboard")),u(!1)})()},[]);const f=async g=>{g.preventDefault(),l("");const{data:v,error:b}=await Je.auth.signInWithPassword({email:t,password:n});if(b){console.error("❌ Error de login:",b.message),l(e("wrong_credentials"));return}if(!v.session){l(e("email_not_confirmed"));return}await m(v.session.user)},p=async()=>{l("");const g=`${window.location.origin}/dashboard`;console.log("🌐 Redirigiendo login con Google a:",g);const{data:v,error:b}=await Je.auth.signInWithOAuth({provider:"google",options:{redirectTo:g}});b?(console.error("❌ Error al iniciar con Google:",b.message),l("Error al conectar con Google.")):console.log("📡 Redirección iniciada con Google:",v)},m=async g=>{const v="http://127.0.0.1:8001/initialize_user";console.log("📡 Llamando a:",v);try{const b=await fetch(v,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({auth_user_id:g.id,email:g.email})});if(!b.ok)throw new Error("❌ Error al inicializar usuario");const x=await b.json();console.log("✅ Datos de /initialize_user:",x),localStorage.setItem("client_id",x.client_id),localStorage.setItem("public_client_id",x.public_client_id),localStorage.setItem("user_id",g.id),d("/dashboard")}catch(b){console.error(b),l("Hubo un problema al iniciar sesión. Intenta de nuevo.")}};return c?h.jsx("div",{style:Rh,children:h.jsx("p",{style:{color:"#ededed",fontSize:"1.1rem"},children:"Cargando sesión..."})}):h.jsx("div",{style:Rh,children:h.jsxs("div",{style:Gj,children:[h.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[h.jsx("img",{src:"/logo-evolvian.svg",alt:"Logo Evolvian",style:{width:"64px",margin:"0 auto 1rem"}}),h.jsx("h1",{style:{fontSize:"1.75rem",fontWeight:"bold"},children:"Evolvian"})]}),h.jsxs("form",{onSubmit:f,style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[h.jsx("div",{style:$h,children:h.jsx("input",{type:"email",placeholder:e("email"),value:t,onChange:g=>r(g.target.value),required:!0,style:{...Ih,border:"none",flex:1},autoComplete:"email"})}),h.jsxs("div",{style:$h,children:[h.jsx("input",{type:a?"text":"password",placeholder:e("password"),value:n,onChange:g=>i(g.target.value),required:!0,style:{...Ih,border:"none",flex:1},autoComplete:"current-password"}),h.jsx("div",{style:Yj,onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:a?h.jsx(hd,{}):h.jsx(pd,{})})]}),s&&h.jsx("p",{style:{color:"#f87171",textAlign:"center",fontSize:"0.875rem"},children:s}),h.jsx("button",{type:"submit",style:Jj,children:e("login")}),h.jsxs("div",{style:Xj,children:[h.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.4rem"},children:[h.jsx("input",{type:"checkbox"}),e("remember_me")]}),h.jsx(Nr,{to:"/forgot-password",style:Zj,children:e("forgot_password")})]})]}),h.jsxs("p",{style:Qj,children:[e("no_account")||"¿No tienes cuenta?"," ",h.jsx(Nr,{to:"/register",style:eP,children:e("register_here")||"Regístrate aquí"})]}),h.jsxs("div",{style:tP,children:[h.jsx("div",{style:Dh}),h.jsx("span",{children:e("or")}),h.jsx("div",{style:Dh})]}),h.jsxs("button",{onClick:p,style:rP,children:[h.jsx(Kj,{}),e("login_with_google")]})]})})}const Rh={height:"100vh",width:"100vw",backgroundColor:"#0f1c2e",display:"flex",alignItems:"center",justifyContent:"center",padding:"1rem",fontFamily:"system-ui, Avenir, Helvetica, Arial, sans-serif"},Gj={width:"100%",maxWidth:"400px",backgroundColor:"#1b2a41",color:"white",borderRadius:"1.5rem",padding:"2rem",boxShadow:"0 15px 40px rgba(0,0,0,0.3)",border:"1px solid #274472"},Ih={width:"100%",padding:"0.6rem 1rem",backgroundColor:"transparent",borderRadius:"8px",color:"white",fontSize:"1rem"},$h={display:"flex",alignItems:"center",border:"1px solid #274472",borderRadius:"8px",backgroundColor:"transparent",height:"40px",paddingRight:"0.75rem"},Yj={color:"#ccc",cursor:"pointer",fontSize:"1.1rem"},Jj={backgroundColor:"#2eb39a",padding:"0.7rem",color:"white",borderRadius:"8px",fontWeight:"bold",border:"none",cursor:"pointer",fontSize:"1rem"},Xj={display:"flex",justifyContent:"space-between",fontSize:"0.875rem",color:"#ccc",marginTop:"0.5rem"},Zj={color:"#a3d9b1",textDecoration:"underline"},Qj={textAlign:"center",fontSize:"0.875rem",color:"#bbb",marginTop:"2rem"},eP={color:"#f5a623",fontWeight:"bold",textDecoration:"underline"},tP={display:"flex",alignItems:"center",gap:"1rem",margin:"2rem 0",color:"#888"},Dh={flex:1,height:"1px",backgroundColor:"#555"},rP={width:"100%",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",padding:"0.7rem",border:"1px solid white",borderRadius:"8px",backgroundColor:"transparent",color:"white",cursor:"pointer",fontSize:"1rem"};function nP(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}const iP=e=>{switch(e){case"success":return sP;case"info":return cP;case"warning":return lP;case"error":return uP;default:return null}},aP=Array(12).fill(0),oP=({visible:e,className:t})=>D.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},D.createElement("div",{className:"sonner-spinner"},aP.map((r,n)=>D.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),sP=D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},D.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),lP=D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},D.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),cP=D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},D.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),uP=D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},D.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),dP=D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},D.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),D.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),fP=()=>{const[e,t]=D.useState(document.hidden);return D.useEffect(()=>{const r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e};let ru=1;class hP{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const r=this.subscribers.indexOf(t);this.subscribers.splice(r,1)}),this.publish=t=>{this.subscribers.forEach(r=>r(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var r;const{message:n,...i}=t,a=typeof(t==null?void 0:t.id)=="number"||((r=t.id)==null?void 0:r.length)>0?t.id:ru++,o=this.toasts.find(l=>l.id===a),s=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),o?this.toasts=this.toasts.map(l=>l.id===a?(this.publish({...l,...t,id:a,title:n}),{...l,...t,id:a,dismissible:s,title:n}):l):this.addToast({title:n,...i,dismissible:s,id:a}),a},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:t,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),t),this.message=(t,r)=>this.create({...r,message:t}),this.error=(t,r)=>this.create({...r,message:t,type:"error"}),this.success=(t,r)=>this.create({...r,type:"success",message:t}),this.info=(t,r)=>this.create({...r,type:"info",message:t}),this.warning=(t,r)=>this.create({...r,type:"warning",message:t}),this.loading=(t,r)=>this.create({...r,type:"loading",message:t}),this.promise=(t,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:t,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const i=Promise.resolve(t instanceof Function?t():t);let a=n!==void 0,o;const s=i.then(async c=>{if(o=["resolve",c],D.isValidElement(c))a=!1,this.create({id:n,type:"default",message:c});else if(mP(c)&&!c.ok){a=!1;const d=typeof r.error=="function"?await r.error(`HTTP error! status: ${c.status}`):r.error,f=typeof r.description=="function"?await r.description(`HTTP error! status: ${c.status}`):r.description,m=typeof d=="object"&&!D.isValidElement(d)?d:{message:d};this.create({id:n,type:"error",description:f,...m})}else if(c instanceof Error){a=!1;const d=typeof r.error=="function"?await r.error(c):r.error,f=typeof r.description=="function"?await r.description(c):r.description,m=typeof d=="object"&&!D.isValidElement(d)?d:{message:d};this.create({id:n,type:"error",description:f,...m})}else if(r.success!==void 0){a=!1;const d=typeof r.success=="function"?await r.success(c):r.success,f=typeof r.description=="function"?await r.description(c):r.description,m=typeof d=="object"&&!D.isValidElement(d)?d:{message:d};this.create({id:n,type:"success",description:f,...m})}}).catch(async c=>{if(o=["reject",c],r.error!==void 0){a=!1;const u=typeof r.error=="function"?await r.error(c):r.error,d=typeof r.description=="function"?await r.description(c):r.description,p=typeof u=="object"&&!D.isValidElement(u)?u:{message:u};this.create({id:n,type:"error",description:d,...p})}}).finally(()=>{a&&(this.dismiss(n),n=void 0),r.finally==null||r.finally.call(r)}),l=()=>new Promise((c,u)=>s.then(()=>o[0]==="reject"?u(o[1]):c(o[1])).catch(u));return typeof n!="string"&&typeof n!="number"?{unwrap:l}:Object.assign(n,{unwrap:l})},this.custom=(t,r)=>{const n=(r==null?void 0:r.id)||ru++;return this.create({jsx:t(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const it=new hP,pP=(e,t)=>{const r=(t==null?void 0:t.id)||ru++;return it.addToast({title:e,...t,id:r}),r},mP=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",gP=pP,vP=()=>it.toasts,yP=()=>it.getActiveToasts(),Ve=Object.assign(gP,{success:it.success,info:it.info,warning:it.warning,error:it.error,custom:it.custom,message:it.message,promise:it.promise,dismiss:it.dismiss,loading:it.loading},{getHistory:vP,getToasts:yP});nP("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function $a(e){return e.label!==void 0}const bP=3,wP="24px",xP="16px",Mh=4e3,_P=356,SP=14,EP=45,jP=200;function Jt(...e){return e.filter(Boolean).join(" ")}function PP(e){const[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}const OP=e=>{var t,r,n,i,a,o,s,l,c;const{invert:u,toast:d,unstyled:f,interacting:p,setHeights:m,visibleToasts:g,heights:v,index:b,toasts:x,expanded:w,removeToast:_,defaultRichColors:S,closeButton:E,style:j,cancelButtonStyle:k,actionButtonStyle:A,className:I="",descriptionClassName:C="",duration:$,position:U,gap:T,expandByDefault:L,classNames:M,icons:q,closeButtonAriaLabel:J="Close toast"}=e,[X,pe]=D.useState(null),[ne,F]=D.useState(null),[V,ae]=D.useState(!1),[ee,rt]=D.useState(!1),[kr,de]=D.useState(!1),[N,G]=D.useState(!1),[re,R]=D.useState(!1),[We,oe]=D.useState(0),[Xe,qe]=D.useState(0),ft=D.useRef(d.duration||$||Mh),gi=D.useRef(null),or=D.useRef(null),F1=b===0,z1=b+1<=g,ht=d.type,xn=d.dismissible!==!1,W1=d.className||"",q1=d.descriptionClassName||"",Pa=D.useMemo(()=>v.findIndex(Y=>Y.toastId===d.id)||0,[v,d.id]),H1=D.useMemo(()=>{var Y;return(Y=d.closeButton)!=null?Y:E},[d.closeButton,E]),Vf=D.useMemo(()=>d.duration||$||Mh,[d.duration,$]),qs=D.useRef(0),_n=D.useRef(0),Gf=D.useRef(0),Sn=D.useRef(null),[K1,V1]=U.split("-"),Yf=D.useMemo(()=>v.reduce((Y,Ce,He)=>He>=Pa?Y:Y+Ce.height,0),[v,Pa]),Jf=fP(),G1=d.invert||u,Hs=ht==="loading";_n.current=D.useMemo(()=>Pa*T+Yf,[Pa,Yf]),D.useEffect(()=>{ft.current=Vf},[Vf]),D.useEffect(()=>{ae(!0)},[]),D.useEffect(()=>{const Y=or.current;if(Y){const Ce=Y.getBoundingClientRect().height;return qe(Ce),m(He=>[{toastId:d.id,height:Ce,position:d.position},...He]),()=>m(He=>He.filter(pt=>pt.toastId!==d.id))}},[m,d.id]),D.useLayoutEffect(()=>{if(!V)return;const Y=or.current,Ce=Y.style.height;Y.style.height="auto";const He=Y.getBoundingClientRect().height;Y.style.height=Ce,qe(He),m(pt=>pt.find(Le=>Le.toastId===d.id)?pt.map(Le=>Le.toastId===d.id?{...Le,height:He}:Le):[{toastId:d.id,height:He,position:d.position},...pt])},[V,d.title,d.description,m,d.id,d.jsx,d.action,d.cancel]);const Ar=D.useCallback(()=>{rt(!0),oe(_n.current),m(Y=>Y.filter(Ce=>Ce.toastId!==d.id)),setTimeout(()=>{_(d)},jP)},[d,_,m,_n]);D.useEffect(()=>{if(d.promise&&ht==="loading"||d.duration===1/0||d.type==="loading")return;let Y;return w||p||Jf?(()=>{if(Gf.current<qs.current){const pt=new Date().getTime()-qs.current;ft.current=ft.current-pt}Gf.current=new Date().getTime()})():(()=>{ft.current!==1/0&&(qs.current=new Date().getTime(),Y=setTimeout(()=>{d.onAutoClose==null||d.onAutoClose.call(d,d),Ar()},ft.current))})(),()=>clearTimeout(Y)},[w,p,d,ht,Jf,Ar]),D.useEffect(()=>{d.delete&&(Ar(),d.onDismiss==null||d.onDismiss.call(d,d))},[Ar,d.delete]);function Y1(){var Y;if(q!=null&&q.loading){var Ce;return D.createElement("div",{className:Jt(M==null?void 0:M.loader,d==null||(Ce=d.classNames)==null?void 0:Ce.loader,"sonner-loader"),"data-visible":ht==="loading"},q.loading)}return D.createElement(oP,{className:Jt(M==null?void 0:M.loader,d==null||(Y=d.classNames)==null?void 0:Y.loader),visible:ht==="loading"})}const J1=d.icon||(q==null?void 0:q[ht])||iP(ht);var Xf,Zf;return D.createElement("li",{tabIndex:0,ref:or,className:Jt(I,W1,M==null?void 0:M.toast,d==null||(t=d.classNames)==null?void 0:t.toast,M==null?void 0:M.default,M==null?void 0:M[ht],d==null||(r=d.classNames)==null?void 0:r[ht]),"data-sonner-toast":"","data-rich-colors":(Xf=d.richColors)!=null?Xf:S,"data-styled":!(d.jsx||d.unstyled||f),"data-mounted":V,"data-promise":!!d.promise,"data-swiped":re,"data-removed":ee,"data-visible":z1,"data-y-position":K1,"data-x-position":V1,"data-index":b,"data-front":F1,"data-swiping":kr,"data-dismissible":xn,"data-type":ht,"data-invert":G1,"data-swipe-out":N,"data-swipe-direction":ne,"data-expanded":!!(w||L&&V),"data-testid":d.testId,style:{"--index":b,"--toasts-before":b,"--z-index":x.length-b,"--offset":`${ee?We:_n.current}px`,"--initial-height":L?"auto":`${Xe}px`,...j,...d.style},onDragEnd:()=>{de(!1),pe(null),Sn.current=null},onPointerDown:Y=>{Y.button!==2&&(Hs||!xn||(gi.current=new Date,oe(_n.current),Y.target.setPointerCapture(Y.pointerId),Y.target.tagName!=="BUTTON"&&(de(!0),Sn.current={x:Y.clientX,y:Y.clientY})))},onPointerUp:()=>{var Y,Ce,He;if(N||!xn)return;Sn.current=null;const pt=Number(((Y=or.current)==null?void 0:Y.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Oa=Number(((Ce=or.current)==null?void 0:Ce.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Le=new Date().getTime()-((He=gi.current)==null?void 0:He.getTime()),jt=X==="x"?pt:Oa,ka=Math.abs(jt)/Le;if(Math.abs(jt)>=EP||ka>.11){oe(_n.current),d.onDismiss==null||d.onDismiss.call(d,d),F(X==="x"?pt>0?"right":"left":Oa>0?"down":"up"),Ar(),G(!0);return}else{var Ut,Ft;(Ut=or.current)==null||Ut.style.setProperty("--swipe-amount-x","0px"),(Ft=or.current)==null||Ft.style.setProperty("--swipe-amount-y","0px")}R(!1),de(!1),pe(null)},onPointerMove:Y=>{var Ce,He,pt;if(!Sn.current||!xn||((Ce=window.getSelection())==null?void 0:Ce.toString().length)>0)return;const Le=Y.clientY-Sn.current.y,jt=Y.clientX-Sn.current.x;var ka;const Ut=(ka=e.swipeDirections)!=null?ka:PP(U);!X&&(Math.abs(jt)>1||Math.abs(Le)>1)&&pe(Math.abs(jt)>Math.abs(Le)?"x":"y");let Ft={x:0,y:0};const Qf=qr=>1/(1.5+Math.abs(qr)/20);if(X==="y"){if(Ut.includes("top")||Ut.includes("bottom"))if(Ut.includes("top")&&Le<0||Ut.includes("bottom")&&Le>0)Ft.y=Le;else{const qr=Le*Qf(Le);Ft.y=Math.abs(qr)<Math.abs(Le)?qr:Le}}else if(X==="x"&&(Ut.includes("left")||Ut.includes("right")))if(Ut.includes("left")&&jt<0||Ut.includes("right")&&jt>0)Ft.x=jt;else{const qr=jt*Qf(jt);Ft.x=Math.abs(qr)<Math.abs(jt)?qr:jt}(Math.abs(Ft.x)>0||Math.abs(Ft.y)>0)&&R(!0),(He=or.current)==null||He.style.setProperty("--swipe-amount-x",`${Ft.x}px`),(pt=or.current)==null||pt.style.setProperty("--swipe-amount-y",`${Ft.y}px`)}},H1&&!d.jsx&&ht!=="loading"?D.createElement("button",{"aria-label":J,"data-disabled":Hs,"data-close-button":!0,onClick:Hs||!xn?()=>{}:()=>{Ar(),d.onDismiss==null||d.onDismiss.call(d,d)},className:Jt(M==null?void 0:M.closeButton,d==null||(n=d.classNames)==null?void 0:n.closeButton)},(Zf=q==null?void 0:q.close)!=null?Zf:dP):null,(ht||d.icon||d.promise)&&d.icon!==null&&((q==null?void 0:q[ht])!==null||d.icon)?D.createElement("div",{"data-icon":"",className:Jt(M==null?void 0:M.icon,d==null||(i=d.classNames)==null?void 0:i.icon)},d.promise||d.type==="loading"&&!d.icon?d.icon||Y1():null,d.type!=="loading"?J1:null):null,D.createElement("div",{"data-content":"",className:Jt(M==null?void 0:M.content,d==null||(a=d.classNames)==null?void 0:a.content)},D.createElement("div",{"data-title":"",className:Jt(M==null?void 0:M.title,d==null||(o=d.classNames)==null?void 0:o.title)},d.jsx?d.jsx:typeof d.title=="function"?d.title():d.title),d.description?D.createElement("div",{"data-description":"",className:Jt(C,q1,M==null?void 0:M.description,d==null||(s=d.classNames)==null?void 0:s.description)},typeof d.description=="function"?d.description():d.description):null),D.isValidElement(d.cancel)?d.cancel:d.cancel&&$a(d.cancel)?D.createElement("button",{"data-button":!0,"data-cancel":!0,style:d.cancelButtonStyle||k,onClick:Y=>{$a(d.cancel)&&xn&&(d.cancel.onClick==null||d.cancel.onClick.call(d.cancel,Y),Ar())},className:Jt(M==null?void 0:M.cancelButton,d==null||(l=d.classNames)==null?void 0:l.cancelButton)},d.cancel.label):null,D.isValidElement(d.action)?d.action:d.action&&$a(d.action)?D.createElement("button",{"data-button":!0,"data-action":!0,style:d.actionButtonStyle||A,onClick:Y=>{$a(d.action)&&(d.action.onClick==null||d.action.onClick.call(d.action,Y),!Y.defaultPrevented&&Ar())},className:Jt(M==null?void 0:M.actionButton,d==null||(c=d.classNames)==null?void 0:c.actionButton)},d.action.label):null)};function Nh(){if(typeof window>"u"||typeof document>"u")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function kP(e,t){const r={};return[e,t].forEach((n,i)=>{const a=i===1,o=a?"--mobile-offset":"--offset",s=a?xP:wP;function l(c){["top","right","bottom","left"].forEach(u=>{r[`${o}-${u}`]=typeof c=="number"?`${c}px`:c})}typeof n=="number"||typeof n=="string"?l(n):typeof n=="object"?["top","right","bottom","left"].forEach(c=>{n[c]===void 0?r[`${o}-${c}`]=s:r[`${o}-${c}`]=typeof n[c]=="number"?`${n[c]}px`:n[c]}):l(s)}),r}const AP=D.forwardRef(function(t,r){const{id:n,invert:i,position:a="bottom-right",hotkey:o=["altKey","KeyT"],expand:s,closeButton:l,className:c,offset:u,mobileOffset:d,theme:f="light",richColors:p,duration:m,style:g,visibleToasts:v=bP,toastOptions:b,dir:x=Nh(),gap:w=SP,icons:_,containerAriaLabel:S="Notifications"}=t,[E,j]=D.useState([]),k=D.useMemo(()=>n?E.filter(V=>V.toasterId===n):E.filter(V=>!V.toasterId),[E,n]),A=D.useMemo(()=>Array.from(new Set([a].concat(k.filter(V=>V.position).map(V=>V.position)))),[k,a]),[I,C]=D.useState([]),[$,U]=D.useState(!1),[T,L]=D.useState(!1),[M,q]=D.useState(f!=="system"?f:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),J=D.useRef(null),X=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),pe=D.useRef(null),ne=D.useRef(!1),F=D.useCallback(V=>{j(ae=>{var ee;return(ee=ae.find(rt=>rt.id===V.id))!=null&&ee.delete||it.dismiss(V.id),ae.filter(({id:rt})=>rt!==V.id)})},[]);return D.useEffect(()=>it.subscribe(V=>{if(V.dismiss){requestAnimationFrame(()=>{j(ae=>ae.map(ee=>ee.id===V.id?{...ee,delete:!0}:ee))});return}setTimeout(()=>{OS.flushSync(()=>{j(ae=>{const ee=ae.findIndex(rt=>rt.id===V.id);return ee!==-1?[...ae.slice(0,ee),{...ae[ee],...V},...ae.slice(ee+1)]:[V,...ae]})})})}),[E]),D.useEffect(()=>{if(f!=="system"){q(f);return}if(f==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?q("dark"):q("light")),typeof window>"u")return;const V=window.matchMedia("(prefers-color-scheme: dark)");try{V.addEventListener("change",({matches:ae})=>{q(ae?"dark":"light")})}catch{V.addListener(({matches:ee})=>{try{q(ee?"dark":"light")}catch(rt){console.error(rt)}})}},[f]),D.useEffect(()=>{E.length<=1&&U(!1)},[E]),D.useEffect(()=>{const V=ae=>{var ee;if(o.every(de=>ae[de]||ae.code===de)){var kr;U(!0),(kr=J.current)==null||kr.focus()}ae.code==="Escape"&&(document.activeElement===J.current||(ee=J.current)!=null&&ee.contains(document.activeElement))&&U(!1)};return document.addEventListener("keydown",V),()=>document.removeEventListener("keydown",V)},[o]),D.useEffect(()=>{if(J.current)return()=>{pe.current&&(pe.current.focus({preventScroll:!0}),pe.current=null,ne.current=!1)}},[J.current]),D.createElement("section",{ref:r,"aria-label":`${S} ${X}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},A.map((V,ae)=>{var ee;const[rt,kr]=V.split("-");return k.length?D.createElement("ol",{key:V,dir:x==="auto"?Nh():x,tabIndex:-1,ref:J,className:c,"data-sonner-toaster":!0,"data-sonner-theme":M,"data-y-position":rt,"data-x-position":kr,style:{"--front-toast-height":`${((ee=I[0])==null?void 0:ee.height)||0}px`,"--width":`${_P}px`,"--gap":`${w}px`,...g,...kP(u,d)},onBlur:de=>{ne.current&&!de.currentTarget.contains(de.relatedTarget)&&(ne.current=!1,pe.current&&(pe.current.focus({preventScroll:!0}),pe.current=null))},onFocus:de=>{de.target instanceof HTMLElement&&de.target.dataset.dismissible==="false"||ne.current||(ne.current=!0,pe.current=de.relatedTarget)},onMouseEnter:()=>U(!0),onMouseMove:()=>U(!0),onMouseLeave:()=>{T||U(!1)},onDragEnd:()=>U(!1),onPointerDown:de=>{de.target instanceof HTMLElement&&de.target.dataset.dismissible==="false"||L(!0)},onPointerUp:()=>L(!1)},k.filter(de=>!de.position&&ae===0||de.position===V).map((de,N)=>{var G,re;return D.createElement(OP,{key:de.id,icons:_,index:N,toast:de,defaultRichColors:p,duration:(G=b==null?void 0:b.duration)!=null?G:m,className:b==null?void 0:b.className,descriptionClassName:b==null?void 0:b.descriptionClassName,invert:i,visibleToasts:v,closeButton:(re=b==null?void 0:b.closeButton)!=null?re:l,interacting:T,position:V,style:b==null?void 0:b.style,unstyled:b==null?void 0:b.unstyled,classNames:b==null?void 0:b.classNames,cancelButtonStyle:b==null?void 0:b.cancelButtonStyle,actionButtonStyle:b==null?void 0:b.actionButtonStyle,closeButtonAriaLabel:b==null?void 0:b.closeButtonAriaLabel,removeToast:F,toasts:k.filter(R=>R.position==de.position),heights:I.filter(R=>R.position==de.position),setHeights:C,expandByDefault:s,gap:w,expanded:$,swipeDirections:t.swipeDirections})})):null}))});function CP(){const{t:e}=_e(),[t,r]=y.useState(""),[n,i]=y.useState(""),[a,o]=y.useState(""),[s,l]=y.useState(!1),c=Mt(),u=async d=>{if(d.preventDefault(),n!==a){Ve.error(e("passwords_do_not_match")||"Las contraseñas no coinciden");return}if(!/^[A-Za-z0-9]{8,}$/.test(n)){Ve.error(`${e("invalid_password_format")} ${e("password_hint")}`);return}try{const m=await(await fetch("http://127.0.0.1:8001/check_email_exists",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t})})).json();if(m.exists){Ve.error(`${e("email_already_registered")} ${m.provider}`);return}const{data:g,error:v}=await Je.auth.signUp({email:t,password:n});if(v){Ve.error(e("error_creating_account")+": "+v.message);return}if(!g.session){Ve.success(e("account_created_check_email")),setTimeout(()=>c("/login"),3e3);return}if(!(await fetch("http://127.0.0.1:8001/initialize_user",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({auth_user_id:g.user.id,email:g.user.email})})).ok){Ve.error(e("error_initializing_account"));return}Ve.success(e("account_created_redirecting")),setTimeout(()=>c("/dashboard"),2e3)}catch(p){console.error(p),Ve.error(e("unexpected_error"))}};return h.jsx("div",{style:TP,children:h.jsxs("div",{style:RP,children:[h.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[h.jsx("img",{src:"/logo-evolvian.svg",alt:"Logo Evolvian",style:{width:"64px",margin:"0 auto 1rem"}}),h.jsx("h1",{style:{fontSize:"1.75rem",fontWeight:"bold"},children:e("create_account")})]}),h.jsxs("form",{onSubmit:u,style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[h.jsx("div",{style:il,children:h.jsx("input",{type:"email",placeholder:e("email"),value:t,onChange:d=>r(d.target.value),required:!0,style:{...nl,border:"none",flex:1}})}),h.jsxs("div",{style:il,children:[h.jsx("input",{type:s?"text":"password",placeholder:e("password"),value:n,onChange:d=>i(d.target.value),required:!0,style:{...nl,border:"none",flex:1}}),h.jsx("div",{style:IP,onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),children:s?h.jsx(hd,{}):h.jsx(pd,{})})]}),h.jsx("p",{style:$P,children:e("password_hint")}),h.jsx("div",{style:il,children:h.jsx("input",{type:"password",placeholder:e("confirm_password")||"Confirmar contraseña",value:a,onChange:d=>o(d.target.value),required:!0,style:{...nl,border:"none",flex:1}})}),h.jsx("button",{type:"submit",style:DP,children:e("create_account")})]}),h.jsxs("p",{style:MP,children:[e("already_have_account")," ",h.jsx(Nr,{to:"/login",style:NP,children:e("login_here")})]})]})})}const TP={height:"100vh",width:"100vw",backgroundColor:"#0f1c2e",display:"flex",alignItems:"center",justifyContent:"center",padding:"1rem",fontFamily:"system-ui, Avenir, Helvetica, Arial, sans-serif"},RP={width:"100%",maxWidth:"400px",backgroundColor:"#1b2a41",color:"white",borderRadius:"1.5rem",padding:"2rem",boxShadow:"0 15px 40px rgba(0,0,0,0.3)",border:"1px solid #274472"},nl={width:"100%",padding:"0.6rem 1rem",background:"transparent",borderRadius:"8px",color:"white",fontSize:"1rem"},il={display:"flex",alignItems:"center",border:"1px solid #274472",borderRadius:"8px",backgroundColor:"transparent",height:"40px",paddingRight:"0.75rem"},IP={color:"#ccc",cursor:"pointer",fontSize:"1.1rem"},$P={fontSize:"0.75rem",color:"#ccc",marginTop:"-0.5rem",marginBottom:"0.5rem",paddingLeft:"0.25rem"},DP={backgroundColor:"#2eb39a",padding:"0.7rem",color:"white",borderRadius:"8px",fontWeight:"bold",border:"none",cursor:"pointer",fontSize:"1rem"},MP={textAlign:"center",fontSize:"0.875rem",color:"#bbb",marginTop:"2rem"},NP={color:"#f5a623",fontWeight:"bold",textDecoration:"underline"};function LP(){const{t:e}=_e(),t=Mt();return y.useEffect(()=>{const r=setTimeout(()=>{t("/login")},4e3);return()=>clearTimeout(r)},[t]),h.jsx("div",{style:BP,children:h.jsxs("div",{style:UP,children:[h.jsxs("h2",{style:FP,children:["✅ ",e("email_confirmed_successfully")]}),h.jsx("p",{style:zP,children:e("redirecting_to_login")})]})})}const BP={height:"100vh",width:"100vw",backgroundColor:"#0f1c2e",display:"flex",alignItems:"center",justifyContent:"center",padding:"1rem",fontFamily:"system-ui, Avenir, Helvetica, Arial, sans-serif"},UP={backgroundColor:"#1b2a41",color:"#ffffff",padding:"2rem",borderRadius:"1.5rem",boxShadow:"0 15px 40px rgba(0,0,0,0.3)",textAlign:"center",maxWidth:"400px",width:"100%",border:"1px solid #274472"},FP={fontSize:"1.25rem",fontWeight:"600",marginBottom:"0.75rem",color:"#a3d9b1"},zP={fontSize:"0.95rem",color:"#ededed"};function WP(){const{t:e}=_e(),[t,r]=y.useState(""),n=async i=>{i.preventDefault();const{error:a}=await Je.auth.resetPasswordForEmail(t,{redirectTo:`${window.location.origin}/reset-password`});a?(console.error("❌ Error al enviar reset:",a.message),Ve.error(e("error_sending_reset_email"))):Ve.success(e("check_your_email"))};return h.jsx("div",{style:qP,children:h.jsxs("div",{style:HP,children:[h.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[h.jsx("img",{src:"/logo-evolvian.svg",alt:"Logo Evolvian",style:{width:"64px",margin:"0 auto 1rem"}}),h.jsx("h1",{style:KP,children:e("recover_password")}),h.jsx("p",{style:VP,children:e("enter_your_email")})]}),h.jsxs("form",{onSubmit:n,style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[h.jsx("div",{style:GP,children:h.jsx("input",{type:"email",placeholder:e("email"),value:t,onChange:i=>r(i.target.value),required:!0,style:{...YP,border:"none",flex:1}})}),h.jsx("button",{type:"submit",style:JP,children:e("send_email")})]}),h.jsxs("p",{style:XP,children:[e("already_have_access")," ",h.jsx(Nr,{to:"/login",style:ZP,children:e("login")})]})]})})}const qP={height:"100vh",width:"100vw",backgroundColor:"#0f1c2e",display:"flex",alignItems:"center",justifyContent:"center",padding:"1rem",fontFamily:"system-ui, Avenir, Helvetica, Arial, sans-serif"},HP={width:"100%",maxWidth:"400px",backgroundColor:"#1b2a41",borderRadius:"1.5rem",padding:"2rem",color:"white",boxShadow:"0 15px 40px rgba(0,0,0,0.3)",border:"1px solid #274472"},KP={fontSize:"1.5rem",fontWeight:"bold"},VP={fontSize:"0.9rem",color:"#ccc"},GP={display:"flex",alignItems:"center",border:"1px solid #274472",borderRadius:"8px",backgroundColor:"transparent",height:"40px",paddingRight:"0.75rem"},YP={width:"100%",padding:"0.6rem 1rem",background:"transparent",borderRadius:"8px",color:"white",fontSize:"1rem"},JP={backgroundColor:"#2eb39a",padding:"0.7rem",color:"white",borderRadius:"8px",fontWeight:"bold",border:"none",cursor:"pointer",fontSize:"1rem"},XP={textAlign:"center",fontSize:"0.875rem",color:"#bbb",marginTop:"2rem"},ZP={color:"#f5a623",fontWeight:"bold",textDecoration:"underline"};function QP(){const{t:e}=_e(),t=Mt(),[r,n]=y.useState(""),[i,a]=y.useState(!1),[o,s]=y.useState(!1),[l,c]=y.useState(!1);y.useEffect(()=>{window.location.hash.includes("access_token")?c(!0):(Ve.error(e("invalid_token")),t("/forgot-password"))},[t,e]);const u=async d=>{d.preventDefault(),s(!0);const{error:f}=await Je.auth.updateUser({password:r});f?Ve.error(`❌ ${e("error_updating_password")}: ${f.message}`):(Ve.success(`🔒 ${e("password_updated_successfully")}`),t("/login")),s(!1)};return l?h.jsx("div",{style:eO,children:h.jsxs("div",{style:tO,children:[h.jsxs("div",{style:{textAlign:"center",marginBottom:"1.5rem"},children:[h.jsx("img",{src:"/logo-evolvian.svg",alt:"Logo Evolvian",style:{width:"64px",margin:"0 auto 1rem"}}),h.jsx("h1",{style:rO,children:e("new_password")}),h.jsx("p",{style:nO,children:e("enter_new_password")})]}),h.jsxs("form",{onSubmit:u,style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[h.jsxs("div",{style:iO,children:[h.jsx("input",{type:i?"text":"password",placeholder:e("new_password_placeholder"),value:r,onChange:d=>n(d.target.value),required:!0,style:{...aO,border:"none",flex:1}}),h.jsx("div",{style:oO,onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),children:i?h.jsx(hd,{}):h.jsx(pd,{})})]}),h.jsx("button",{type:"submit",disabled:o,style:{...sO,opacity:o?.7:1,cursor:o?"not-allowed":"pointer"},children:e(o?"updating":"update_password")})]})]})}):null}const eO={height:"100vh",width:"100vw",backgroundColor:"#0f1c2e",display:"flex",alignItems:"center",justifyContent:"center",padding:"1rem",fontFamily:"system-ui, Avenir, Helvetica, Arial, sans-serif"},tO={width:"100%",maxWidth:"400px",backgroundColor:"#1b2a41",borderRadius:"1.5rem",padding:"2rem",color:"white",boxShadow:"0 15px 40px rgba(0,0,0,0.3)",border:"1px solid #274472"},rO={fontSize:"1.5rem",fontWeight:"bold"},nO={fontSize:"0.9rem",color:"#ccc"},iO={display:"flex",alignItems:"center",border:"1px solid #274472",borderRadius:"8px",backgroundColor:"transparent",height:"40px",paddingRight:"0.75rem"},aO={width:"100%",padding:"0.6rem 1rem",background:"transparent",borderRadius:"8px",color:"white",fontSize:"1rem"},oO={color:"#ccc",cursor:"pointer",fontSize:"1.1rem"},sO={backgroundColor:"#2eb39a",padding:"0.7rem",color:"white",borderRadius:"8px",fontWeight:"bold",border:"none",fontSize:"1rem"};function lO(){const{t:e}=_e(),[t,r]=y.useState(""),[n,i]=y.useState(!1),[a,o]=y.useState(!1),s=async l=>{l.preventDefault(),i(!0);const{error:c}=await Je.auth.signInWithOtp({email:t,options:{redirectTo:`${window.location.origin}/dashboard`}});c?Ve.error(e("error_sending_login_link")):(Ve.success(e("check_your_email_login_link")),o(!0)),i(!1)};return h.jsx("div",{style:cO,children:h.jsxs("div",{style:uO,children:[h.jsxs("div",{style:{textAlign:"center",marginBottom:"1.5rem"},children:[h.jsx("img",{src:"/logo-evolvian.svg",alt:"Logo Evolvian",style:{width:"64px",margin:"0 auto 1rem"}}),h.jsx("h1",{style:dO,children:e("access_verification")}),h.jsx("p",{style:fO,children:e("confirm_email_to_continue")})]}),a?h.jsx("p",{style:{textAlign:"center",color:"#ededed"},children:e("email_link_sent")}):h.jsxs("form",{onSubmit:s,style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[h.jsx("input",{type:"email",placeholder:e("email"),value:t,onChange:l=>r(l.target.value),required:!0,style:hO}),h.jsx("button",{type:"submit",disabled:n,style:{...pO,opacity:n?.7:1,cursor:n?"not-allowed":"pointer"},children:e(n?"sending":"send_login_link")})]})]})})}const cO={height:"100vh",width:"100vw",backgroundColor:"#0f1c2e",display:"flex",alignItems:"center",justifyContent:"center",padding:"1rem",fontFamily:"system-ui, Avenir, Helvetica, Arial, sans-serif"},uO={width:"100%",maxWidth:"400px",backgroundColor:"#1b2a41",borderRadius:"1.5rem",padding:"2rem",color:"white",boxShadow:"0 15px 40px rgba(0,0,0,0.3)",border:"1px solid #274472"},dO={fontSize:"1.5rem",fontWeight:"bold"},fO={fontSize:"0.9rem",color:"#ccc"},hO={padding:"0.6rem 1rem",background:"transparent",border:"1px solid #274472",borderRadius:"8px",color:"white",fontSize:"1rem"},pO={backgroundColor:"#2eb39a",padding:"0.7rem",color:"white",borderRadius:"8px",fontWeight:"bold",border:"none",fontSize:"1rem"};function mO(e){const[t,r]=y.useState(null);return y.useEffect(()=>{if(!e)return;(async()=>{try{const o=await(await fetch(`http://127.0.0.1:8001/accepted_terms?client_id=${e}`)).json();r(o.has_accepted)}catch(a){console.error("❌ Error al verificar aceptación de términos:",a),r(!1)}})()},[e]),{hasAccepted:t,acceptTerms:async()=>{try{if(!(await fetch("http://127.0.0.1:8001/accept_terms",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:e})})).ok)throw new Error("Error al registrar aceptación");r(!0)}catch(i){console.error("❌ Error al aceptar términos:",i)}}}}function Vt(){const[e,t]=y.useState(()=>{const r=localStorage.getItem("client_id");return r&&r!=="undefined"&&r!=="null"?r:null});return y.useEffect(()=>{const r=n=>{if(n.key==="client_id"){const i=n.newValue;i&&i!=="undefined"&&i!=="null"&&t(i)}};return window.addEventListener("storage",r),()=>window.removeEventListener("storage",r)},[]),e}function gO(){const e=Mt(),[t,r]=y.useState(!1),n=Vt(),{hasAccepted:i,acceptTerms:a}=mO(n),o=async()=>{r(!0);const s=localStorage.getItem("user_id");console.log("🧠 Obtenido user_id desde localStorage:",s);try{if(s){const c=await(await fetch(`http://127.0.0.1:8001/clear_new_user_flag?user_id=${s}`,{method:"POST"})).json();console.log("✅ Respuesta de clear_new_user_flag:",c),console.log("🔄 Refrescando sesión después de limpiar bandera..."),await Je.auth.refreshSession(),sessionStorage.removeItem("alreadyRedirected")}else console.warn("⚠️ user_id no está disponible en localStorage");!i&&n&&(console.log("📩 Aceptando términos con client_id:",n),await a()),console.log("➡️ Redirigiendo a /dashboard..."),e("/dashboard",{replace:!0})}catch(l){console.error("❌ Error en Welcome:",l),e("/dashboard",{replace:!0})}finally{r(!1)}};return i===null?h.jsx("div",{style:{color:"white",padding:"2rem"},children:"Cargando..."}):h.jsx("div",{style:{height:"100vh",backgroundColor:"#0f1c2e",display:"flex",alignItems:"center",justifyContent:"center",fontFamily:"system-ui, sans-serif",padding:"2rem",color:"white"},children:h.jsxs("div",{style:{backgroundColor:"#1b2a41",padding:"3rem",borderRadius:"1.5rem",maxWidth:"600px",width:"100%",textAlign:"center",boxShadow:"0 0 30px rgba(0,0,0,0.2)",border:"1px solid #274472"},children:[h.jsx("img",{src:"/logo-evolvian.svg",alt:"Evolvian",style:{width:"60px",marginBottom:"1.5rem"}}),h.jsx("h1",{style:{fontSize:"1.8rem",color:"#a3d9b1",marginBottom:"1rem"},children:"Bienvenido a Evolvian, tu nuevo copiloto de conocimiento."}),h.jsxs("p",{style:{fontSize:"1rem",color:"#ededed",marginBottom:"1.5rem"},children:["Has dado el primer paso hacia una forma más rápida, segura y precisa de resolver tus dudas, compartir respuestas y empoderar a tus usuarios.",h.jsx("br",{}),h.jsx("br",{}),"Evolvian es un asistente de inteligencia artificial que entiende tus documentos y responde como si fueras tú. Aquí empieza todo."]}),h.jsx("button",{onClick:o,disabled:t,style:{backgroundColor:"#2eb39a",color:"white",fontSize:"1rem",padding:"0.8rem 1.6rem",border:"none",borderRadius:"8px",fontWeight:"bold",cursor:t?"not-allowed":"pointer"},children:t?"Cargando...":"Ir al panel"})]})})}function vO(){return h.jsxs("div",{style:{padding:"2rem"},children:[h.jsx("h2",{children:"404 – Página no encontrada"}),h.jsx("p",{children:"La ruta que intentaste no existe."})]})}function yO(){const[e]=by(),t=e.get("public_client_id");return t?h.jsx("div",{style:{margin:0,padding:0,width:"100vw",height:"100vh",backgroundColor:"#ededed",fontFamily:"system-ui, sans-serif",display:"flex",justifyContent:"center",alignItems:"center"},children:h.jsxs("div",{style:{width:"360px",height:"520px",backgroundColor:"#ffffff",border:"2px solid #4a90e2",borderRadius:"16px",boxShadow:"0 6px 24px rgba(0,0,0,0.15)",overflow:"hidden"},children:[h.jsx(as,{clientId:t})," "]})}):h.jsx("div",{style:{padding:"2rem",fontFamily:"system-ui, sans-serif",color:"#e74c3c",textAlign:"center"},children:"⚠️ No se proporcionó un public_client_id."})}function bO(){const[e,t]=y.useState("");return y.useEffect(()=>{const r=new URLSearchParams(window.location.search),n=r.get("client_id")||r.get("public_client_id");n&&t(n)},[]),e?h.jsx("div",{style:{width:"100%",height:"100%",backgroundColor:"#ffffff"},children:h.jsx(as,{clientId:e})}):h.jsx("p",{style:{padding:"1rem"},children:"❌ Client ID no encontrado."})}const wO=["Afghanistan","Albania","Germany","Andorra","Angola","Saudi Arabia","Algeria","Argentina","Armenia","Australia","Austria","Azerbaijan","Bahamas","Bangladesh","Bahrain","Belgium","Belize","Benin","Belarus","Bolivia","Bosnia and Herzegovina","Botswana","Brazil","Brunei","Bulgaria","Burkina Faso","Burundi","Cape Verde","Cambodia","Cameroon","Canada","Chile","China","Cyprus","Colombia","Comoros","South Korea","Ivory Coast","Costa Rica","Croatia","Denmark","Djibouti","Dominica","Ecuador","Egypt","El Salvador","United Arab Emirates","Slovakia","Slovenia","Spain","United States","Estonia","Ethiopia","Philippines","Finland","France","Gabon","Gambia","Georgia","Ghana","Greece","Guatemala","Guyana","Honduras","Hungary","India","Indonesia","Iraq","Iran","Ireland","Iceland","Marshall Islands","Israel","Italy","Jamaica","Japan","Jordan","Kazakhstan","Kenya","Kyrgyzstan","Kuwait","Laos","Latvia","Lebanon","Liberia","Libya","Liechtenstein","Lithuania","Luxembourg","North Macedonia","Madagascar","Malaysia","Malawi","Maldives","Mali","Malta","Morocco","Mauritius","Mauritania","Mexico","Moldova","Monaco","Mongolia","Montenegro","Mozambique","Namibia","Nepal","Nicaragua","Niger","Nigeria","Norway","New Zealand","Oman","Netherlands","Pakistan","Panama","Papua New Guinea","Paraguay","Peru","Poland","Portugal","Qatar","United Kingdom","Central African Republic","Czech Republic","Democratic Republic of the Congo","Dominican Republic","Rwanda","Romania","Russia","Samoa","San Marino","Saint Lucia","Senegal","Serbia","Seychelles","Singapore","Syria","Somalia","Sri Lanka","South Africa","Sudan","Sweden","Switzerland","Suriname","Thailand","Tanzania","Tajikistan","East Timor","Togo","Tonga","Trinidad and Tobago","Tunisia","Turkey","Turkmenistan","Ukraine","Uganda","Uruguay","Uzbekistan","Vanuatu","Vatican City","Venezuela","Vietnam","Yemen","Zambia","Zimbabwe"],xO=["Software","Education","Healthcare","Finance","Retail","Manufacturing","Consulting","Other"],_O=["Founder / CEO","CMO / Marketing Manager","Customer Support","Operations Manager","Sales Executive","IT Manager","Product Manager","Developer / Engineer","HR / People","Other"],SO=["Chat Widget","WhatsApp","Email","Others"],EO=["1-10 employees","11-50 employees","51-200 employees","201-500 employees","501-1000 employees","More than 1000 employees"],al=["welcome_intro","personalization","terms","plan"];function jO({onClose:e}){const{t}=_e(),[r,n]=y.useState(1),[i,a]=y.useState(!1),[o,s]=y.useState({industry:"",role:"",country:"",channels:[],companySize:""}),[l,c]=y.useState(null),[u,d]=y.useState(null);y.useEffect(()=>{async function x(){try{const w=localStorage.getItem("client_id");if(!w)throw new Error("client_id not found in localStorage");const _=await fetch(`http://127.0.0.1:8001/client_settings?client_id=${w}`);if(!_.ok)throw new Error(`HTTP ${_.status}: ${await _.text()}`);const S=await _.json();c(S)}catch(w){console.error("❌ Error loading settings:",w)}}x()},[]);const f=async()=>{try{a(!0),sessionStorage.setItem("alreadyRedirected","true"),e()}catch(x){console.error("❌ Error in handleContinue:",x)}finally{a(!1)}},p=async()=>{if(d(null),r===3)try{const x=localStorage.getItem("client_id");if(!x)throw new Error("client_id not found");if(console.log("📝 Saving client profile..."),!(await fetch("http://127.0.0.1:8001/save_client_profile",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:x,industry:o.industry,role:o.role,country:o.country,channels:o.channels,company_size:o.companySize})})).ok)throw new Error("Error saving client profile");if(console.log("✅ Profile saved. Accepting terms..."),!(await fetch("http://127.0.0.1:8001/accept_terms",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:x})})).ok)throw new Error("Error accepting terms and conditions");console.log("✅ Consent complete. Proceeding..."),n(S=>Math.min(S+1,al.length))}catch(x){console.error("❌ Error in step 3:",x),d("There was an issue saving your consent. Please try again.")}else n(x=>Math.min(x+1,al.length))},m=()=>n(x=>Math.max(x-1,1)),g=x=>{const{name:w,value:_}=x.target;s(S=>({...S,[w]:_}))},v=x=>{s(w=>{const S=w.channels.includes(x)?w.channels.filter(E=>E!==x):[...w.channels,x];return{...w,channels:S}})},b=()=>{var x;switch(r){case 1:return h.jsxs(h.Fragment,{children:[h.jsx("img",{src:"/logo-evolvian.svg",alt:"Evolvian Logo",style:kO}),h.jsx("h1",{style:Da,children:"Welcome to Evolvian"}),h.jsx("p",{style:bi,children:"Let's personalize your assistant experience in a few quick steps."})]});case 2:return h.jsxs(h.Fragment,{children:[h.jsx("h2",{style:Da,children:"Personalize Your Experience"}),h.jsx("p",{style:bi,children:"Tell us a bit about your company so we can better tailor your assistant."}),h.jsxs("div",{style:AO,children:[h.jsxs("select",{name:"industry",value:o.industry,onChange:g,style:Ma,children:[h.jsx("option",{value:"",children:"Select your industry"}),xO.map(w=>h.jsx("option",{value:w,children:w},w))]}),h.jsxs("select",{name:"role",value:o.role,onChange:g,style:Ma,children:[h.jsx("option",{value:"",children:"Select your role"}),_O.map(w=>h.jsx("option",{value:w,children:w},w))]}),h.jsxs("select",{name:"country",value:o.country,onChange:g,style:Ma,children:[h.jsx("option",{value:"",children:"Select your country"}),wO.map(w=>h.jsx("option",{value:w,children:w},w))]}),h.jsxs("div",{style:{textAlign:"left",marginTop:"1rem"},children:[h.jsx("p",{style:{...bi,marginBottom:"0.5rem",color:"#ededed"},children:"Which channels are you interested in?"}),SO.map(w=>h.jsxs("label",{style:{color:"#ededed",fontSize:"0.9rem",display:"block",marginBottom:"0.3rem"},children:[h.jsx("input",{type:"checkbox",checked:o.channels.includes(w),onChange:()=>v(w),style:{marginRight:"0.5rem"}}),w]},w))]}),h.jsxs("select",{name:"companySize",value:o.companySize,onChange:g,style:Ma,children:[h.jsx("option",{value:"",children:"Select company size"}),EO.map(w=>h.jsx("option",{value:w,children:w},w))]})]})]});case 3:return h.jsxs(h.Fragment,{children:[h.jsx("h2",{style:Da,children:"Terms and Conditions"}),h.jsxs("p",{style:bi,children:["Please review our"," ",h.jsx("a",{href:"/terms",target:"_blank",rel:"noopener noreferrer",style:Lh,children:"Terms and Conditions"})," ","and"," ",h.jsx("a",{href:"/privacy",target:"_blank",rel:"noopener noreferrer",style:Lh,children:"Privacy Policy"})," ","before continuing."]}),u&&h.jsx("p",{style:{color:"red",marginTop:"1rem"},children:u})]});case 4:return l&&h.jsxs(h.Fragment,{children:[h.jsx("h2",{style:Da,children:"Your Current Plan"}),h.jsxs("p",{style:bi,children:["You are currently on the"," ",h.jsx("strong",{children:((x=l.plan)==null?void 0:x.name)||"Free"})," plan."]})]});default:return null}};return h.jsx("div",{style:PO,children:h.jsxs("div",{style:OO,children:[b(),h.jsxs("div",{style:{marginTop:"2rem",display:"flex",justifyContent:"center"},children:[r>1&&h.jsx("button",{onClick:m,style:CO,children:"Back"}),r<al.length?h.jsx("button",{onClick:p,style:Bh,children:"Next"}):h.jsx("button",{onClick:f,style:Bh,disabled:i,children:i?"Loading...":"Start"})]})]})})}const PO={position:"fixed",inset:0,background:"rgba(15, 28, 46, 0.6)",backdropFilter:"blur(6px)",WebkitBackdropFilter:"blur(6px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999,animation:"fadeIn 0.3s ease-in-out"},OO={background:"#1b2a41",border:"2px solid #274472",borderRadius:"20px",padding:"2.5rem 3rem",width:"95%",maxWidth:"780px",color:"#fff",textAlign:"center",boxShadow:"0 8px 28px rgba(0,0,0,0.35)",animation:"scaleIn 0.25s ease-in-out"},Da={fontSize:"1.8rem",color:"#a3d9b1",marginBottom:"1rem"},bi={fontSize:"1rem",color:"#ededed",marginBottom:"1.5rem",lineHeight:1.6},kO={width:"80px",marginBottom:"1.5rem",opacity:.95},Ma={padding:"0.8rem",borderRadius:"8px",border:"1px solid #4a90e2",backgroundColor:"#0f1c2e",color:"white",outline:"none"},Lh={color:"#4a90e2",textDecoration:"underline"},AO={display:"flex",flexDirection:"column",gap:"1rem",marginTop:"1rem"},Bh={background:"#2eb39a",color:"#fff",padding:"10px 24px",borderRadius:"8px",fontWeight:600,border:"none",cursor:"pointer",marginLeft:"1rem"},CO={background:"#4b5563",color:"#fff",padding:"10px 24px",borderRadius:"8px",fontWeight:500,border:"none",cursor:"pointer"},zy=document.createElement("style");zy.innerHTML=`
@keyframes fadeIn {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}
@keyframes scaleIn {
  from { opacity: 0; transform: scale(0.95); }
  to { opacity: 1; transform: scale(1); }
}`;document.head.appendChild(zy);const at=Ve;function Wy(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=Wy(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function ge(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=Wy(e))&&(n&&(n+=" "),n+=t);return n}var ol={},sl={},Uh;function TO(){return Uh||(Uh=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(sl)),sl}var ll={},Fh;function qy(){return Fh||(Fh=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(ll)),ll}var cl={},zh;function Hy(){return zh||(zh=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(cl)),cl}var ul={},Wh;function md(){return Wh||(Wh=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){const n=[],i=r.length;if(i===0)return n;let a=0,o="",s="",l=!1;for(r.charCodeAt(0)===46&&(n.push(""),a++);a<i;){const c=r[a];s?c==="\\"&&a+1<i?(a++,o+=r[a]):c===s?s="":o+=c:l?c==='"'||c==="'"?s=c:c==="]"?(l=!1,n.push(o),o=""):o+=c:c==="["?(l=!0,o&&(n.push(o),o="")):c==="."?o&&(n.push(o),o=""):o+=c,a++}return o&&n.push(o),n}e.toPath=t})(ul)),ul}var qh;function gd(){return qh||(qh=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=TO(),r=qy(),n=Hy(),i=md();function a(s,l,c){if(s==null)return c;switch(typeof l){case"string":{if(t.isUnsafeProperty(l))return c;const u=s[l];return u===void 0?r.isDeepKey(l)?a(s,i.toPath(l),c):c:u}case"number":case"symbol":{typeof l=="number"&&(l=n.toKey(l));const u=s[l];return u===void 0?c:u}default:{if(Array.isArray(l))return o(s,l,c);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),t.isUnsafeProperty(l))return c;const u=s[l];return u===void 0?c:u}}}function o(s,l,c){if(l.length===0)return c;let u=s;for(let d=0;d<l.length;d++){if(u==null||t.isUnsafeProperty(l[d]))return c;u=u[l[d]]}return u===void 0?c:u}e.get=a})(ol)),ol}var dl,Hh;function RO(){return Hh||(Hh=1,dl=gd().get),dl}var IO=RO();const zn=ir(IO);var fl={exports:{}},ce={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kh;function $O(){if(Kh)return ce;Kh=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),s=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.suspense_list"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.for("react.view_transition"),p=Symbol.for("react.client.reference");function m(g){if(typeof g=="object"&&g!==null){var v=g.$$typeof;switch(v){case e:switch(g=g.type,g){case r:case i:case n:case l:case c:case f:return g;default:switch(g=g&&g.$$typeof,g){case o:case s:case d:case u:return g;case a:return g;default:return v}}case t:return v}}}return ce.ContextConsumer=a,ce.ContextProvider=o,ce.Element=e,ce.ForwardRef=s,ce.Fragment=r,ce.Lazy=d,ce.Memo=u,ce.Portal=t,ce.Profiler=i,ce.StrictMode=n,ce.Suspense=l,ce.SuspenseList=c,ce.isContextConsumer=function(g){return m(g)===a},ce.isContextProvider=function(g){return m(g)===o},ce.isElement=function(g){return typeof g=="object"&&g!==null&&g.$$typeof===e},ce.isForwardRef=function(g){return m(g)===s},ce.isFragment=function(g){return m(g)===r},ce.isLazy=function(g){return m(g)===d},ce.isMemo=function(g){return m(g)===u},ce.isPortal=function(g){return m(g)===t},ce.isProfiler=function(g){return m(g)===i},ce.isStrictMode=function(g){return m(g)===n},ce.isSuspense=function(g){return m(g)===l},ce.isSuspenseList=function(g){return m(g)===c},ce.isValidElementType=function(g){return typeof g=="string"||typeof g=="function"||g===r||g===i||g===n||g===l||g===c||typeof g=="object"&&g!==null&&(g.$$typeof===d||g.$$typeof===u||g.$$typeof===o||g.$$typeof===a||g.$$typeof===s||g.$$typeof===p||g.getModuleId!==void 0)},ce.typeOf=m,ce}var Vh;function DO(){return Vh||(Vh=1,fl.exports=$O()),fl.exports}var MO=DO(),st=e=>e===0?0:e>0?1:-1,wt=e=>typeof e=="number"&&e!=+e,en=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,z=e=>(typeof e=="number"||e instanceof Number)&&!wt(e),rr=e=>z(e)||typeof e=="string",NO=0,Vi=e=>{var t=++NO;return"".concat(e||"").concat(t)},Ht=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!z(t)&&typeof t!="string")return n;var a;if(en(t)){if(r==null)return n;var o=t.indexOf("%");a=r*parseFloat(t.slice(0,o))/100}else a=+t;return wt(a)&&(a=n),i&&r!=null&&a>r&&(a=r),a},Ky=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1};function Ze(e,t,r){return z(e)&&z(t)?e+r*(t-e):t}function LO(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):zn(n,t))===r)}var Ie=e=>e===null||typeof e>"u",sa=e=>Ie(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),BO=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function vd(e){if(typeof e!="string")return!1;var t=BO;return t.includes(e)}var UO=["viewBox","children"],Gh=["points","pathLength"],hl={svg:UO,polygon:Gh,polyline:Gh},FO=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(y.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{vd(i)&&(n[i]=(a=>r[i](r,a)))}),n},zO=(e,t,r)=>n=>(e(t,r,n),null),yd=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(i=>{var a=e[i];vd(i)&&typeof a=="function"&&(n||(n={}),n[i]=zO(a,t,r))}),n},WO=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function Vy(e){if(typeof e!="string")return!1;var t=WO;return t.includes(e)}function ii(e){var t=Object.entries(e).filter(r=>{var[n]=r;return Vy(n)});return Object.fromEntries(t)}var Yh=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",Jh=null,pl=null,Gy=e=>{if(e===Jh&&Array.isArray(pl))return pl;var t=[];return y.Children.forEach(e,r=>{Ie(r)||(MO.isFragment(r)?t=t.concat(Gy(r.props.children)):t.push(r))}),pl=t,Jh=e,t};function qO(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(i=>Yh(i)):n=[Yh(t)],Gy(e).forEach(i=>{var a=zn(i,"type.displayName")||zn(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}var HO=(e,t,r,n)=>{var i;if(typeof t=="symbol"||typeof t=="number")return!0;var a=(i=n&&(hl==null?void 0:hl[n]))!==null&&i!==void 0?i:[],o=t.startsWith("data-"),s=typeof e!="function"&&(!!n&&a.includes(t)||Vy(t)),l=!!r&&vd(t);return o||s||l},ze=(e,t,r)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(y.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var i={};return Object.keys(n).forEach(a=>{var o;HO((o=n)===null||o===void 0?void 0:o[a],a,t,r)&&(i[a]=n[a])}),i},KO=["children","width","height","viewBox","className","style","title","desc"];function nu(){return nu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nu.apply(null,arguments)}function VO(e,t){if(e==null)return{};var r,n,i=GO(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function GO(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Yy=y.forwardRef((e,t)=>{var{children:r,width:n,height:i,viewBox:a,className:o,style:s,title:l,desc:c}=e,u=VO(e,KO),d=a||{width:n,height:i,x:0,y:0},f=ge("recharts-surface",o);return y.createElement("svg",nu({},ze(u,!0,"svg"),{className:f,width:n,height:i,style:s,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height),ref:t}),y.createElement("title",null,l),y.createElement("desc",null,c),r)}),YO=["children","className"];function iu(){return iu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},iu.apply(null,arguments)}function JO(e,t){if(e==null)return{};var r,n,i=XO(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function XO(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Lr=y.forwardRef((e,t)=>{var{children:r,className:n}=e,i=JO(e,YO),a=ge("recharts-layer",n);return y.createElement("g",iu({className:a},ze(i,!0),{ref:t}),r)}),ZO=y.createContext(null);function he(e){return function(){return e}}const Jy=Math.cos,bo=Math.sin,Gt=Math.sqrt,wo=Math.PI,cs=2*wo,au=Math.PI,ou=2*au,Jr=1e-6,QO=ou-Jr;function Xy(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function ek(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Xy;const r=10**t;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class tk{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Xy:ek(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,a,o){this._append`C${+t},${+r},${+n},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(t,r,n,i,a){if(t=+t,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,l=n-t,c=i-r,u=o-t,d=s-r,f=u*u+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(f>Jr)if(!(Math.abs(d*l-c*u)>Jr)||!a)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-o,m=i-s,g=l*l+c*c,v=p*p+m*m,b=Math.sqrt(g),x=Math.sqrt(f),w=a*Math.tan((au-Math.acos((g+f-v)/(2*b*x)))/2),_=w/x,S=w/b;Math.abs(_-1)>Jr&&this._append`L${t+_*u},${r+_*d}`,this._append`A${a},${a},0,0,${+(d*p>u*m)},${this._x1=t+S*l},${this._y1=r+S*c}`}}arc(t,r,n,i,a,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(i),l=n*Math.sin(i),c=t+s,u=r+l,d=1^o,f=o?i-a:a-i;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>Jr||Math.abs(this._y1-u)>Jr)&&this._append`L${c},${u}`,n&&(f<0&&(f=f%ou+ou),f>QO?this._append`A${n},${n},0,1,${d},${t-s},${r-l}A${n},${n},0,1,${d},${this._x1=c},${this._y1=u}`:f>Jr&&this._append`A${n},${n},0,${+(f>=au)},${d},${this._x1=t+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function bd(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new tk(t)}function wd(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Zy(e){this._context=e}Zy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function us(e){return new Zy(e)}function Qy(e){return e[0]}function e0(e){return e[1]}function t0(e,t){var r=he(!0),n=null,i=us,a=null,o=bd(s);e=typeof e=="function"?e:e===void 0?Qy:he(e),t=typeof t=="function"?t:t===void 0?e0:he(t);function s(l){var c,u=(l=wd(l)).length,d,f=!1,p;for(n==null&&(a=i(p=o())),c=0;c<=u;++c)!(c<u&&r(d=l[c],c,l))===f&&((f=!f)?a.lineStart():a.lineEnd()),f&&a.point(+e(d,c,l),+t(d,c,l));if(p)return a=null,p+""||null}return s.x=function(l){return arguments.length?(e=typeof l=="function"?l:he(+l),s):e},s.y=function(l){return arguments.length?(t=typeof l=="function"?l:he(+l),s):t},s.defined=function(l){return arguments.length?(r=typeof l=="function"?l:he(!!l),s):r},s.curve=function(l){return arguments.length?(i=l,n!=null&&(a=i(n)),s):i},s.context=function(l){return arguments.length?(l==null?n=a=null:a=i(n=l),s):n},s}function Na(e,t,r){var n=null,i=he(!0),a=null,o=us,s=null,l=bd(c);e=typeof e=="function"?e:e===void 0?Qy:he(+e),t=typeof t=="function"?t:he(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?e0:he(+r);function c(d){var f,p,m,g=(d=wd(d)).length,v,b=!1,x,w=new Array(g),_=new Array(g);for(a==null&&(s=o(x=l())),f=0;f<=g;++f){if(!(f<g&&i(v=d[f],f,d))===b)if(b=!b)p=f,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),m=f-1;m>=p;--m)s.point(w[m],_[m]);s.lineEnd(),s.areaEnd()}b&&(w[f]=+e(v,f,d),_[f]=+t(v,f,d),s.point(n?+n(v,f,d):w[f],r?+r(v,f,d):_[f]))}if(x)return s=null,x+""||null}function u(){return t0().defined(i).curve(o).context(a)}return c.x=function(d){return arguments.length?(e=typeof d=="function"?d:he(+d),n=null,c):e},c.x0=function(d){return arguments.length?(e=typeof d=="function"?d:he(+d),c):e},c.x1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:he(+d),c):n},c.y=function(d){return arguments.length?(t=typeof d=="function"?d:he(+d),r=null,c):t},c.y0=function(d){return arguments.length?(t=typeof d=="function"?d:he(+d),c):t},c.y1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:he(+d),c):r},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(r)},c.lineX1=function(){return u().x(n).y(t)},c.defined=function(d){return arguments.length?(i=typeof d=="function"?d:he(!!d),c):i},c.curve=function(d){return arguments.length?(o=d,a!=null&&(s=o(a)),c):o},c.context=function(d){return arguments.length?(d==null?a=s=null:s=o(a=d),c):a},c}class r0{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function rk(e){return new r0(e,!0)}function nk(e){return new r0(e,!1)}const xd={draw(e,t){const r=Gt(t/wo);e.moveTo(r,0),e.arc(0,0,r,0,cs)}},ik={draw(e,t){const r=Gt(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},n0=Gt(1/3),ak=n0*2,ok={draw(e,t){const r=Gt(t/ak),n=r*n0;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},sk={draw(e,t){const r=Gt(t),n=-r/2;e.rect(n,n,r,r)}},lk=.8908130915292852,i0=bo(wo/10)/bo(7*wo/10),ck=bo(cs/10)*i0,uk=-Jy(cs/10)*i0,dk={draw(e,t){const r=Gt(t*lk),n=ck*r,i=uk*r;e.moveTo(0,-r),e.lineTo(n,i);for(let a=1;a<5;++a){const o=cs*a/5,s=Jy(o),l=bo(o);e.lineTo(l*r,-s*r),e.lineTo(s*n-l*i,l*n+s*i)}e.closePath()}},ml=Gt(3),fk={draw(e,t){const r=-Gt(t/(ml*3));e.moveTo(0,r*2),e.lineTo(-ml*r,-r),e.lineTo(ml*r,-r),e.closePath()}},Pt=-.5,Ot=Gt(3)/2,su=1/Gt(12),hk=(su/2+1)*3,pk={draw(e,t){const r=Gt(t/hk),n=r/2,i=r*su,a=n,o=r*su+r,s=-a,l=o;e.moveTo(n,i),e.lineTo(a,o),e.lineTo(s,l),e.lineTo(Pt*n-Ot*i,Ot*n+Pt*i),e.lineTo(Pt*a-Ot*o,Ot*a+Pt*o),e.lineTo(Pt*s-Ot*l,Ot*s+Pt*l),e.lineTo(Pt*n+Ot*i,Pt*i-Ot*n),e.lineTo(Pt*a+Ot*o,Pt*o-Ot*a),e.lineTo(Pt*s+Ot*l,Pt*l-Ot*s),e.closePath()}};function mk(e,t){let r=null,n=bd(i);e=typeof e=="function"?e:he(e||xd),t=typeof t=="function"?t:he(t===void 0?64:+t);function i(){let a;if(r||(r=a=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:he(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:he(+a),i):t},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function xo(){}function _o(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function a0(e){this._context=e}a0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:_o(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:_o(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function gk(e){return new a0(e)}function o0(e){this._context=e}o0.prototype={areaStart:xo,areaEnd:xo,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:_o(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function vk(e){return new o0(e)}function s0(e){this._context=e}s0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:_o(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function yk(e){return new s0(e)}function l0(e){this._context=e}l0.prototype={areaStart:xo,areaEnd:xo,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function bk(e){return new l0(e)}function Xh(e){return e<0?-1:1}function Zh(e,t,r){var n=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(n||i<0&&-0),o=(r-e._y1)/(i||n<0&&-0),s=(a*i+o*n)/(n+i);return(Xh(a)+Xh(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function Qh(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function gl(e,t,r){var n=e._x0,i=e._y0,a=e._x1,o=e._y1,s=(a-n)/3;e._context.bezierCurveTo(n+s,i+s*t,a-s,o-s*r,a,o)}function So(e){this._context=e}So.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:gl(this,this._t0,Qh(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,gl(this,Qh(this,r=Zh(this,e,t)),r);break;default:gl(this,this._t0,r=Zh(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function c0(e){this._context=new u0(e)}(c0.prototype=Object.create(So.prototype)).point=function(e,t){So.prototype.point.call(this,t,e)};function u0(e){this._context=e}u0.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,a){this._context.bezierCurveTo(t,e,n,r,a,i)}};function wk(e){return new So(e)}function xk(e){return new c0(e)}function d0(e){this._context=e}d0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=ep(e),i=ep(t),a=0,o=1;o<r;++a,++o)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function ep(e){var t,r=e.length-1,n,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,o[t]-=n*o[t-1];for(i[r-1]=o[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function _k(e){return new d0(e)}function ds(e,t){this._context=e,this._t=t}ds.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function Sk(e){return new ds(e,.5)}function Ek(e){return new ds(e,0)}function jk(e){return new ds(e,1)}function Wn(e,t){if((o=e.length)>1)for(var r=1,n,i,a=e[t[0]],o,s=a.length;r<o;++r)for(i=a,a=e[t[r]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function lu(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function Pk(e,t){return e[t]}function Ok(e){const t=[];return t.key=e,t}function kk(){var e=he([]),t=lu,r=Wn,n=Pk;function i(a){var o=Array.from(e.apply(this,arguments),Ok),s,l=o.length,c=-1,u;for(const d of a)for(s=0,++c;s<l;++s)(o[s][c]=[0,+n(d,o[s].key,c,a)]).data=d;for(s=0,u=wd(t(o));s<l;++s)o[u[s]].index=s;return r(o,u),o}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:he(Array.from(a)),i):e},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:he(+a),i):n},i.order=function(a){return arguments.length?(t=a==null?lu:typeof a=="function"?a:he(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(r=a??Wn,i):r},i}function Ak(e,t){if((n=e.length)>0){for(var r,n,i=0,a=e[0].length,o;i<a;++i){for(o=r=0;r<n;++r)o+=e[r][i][1]||0;if(o)for(r=0;r<n;++r)e[r][i][1]/=o}Wn(e,t)}}function Ck(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,a=n.length;r<a;++r){for(var o=0,s=0;o<i;++o)s+=e[o][r][1]||0;n[r][1]+=n[r][0]=-s/2}Wn(e,t)}}function Tk(e,t){if(!(!((o=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,a,o;n<a;++n){for(var s=0,l=0,c=0;s<o;++s){for(var u=e[t[s]],d=u[n][1]||0,f=u[n-1][1]||0,p=(d-f)/2,m=0;m<s;++m){var g=e[t[m]],v=g[n][1]||0,b=g[n-1][1]||0;p+=v-b}l+=d,c+=p*d}i[n-1][1]+=i[n-1][0]=r,l&&(r-=c/l)}i[n-1][1]+=i[n-1][0]=r,Wn(e,t)}}var Rk=["type","size","sizeType"];function cu(){return cu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cu.apply(null,arguments)}function tp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function rp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tp(Object(r),!0).forEach(function(n){Ik(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tp(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ik(e,t,r){return(t=$k(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $k(e){var t=Dk(e,"string");return typeof t=="symbol"?t:t+""}function Dk(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mk(e,t){if(e==null)return{};var r,n,i=Nk(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Nk(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var f0={symbolCircle:xd,symbolCross:ik,symbolDiamond:ok,symbolSquare:sk,symbolStar:dk,symbolTriangle:fk,symbolWye:pk},Lk=Math.PI/180,Bk=e=>{var t="symbol".concat(sa(e));return f0[t]||xd},Uk=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*Lk;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Fk=(e,t)=>{f0["symbol".concat(sa(e))]=t},h0=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,i=Mk(e,Rk),a=rp(rp({},i),{},{type:t,size:r,sizeType:n}),o="circle";typeof t=="string"&&(o=t);var s=()=>{var f=Bk(o),p=mk().type(f).size(Uk(r,n,o));return p()},{className:l,cx:c,cy:u}=a,d=ze(a,!0);return c===+c&&u===+u&&r===+r?y.createElement("path",cu({},d,{className:ge("recharts-symbols",l),transform:"translate(".concat(c,", ").concat(u,")"),d:s()})):null};h0.registerSymbol=Fk;var vl={},yl={},np;function zk(){return np||(np=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const i=new Map;for(let a=0;a<r.length;a++){const o=r[a],s=n(o);i.has(s)||i.set(s,o)}return Array.from(i.values())}e.uniqBy=t})(yl)),yl}var bl={},ip;function p0(){return ip||(ip=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(bl)),bl}var wl={},xl={},_l={},ap;function Wk(){return ap||(ap=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(_l)),_l}var op;function _d(){return op||(op=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Wk();function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(xl)),xl}var Sl={},sp;function qk(){return sp||(sp=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(Sl)),Sl}var lp;function Hk(){return lp||(lp=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_d(),r=qk();function n(i){return r.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=n})(wl)),wl}var El={},jl={},cp;function Kk(){return cp||(cp=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gd();function r(n){return function(i){return t.get(i,n)}}e.property=r})(jl)),jl}var Pl={},Ol={},kl={},Al={},up;function m0(){return up||(up=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(Al)),Al}var Cl={},dp;function g0(){return dp||(dp=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(Cl)),Cl}var Tl={},fp;function v0(){return fp||(fp=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(Tl)),Tl}var hp;function Vk(){return hp||(hp=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Sd(),r=m0(),n=g0(),i=v0();function a(d,f,p){return typeof p!="function"?t.isMatch(d,f):o(d,f,function m(g,v,b,x,w,_){const S=p(g,v,b,x,w,_);return S!==void 0?!!S:o(g,v,m,_)},new Map)}function o(d,f,p,m){if(f===d)return!0;switch(typeof f){case"object":return s(d,f,p,m);case"function":return Object.keys(f).length>0?o(d,{...f},p,m):i.eq(d,f);default:return r.isObject(d)?typeof f=="string"?f==="":!0:i.eq(d,f)}}function s(d,f,p,m){if(f==null)return!0;if(Array.isArray(f))return c(d,f,p,m);if(f instanceof Map)return l(d,f,p,m);if(f instanceof Set)return u(d,f,p,m);const g=Object.keys(f);if(d==null)return g.length===0;if(g.length===0)return!0;if(m&&m.has(f))return m.get(f)===d;m&&m.set(f,d);try{for(let v=0;v<g.length;v++){const b=g[v];if(!n.isPrimitive(d)&&!(b in d)||f[b]===void 0&&d[b]!==void 0||f[b]===null&&d[b]!==null||!p(d[b],f[b],b,d,f,m))return!1}return!0}finally{m&&m.delete(f)}}function l(d,f,p,m){if(f.size===0)return!0;if(!(d instanceof Map))return!1;for(const[g,v]of f.entries()){const b=d.get(g);if(p(b,v,g,d,f,m)===!1)return!1}return!0}function c(d,f,p,m){if(f.length===0)return!0;if(!Array.isArray(d))return!1;const g=new Set;for(let v=0;v<f.length;v++){const b=f[v];let x=!1;for(let w=0;w<d.length;w++){if(g.has(w))continue;const _=d[w];let S=!1;if(p(_,b,v,d,f,m)&&(S=!0),S){g.add(w),x=!0;break}}if(!x)return!1}return!0}function u(d,f,p,m){return f.size===0?!0:d instanceof Set?c([...d],[...f],p,m):!1}e.isMatchWith=a,e.isSetMatch=u})(kl)),kl}var pp;function Sd(){return pp||(pp=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Vk();function r(n,i){return t.isMatchWith(n,i,()=>{})}e.isMatch=r})(Ol)),Ol}var Rl={},Il={},$l={},mp;function Gk(){return mp||(mp=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})($l)),$l}var Dl={},gp;function y0(){return gp||(gp=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(Dl)),Dl}var Ml={},vp;function b0(){return vp||(vp=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",a="[object Arguments]",o="[object Symbol]",s="[object Date]",l="[object Map]",c="[object Set]",u="[object Array]",d="[object Function]",f="[object ArrayBuffer]",p="[object Object]",m="[object Error]",g="[object DataView]",v="[object Uint8Array]",b="[object Uint8ClampedArray]",x="[object Uint16Array]",w="[object Uint32Array]",_="[object BigUint64Array]",S="[object Int8Array]",E="[object Int16Array]",j="[object Int32Array]",k="[object BigInt64Array]",A="[object Float32Array]",I="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=f,e.arrayTag=u,e.bigInt64ArrayTag=k,e.bigUint64ArrayTag=_,e.booleanTag=i,e.dataViewTag=g,e.dateTag=s,e.errorTag=m,e.float32ArrayTag=A,e.float64ArrayTag=I,e.functionTag=d,e.int16ArrayTag=E,e.int32ArrayTag=j,e.int8ArrayTag=S,e.mapTag=l,e.numberTag=n,e.objectTag=p,e.regexpTag=t,e.setTag=c,e.stringTag=r,e.symbolTag=o,e.uint16ArrayTag=x,e.uint32ArrayTag=w,e.uint8ArrayTag=v,e.uint8ClampedArrayTag=b})(Ml)),Ml}var Nl={},yp;function Yk(){return yp||(yp=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(Nl)),Nl}var bp;function w0(){return bp||(bp=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Gk(),r=y0(),n=b0(),i=g0(),a=Yk();function o(u,d){return s(u,void 0,u,new Map,d)}function s(u,d,f,p=new Map,m=void 0){const g=m==null?void 0:m(u,d,f,p);if(g!==void 0)return g;if(i.isPrimitive(u))return u;if(p.has(u))return p.get(u);if(Array.isArray(u)){const v=new Array(u.length);p.set(u,v);for(let b=0;b<u.length;b++)v[b]=s(u[b],b,f,p,m);return Object.hasOwn(u,"index")&&(v.index=u.index),Object.hasOwn(u,"input")&&(v.input=u.input),v}if(u instanceof Date)return new Date(u.getTime());if(u instanceof RegExp){const v=new RegExp(u.source,u.flags);return v.lastIndex=u.lastIndex,v}if(u instanceof Map){const v=new Map;p.set(u,v);for(const[b,x]of u)v.set(b,s(x,b,f,p,m));return v}if(u instanceof Set){const v=new Set;p.set(u,v);for(const b of u)v.add(s(b,void 0,f,p,m));return v}if(typeof Buffer<"u"&&Buffer.isBuffer(u))return u.subarray();if(a.isTypedArray(u)){const v=new(Object.getPrototypeOf(u)).constructor(u.length);p.set(u,v);for(let b=0;b<u.length;b++)v[b]=s(u[b],b,f,p,m);return v}if(u instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&u instanceof SharedArrayBuffer)return u.slice(0);if(u instanceof DataView){const v=new DataView(u.buffer.slice(0),u.byteOffset,u.byteLength);return p.set(u,v),l(v,u,f,p,m),v}if(typeof File<"u"&&u instanceof File){const v=new File([u],u.name,{type:u.type});return p.set(u,v),l(v,u,f,p,m),v}if(u instanceof Blob){const v=new Blob([u],{type:u.type});return p.set(u,v),l(v,u,f,p,m),v}if(u instanceof Error){const v=new u.constructor;return p.set(u,v),v.message=u.message,v.name=u.name,v.stack=u.stack,v.cause=u.cause,l(v,u,f,p,m),v}if(typeof u=="object"&&c(u)){const v=Object.create(Object.getPrototypeOf(u));return p.set(u,v),l(v,u,f,p,m),v}return u}function l(u,d,f=u,p,m){const g=[...Object.keys(d),...t.getSymbols(d)];for(let v=0;v<g.length;v++){const b=g[v],x=Object.getOwnPropertyDescriptor(u,b);(x==null||x.writable)&&(u[b]=s(d[b],b,f,p,m))}}function c(u){switch(r.getTag(u)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=s,e.copyProperties=l})(Il)),Il}var wp;function Jk(){return wp||(wp=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=w0();function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(Rl)),Rl}var xp;function Xk(){return xp||(xp=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Sd(),r=Jk();function n(i){return i=r.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=n})(Pl)),Pl}var Ll={},Bl={},Ul={},_p;function Zk(){return _p||(_p=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=w0(),r=b0();function n(i,a){return t.cloneDeepWith(i,(o,s,l,c)=>{const u=a==null?void 0:a(o,s,l,c);if(u!==void 0)return u;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case r.numberTag:case r.stringTag:case r.booleanTag:{const d=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(d,i),d}case r.argumentsTag:{const d={};return t.copyProperties(d,i),d.length=i.length,d[Symbol.iterator]=i[Symbol.iterator],d}default:return}})}e.cloneDeepWith=n})(Ul)),Ul}var Sp;function Qk(){return Sp||(Sp=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Zk();function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(Bl)),Bl}var Fl={},zl={},Ep;function x0(){return Ep||(Ep=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(zl)),zl}var Wl={},jp;function eA(){return jp||(jp=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=y0();function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(Wl)),Wl}var Pp;function tA(){return Pp||(Pp=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qy(),r=x0(),n=eA(),i=md();function a(o,s){let l;if(Array.isArray(s)?l=s:typeof s=="string"&&t.isDeepKey(s)&&(o==null?void 0:o[s])==null?l=i.toPath(s):l=[s],l.length===0)return!1;let c=o;for(let u=0;u<l.length;u++){const d=l[u];if((c==null||!Object.hasOwn(c,d))&&!((Array.isArray(c)||n.isArguments(c))&&r.isIndex(d)&&d<c.length))return!1;c=c[d]}return!0}e.has=a})(Fl)),Fl}var Op;function rA(){return Op||(Op=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Sd(),r=Hy(),n=Qk(),i=gd(),a=tA();function o(s,l){switch(typeof s){case"object":{Object.is(s==null?void 0:s.valueOf(),-0)&&(s="-0");break}case"number":{s=r.toKey(s);break}}return l=n.cloneDeep(l),function(c){const u=i.get(c,s);return u===void 0?a.has(c,s):l===void 0?u===void 0:t.isMatch(u,l)}}e.matchesProperty=o})(Ll)),Ll}var kp;function nA(){return kp||(kp=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=p0(),r=Kk(),n=Xk(),i=rA();function a(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?i.matchesProperty(o[0],o[1]):n.matches(o);case"string":case"symbol":case"number":return r.property(o)}}e.iteratee=a})(El)),El}var Ap;function iA(){return Ap||(Ap=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zk(),r=p0(),n=Hk(),i=nA();function a(o,s=r.identity){return n.isArrayLikeObject(o)?t.uniqBy(Array.from(o),i.iteratee(s)):[]}e.uniqBy=a})(vl)),vl}var ql,Cp;function aA(){return Cp||(Cp=1,ql=iA().uniqBy),ql}var oA=aA();const Tp=ir(oA);function sA(e,t,r){return t===!0?Tp(e,r):typeof t=="function"?Tp(e,t):e}var Hl={exports:{}},Kl={},Vl={exports:{}},Gl={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rp;function lA(){if(Rp)return Gl;Rp=1;var e=Qu();function t(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,i=e.useEffect,a=e.useLayoutEffect,o=e.useDebugValue;function s(d,f){var p=f(),m=n({inst:{value:p,getSnapshot:f}}),g=m[0].inst,v=m[1];return a(function(){g.value=p,g.getSnapshot=f,l(g)&&v({inst:g})},[d,p,f]),i(function(){return l(g)&&v({inst:g}),d(function(){l(g)&&v({inst:g})})},[d]),o(p),p}function l(d){var f=d.getSnapshot;d=d.value;try{var p=f();return!r(d,p)}catch{return!0}}function c(d,f){return f()}var u=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:s;return Gl.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:u,Gl}var Ip;function cA(){return Ip||(Ip=1,Vl.exports=lA()),Vl.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $p;function uA(){if($p)return Kl;$p=1;var e=Qu(),t=cA();function r(c,u){return c===u&&(c!==0||1/c===1/u)||c!==c&&u!==u}var n=typeof Object.is=="function"?Object.is:r,i=t.useSyncExternalStore,a=e.useRef,o=e.useEffect,s=e.useMemo,l=e.useDebugValue;return Kl.useSyncExternalStoreWithSelector=function(c,u,d,f,p){var m=a(null);if(m.current===null){var g={hasValue:!1,value:null};m.current=g}else g=m.current;m=s(function(){function b(E){if(!x){if(x=!0,w=E,E=f(E),p!==void 0&&g.hasValue){var j=g.value;if(p(j,E))return _=j}return _=E}if(j=_,n(w,E))return j;var k=f(E);return p!==void 0&&p(j,k)?(w=E,j):(w=E,_=k)}var x=!1,w,_,S=d===void 0?null:d;return[function(){return b(u())},S===null?void 0:function(){return b(S())}]},[u,d,f,p]);var v=i(c,m[0],m[1]);return o(function(){g.hasValue=!0,g.value=v},[v]),l(v),v},Kl}var Dp;function dA(){return Dp||(Dp=1,Hl.exports=uA()),Hl.exports}var fA=dA(),Ed=y.createContext(null),hA=e=>e,$e=()=>{var e=y.useContext(Ed);return e?e.store.dispatch:hA},lo=()=>{},pA=()=>lo,mA=(e,t)=>e===t;function W(e){var t=y.useContext(Ed);return fA.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:pA,t?t.store.getState:lo,t?t.store.getState:lo,t?e:lo,mA)}function gA(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function vA(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function yA(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var Mp=e=>Array.isArray(e)?e:[e];function bA(e){const t=Array.isArray(e[0])?e[0]:e;return yA(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function wA(e,t){const r=[],{length:n}=e;for(let i=0;i<n;i++)r.push(e[i].apply(null,t));return r}var xA=class{constructor(e){this.value=e}deref(){return this.value}},_A=typeof WeakRef<"u"?WeakRef:xA,SA=0,Np=1;function La(){return{s:SA,v:void 0,o:null,p:null}}function _0(e,t={}){let r=La();const{resultEqualityCheck:n}=t;let i,a=0;function o(){var d;let s=r;const{length:l}=arguments;for(let f=0,p=l;f<p;f++){const m=arguments[f];if(typeof m=="function"||typeof m=="object"&&m!==null){let g=s.o;g===null&&(s.o=g=new WeakMap);const v=g.get(m);v===void 0?(s=La(),g.set(m,s)):s=v}else{let g=s.p;g===null&&(s.p=g=new Map);const v=g.get(m);v===void 0?(s=La(),g.set(m,s)):s=v}}const c=s;let u;if(s.s===Np)u=s.v;else if(u=e.apply(null,arguments),a++,n){const f=((d=i==null?void 0:i.deref)==null?void 0:d.call(i))??i;f!=null&&n(f,u)&&(u=f,a!==0&&a--),i=typeof u=="object"&&u!==null||typeof u=="function"?new _A(u):u}return c.s=Np,c.v=u,u}return o.clearCache=()=>{r=La(),o.resetResultsCount()},o.resultsCount=()=>a,o.resetResultsCount=()=>{a=0},o}function EA(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...i)=>{let a=0,o=0,s,l={},c=i.pop();typeof c=="object"&&(l=c,c=i.pop()),gA(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const u={...r,...l},{memoize:d,memoizeOptions:f=[],argsMemoize:p=_0,argsMemoizeOptions:m=[]}=u,g=Mp(f),v=Mp(m),b=bA(i),x=d(function(){return a++,c.apply(null,arguments)},...g),w=p(function(){o++;const S=wA(b,arguments);return s=x.apply(null,S),s},...v);return Object.assign(w,{resultFunc:c,memoizedResultFunc:x,dependencies:b,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>s,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:d,argsMemoize:p})};return Object.assign(n,{withTypes:()=>n}),n}var O=EA(_0),jA=Object.assign((e,t=O)=>{vA(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(a=>e[a]);return t(n,(...a)=>a.reduce((o,s,l)=>(o[r[l]]=s,o),{}))},{withTypes:()=>jA}),Yl={},Jl={},Xl={},Lp;function PA(){return Lp||(Lp=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,a)=>{if(n!==i){const o=t(n),s=t(i);if(o===s&&o===0){if(n<i)return a==="desc"?1:-1;if(n>i)return a==="desc"?-1:1}return a==="desc"?s-o:o-s}return 0};e.compareValues=r})(Xl)),Xl}var Zl={},Ql={},Bp;function S0(){return Bp||(Bp=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(Ql)),Ql}var Up;function OA(){return Up||(Up=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=S0(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,o){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(n.test(a)||!r.test(a))||o!=null&&Object.hasOwn(o,a)}e.isKey=i})(Zl)),Zl}var Fp;function kA(){return Fp||(Fp=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=PA(),r=OA(),n=md();function i(a,o,s,l){if(a==null)return[];s=l?void 0:s,Array.isArray(a)||(a=Object.values(a)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(s)||(s=s==null?[]:[s]),s=s.map(p=>String(p));const c=(p,m)=>{let g=p;for(let v=0;v<m.length&&g!=null;++v)g=g[m[v]];return g},u=(p,m)=>m==null||p==null?m:typeof p=="object"&&"key"in p?Object.hasOwn(m,p.key)?m[p.key]:c(m,p.path):typeof p=="function"?p(m):Array.isArray(p)?c(m,p):typeof m=="object"?m[p]:m,d=o.map(p=>(Array.isArray(p)&&p.length===1&&(p=p[0]),p==null||typeof p=="function"||Array.isArray(p)||r.isKey(p)?p:{key:p,path:n.toPath(p)}));return a.map(p=>({original:p,criteria:d.map(m=>u(m,p))})).slice().sort((p,m)=>{for(let g=0;g<d.length;g++){const v=t.compareValues(p.criteria[g],m.criteria[g],s[g]);if(v!==0)return v}return 0}).map(p=>p.original)}e.orderBy=i})(Jl)),Jl}var ec={},zp;function AA(){return zp||(zp=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const i=[],a=Math.floor(n),o=(s,l)=>{for(let c=0;c<s.length;c++){const u=s[c];Array.isArray(u)&&l<a?o(u,l+1):i.push(u)}};return o(r,0),i}e.flatten=t})(ec)),ec}var tc={},Wp;function E0(){return Wp||(Wp=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=x0(),r=_d(),n=m0(),i=v0();function a(o,s,l){return n.isObject(l)&&(typeof s=="number"&&r.isArrayLike(l)&&t.isIndex(s)&&s<l.length||typeof s=="string"&&s in l)?i.eq(l[s],o):!1}e.isIterateeCall=a})(tc)),tc}var qp;function CA(){return qp||(qp=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kA(),r=AA(),n=E0();function i(a,...o){const s=o.length;return s>1&&n.isIterateeCall(a,o[0],o[1])?o=[]:s>2&&n.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(a,r.flatten(o),["asc"])}e.sortBy=i})(Yl)),Yl}var rc,Hp;function TA(){return Hp||(Hp=1,rc=CA().sortBy),rc}var RA=TA();const fs=ir(RA);var j0=e=>e.legend.settings,IA=e=>e.legend.size,$A=e=>e.legend.payload;O([$A,j0],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?fs(n,r):n});var Ba=1;function DA(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=y.useState({height:0,left:0,top:0,width:0}),n=y.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),o={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(o.height-t.height)>Ba||Math.abs(o.left-t.left)>Ba||Math.abs(o.top-t.top)>Ba||Math.abs(o.width-t.width)>Ba)&&r({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function Be(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var MA=typeof Symbol=="function"&&Symbol.observable||"@@observable",Kp=MA,nc=()=>Math.random().toString(36).substring(7).split("").join("."),NA={INIT:`@@redux/INIT${nc()}`,REPLACE:`@@redux/REPLACE${nc()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${nc()}`},Eo=NA;function jd(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function P0(e,t,r){if(typeof e!="function")throw new Error(Be(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Be(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Be(1));return r(P0)(e,t)}let n=e,i=t,a=new Map,o=a,s=0,l=!1;function c(){o===a&&(o=new Map,a.forEach((v,b)=>{o.set(b,v)}))}function u(){if(l)throw new Error(Be(3));return i}function d(v){if(typeof v!="function")throw new Error(Be(4));if(l)throw new Error(Be(5));let b=!0;c();const x=s++;return o.set(x,v),function(){if(b){if(l)throw new Error(Be(6));b=!1,c(),o.delete(x),a=null}}}function f(v){if(!jd(v))throw new Error(Be(7));if(typeof v.type>"u")throw new Error(Be(8));if(typeof v.type!="string")throw new Error(Be(17));if(l)throw new Error(Be(9));try{l=!0,i=n(i,v)}finally{l=!1}return(a=o).forEach(x=>{x()}),v}function p(v){if(typeof v!="function")throw new Error(Be(10));n=v,f({type:Eo.REPLACE})}function m(){const v=d;return{subscribe(b){if(typeof b!="object"||b===null)throw new Error(Be(11));function x(){const _=b;_.next&&_.next(u())}return x(),{unsubscribe:v(x)}},[Kp](){return this}}}return f({type:Eo.INIT}),{dispatch:f,subscribe:d,getState:u,replaceReducer:p,[Kp]:m}}function LA(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Eo.INIT})>"u")throw new Error(Be(12));if(typeof r(void 0,{type:Eo.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Be(13))})}function O0(e){const t=Object.keys(e),r={};for(let a=0;a<t.length;a++){const o=t[a];typeof e[o]=="function"&&(r[o]=e[o])}const n=Object.keys(r);let i;try{LA(r)}catch(a){i=a}return function(o={},s){if(i)throw i;let l=!1;const c={};for(let u=0;u<n.length;u++){const d=n[u],f=r[d],p=o[d],m=f(p,s);if(typeof m>"u")throw s&&s.type,new Error(Be(14));c[d]=m,l=l||m!==p}return l=l||n.length!==Object.keys(o).length,l?c:o}}function jo(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function BA(...e){return t=>(r,n)=>{const i=t(r,n);let a=()=>{throw new Error(Be(15))};const o={getState:i.getState,dispatch:(l,...c)=>a(l,...c)},s=e.map(l=>l(o));return a=jo(...s)(i.dispatch),{...i,dispatch:a}}}function k0(e){return jd(e)&&"type"in e&&typeof e.type=="string"}var A0=Symbol.for("immer-nothing"),Vp=Symbol.for("immer-draftable"),xt=Symbol.for("immer-state");function Wt(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var qn=Object.getPrototypeOf;function dn(e){return!!e&&!!e[xt]}function yr(e){var t;return e?C0(e)||Array.isArray(e)||!!e[Vp]||!!((t=e.constructor)!=null&&t[Vp])||la(e)||ps(e):!1}var UA=Object.prototype.constructor.toString();function C0(e){if(!e||typeof e!="object")return!1;const t=qn(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===UA}function Po(e,t){hs(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function hs(e){const t=e[xt];return t?t.type_:Array.isArray(e)?1:la(e)?2:ps(e)?3:0}function uu(e,t){return hs(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function T0(e,t,r){const n=hs(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function FA(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function la(e){return e instanceof Map}function ps(e){return e instanceof Set}function Xr(e){return e.copy_||e.base_}function du(e,t){if(la(e))return new Map(e);if(ps(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=C0(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[xt];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const o=i[a],s=n[o];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(n[o]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[o]})}return Object.create(qn(e),n)}else{const n=qn(e);if(n!==null&&r)return{...e};const i=Object.create(n);return Object.assign(i,e)}}function Pd(e,t=!1){return ms(e)||dn(e)||!yr(e)||(hs(e)>1&&Object.defineProperties(e,{set:{value:Ua},add:{value:Ua},clear:{value:Ua},delete:{value:Ua}}),Object.freeze(e),t&&Object.values(e).forEach(r=>Pd(r,!0))),e}function Ua(){Wt(2)}function ms(e){return Object.isFrozen(e)}var zA={};function fn(e){const t=zA[e];return t||Wt(0,e),t}var Gi;function R0(){return Gi}function WA(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Gp(e,t){t&&(fn("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function fu(e){hu(e),e.drafts_.forEach(qA),e.drafts_=null}function hu(e){e===Gi&&(Gi=e.parent_)}function Yp(e){return Gi=WA(Gi,e)}function qA(e){const t=e[xt];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Jp(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[xt].modified_&&(fu(t),Wt(4)),yr(e)&&(e=Oo(t,e),t.parent_||ko(t,e)),t.patches_&&fn("Patches").generateReplacementPatches_(r[xt].base_,e,t.patches_,t.inversePatches_)):e=Oo(t,r,[]),fu(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==A0?e:void 0}function Oo(e,t,r){if(ms(t))return t;const n=t[xt];if(!n)return Po(t,(i,a)=>Xp(e,n,t,i,a,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return ko(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const i=n.copy_;let a=i,o=!1;n.type_===3&&(a=new Set(i),i.clear(),o=!0),Po(a,(s,l)=>Xp(e,n,i,s,l,r,o)),ko(e,i,!1),r&&e.patches_&&fn("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function Xp(e,t,r,n,i,a,o){if(dn(i)){const s=a&&t&&t.type_!==3&&!uu(t.assigned_,n)?a.concat(n):void 0,l=Oo(e,i,s);if(T0(r,n,l),dn(l))e.canAutoFreeze_=!1;else return}else o&&r.add(i);if(yr(i)&&!ms(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Oo(e,i),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(la(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&ko(e,i)}}function ko(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Pd(t,r)}function HA(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:R0(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,a=Od;r&&(i=[n],a=Yi);const{revoke:o,proxy:s}=Proxy.revocable(i,a);return n.draft_=s,n.revoke_=o,s}var Od={get(e,t){if(t===xt)return e;const r=Xr(e);if(!uu(r,t))return KA(e,r,t);const n=r[t];return e.finalized_||!yr(n)?n:n===ic(e.base_,t)?(ac(e),e.copy_[t]=mu(n,e)):n},has(e,t){return t in Xr(e)},ownKeys(e){return Reflect.ownKeys(Xr(e))},set(e,t,r){const n=I0(Xr(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=ic(Xr(e),t),a=i==null?void 0:i[xt];if(a&&a.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(FA(r,i)&&(r!==void 0||uu(e.base_,t)))return!0;ac(e),pu(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return ic(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,ac(e),pu(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Xr(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){Wt(11)},getPrototypeOf(e){return qn(e.base_)},setPrototypeOf(){Wt(12)}},Yi={};Po(Od,(e,t)=>{Yi[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Yi.deleteProperty=function(e,t){return Yi.set.call(this,e,t,void 0)};Yi.set=function(e,t,r){return Od.set.call(this,e[0],t,r,e[0])};function ic(e,t){const r=e[xt];return(r?Xr(r):e)[t]}function KA(e,t,r){var i;const n=I0(t,r);return n?"value"in n?n.value:(i=n.get)==null?void 0:i.call(e.draft_):void 0}function I0(e,t){if(!(t in e))return;let r=qn(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=qn(r)}}function pu(e){e.modified_||(e.modified_=!0,e.parent_&&pu(e.parent_))}function ac(e){e.copy_||(e.copy_=du(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var VA=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const a=r;r=t;const o=this;return function(l=a,...c){return o.produce(l,u=>r.call(this,u,...c))}}typeof r!="function"&&Wt(6),n!==void 0&&typeof n!="function"&&Wt(7);let i;if(yr(t)){const a=Yp(this),o=mu(t,void 0);let s=!0;try{i=r(o),s=!1}finally{s?fu(a):hu(a)}return Gp(a,n),Jp(i,a)}else if(!t||typeof t!="object"){if(i=r(t),i===void 0&&(i=t),i===A0&&(i=void 0),this.autoFreeze_&&Pd(i,!0),n){const a=[],o=[];fn("Patches").generateReplacementPatches_(t,i,a,o),n(a,o)}return i}else Wt(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(o,...s)=>this.produceWithPatches(o,l=>t(l,...s));let n,i;return[this.produce(t,r,(o,s)=>{n=o,i=s}),n,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){yr(e)||Wt(8),dn(e)&&(e=mr(e));const t=Yp(this),r=mu(e,void 0);return r[xt].isManual_=!0,hu(t),r}finishDraft(e,t){const r=e&&e[xt];(!r||!r.isManual_)&&Wt(9);const{scope_:n}=r;return Gp(n,t),Jp(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const i=t[r];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}r>-1&&(t=t.slice(r+1));const n=fn("Patches").applyPatches_;return dn(e)?n(e,t):this.produce(e,i=>n(i,t))}};function mu(e,t){const r=la(e)?fn("MapSet").proxyMap_(e,t):ps(e)?fn("MapSet").proxySet_(e,t):HA(e,t);return(t?t.scope_:R0()).drafts_.push(r),r}function mr(e){return dn(e)||Wt(10,e),$0(e)}function $0(e){if(!yr(e)||ms(e))return e;const t=e[xt];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=du(e,t.scope_.immer_.useStrictShallowCopy_)}else r=du(e,!0);return Po(r,(n,i)=>{T0(r,n,$0(i))}),t&&(t.finalized_=!1),r}var GA=new VA,D0=GA.produce;function M0(e){return({dispatch:r,getState:n})=>i=>a=>typeof a=="function"?a(r,n,e):i(a)}var YA=M0(),JA=M0,XA=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?jo:jo.apply(null,arguments)};function $t(e,t){function r(...n){if(t){let i=t(...n);if(!i)throw new Error(bt(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>k0(n)&&n.type===e,r}var N0=class Li extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Li.prototype)}static get[Symbol.species](){return Li}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Li(...t[0].concat(this)):new Li(...t.concat(this))}};function Zp(e){return yr(e)?D0(e,()=>{}):e}function Fa(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function ZA(e){return typeof e=="boolean"}var QA=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let o=new N0;return r&&(ZA(r)?o.push(YA):o.push(JA(r.extraArgument))),o},eC="RTK_autoBatch",Qp=e=>t=>{setTimeout(t,e)},tC=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let i=!0,a=!1,o=!1;const s=new Set,l=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Qp(10):e.type==="callback"?e.queueNotification:Qp(e.timeout),c=()=>{o=!1,a&&(a=!1,s.forEach(u=>u()))};return Object.assign({},n,{subscribe(u){const d=()=>i&&u(),f=n.subscribe(d);return s.add(u),()=>{f(),s.delete(u)}},dispatch(u){var d;try{return i=!((d=u==null?void 0:u.meta)!=null&&d[eC]),a=!i,a&&(o||(o=!0,l(c))),n.dispatch(u)}finally{i=!0}}})},rC=e=>function(r){const{autoBatch:n=!0}=r??{};let i=new N0(e);return n&&i.push(tC(typeof n=="object"?n:void 0)),i};function nC(e){const t=QA(),{reducer:r=void 0,middleware:n,devTools:i=!0,preloadedState:a=void 0,enhancers:o=void 0}=e||{};let s;if(typeof r=="function")s=r;else if(jd(r))s=O0(r);else throw new Error(bt(1));let l;typeof n=="function"?l=n(t):l=t();let c=jo;i&&(c=XA({trace:!1,...typeof i=="object"&&i}));const u=BA(...l),d=rC(u);let f=typeof o=="function"?o(d):d();const p=c(...f);return P0(s,a,p)}function L0(e){const t={},r=[];let n;const i={addCase(a,o){const s=typeof a=="string"?a:a.type;if(!s)throw new Error(bt(28));if(s in t)throw new Error(bt(29));return t[s]=o,i},addAsyncThunk(a,o){return o.pending&&(t[a.pending.type]=o.pending),o.rejected&&(t[a.rejected.type]=o.rejected),o.fulfilled&&(t[a.fulfilled.type]=o.fulfilled),o.settled&&r.push({matcher:a.settled,reducer:o.settled}),i},addMatcher(a,o){return r.push({matcher:a,reducer:o}),i},addDefaultCase(a){return n=a,i}};return e(i),[t,r,n]}function iC(e){return typeof e=="function"}function aC(e,t){let[r,n,i]=L0(t),a;if(iC(e))a=()=>Zp(e());else{const s=Zp(e);a=()=>s}function o(s=a(),l){let c=[r[l.type],...n.filter(({matcher:u})=>u(l)).map(({reducer:u})=>u)];return c.filter(u=>!!u).length===0&&(c=[i]),c.reduce((u,d)=>{if(d)if(dn(u)){const p=d(u,l);return p===void 0?u:p}else{if(yr(u))return D0(u,f=>d(f,l));{const f=d(u,l);if(f===void 0){if(u===null)return u;throw Error("A case reducer on a non-draftable value must not return undefined")}return f}}return u},s)}return o.getInitialState=a,o}var oC="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",sC=(e=21)=>{let t="",r=e;for(;r--;)t+=oC[Math.random()*64|0];return t},lC=Symbol.for("rtk-slice-createasyncthunk");function cC(e,t){return`${e}/${t}`}function uC({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[lC];return function(i){const{name:a,reducerPath:o=a}=i;if(!a)throw new Error(bt(11));const s=(typeof i.reducers=="function"?i.reducers(fC()):i.reducers)||{},l=Object.keys(s),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(_,S){const E=typeof _=="string"?_:_.type;if(!E)throw new Error(bt(12));if(E in c.sliceCaseReducersByType)throw new Error(bt(13));return c.sliceCaseReducersByType[E]=S,u},addMatcher(_,S){return c.sliceMatchers.push({matcher:_,reducer:S}),u},exposeAction(_,S){return c.actionCreators[_]=S,u},exposeCaseReducer(_,S){return c.sliceCaseReducersByName[_]=S,u}};l.forEach(_=>{const S=s[_],E={reducerName:_,type:cC(a,_),createNotation:typeof i.reducers=="function"};pC(S)?gC(E,S,u,t):hC(E,S,u)});function d(){const[_={},S=[],E=void 0]=typeof i.extraReducers=="function"?L0(i.extraReducers):[i.extraReducers],j={..._,...c.sliceCaseReducersByType};return aC(i.initialState,k=>{for(let A in j)k.addCase(A,j[A]);for(let A of c.sliceMatchers)k.addMatcher(A.matcher,A.reducer);for(let A of S)k.addMatcher(A.matcher,A.reducer);E&&k.addDefaultCase(E)})}const f=_=>_,p=new Map,m=new WeakMap;let g;function v(_,S){return g||(g=d()),g(_,S)}function b(){return g||(g=d()),g.getInitialState()}function x(_,S=!1){function E(k){let A=k[_];return typeof A>"u"&&S&&(A=Fa(m,E,b)),A}function j(k=f){const A=Fa(p,S,()=>new WeakMap);return Fa(A,k,()=>{const I={};for(const[C,$]of Object.entries(i.selectors??{}))I[C]=dC($,k,()=>Fa(m,k,b),S);return I})}return{reducerPath:_,getSelectors:j,get selectors(){return j(E)},selectSlice:E}}const w={name:a,reducer:v,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:b,...x(o),injectInto(_,{reducerPath:S,...E}={}){const j=S??o;return _.inject({reducerPath:j,reducer:v},E),{...w,...x(j,!0)}}};return w}}function dC(e,t,r,n){function i(a,...o){let s=t(a);return typeof s>"u"&&n&&(s=r()),e(s,...o)}return i.unwrapped=e,i}var Et=uC();function fC(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function hC({type:e,reducerName:t,createNotation:r},n,i){let a,o;if("reducer"in n){if(r&&!mC(n))throw new Error(bt(17));a=n.reducer,o=n.prepare}else a=n;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,o?$t(e,o):$t(e))}function pC(e){return e._reducerDefinitionType==="asyncThunk"}function mC(e){return e._reducerDefinitionType==="reducerWithPrepare"}function gC({type:e,reducerName:t},r,n,i){if(!i)throw new Error(bt(18));const{payloadCreator:a,fulfilled:o,pending:s,rejected:l,settled:c,options:u}=r,d=i(e,a,u);n.exposeAction(t,d),o&&n.addCase(d.fulfilled,o),s&&n.addCase(d.pending,s),l&&n.addCase(d.rejected,l),c&&n.addMatcher(d.settled,c),n.exposeCaseReducer(t,{fulfilled:o||za,pending:s||za,rejected:l||za,settled:c||za})}function za(){}var vC="task",B0="listener",U0="completed",kd="cancelled",yC=`task-${kd}`,bC=`task-${U0}`,gu=`${B0}-${kd}`,wC=`${B0}-${U0}`,gs=class{constructor(e){Ks(this,"name","TaskAbortError");Ks(this,"message");this.code=e,this.message=`${vC} ${kd} (reason: ${e})`}},Ad=(e,t)=>{if(typeof e!="function")throw new TypeError(bt(32))},Ao=()=>{},F0=(e,t=Ao)=>(e.catch(t),e),z0=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),on=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},sn=e=>{if(e.aborted){const{reason:t}=e;throw new gs(t)}};function W0(e,t){let r=Ao;return new Promise((n,i)=>{const a=()=>i(new gs(e.reason));if(e.aborted){a();return}r=z0(e,a),t.finally(()=>r()).then(n,i)}).finally(()=>{r=Ao})}var xC=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof gs?"cancelled":"rejected",error:r}}finally{t==null||t()}},Co=e=>t=>F0(W0(e,t).then(r=>(sn(e),r))),q0=e=>{const t=Co(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:Bn}=Object,em={},vs="listenerMiddleware",_C=(e,t)=>{const r=n=>z0(e,()=>on(n,e.reason));return(n,i)=>{Ad(n);const a=new AbortController;r(a);const o=xC(async()=>{sn(e),sn(a.signal);const s=await n({pause:Co(a.signal),delay:q0(a.signal),signal:a.signal});return sn(a.signal),s},()=>on(a,bC));return i!=null&&i.autoJoin&&t.push(o.catch(Ao)),{result:Co(e)(o),cancel(){on(a,yC)}}}},SC=(e,t)=>{const r=async(n,i)=>{sn(t);let a=()=>{};const s=[new Promise((l,c)=>{let u=e({predicate:n,effect:(d,f)=>{f.unsubscribe(),l([d,f.getState(),f.getOriginalState()])}});a=()=>{u(),c()}})];i!=null&&s.push(new Promise(l=>setTimeout(l,i,null)));try{const l=await W0(t,Promise.race(s));return sn(t),l}finally{a()}};return(n,i)=>F0(r(n,i))},H0=e=>{let{type:t,actionCreator:r,matcher:n,predicate:i,effect:a}=e;if(t)i=$t(t).match;else if(r)t=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(bt(21));return Ad(a),{predicate:i,type:t,effect:a}},K0=Bn(e=>{const{type:t,predicate:r,effect:n}=H0(e);return{id:sC(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(bt(22))}}},{withTypes:()=>K0}),tm=(e,t)=>{const{type:r,effect:n,predicate:i}=H0(t);return Array.from(e.values()).find(a=>(typeof r=="string"?a.type===r:a.predicate===i)&&a.effect===n)},vu=e=>{e.pending.forEach(t=>{on(t,gu)})},EC=e=>()=>{e.forEach(vu),e.clear()},rm=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},V0=Bn($t(`${vs}/add`),{withTypes:()=>V0}),jC=$t(`${vs}/removeAll`),G0=Bn($t(`${vs}/remove`),{withTypes:()=>G0}),PC=(...e)=>{console.error(`${vs}/error`,...e)},ca=(e={})=>{const t=new Map,{extra:r,onError:n=PC}=e;Ad(n);const i=u=>(u.unsubscribe=()=>t.delete(u.id),t.set(u.id,u),d=>{u.unsubscribe(),d!=null&&d.cancelActive&&vu(u)}),a=u=>{const d=tm(t,u)??K0(u);return i(d)};Bn(a,{withTypes:()=>a});const o=u=>{const d=tm(t,u);return d&&(d.unsubscribe(),u.cancelActive&&vu(d)),!!d};Bn(o,{withTypes:()=>o});const s=async(u,d,f,p)=>{const m=new AbortController,g=SC(a,m.signal),v=[];try{u.pending.add(m),await Promise.resolve(u.effect(d,Bn({},f,{getOriginalState:p,condition:(b,x)=>g(b,x).then(Boolean),take:g,delay:q0(m.signal),pause:Co(m.signal),extra:r,signal:m.signal,fork:_C(m.signal,v),unsubscribe:u.unsubscribe,subscribe:()=>{t.set(u.id,u)},cancelActiveListeners:()=>{u.pending.forEach((b,x,w)=>{b!==m&&(on(b,gu),w.delete(b))})},cancel:()=>{on(m,gu),u.pending.delete(m)},throwIfCancelled:()=>{sn(m.signal)}})))}catch(b){b instanceof gs||rm(n,b,{raisedBy:"effect"})}finally{await Promise.all(v),on(m,wC),u.pending.delete(m)}},l=EC(t);return{middleware:u=>d=>f=>{if(!k0(f))return d(f);if(V0.match(f))return a(f.payload);if(jC.match(f)){l();return}if(G0.match(f))return o(f.payload);let p=u.getState();const m=()=>{if(p===em)throw new Error(bt(23));return p};let g;try{if(g=d(f),t.size>0){const v=u.getState(),b=Array.from(t.values());for(const x of b){let w=!1;try{w=x.predicate(f,v,p)}catch(_){w=!1,rm(n,_,{raisedBy:"predicate"})}w&&s(x,f,u,m)}}}finally{p=em}return g},startListening:a,stopListening:o,clearListeners:l}};function bt(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var OC={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},Y0=Et({name:"chartLayout",initialState:OC,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,i,a;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:kC,setLayout:AC,setChartSize:CC,setScale:TC}=Y0.actions,RC=Y0.reducer;function nm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function im(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nm(Object(r),!0).forEach(function(n){IC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nm(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IC(e,t,r){return(t=$C(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $C(e){var t=DC(e,"string");return typeof t=="symbol"?t:t+""}function DC(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var To=Math.PI/180,MC=e=>e*180/Math.PI,Fe=(e,t,r,n)=>({x:e+Math.cos(-To*n)*r,y:t+Math.sin(-To*n)*r}),NC=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},LC=(e,t)=>{var{x:r,y:n}=e,{x:i,y:a}=t;return Math.sqrt((r-i)**2+(n-a)**2)},BC=(e,t)=>{var{x:r,y:n}=e,{cx:i,cy:a}=t,o=LC({x:r,y:n},{x:i,y:a});if(o<=0)return{radius:o,angle:0};var s=(r-i)/o,l=Math.acos(s);return n>a&&(l=2*Math.PI-l),{radius:o,angle:MC(l),angleInRadian:l}},UC=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),i=Math.floor(r/360),a=Math.min(n,i);return{startAngle:t-a*360,endAngle:r-a*360}},FC=(e,t)=>{var{startAngle:r,endAngle:n}=t,i=Math.floor(r/360),a=Math.floor(n/360),o=Math.min(i,a);return e+o*360},zC=(e,t)=>{var{x:r,y:n}=e,{radius:i,angle:a}=BC({x:r,y:n},t),{innerRadius:o,outerRadius:s}=t;if(i<o||i>s||i===0)return null;var{startAngle:l,endAngle:c}=UC(t),u=a,d;if(l<=c){for(;u>c;)u-=360;for(;u<l;)u+=360;d=u>=l&&u<=c}else{for(;u>l;)u-=360;for(;u<c;)u+=360;d=u>=c&&u<=l}return d?im(im({},t),{},{radius:i,angle:FC(u,t)}):null};function J0(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function am(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Tt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?am(Object(r),!0).forEach(function(n){WC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):am(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WC(e,t,r){return(t=qC(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qC(e){var t=HC(e,"string");return typeof t=="symbol"?t:t+""}function HC(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tt(e,t,r){return Ie(e)||Ie(t)?r:rr(t)?zn(e,t,r):typeof t=="function"?t(e):r}var KC=(e,t,r,n,i)=>{var a,o=-1,s=(a=t==null?void 0:t.length)!==null&&a!==void 0?a:0;if(s<=1||e==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var l=0;l<s;l++){var c=l>0?r[l-1].coordinate:r[s-1].coordinate,u=r[l].coordinate,d=l>=s-1?r[0].coordinate:r[l+1].coordinate,f=void 0;if(st(u-c)!==st(d-u)){var p=[];if(st(d-u)===st(i[1]-i[0])){f=d;var m=u+i[1]-i[0];p[0]=Math.min(m,(m+c)/2),p[1]=Math.max(m,(m+c)/2)}else{f=c;var g=d+i[1]-i[0];p[0]=Math.min(u,(g+u)/2),p[1]=Math.max(u,(g+u)/2)}var v=[Math.min(u,(f+u)/2),Math.max(u,(f+u)/2)];if(e>v[0]&&e<=v[1]||e>=p[0]&&e<=p[1]){({index:o}=r[l]);break}}else{var b=Math.min(c,d),x=Math.max(c,d);if(e>(b+u)/2&&e<=(x+u)/2){({index:o}=r[l]);break}}}else if(t){for(var w=0;w<s;w++)if(w===0&&e<=(t[w].coordinate+t[w+1].coordinate)/2||w>0&&w<s-1&&e>(t[w].coordinate+t[w-1].coordinate)/2&&e<=(t[w].coordinate+t[w+1].coordinate)/2||w===s-1&&e>(t[w].coordinate+t[w-1].coordinate)/2){({index:o}=t[w]);break}}return o},VC=(e,t,r)=>{if(t&&r){var{width:n,height:i}=r,{align:a,verticalAlign:o,layout:s}=t;if((s==="vertical"||s==="horizontal"&&o==="middle")&&a!=="center"&&z(e[a]))return Tt(Tt({},e),{},{[a]:e[a]+(n||0)});if((s==="horizontal"||s==="vertical"&&a==="center")&&o!=="middle"&&z(e[o]))return Tt(Tt({},e),{},{[o]:e[o]+(i||0)})}return e},vn=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",X0=(e,t,r,n)=>{if(n)return e.map(s=>s.coordinate);var i,a,o=e.map(s=>(s.coordinate===t&&(i=!0),s.coordinate===r&&(a=!0),s.coordinate));return i||o.push(t),a||o.push(r),o},Z0=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:i,range:a,scale:o,realScaleType:s,isCategorical:l,categoricalDomain:c,tickCount:u,ticks:d,niceTicks:f,axisType:p}=e;if(!o)return null;var m=s==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,g=i==="category"&&o.bandwidth?o.bandwidth()/m:0;if(g=p==="angleAxis"&&a&&a.length>=2?st(a[0]-a[1])*2*g:g,d||f){var v=(d||f||[]).map((b,x)=>{var w=n?n.indexOf(b):b;return{coordinate:o(w)+g,value:b,offset:g,index:x}});return v.filter(b=>!wt(b.coordinate))}return l&&c?c.map((b,x)=>({coordinate:o(b)+g,value:b,index:x,offset:g})):o.ticks&&u!=null?o.ticks(u).map((b,x)=>({coordinate:o(b)+g,value:b,offset:g,index:x})):o.domain().map((b,x)=>({coordinate:o(b)+g,value:n?n[b]:b,index:x,offset:g}))},om=1e-4,GC=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),i=Math.min(n[0],n[1])-om,a=Math.max(n[0],n[1])+om,o=e(t[0]),s=e(t[r-1]);(o<i||o>a||s<i||s>a)&&e.domain([t[0],t[r-1]])}},YC=(e,t)=>{if(!t||t.length!==2||!z(t[0])||!z(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!z(e[0])||e[0]<r)&&(i[0]=r),(!z(e[1])||e[1]>n)&&(i[1]=n),i[0]>n&&(i[0]=n),i[1]<r&&(i[1]=r),i},JC=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var i=0,a=0,o=0;o<t;++o){var s=wt(e[o][r][1])?e[o][r][0]:e[o][r][1];s>=0?(e[o][r][0]=i,e[o][r][1]=i+s,i=e[o][r][1]):(e[o][r][0]=a,e[o][r][1]=a+s,a=e[o][r][1])}},XC=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var i=0,a=0;a<t;++a){var o=wt(e[a][r][1])?e[a][r][0]:e[a][r][1];o>=0?(e[a][r][0]=i,e[a][r][1]=i+o,i=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},ZC={sign:JC,expand:Ak,none:Wn,silhouette:Ck,wiggle:Tk,positive:XC},QC=(e,t,r)=>{var n=ZC[r],i=kk().keys(t).value((a,o)=>+tt(a,o,0)).order(lu).offset(n);return i(e)};function eT(e){return e==null?void 0:String(e)}var sm=e=>{var{axis:t,ticks:r,offset:n,bandSize:i,entry:a,index:o}=e;if(t.type==="category")return r[o]?r[o].coordinate+n:null;var s=tt(a,t.dataKey,t.scale.domain()[o]);return Ie(s)?null:t.scale(s)-i/2+n},tT=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return n<=0&&i>=0?0:i<0?i:n}return r[0]},rT=e=>{var t=e.flat(2).filter(z);return[Math.min(...t),Math.max(...t)]},nT=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],iT=(e,t,r)=>{if(e!=null)return nT(Object.keys(e).reduce((n,i)=>{var a=e[i],{stackedData:o}=a,s=o.reduce((l,c)=>{var u=J0(c,t,r),d=rT(u);return[Math.min(l[0],d[0]),Math.max(l[1],d[1])]},[1/0,-1/0]);return[Math.min(s[0],n[0]),Math.max(s[1],n[1])]},[1/0,-1/0]))},lm=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,cm=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Cd=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var i=fs(t,u=>u.coordinate),a=1/0,o=1,s=i.length;o<s;o++){var l=i[o],c=i[o-1];a=Math.min((l.coordinate||0)-(c.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0};function um(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:i,name:a}=e;return Tt(Tt({},t),{},{dataKey:r,payload:n,value:i,name:a})}function Q0(e,t){if(e)return String(e);if(typeof t=="string")return t}function aT(e,t,r,n,i){if(r==="horizontal"||r==="vertical"){var a=e>=i.left&&e<=i.left+i.width&&t>=i.top&&t<=i.top+i.height;return a?{x:e,y:t}:null}return n?zC({x:e,y:t},n):null}var oT=(e,t,r,n)=>{var i=t.find(c=>c&&c.index===r);if(i){if(e==="horizontal")return{x:i.coordinate,y:n.y};if(e==="vertical")return{x:n.x,y:i.coordinate};if(e==="centric"){var a=i.coordinate,{radius:o}=n;return Tt(Tt(Tt({},n),Fe(n.cx,n.cy,o,a)),{},{angle:a,radius:o})}var s=i.coordinate,{angle:l}=n;return Tt(Tt(Tt({},n),Fe(n.cx,n.cy,s,l)),{},{angle:l,radius:s})}return{x:0,y:0}},sT=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,_r=e=>e.layout.width,Sr=e=>e.layout.height,lT=e=>e.layout.scale,eb=e=>e.layout.margin,ys=O(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),bs=O(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),cT="data-recharts-item-index",uT="data-recharts-item-data-key",ua=60;function dm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Wa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dm(Object(r),!0).forEach(function(n){dT(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dm(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dT(e,t,r){return(t=fT(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fT(e){var t=hT(e,"string");return typeof t=="symbol"?t:t+""}function hT(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pT=e=>e.brush.height;function mT(e){var t=bs(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:ua;return r+i}return r},0)}function gT(e){var t=bs(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:ua;return r+i}return r},0)}function vT(e){var t=ys(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function yT(e){var t=ys(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var De=O([_r,Sr,eb,pT,mT,gT,vT,yT,j0,IA],(e,t,r,n,i,a,o,s,l,c)=>{var u={left:(r.left||0)+i,right:(r.right||0)+a},d={top:(r.top||0)+o,bottom:(r.bottom||0)+s},f=Wa(Wa({},d),u),p=f.bottom;f.bottom+=n,f=VC(f,l,c);var m=e-f.left-f.right,g=t-f.top-f.bottom;return Wa(Wa({brushBottom:p},f),{},{width:Math.max(m,0),height:Math.max(g,0)})}),bT=O(De,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),Td=O(_r,Sr,(e,t)=>({x:0,y:0,width:e,height:t})),wT=y.createContext(null),Nt=()=>y.useContext(wT)!=null,ws=e=>e.brush,xs=O([ws,De,eb],(e,t,r)=>({height:e.height,x:z(e.x)?e.x:t.left,y:z(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:z(e.width)?e.width:t.width})),Rd=()=>{var e,t=Nt(),r=W(bT),n=W(xs),i=(e=W(ws))===null||e===void 0?void 0:e.padding;return!t||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},xT={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},tb=()=>{var e;return(e=W(De))!==null&&e!==void 0?e:xT},rb=()=>W(_r),nb=()=>W(Sr),le=e=>e.layout.layoutType,Id=()=>W(le),_T={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},ib=Et({name:"legend",initialState:_T,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var r=mr(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)}}}),{setLegendSize:nW,setLegendSettings:iW,addLegendPayload:ST,removeLegendPayload:ET}=ib.actions,jT=ib.reducer;function yu(){return yu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yu.apply(null,arguments)}function fm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function oc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fm(Object(r),!0).forEach(function(n){PT(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fm(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PT(e,t,r){return(t=OT(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OT(e){var t=kT(e,"string");return typeof t=="symbol"?t:t+""}function kT(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function AT(e){return Array.isArray(e)&&rr(e[0])&&rr(e[1])?e.join(" ~ "):e}var CT=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:i={},payload:a,formatter:o,itemSorter:s,wrapperClassName:l,labelClassName:c,label:u,labelFormatter:d,accessibilityLayer:f=!1}=e,p=()=>{if(a&&a.length){var S={padding:0,margin:0},E=(s?fs(a,s):a).map((j,k)=>{if(j.type==="none")return null;var A=j.formatter||o||AT,{value:I,name:C}=j,$=I,U=C;if(A){var T=A(I,C,j,k,a);if(Array.isArray(T))[$,U]=T;else if(T!=null)$=T;else return null}var L=oc({display:"block",paddingTop:4,paddingBottom:4,color:j.color||"#000"},n);return y.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(k),style:L},rr(U)?y.createElement("span",{className:"recharts-tooltip-item-name"},U):null,rr(U)?y.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,y.createElement("span",{className:"recharts-tooltip-item-value"},$),y.createElement("span",{className:"recharts-tooltip-item-unit"},j.unit||""))});return y.createElement("ul",{className:"recharts-tooltip-item-list",style:S},E)}return null},m=oc({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),g=oc({margin:0},i),v=!Ie(u),b=v?u:"",x=ge("recharts-default-tooltip",l),w=ge("recharts-tooltip-label",c);v&&d&&a!==void 0&&a!==null&&(b=d(u,a));var _=f?{role:"status","aria-live":"assertive"}:{};return y.createElement("div",yu({className:x,style:m},_),y.createElement("p",{className:w,style:g},y.isValidElement(b)?b:"".concat(b)),p())},wi="recharts-tooltip-wrapper",TT={visibility:"hidden"};function RT(e){var{coordinate:t,translateX:r,translateY:n}=e;return ge(wi,{["".concat(wi,"-right")]:z(r)&&t&&z(t.x)&&r>=t.x,["".concat(wi,"-left")]:z(r)&&t&&z(t.x)&&r<t.x,["".concat(wi,"-bottom")]:z(n)&&t&&z(t.y)&&n>=t.y,["".concat(wi,"-top")]:z(n)&&t&&z(t.y)&&n<t.y})}function hm(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:i,position:a,reverseDirection:o,tooltipDimension:s,viewBox:l,viewBoxDimension:c}=e;if(a&&z(a[n]))return a[n];var u=r[n]-s-(i>0?i:0),d=r[n]+i;if(t[n])return o[n]?u:d;var f=l[n];if(f==null)return 0;if(o[n]){var p=u,m=f;return p<m?Math.max(d,f):Math.max(u,f)}if(c==null)return 0;var g=d+s,v=f+c;return g>v?Math.max(u,f):Math.max(d,f)}function IT(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function $T(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:i,reverseDirection:a,tooltipBox:o,useTranslate3d:s,viewBox:l}=e,c,u,d;return o.height>0&&o.width>0&&r?(u=hm({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),d=hm({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),c=IT({translateX:u,translateY:d,useTranslate3d:s})):c=TT,{cssProperties:c,cssClasses:RT({translateX:u,translateY:d,coordinate:r})}}function pm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function qa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pm(Object(r),!0).forEach(function(n){bu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pm(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bu(e,t,r){return(t=DT(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DT(e){var t=MT(e,"string");return typeof t=="symbol"?t:t+""}function MT(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class NT extends y.PureComponent{constructor(){super(...arguments),bu(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),bu(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:a,coordinate:o,hasPayload:s,isAnimationActive:l,offset:c,position:u,reverseDirection:d,useTranslate3d:f,viewBox:p,wrapperStyle:m,lastBoundingBox:g,innerRef:v,hasPortalFromProps:b}=this.props,{cssClasses:x,cssProperties:w}=$T({allowEscapeViewBox:r,coordinate:o,offsetTopLeft:c,position:u,reverseDirection:d,tooltipBox:{height:g.height,width:g.width},useTranslate3d:f,viewBox:p}),_=b?{}:qa(qa({transition:l&&t?"transform ".concat(n,"ms ").concat(i):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&s?"visible":"hidden",position:"absolute",top:0,left:0}),S=qa(qa({},_),{},{visibility:!this.state.dismissed&&t&&s?"visible":"hidden"},m);return y.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:x,style:S,ref:v},a)}}var LT=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),ai={devToolsEnabled:!1,isSsr:LT()},ab=()=>W(e=>e.rootProps.accessibilityLayer);function _t(e){return Number.isFinite(e)}function Ro(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function wu(){return wu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wu.apply(null,arguments)}function mm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function gm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mm(Object(r),!0).forEach(function(n){BT(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mm(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BT(e,t,r){return(t=UT(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UT(e){var t=FT(e,"string");return typeof t=="symbol"?t:t+""}function FT(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vm={curveBasisClosed:vk,curveBasisOpen:yk,curveBasis:gk,curveBumpX:rk,curveBumpY:nk,curveLinearClosed:bk,curveLinear:us,curveMonotoneX:wk,curveMonotoneY:xk,curveNatural:_k,curveStep:Sk,curveStepAfter:jk,curveStepBefore:Ek},Ha=e=>_t(e.x)&&_t(e.y),xi=e=>e.x,_i=e=>e.y,zT=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(sa(e));return(r==="curveMonotone"||r==="curveBump")&&t?vm["".concat(r).concat(t==="vertical"?"Y":"X")]:vm[r]||us},WT=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:i,connectNulls:a=!1}=e,o=zT(t,i),s=a?r.filter(Ha):r,l;if(Array.isArray(n)){var c=a?n.filter(d=>Ha(d)):n,u=s.map((d,f)=>gm(gm({},d),{},{base:c[f]}));return i==="vertical"?l=Na().y(_i).x1(xi).x0(d=>d.base.x):l=Na().x(xi).y1(_i).y0(d=>d.base.y),l.defined(Ha).curve(o),l(u)}return i==="vertical"&&z(n)?l=Na().y(_i).x1(xi).x0(n):z(n)?l=Na().x(xi).y1(_i).y0(n):l=t0().x(xi).y(_i),l.defined(Ha).curve(o),l(s)},qT=e=>{var{className:t,points:r,path:n,pathRef:i}=e;if((!r||!r.length)&&!n)return null;var a=r&&r.length?WT(e):n;return y.createElement("path",wu({},ii(e),FO(e),{className:ge("recharts-curve",t),d:a===null?void 0:a,ref:i}))},HT=["x","y","top","left","width","height","className"];function xu(){return xu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xu.apply(null,arguments)}function ym(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function KT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ym(Object(r),!0).forEach(function(n){VT(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ym(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VT(e,t,r){return(t=GT(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GT(e){var t=YT(e,"string");return typeof t=="symbol"?t:t+""}function YT(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function JT(e,t){if(e==null)return{};var r,n,i=XT(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function XT(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var ZT=(e,t,r,n,i,a)=>"M".concat(e,",").concat(i,"v").concat(n,"M").concat(a,",").concat(t,"h").concat(r),QT=e=>{var{x:t=0,y:r=0,top:n=0,left:i=0,width:a=0,height:o=0,className:s}=e,l=JT(e,HT),c=KT({x:t,y:r,top:n,left:i,width:a,height:o},l);return!z(t)||!z(r)||!z(a)||!z(o)||!z(n)||!z(i)?null:y.createElement("path",xu({},ze(c,!0),{className:ge("recharts-cross",s),d:ZT(t,r,a,o,n,i)}))};function e2(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function bm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function t2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bm(Object(r),!0).forEach(function(n){r2(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bm(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function r2(e,t,r){return(t=n2(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n2(e){var t=i2(e,"string");return typeof t=="symbol"?t:t+""}function i2(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lt(e,t){var r=t2({},e),n=t,i=Object.keys(t),a=i.reduce((o,s)=>(o[s]===void 0&&n[s]!==void 0&&(o[s]=n[s]),o),r);return a}function a2(){}function wm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function xm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wm(Object(r),!0).forEach(function(n){o2(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wm(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function o2(e,t,r){return(t=s2(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s2(e){var t=l2(e,"string");return typeof t=="symbol"?t:t+""}function l2(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var c2=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),ob=(e,t,r)=>e.map(n=>"".concat(c2(n)," ").concat(t,"ms ").concat(r)).join(","),u2=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(i=>n.includes(i))),Ji=(e,t)=>Object.keys(t).reduce((r,n)=>xm(xm({},r),{},{[n]:e(n,t[n])}),{});function _m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ue(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_m(Object(r),!0).forEach(function(n){d2(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_m(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function d2(e,t,r){return(t=f2(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f2(e){var t=h2(e,"string");return typeof t=="symbol"?t:t+""}function h2(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Io=(e,t,r)=>e+(t-e)*r,_u=e=>{var{from:t,to:r}=e;return t!==r},sb=(e,t,r)=>{var n=Ji((i,a)=>{if(_u(a)){var[o,s]=e(a.from,a.to,a.velocity);return Ue(Ue({},a),{},{from:o,velocity:s})}return a},t);return r<1?Ji((i,a)=>_u(a)?Ue(Ue({},a),{},{velocity:Io(a.velocity,n[i].velocity,r),from:Io(a.from,n[i].from,r)}):a,t):sb(e,n,r-1)};function p2(e,t,r,n,i,a){var o,s=n.reduce((f,p)=>Ue(Ue({},f),{},{[p]:{from:e[p],velocity:0,to:t[p]}}),{}),l=()=>Ji((f,p)=>p.from,s),c=()=>!Object.values(s).filter(_u).length,u=null,d=f=>{o||(o=f);var p=f-o,m=p/r.dt;s=sb(r,s,m),i(Ue(Ue(Ue({},e),t),l())),o=f,c()||(u=a.setTimeout(d))};return()=>(u=a.setTimeout(d),()=>{u()})}function m2(e,t,r,n,i,a,o){var s=null,l=i.reduce((d,f)=>Ue(Ue({},d),{},{[f]:[e[f],t[f]]}),{}),c,u=d=>{c||(c=d);var f=(d-c)/n,p=Ji((g,v)=>Io(...v,r(f)),l);if(a(Ue(Ue(Ue({},e),t),p)),f<1)s=o.setTimeout(u);else{var m=Ji((g,v)=>Io(...v,r(1)),l);a(Ue(Ue(Ue({},e),t),m))}};return()=>(s=o.setTimeout(u),()=>{s()})}const g2=(e,t,r,n,i,a)=>{var o=u2(e,t);return r.isStepper===!0?p2(e,t,r,o,i,a):m2(e,t,r,n,o,i,a)};var $o=1e-4,lb=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],cb=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),Sm=(e,t)=>r=>{var n=lb(e,t);return cb(n,r)},v2=(e,t)=>r=>{var n=lb(e,t),i=[...n.map((a,o)=>a*o).slice(1),0];return cb(i,r)},Em=function(){for(var t,r,n,i,a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];if(o.length===1)switch(o[0]){case"linear":[t,n,r,i]=[0,0,1,1];break;case"ease":[t,n,r,i]=[.25,.1,.25,1];break;case"ease-in":[t,n,r,i]=[.42,0,1,1];break;case"ease-out":[t,n,r,i]=[.42,0,.58,1];break;case"ease-in-out":[t,n,r,i]=[0,0,.58,1];break;default:{var l=o[0].split("(");l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4&&([t,n,r,i]=l[1].split(")")[0].split(",").map(m=>parseFloat(m)))}}else o.length===4&&([t,n,r,i]=o);var c=Sm(t,r),u=Sm(n,i),d=v2(t,r),f=m=>m>1?1:m<0?0:m,p=m=>{for(var g=m>1?1:m,v=g,b=0;b<8;++b){var x=c(v)-g,w=d(v);if(Math.abs(x-g)<$o||w<$o)return u(v);v=f(v-x/w)}return u(v)};return p.isStepper=!1,p},y2=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=t,a=(o,s,l)=>{var c=-(o-s)*r,u=l*n,d=l+(c-u)*i/1e3,f=l*i/1e3+o;return Math.abs(f-s)<$o&&Math.abs(d)<$o?[s,0]:[f,d]};return a.isStepper=!0,a.dt=i,a},b2=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Em(e);case"spring":return y2();default:if(e.split("(")[0]==="cubic-bezier")return Em(e)}return typeof e=="function"?e:null};function w2(e){var t,r=()=>null,n=!1,i=null,a=o=>{if(!n){if(Array.isArray(o)){if(!o.length)return;var s=o,[l,...c]=s;if(typeof l=="number"){i=e.setTimeout(a.bind(null,c),l);return}a(l),i=e.setTimeout(a.bind(null,c));return}typeof o=="string"&&(t=o,r(t)),typeof o=="object"&&(t=o,r(t)),typeof o=="function"&&o()}};return{stop:()=>{n=!0},start:o=>{n=!1,i&&(i(),i=null),a(o)},subscribe:o=>(r=o,()=>{r=()=>null}),getTimeoutController:()=>e}}class x2{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,a=o=>{o-n>=r?t(o):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{cancelAnimationFrame(i)}}}function _2(){return w2(new x2)}var S2=y.createContext(_2);function E2(e,t){var r=y.useContext(S2);return y.useMemo(()=>t??r(e),[e,t,r])}var j2={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},jm={t:0},sc={t:1};function $d(e){var t=Lt(e,j2),{isActive:r,canBegin:n,duration:i,easing:a,begin:o,onAnimationEnd:s,onAnimationStart:l,children:c}=t,u=E2(t.animationId,t.animationManager),[d,f]=y.useState(r?jm:sc),p=y.useRef(null);return y.useEffect(()=>{r||f(sc)},[r]),y.useEffect(()=>{if(!r||!n)return a2;var m=g2(jm,sc,b2(a),i,f,u.getTimeoutController()),g=()=>{p.current=m()};return u.start([l,o,g,i,s]),()=>{u.stop(),p.current&&p.current(),s()}},[r,n,i,a,o,l,s,u]),c(d.t)}function Dd(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=y.useRef(Vi(t)),n=y.useRef(e);return n.current!==e&&(r.current=Vi(t),n.current=e),r.current}function Pm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Om(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Pm(Object(r),!0).forEach(function(n){P2(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pm(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function P2(e,t,r){return(t=O2(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O2(e){var t=k2(e,"string");return typeof t=="symbol"?t:t+""}function k2(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Do(){return Do=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Do.apply(null,arguments)}var km=(e,t,r,n,i)=>{var a=Math.min(Math.abs(r)/2,Math.abs(n)/2),o=n>=0?1:-1,s=r>=0?1:-1,l=n>=0&&r>=0||n<0&&r<0?1:0,c;if(a>0&&i instanceof Array){for(var u=[0,0,0,0],d=0,f=4;d<f;d++)u[d]=i[d]>a?a:i[d];c="M".concat(e,",").concat(t+o*u[0]),u[0]>0&&(c+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(l,",").concat(e+s*u[0],",").concat(t)),c+="L ".concat(e+r-s*u[1],",").concat(t),u[1]>0&&(c+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(l,`,
        `).concat(e+r,",").concat(t+o*u[1])),c+="L ".concat(e+r,",").concat(t+n-o*u[2]),u[2]>0&&(c+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(l,`,
        `).concat(e+r-s*u[2],",").concat(t+n)),c+="L ".concat(e+s*u[3],",").concat(t+n),u[3]>0&&(c+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(l,`,
        `).concat(e,",").concat(t+n-o*u[3])),c+="Z"}else if(a>0&&i===+i&&i>0){var p=Math.min(a,i);c="M ".concat(e,",").concat(t+o*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(e+s*p,",").concat(t,`
            L `).concat(e+r-s*p,",").concat(t,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(e+r,",").concat(t+o*p,`
            L `).concat(e+r,",").concat(t+n-o*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(e+r-s*p,",").concat(t+n,`
            L `).concat(e+s*p,",").concat(t+n,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(e,",").concat(t+n-o*p," Z")}else c="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return c},A2={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},ub=e=>{var t=Lt(e,A2),r=y.useRef(null),[n,i]=y.useState(-1);y.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var T=r.current.getTotalLength();T&&i(T)}catch{}},[]);var{x:a,y:o,width:s,height:l,radius:c,className:u}=t,{animationEasing:d,animationDuration:f,animationBegin:p,isAnimationActive:m,isUpdateAnimationActive:g}=t,v=y.useRef(s),b=y.useRef(l),x=y.useRef(a),w=y.useRef(o),_=y.useMemo(()=>({x:a,y:o,width:s,height:l,radius:c}),[a,o,s,l,c]),S=Dd(_,"rectangle-");if(a!==+a||o!==+o||s!==+s||l!==+l||s===0||l===0)return null;var E=ge("recharts-rectangle",u);if(!g)return y.createElement("path",Do({},ze(t,!0),{className:E,d:km(a,o,s,l,c)}));var j=v.current,k=b.current,A=x.current,I=w.current,C="0px ".concat(n===-1?1:n,"px"),$="".concat(n,"px 0px"),U=ob(["strokeDasharray"],f,typeof d=="string"?d:void 0);return y.createElement($d,{animationId:S,key:S,canBegin:n>0,duration:f,easing:d,isActive:g,begin:p},T=>{var L=Ze(j,s,T),M=Ze(k,l,T),q=Ze(A,a,T),J=Ze(I,o,T);r.current&&(v.current=L,b.current=M,x.current=q,w.current=J);var X;return m?T>0?X={transition:U,strokeDasharray:$}:X={strokeDasharray:C}:X={strokeDasharray:$},y.createElement("path",Do({},ze(t,!0),{className:E,d:km(q,J,L,M,c),ref:r,style:Om(Om({},X),t.style)}))})};function db(e){var{cx:t,cy:r,radius:n,startAngle:i,endAngle:a}=e,o=Fe(t,r,n,i),s=Fe(t,r,n,a);return{points:[o,s],cx:t,cy:r,radius:n,startAngle:i,endAngle:a}}function Su(){return Su=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Su.apply(null,arguments)}var C2=(e,t)=>{var r=st(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},Ka=e=>{var{cx:t,cy:r,radius:n,angle:i,sign:a,isExternal:o,cornerRadius:s,cornerIsExternal:l}=e,c=s*(o?1:-1)+n,u=Math.asin(s/c)/To,d=l?i:i+a*u,f=Fe(t,r,c,d),p=Fe(t,r,n,d),m=l?i-a*u:i,g=Fe(t,r,c*Math.cos(u*To),m);return{center:f,circleTangency:p,lineTangency:g,theta:u}},fb=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:a,endAngle:o}=e,s=C2(a,o),l=a+s,c=Fe(t,r,i,a),u=Fe(t,r,i,l),d="M ".concat(c.x,",").concat(c.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(s)>180),",").concat(+(a>l),`,
    `).concat(u.x,",").concat(u.y,`
  `);if(n>0){var f=Fe(t,r,n,a),p=Fe(t,r,n,l);d+="L ".concat(p.x,",").concat(p.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(s)>180),",").concat(+(a<=l),`,
            `).concat(f.x,",").concat(f.y," Z")}else d+="L ".concat(t,",").concat(r," Z");return d},T2=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:s,startAngle:l,endAngle:c}=e,u=st(c-l),{circleTangency:d,lineTangency:f,theta:p}=Ka({cx:t,cy:r,radius:i,angle:l,sign:u,cornerRadius:a,cornerIsExternal:s}),{circleTangency:m,lineTangency:g,theta:v}=Ka({cx:t,cy:r,radius:i,angle:c,sign:-u,cornerRadius:a,cornerIsExternal:s}),b=s?Math.abs(l-c):Math.abs(l-c)-p-v;if(b<0)return o?"M ".concat(f.x,",").concat(f.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):fb({cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:l,endAngle:c});var x="M ".concat(f.x,",").concat(f.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(d.x,",").concat(d.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(b>180),",").concat(+(u<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(g.x,",").concat(g.y,`
  `);if(n>0){var{circleTangency:w,lineTangency:_,theta:S}=Ka({cx:t,cy:r,radius:n,angle:l,sign:u,isExternal:!0,cornerRadius:a,cornerIsExternal:s}),{circleTangency:E,lineTangency:j,theta:k}=Ka({cx:t,cy:r,radius:n,angle:c,sign:-u,isExternal:!0,cornerRadius:a,cornerIsExternal:s}),A=s?Math.abs(l-c):Math.abs(l-c)-S-k;if(A<0&&a===0)return"".concat(x,"L").concat(t,",").concat(r,"Z");x+="L".concat(j.x,",").concat(j.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(E.x,",").concat(E.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(A>180),",").concat(+(u>0),",").concat(w.x,",").concat(w.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(_.x,",").concat(_.y,"Z")}else x+="L".concat(t,",").concat(r,"Z");return x},R2={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},hb=e=>{var t=Lt(e,R2),{cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:o,forceCornerRadius:s,cornerIsExternal:l,startAngle:c,endAngle:u,className:d}=t;if(a<i||c===u)return null;var f=ge("recharts-sector",d),p=a-i,m=Ht(o,p,0,!0),g;return m>0&&Math.abs(c-u)<360?g=T2({cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:Math.min(m,p/2),forceCornerRadius:s,cornerIsExternal:l,startAngle:c,endAngle:u}):g=fb({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:c,endAngle:u}),y.createElement("path",Su({},ze(t,!0),{className:f,d:g}))};function I2(e,t,r){var n,i,a,o;if(e==="horizontal")n=t.x,a=n,i=r.top,o=r.top+r.height;else if(e==="vertical")i=t.y,o=i,n=r.left,a=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:s,cy:l,innerRadius:c,outerRadius:u,angle:d}=t,f=Fe(s,l,c,d),p=Fe(s,l,u,d);n=f.x,i=f.y,a=p.x,o=p.y}else return db(t);return[{x:n,y:i},{x:a,y:o}]}var lc={},cc={},uc={},Am;function $2(){return Am||(Am=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=S0();function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(uc)),uc}var Cm;function D2(){return Cm||(Cm=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$2();function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(cc)),cc}var Tm;function M2(){return Tm||(Tm=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=E0(),r=D2();function n(i,a,o){o&&typeof o!="number"&&t.isIterateeCall(i,a,o)&&(a=o=void 0),i=r.toFinite(i),a===void 0?(a=i,i=0):a=r.toFinite(a),o=o===void 0?i<a?1:-1:r.toFinite(o);const s=Math.max(Math.ceil((a-i)/(o||1)),0),l=new Array(s);for(let c=0;c<s;c++)l[c]=i,i+=o;return l}e.range=n})(lc)),lc}var dc,Rm;function N2(){return Rm||(Rm=1,dc=M2().range),dc}var L2=N2();const pb=ir(L2);function Mr(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function B2(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Md(e){let t,r,n;e.length!==2?(t=Mr,r=(s,l)=>Mr(e(s),l),n=(s,l)=>e(s)-l):(t=e===Mr||e===B2?e:U2,r=e,n=e);function i(s,l,c=0,u=s.length){if(c<u){if(t(l,l)!==0)return u;do{const d=c+u>>>1;r(s[d],l)<0?c=d+1:u=d}while(c<u)}return c}function a(s,l,c=0,u=s.length){if(c<u){if(t(l,l)!==0)return u;do{const d=c+u>>>1;r(s[d],l)<=0?c=d+1:u=d}while(c<u)}return c}function o(s,l,c=0,u=s.length){const d=i(s,l,c,u-1);return d>c&&n(s[d-1],l)>-n(s[d],l)?d-1:d}return{left:i,center:o,right:a}}function U2(){return 0}function mb(e){return e===null?NaN:+e}function*F2(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const z2=Md(Mr),da=z2.right;Md(mb).center;class Im extends Map{constructor(t,r=H2){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get($m(this,t))}has(t){return super.has($m(this,t))}set(t,r){return super.set(W2(this,t),r)}delete(t){return super.delete(q2(this,t))}}function $m({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function W2({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function q2({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function H2(e){return e!==null&&typeof e=="object"?e.valueOf():e}function K2(e=Mr){if(e===Mr)return gb;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function gb(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const V2=Math.sqrt(50),G2=Math.sqrt(10),Y2=Math.sqrt(2);function Mo(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),o=a>=V2?10:a>=G2?5:a>=Y2?2:1;let s,l,c;return i<0?(c=Math.pow(10,-i)/o,s=Math.round(e*c),l=Math.round(t*c),s/c<e&&++s,l/c>t&&--l,c=-c):(c=Math.pow(10,i)*o,s=Math.round(e/c),l=Math.round(t/c),s*c<e&&++s,l*c>t&&--l),l<s&&.5<=r&&r<2?Mo(e,t,r*2):[s,l,c]}function Eu(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,a,o]=n?Mo(t,e,r):Mo(e,t,r);if(!(a>=i))return[];const s=a-i+1,l=new Array(s);if(n)if(o<0)for(let c=0;c<s;++c)l[c]=(a-c)/-o;else for(let c=0;c<s;++c)l[c]=(a-c)*o;else if(o<0)for(let c=0;c<s;++c)l[c]=(i+c)/-o;else for(let c=0;c<s;++c)l[c]=(i+c)*o;return l}function ju(e,t,r){return t=+t,e=+e,r=+r,Mo(e,t,r)[2]}function Pu(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?ju(t,e,r):ju(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function Dm(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function Mm(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function vb(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?gb:K2(i);n>r;){if(n-r>600){const l=n-r+1,c=t-r+1,u=Math.log(l),d=.5*Math.exp(2*u/3),f=.5*Math.sqrt(u*d*(l-d)/l)*(c-l/2<0?-1:1),p=Math.max(r,Math.floor(t-c*d/l+f)),m=Math.min(n,Math.floor(t+(l-c)*d/l+f));vb(e,t,p,m,i)}const a=e[t];let o=r,s=n;for(Si(e,r,t),i(e[n],a)>0&&Si(e,r,n);o<s;){for(Si(e,o,s),++o,--s;i(e[o],a)<0;)++o;for(;i(e[s],a)>0;)--s}i(e[r],a)===0?Si(e,r,s):(++s,Si(e,s,n)),s<=t&&(r=s+1),t<=s&&(n=s-1)}return e}function Si(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function J2(e,t,r){if(e=Float64Array.from(F2(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return Mm(e);if(t>=1)return Dm(e);var n,i=(n-1)*t,a=Math.floor(i),o=Dm(vb(e,a).subarray(0,a+1)),s=Mm(e.subarray(a+1));return o+(s-o)*(i-a)}}function X2(e,t,r=mb){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,a=Math.floor(i),o=+r(e[a],a,e),s=+r(e[a+1],a+1,e);return o+(s-o)*(i-a)}}function Z2(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,a=new Array(i);++n<i;)a[n]=e+n*r;return a}function Bt(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Er(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Ou=Symbol("implicit");function Nd(){var e=new Im,t=[],r=[],n=Ou;function i(a){let o=e.get(a);if(o===void 0){if(n!==Ou)return n;e.set(a,o=t.push(a)-1)}return r[o%r.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new Im;for(const o of a)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return Nd(t,r).unknown(n)},Bt.apply(i,arguments),i}function Ld(){var e=Nd().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,a,o,s=!1,l=0,c=0,u=.5;delete e.unknown;function d(){var f=t().length,p=i<n,m=p?i:n,g=p?n:i;a=(g-m)/Math.max(1,f-l+c*2),s&&(a=Math.floor(a)),m+=(g-m-a*(f-l))*u,o=a*(1-l),s&&(m=Math.round(m),o=Math.round(o));var v=Z2(f).map(function(b){return m+a*b});return r(p?v.reverse():v)}return e.domain=function(f){return arguments.length?(t(f),d()):t()},e.range=function(f){return arguments.length?([n,i]=f,n=+n,i=+i,d()):[n,i]},e.rangeRound=function(f){return[n,i]=f,n=+n,i=+i,s=!0,d()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(f){return arguments.length?(s=!!f,d()):s},e.padding=function(f){return arguments.length?(l=Math.min(1,c=+f),d()):l},e.paddingInner=function(f){return arguments.length?(l=Math.min(1,f),d()):l},e.paddingOuter=function(f){return arguments.length?(c=+f,d()):c},e.align=function(f){return arguments.length?(u=Math.max(0,Math.min(1,f)),d()):u},e.copy=function(){return Ld(t(),[n,i]).round(s).paddingInner(l).paddingOuter(c).align(u)},Bt.apply(d(),arguments)}function yb(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return yb(t())},e}function Q2(){return yb(Ld.apply(null,arguments).paddingInner(1))}function Bd(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function bb(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function fa(){}var Xi=.7,No=1/Xi,Un="\\s*([+-]?\\d+)\\s*",Zi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",tr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",eR=/^#([0-9a-f]{3,8})$/,tR=new RegExp(`^rgb\\(${Un},${Un},${Un}\\)$`),rR=new RegExp(`^rgb\\(${tr},${tr},${tr}\\)$`),nR=new RegExp(`^rgba\\(${Un},${Un},${Un},${Zi}\\)$`),iR=new RegExp(`^rgba\\(${tr},${tr},${tr},${Zi}\\)$`),aR=new RegExp(`^hsl\\(${Zi},${tr},${tr}\\)$`),oR=new RegExp(`^hsla\\(${Zi},${tr},${tr},${Zi}\\)$`),Nm={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Bd(fa,Qi,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Lm,formatHex:Lm,formatHex8:sR,formatHsl:lR,formatRgb:Bm,toString:Bm});function Lm(){return this.rgb().formatHex()}function sR(){return this.rgb().formatHex8()}function lR(){return wb(this).formatHsl()}function Bm(){return this.rgb().formatRgb()}function Qi(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=eR.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?Um(t):r===3?new lt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Va(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Va(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=tR.exec(e))?new lt(t[1],t[2],t[3],1):(t=rR.exec(e))?new lt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=nR.exec(e))?Va(t[1],t[2],t[3],t[4]):(t=iR.exec(e))?Va(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=aR.exec(e))?Wm(t[1],t[2]/100,t[3]/100,1):(t=oR.exec(e))?Wm(t[1],t[2]/100,t[3]/100,t[4]):Nm.hasOwnProperty(e)?Um(Nm[e]):e==="transparent"?new lt(NaN,NaN,NaN,0):null}function Um(e){return new lt(e>>16&255,e>>8&255,e&255,1)}function Va(e,t,r,n){return n<=0&&(e=t=r=NaN),new lt(e,t,r,n)}function cR(e){return e instanceof fa||(e=Qi(e)),e?(e=e.rgb(),new lt(e.r,e.g,e.b,e.opacity)):new lt}function ku(e,t,r,n){return arguments.length===1?cR(e):new lt(e,t,r,n??1)}function lt(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Bd(lt,ku,bb(fa,{brighter(e){return e=e==null?No:Math.pow(No,e),new lt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Xi:Math.pow(Xi,e),new lt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new lt(ln(this.r),ln(this.g),ln(this.b),Lo(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Fm,formatHex:Fm,formatHex8:uR,formatRgb:zm,toString:zm}));function Fm(){return`#${tn(this.r)}${tn(this.g)}${tn(this.b)}`}function uR(){return`#${tn(this.r)}${tn(this.g)}${tn(this.b)}${tn((isNaN(this.opacity)?1:this.opacity)*255)}`}function zm(){const e=Lo(this.opacity);return`${e===1?"rgb(":"rgba("}${ln(this.r)}, ${ln(this.g)}, ${ln(this.b)}${e===1?")":`, ${e})`}`}function Lo(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ln(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function tn(e){return e=ln(e),(e<16?"0":"")+e.toString(16)}function Wm(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new qt(e,t,r,n)}function wb(e){if(e instanceof qt)return new qt(e.h,e.s,e.l,e.opacity);if(e instanceof fa||(e=Qi(e)),!e)return new qt;if(e instanceof qt)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),a=Math.max(t,r,n),o=NaN,s=a-i,l=(a+i)/2;return s?(t===a?o=(r-n)/s+(r<n)*6:r===a?o=(n-t)/s+2:o=(t-r)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new qt(o,s,l,e.opacity)}function dR(e,t,r,n){return arguments.length===1?wb(e):new qt(e,t,r,n??1)}function qt(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Bd(qt,dR,bb(fa,{brighter(e){return e=e==null?No:Math.pow(No,e),new qt(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Xi:Math.pow(Xi,e),new qt(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new lt(fc(e>=240?e-240:e+120,i,n),fc(e,i,n),fc(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new qt(qm(this.h),Ga(this.s),Ga(this.l),Lo(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Lo(this.opacity);return`${e===1?"hsl(":"hsla("}${qm(this.h)}, ${Ga(this.s)*100}%, ${Ga(this.l)*100}%${e===1?")":`, ${e})`}`}}));function qm(e){return e=(e||0)%360,e<0?e+360:e}function Ga(e){return Math.max(0,Math.min(1,e||0))}function fc(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Ud=e=>()=>e;function fR(e,t){return function(r){return e+r*t}}function hR(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function pR(e){return(e=+e)==1?xb:function(t,r){return r-t?hR(t,r,e):Ud(isNaN(t)?r:t)}}function xb(e,t){var r=t-e;return r?fR(e,r):Ud(isNaN(e)?t:e)}const Hm=(function e(t){var r=pR(t);function n(i,a){var o=r((i=ku(i)).r,(a=ku(a)).r),s=r(i.g,a.g),l=r(i.b,a.b),c=xb(i.opacity,a.opacity);return function(u){return i.r=o(u),i.g=s(u),i.b=l(u),i.opacity=c(u),i+""}}return n.gamma=e,n})(1);function mR(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=e[i]*(1-a)+t[i]*a;return n}}function gR(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function vR(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),a=new Array(r),o;for(o=0;o<n;++o)i[o]=oi(e[o],t[o]);for(;o<r;++o)a[o]=t[o];return function(s){for(o=0;o<n;++o)a[o]=i[o](s);return a}}function yR(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Bo(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function bR(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=oi(e[i],t[i]):n[i]=t[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var Au=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,hc=new RegExp(Au.source,"g");function wR(e){return function(){return e}}function xR(e){return function(t){return e(t)+""}}function _R(e,t){var r=Au.lastIndex=hc.lastIndex=0,n,i,a,o=-1,s=[],l=[];for(e=e+"",t=t+"";(n=Au.exec(e))&&(i=hc.exec(t));)(a=i.index)>r&&(a=t.slice(r,a),s[o]?s[o]+=a:s[++o]=a),(n=n[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:Bo(n,i)})),r=hc.lastIndex;return r<t.length&&(a=t.slice(r),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?xR(l[0].x):wR(t):(t=l.length,function(c){for(var u=0,d;u<t;++u)s[(d=l[u]).i]=d.x(c);return s.join("")})}function oi(e,t){var r=typeof t,n;return t==null||r==="boolean"?Ud(t):(r==="number"?Bo:r==="string"?(n=Qi(t))?(t=n,Hm):_R:t instanceof Qi?Hm:t instanceof Date?yR:gR(t)?mR:Array.isArray(t)?vR:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?bR:Bo)(e,t)}function Fd(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function SR(e,t){t===void 0&&(t=e,e=oi);for(var r=0,n=t.length-1,i=t[0],a=new Array(n<0?0:n);r<n;)a[r]=e(i,i=t[++r]);return function(o){var s=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return a[s](o-s)}}function ER(e){return function(){return e}}function Uo(e){return+e}var Km=[0,1];function et(e){return e}function Cu(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:ER(isNaN(t)?NaN:.5)}function jR(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function PR(e,t,r){var n=e[0],i=e[1],a=t[0],o=t[1];return i<n?(n=Cu(i,n),a=r(o,a)):(n=Cu(n,i),a=r(a,o)),function(s){return a(n(s))}}function OR(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),a=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)i[o]=Cu(e[o],e[o+1]),a[o]=r(t[o],t[o+1]);return function(s){var l=da(e,s,1,n)-1;return a[l](i[l](s))}}function ha(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function _s(){var e=Km,t=Km,r=oi,n,i,a,o=et,s,l,c;function u(){var f=Math.min(e.length,t.length);return o!==et&&(o=jR(e[0],e[f-1])),s=f>2?OR:PR,l=c=null,d}function d(f){return f==null||isNaN(f=+f)?a:(l||(l=s(e.map(n),t,r)))(n(o(f)))}return d.invert=function(f){return o(i((c||(c=s(t,e.map(n),Bo)))(f)))},d.domain=function(f){return arguments.length?(e=Array.from(f,Uo),u()):e.slice()},d.range=function(f){return arguments.length?(t=Array.from(f),u()):t.slice()},d.rangeRound=function(f){return t=Array.from(f),r=Fd,u()},d.clamp=function(f){return arguments.length?(o=f?!0:et,u()):o!==et},d.interpolate=function(f){return arguments.length?(r=f,u()):r},d.unknown=function(f){return arguments.length?(a=f,d):a},function(f,p){return n=f,i=p,u()}}function zd(){return _s()(et,et)}function kR(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Fo(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Hn(e){return e=Fo(Math.abs(e)),e?e[1]:NaN}function AR(e,t){return function(r,n){for(var i=r.length,a=[],o=0,s=e[0],l=0;i>0&&s>0&&(l+s+1>n&&(s=Math.max(1,n-l)),a.push(r.substring(i-=s,i+s)),!((l+=s+1)>n));)s=e[o=(o+1)%e.length];return a.reverse().join(t)}}function CR(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var TR=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ea(e){if(!(t=TR.exec(e)))throw new Error("invalid format: "+e);var t;return new Wd({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}ea.prototype=Wd.prototype;function Wd(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Wd.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function RR(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var _b;function IR(e,t){var r=Fo(e,t);if(!r)return e+"";var n=r[0],i=r[1],a=i-(_b=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return a===o?n:a>o?n+new Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+Fo(e,Math.max(0,t+a-1))[0]}function Vm(e,t){var r=Fo(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const Gm={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:kR,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Vm(e*100,t),r:Vm,s:IR,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Ym(e){return e}var Jm=Array.prototype.map,Xm=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function $R(e){var t=e.grouping===void 0||e.thousands===void 0?Ym:AR(Jm.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?Ym:CR(Jm.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"−":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(d){d=ea(d);var f=d.fill,p=d.align,m=d.sign,g=d.symbol,v=d.zero,b=d.width,x=d.comma,w=d.precision,_=d.trim,S=d.type;S==="n"?(x=!0,S="g"):Gm[S]||(w===void 0&&(w=12),_=!0,S="g"),(v||f==="0"&&p==="=")&&(v=!0,f="0",p="=");var E=g==="$"?r:g==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",j=g==="$"?n:/[%p]/.test(S)?o:"",k=Gm[S],A=/[defgprs%]/.test(S);w=w===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function I(C){var $=E,U=j,T,L,M;if(S==="c")U=k(C)+U,C="";else{C=+C;var q=C<0||1/C<0;if(C=isNaN(C)?l:k(Math.abs(C),w),_&&(C=RR(C)),q&&+C==0&&m!=="+"&&(q=!1),$=(q?m==="("?m:s:m==="-"||m==="("?"":m)+$,U=(S==="s"?Xm[8+_b/3]:"")+U+(q&&m==="("?")":""),A){for(T=-1,L=C.length;++T<L;)if(M=C.charCodeAt(T),48>M||M>57){U=(M===46?i+C.slice(T+1):C.slice(T))+U,C=C.slice(0,T);break}}}x&&!v&&(C=t(C,1/0));var J=$.length+C.length+U.length,X=J<b?new Array(b-J+1).join(f):"";switch(x&&v&&(C=t(X+C,X.length?b-U.length:1/0),X=""),p){case"<":C=$+C+U+X;break;case"=":C=$+X+C+U;break;case"^":C=X.slice(0,J=X.length>>1)+$+C+U+X.slice(J);break;default:C=X+$+C+U;break}return a(C)}return I.toString=function(){return d+""},I}function u(d,f){var p=c((d=ea(d),d.type="f",d)),m=Math.max(-8,Math.min(8,Math.floor(Hn(f)/3)))*3,g=Math.pow(10,-m),v=Xm[8+m/3];return function(b){return p(g*b)+v}}return{format:c,formatPrefix:u}}var Ya,qd,Sb;DR({thousands:",",grouping:[3],currency:["$",""]});function DR(e){return Ya=$R(e),qd=Ya.format,Sb=Ya.formatPrefix,Ya}function MR(e){return Math.max(0,-Hn(Math.abs(e)))}function NR(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Hn(t)/3)))*3-Hn(Math.abs(e)))}function LR(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Hn(t)-Hn(e))+1}function Eb(e,t,r,n){var i=Pu(e,t,r),a;switch(n=ea(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(a=NR(i,o))&&(n.precision=a),Sb(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=LR(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=MR(i))&&(n.precision=a-(n.type==="%")*2);break}}return qd(n)}function Fr(e){var t=e.domain;return e.ticks=function(r){var n=t();return Eu(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return Eb(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,a=n.length-1,o=n[i],s=n[a],l,c,u=10;for(s<o&&(c=o,o=s,s=c,c=i,i=a,a=c);u-- >0;){if(c=ju(o,s,r),c===l)return n[i]=o,n[a]=s,t(n);if(c>0)o=Math.floor(o/c)*c,s=Math.ceil(s/c)*c;else if(c<0)o=Math.ceil(o*c)/c,s=Math.floor(s*c)/c;else break;l=c}return e},e}function jb(){var e=zd();return e.copy=function(){return ha(e,jb())},Bt.apply(e,arguments),Fr(e)}function Pb(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Uo),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return Pb(e).unknown(t)},e=arguments.length?Array.from(e,Uo):[0,1],Fr(r)}function Ob(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],a=e[n],o;return a<i&&(o=r,r=n,n=o,o=i,i=a,a=o),e[r]=t.floor(i),e[n]=t.ceil(a),e}function Zm(e){return Math.log(e)}function Qm(e){return Math.exp(e)}function BR(e){return-Math.log(-e)}function UR(e){return-Math.exp(-e)}function FR(e){return isFinite(e)?+("1e"+e):e<0?0:e}function zR(e){return e===10?FR:e===Math.E?Math.exp:t=>Math.pow(e,t)}function WR(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function eg(e){return(t,r)=>-e(-t,r)}function Hd(e){const t=e(Zm,Qm),r=t.domain;let n=10,i,a;function o(){return i=WR(n),a=zR(n),r()[0]<0?(i=eg(i),a=eg(a),e(BR,UR)):e(Zm,Qm),t}return t.base=function(s){return arguments.length?(n=+s,o()):n},t.domain=function(s){return arguments.length?(r(s),o()):r()},t.ticks=s=>{const l=r();let c=l[0],u=l[l.length-1];const d=u<c;d&&([c,u]=[u,c]);let f=i(c),p=i(u),m,g;const v=s==null?10:+s;let b=[];if(!(n%1)&&p-f<v){if(f=Math.floor(f),p=Math.ceil(p),c>0){for(;f<=p;++f)for(m=1;m<n;++m)if(g=f<0?m/a(-f):m*a(f),!(g<c)){if(g>u)break;b.push(g)}}else for(;f<=p;++f)for(m=n-1;m>=1;--m)if(g=f>0?m/a(-f):m*a(f),!(g<c)){if(g>u)break;b.push(g)}b.length*2<v&&(b=Eu(c,u,v))}else b=Eu(f,p,Math.min(p-f,v)).map(a);return d?b.reverse():b},t.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=ea(l)).precision==null&&(l.trim=!0),l=qd(l)),s===1/0)return l;const c=Math.max(1,n*s/t.ticks().length);return u=>{let d=u/a(Math.round(i(u)));return d*n<n-.5&&(d*=n),d<=c?l(u):""}},t.nice=()=>r(Ob(r(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),t}function kb(){const e=Hd(_s()).domain([1,10]);return e.copy=()=>ha(e,kb()).base(e.base()),Bt.apply(e,arguments),e}function tg(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function rg(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Kd(e){var t=1,r=e(tg(t),rg(t));return r.constant=function(n){return arguments.length?e(tg(t=+n),rg(t)):t},Fr(r)}function Ab(){var e=Kd(_s());return e.copy=function(){return ha(e,Ab()).constant(e.constant())},Bt.apply(e,arguments)}function ng(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function qR(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function HR(e){return e<0?-e*e:e*e}function Vd(e){var t=e(et,et),r=1;function n(){return r===1?e(et,et):r===.5?e(qR,HR):e(ng(r),ng(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},Fr(t)}function Gd(){var e=Vd(_s());return e.copy=function(){return ha(e,Gd()).exponent(e.exponent())},Bt.apply(e,arguments),e}function KR(){return Gd.apply(null,arguments).exponent(.5)}function ig(e){return Math.sign(e)*e*e}function VR(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function Cb(){var e=zd(),t=[0,1],r=!1,n;function i(a){var o=VR(e(a));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(a){return e.invert(ig(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,Uo)).map(ig)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return Cb(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Bt.apply(i,arguments),Fr(i)}function Tb(){var e=[],t=[],r=[],n;function i(){var o=0,s=Math.max(1,t.length);for(r=new Array(s-1);++o<s;)r[o-1]=X2(e,o/s);return a}function a(o){return o==null||isNaN(o=+o)?n:t[da(r,o)]}return a.invertExtent=function(o){var s=t.indexOf(o);return s<0?[NaN,NaN]:[s>0?r[s-1]:e[0],s<r.length?r[s]:e[e.length-1]]},a.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let s of o)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Mr),i()},a.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return Tb().domain(e).range(t).unknown(n)},Bt.apply(a,arguments)}function Rb(){var e=0,t=1,r=1,n=[.5],i=[0,1],a;function o(l){return l!=null&&l<=l?i[da(n,l,0,r)]:a}function s(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return o}return o.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,s()):[e,t]},o.range=function(l){return arguments.length?(r=(i=Array.from(l)).length-1,s()):i.slice()},o.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[e,n[0]]:c>=r?[n[r-1],t]:[n[c-1],n[c]]},o.unknown=function(l){return arguments.length&&(a=l),o},o.thresholds=function(){return n.slice()},o.copy=function(){return Rb().domain([e,t]).range(i).unknown(a)},Bt.apply(Fr(o),arguments)}function Ib(){var e=[.5],t=[0,1],r,n=1;function i(a){return a!=null&&a<=a?t[da(e,a,0,n)]:r}return i.domain=function(a){return arguments.length?(e=Array.from(a),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var o=t.indexOf(a);return[e[o-1],e[o]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return Ib().domain(e).range(t).unknown(r)},Bt.apply(i,arguments)}const pc=new Date,mc=new Date;function ke(e,t,r,n){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const l=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return l;let c;do l.push(c=new Date(+a)),t(a,s),e(a);while(c<a&&a<o);return l},i.filter=a=>ke(o=>{if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;t(o,-1),!a(o););else for(;--s>=0;)for(;t(o,1),!a(o););}),r&&(i.count=(a,o)=>(pc.setTime(+a),mc.setTime(+o),e(pc),e(mc),Math.floor(r(pc,mc))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?o=>n(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const zo=ke(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);zo.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ke(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):zo);zo.range;const fr=1e3,Rt=fr*60,hr=Rt*60,br=hr*24,Yd=br*7,ag=br*30,gc=br*365,rn=ke(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*fr)},(e,t)=>(t-e)/fr,e=>e.getUTCSeconds());rn.range;const Jd=ke(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*fr)},(e,t)=>{e.setTime(+e+t*Rt)},(e,t)=>(t-e)/Rt,e=>e.getMinutes());Jd.range;const Xd=ke(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Rt)},(e,t)=>(t-e)/Rt,e=>e.getUTCMinutes());Xd.range;const Zd=ke(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*fr-e.getMinutes()*Rt)},(e,t)=>{e.setTime(+e+t*hr)},(e,t)=>(t-e)/hr,e=>e.getHours());Zd.range;const Qd=ke(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*hr)},(e,t)=>(t-e)/hr,e=>e.getUTCHours());Qd.range;const pa=ke(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Rt)/br,e=>e.getDate()-1);pa.range;const Ss=ke(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/br,e=>e.getUTCDate()-1);Ss.range;const $b=ke(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/br,e=>Math.floor(e/br));$b.range;function yn(e){return ke(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Rt)/Yd)}const Es=yn(0),Wo=yn(1),GR=yn(2),YR=yn(3),Kn=yn(4),JR=yn(5),XR=yn(6);Es.range;Wo.range;GR.range;YR.range;Kn.range;JR.range;XR.range;function bn(e){return ke(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Yd)}const js=bn(0),qo=bn(1),ZR=bn(2),QR=bn(3),Vn=bn(4),eI=bn(5),tI=bn(6);js.range;qo.range;ZR.range;QR.range;Vn.range;eI.range;tI.range;const ef=ke(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());ef.range;const tf=ke(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());tf.range;const wr=ke(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());wr.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ke(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});wr.range;const xr=ke(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());xr.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ke(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});xr.range;function Db(e,t,r,n,i,a){const o=[[rn,1,fr],[rn,5,5*fr],[rn,15,15*fr],[rn,30,30*fr],[a,1,Rt],[a,5,5*Rt],[a,15,15*Rt],[a,30,30*Rt],[i,1,hr],[i,3,3*hr],[i,6,6*hr],[i,12,12*hr],[n,1,br],[n,2,2*br],[r,1,Yd],[t,1,ag],[t,3,3*ag],[e,1,gc]];function s(c,u,d){const f=u<c;f&&([c,u]=[u,c]);const p=d&&typeof d.range=="function"?d:l(c,u,d),m=p?p.range(c,+u+1):[];return f?m.reverse():m}function l(c,u,d){const f=Math.abs(u-c)/d,p=Md(([,,v])=>v).right(o,f);if(p===o.length)return e.every(Pu(c/gc,u/gc,d));if(p===0)return zo.every(Math.max(Pu(c,u,d),1));const[m,g]=o[f/o[p-1][2]<o[p][2]/f?p-1:p];return m.every(g)}return[s,l]}const[rI,nI]=Db(xr,tf,js,$b,Qd,Xd),[iI,aI]=Db(wr,ef,Es,pa,Zd,Jd);function vc(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function yc(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Ei(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function oI(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,a=e.days,o=e.shortDays,s=e.months,l=e.shortMonths,c=ji(i),u=Pi(i),d=ji(a),f=Pi(a),p=ji(o),m=Pi(o),g=ji(s),v=Pi(s),b=ji(l),x=Pi(l),w={a:q,A:J,b:X,B:pe,c:null,d:dg,e:dg,f:AI,g:BI,G:FI,H:PI,I:OI,j:kI,L:Mb,m:CI,M:TI,p:ne,q:F,Q:pg,s:mg,S:RI,u:II,U:$I,V:DI,w:MI,W:NI,x:null,X:null,y:LI,Y:UI,Z:zI,"%":hg},_={a:V,A:ae,b:ee,B:rt,c:null,d:fg,e:fg,f:KI,g:r$,G:i$,H:WI,I:qI,j:HI,L:Lb,m:VI,M:GI,p:kr,q:de,Q:pg,s:mg,S:YI,u:JI,U:XI,V:ZI,w:QI,W:e$,x:null,X:null,y:t$,Y:n$,Z:a$,"%":hg},S={a:I,A:C,b:$,B:U,c:T,d:cg,e:cg,f:_I,g:lg,G:sg,H:ug,I:ug,j:yI,L:xI,m:vI,M:bI,p:A,q:gI,Q:EI,s:jI,S:wI,u:dI,U:fI,V:hI,w:uI,W:pI,x:L,X:M,y:lg,Y:sg,Z:mI,"%":SI};w.x=E(r,w),w.X=E(n,w),w.c=E(t,w),_.x=E(r,_),_.X=E(n,_),_.c=E(t,_);function E(N,G){return function(re){var R=[],We=-1,oe=0,Xe=N.length,qe,ft,gi;for(re instanceof Date||(re=new Date(+re));++We<Xe;)N.charCodeAt(We)===37&&(R.push(N.slice(oe,We)),(ft=og[qe=N.charAt(++We)])!=null?qe=N.charAt(++We):ft=qe==="e"?" ":"0",(gi=G[qe])&&(qe=gi(re,ft)),R.push(qe),oe=We+1);return R.push(N.slice(oe,We)),R.join("")}}function j(N,G){return function(re){var R=Ei(1900,void 0,1),We=k(R,N,re+="",0),oe,Xe;if(We!=re.length)return null;if("Q"in R)return new Date(R.Q);if("s"in R)return new Date(R.s*1e3+("L"in R?R.L:0));if(G&&!("Z"in R)&&(R.Z=0),"p"in R&&(R.H=R.H%12+R.p*12),R.m===void 0&&(R.m="q"in R?R.q:0),"V"in R){if(R.V<1||R.V>53)return null;"w"in R||(R.w=1),"Z"in R?(oe=yc(Ei(R.y,0,1)),Xe=oe.getUTCDay(),oe=Xe>4||Xe===0?qo.ceil(oe):qo(oe),oe=Ss.offset(oe,(R.V-1)*7),R.y=oe.getUTCFullYear(),R.m=oe.getUTCMonth(),R.d=oe.getUTCDate()+(R.w+6)%7):(oe=vc(Ei(R.y,0,1)),Xe=oe.getDay(),oe=Xe>4||Xe===0?Wo.ceil(oe):Wo(oe),oe=pa.offset(oe,(R.V-1)*7),R.y=oe.getFullYear(),R.m=oe.getMonth(),R.d=oe.getDate()+(R.w+6)%7)}else("W"in R||"U"in R)&&("w"in R||(R.w="u"in R?R.u%7:"W"in R?1:0),Xe="Z"in R?yc(Ei(R.y,0,1)).getUTCDay():vc(Ei(R.y,0,1)).getDay(),R.m=0,R.d="W"in R?(R.w+6)%7+R.W*7-(Xe+5)%7:R.w+R.U*7-(Xe+6)%7);return"Z"in R?(R.H+=R.Z/100|0,R.M+=R.Z%100,yc(R)):vc(R)}}function k(N,G,re,R){for(var We=0,oe=G.length,Xe=re.length,qe,ft;We<oe;){if(R>=Xe)return-1;if(qe=G.charCodeAt(We++),qe===37){if(qe=G.charAt(We++),ft=S[qe in og?G.charAt(We++):qe],!ft||(R=ft(N,re,R))<0)return-1}else if(qe!=re.charCodeAt(R++))return-1}return R}function A(N,G,re){var R=c.exec(G.slice(re));return R?(N.p=u.get(R[0].toLowerCase()),re+R[0].length):-1}function I(N,G,re){var R=p.exec(G.slice(re));return R?(N.w=m.get(R[0].toLowerCase()),re+R[0].length):-1}function C(N,G,re){var R=d.exec(G.slice(re));return R?(N.w=f.get(R[0].toLowerCase()),re+R[0].length):-1}function $(N,G,re){var R=b.exec(G.slice(re));return R?(N.m=x.get(R[0].toLowerCase()),re+R[0].length):-1}function U(N,G,re){var R=g.exec(G.slice(re));return R?(N.m=v.get(R[0].toLowerCase()),re+R[0].length):-1}function T(N,G,re){return k(N,t,G,re)}function L(N,G,re){return k(N,r,G,re)}function M(N,G,re){return k(N,n,G,re)}function q(N){return o[N.getDay()]}function J(N){return a[N.getDay()]}function X(N){return l[N.getMonth()]}function pe(N){return s[N.getMonth()]}function ne(N){return i[+(N.getHours()>=12)]}function F(N){return 1+~~(N.getMonth()/3)}function V(N){return o[N.getUTCDay()]}function ae(N){return a[N.getUTCDay()]}function ee(N){return l[N.getUTCMonth()]}function rt(N){return s[N.getUTCMonth()]}function kr(N){return i[+(N.getUTCHours()>=12)]}function de(N){return 1+~~(N.getUTCMonth()/3)}return{format:function(N){var G=E(N+="",w);return G.toString=function(){return N},G},parse:function(N){var G=j(N+="",!1);return G.toString=function(){return N},G},utcFormat:function(N){var G=E(N+="",_);return G.toString=function(){return N},G},utcParse:function(N){var G=j(N+="",!0);return G.toString=function(){return N},G}}}var og={"-":"",_:" ",0:"0"},Me=/^\s*\d+/,sI=/^%/,lI=/[\\^$*+?|[\]().{}]/g;function ie(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(t)+i:i)}function cI(e){return e.replace(lI,"\\$&")}function ji(e){return new RegExp("^(?:"+e.map(cI).join("|")+")","i")}function Pi(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function uI(e,t,r){var n=Me.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function dI(e,t,r){var n=Me.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function fI(e,t,r){var n=Me.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function hI(e,t,r){var n=Me.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function pI(e,t,r){var n=Me.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function sg(e,t,r){var n=Me.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function lg(e,t,r){var n=Me.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function mI(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function gI(e,t,r){var n=Me.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function vI(e,t,r){var n=Me.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function cg(e,t,r){var n=Me.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function yI(e,t,r){var n=Me.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function ug(e,t,r){var n=Me.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function bI(e,t,r){var n=Me.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function wI(e,t,r){var n=Me.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function xI(e,t,r){var n=Me.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function _I(e,t,r){var n=Me.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function SI(e,t,r){var n=sI.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function EI(e,t,r){var n=Me.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function jI(e,t,r){var n=Me.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function dg(e,t){return ie(e.getDate(),t,2)}function PI(e,t){return ie(e.getHours(),t,2)}function OI(e,t){return ie(e.getHours()%12||12,t,2)}function kI(e,t){return ie(1+pa.count(wr(e),e),t,3)}function Mb(e,t){return ie(e.getMilliseconds(),t,3)}function AI(e,t){return Mb(e,t)+"000"}function CI(e,t){return ie(e.getMonth()+1,t,2)}function TI(e,t){return ie(e.getMinutes(),t,2)}function RI(e,t){return ie(e.getSeconds(),t,2)}function II(e){var t=e.getDay();return t===0?7:t}function $I(e,t){return ie(Es.count(wr(e)-1,e),t,2)}function Nb(e){var t=e.getDay();return t>=4||t===0?Kn(e):Kn.ceil(e)}function DI(e,t){return e=Nb(e),ie(Kn.count(wr(e),e)+(wr(e).getDay()===4),t,2)}function MI(e){return e.getDay()}function NI(e,t){return ie(Wo.count(wr(e)-1,e),t,2)}function LI(e,t){return ie(e.getFullYear()%100,t,2)}function BI(e,t){return e=Nb(e),ie(e.getFullYear()%100,t,2)}function UI(e,t){return ie(e.getFullYear()%1e4,t,4)}function FI(e,t){var r=e.getDay();return e=r>=4||r===0?Kn(e):Kn.ceil(e),ie(e.getFullYear()%1e4,t,4)}function zI(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ie(t/60|0,"0",2)+ie(t%60,"0",2)}function fg(e,t){return ie(e.getUTCDate(),t,2)}function WI(e,t){return ie(e.getUTCHours(),t,2)}function qI(e,t){return ie(e.getUTCHours()%12||12,t,2)}function HI(e,t){return ie(1+Ss.count(xr(e),e),t,3)}function Lb(e,t){return ie(e.getUTCMilliseconds(),t,3)}function KI(e,t){return Lb(e,t)+"000"}function VI(e,t){return ie(e.getUTCMonth()+1,t,2)}function GI(e,t){return ie(e.getUTCMinutes(),t,2)}function YI(e,t){return ie(e.getUTCSeconds(),t,2)}function JI(e){var t=e.getUTCDay();return t===0?7:t}function XI(e,t){return ie(js.count(xr(e)-1,e),t,2)}function Bb(e){var t=e.getUTCDay();return t>=4||t===0?Vn(e):Vn.ceil(e)}function ZI(e,t){return e=Bb(e),ie(Vn.count(xr(e),e)+(xr(e).getUTCDay()===4),t,2)}function QI(e){return e.getUTCDay()}function e$(e,t){return ie(qo.count(xr(e)-1,e),t,2)}function t$(e,t){return ie(e.getUTCFullYear()%100,t,2)}function r$(e,t){return e=Bb(e),ie(e.getUTCFullYear()%100,t,2)}function n$(e,t){return ie(e.getUTCFullYear()%1e4,t,4)}function i$(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Vn(e):Vn.ceil(e),ie(e.getUTCFullYear()%1e4,t,4)}function a$(){return"+0000"}function hg(){return"%"}function pg(e){return+e}function mg(e){return Math.floor(+e/1e3)}var $n,Ub,Fb;o$({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function o$(e){return $n=oI(e),Ub=$n.format,$n.parse,Fb=$n.utcFormat,$n.utcParse,$n}function s$(e){return new Date(e)}function l$(e){return e instanceof Date?+e:+new Date(+e)}function rf(e,t,r,n,i,a,o,s,l,c){var u=zd(),d=u.invert,f=u.domain,p=c(".%L"),m=c(":%S"),g=c("%I:%M"),v=c("%I %p"),b=c("%a %d"),x=c("%b %d"),w=c("%B"),_=c("%Y");function S(E){return(l(E)<E?p:s(E)<E?m:o(E)<E?g:a(E)<E?v:n(E)<E?i(E)<E?b:x:r(E)<E?w:_)(E)}return u.invert=function(E){return new Date(d(E))},u.domain=function(E){return arguments.length?f(Array.from(E,l$)):f().map(s$)},u.ticks=function(E){var j=f();return e(j[0],j[j.length-1],E??10)},u.tickFormat=function(E,j){return j==null?S:c(j)},u.nice=function(E){var j=f();return(!E||typeof E.range!="function")&&(E=t(j[0],j[j.length-1],E??10)),E?f(Ob(j,E)):u},u.copy=function(){return ha(u,rf(e,t,r,n,i,a,o,s,l,c))},u}function c$(){return Bt.apply(rf(iI,aI,wr,ef,Es,pa,Zd,Jd,rn,Ub).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function u$(){return Bt.apply(rf(rI,nI,xr,tf,js,Ss,Qd,Xd,rn,Fb).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Ps(){var e=0,t=1,r,n,i,a,o=et,s=!1,l;function c(d){return d==null||isNaN(d=+d)?l:o(i===0?.5:(d=(a(d)-r)*i,s?Math.max(0,Math.min(1,d)):d))}c.domain=function(d){return arguments.length?([e,t]=d,r=a(e=+e),n=a(t=+t),i=r===n?0:1/(n-r),c):[e,t]},c.clamp=function(d){return arguments.length?(s=!!d,c):s},c.interpolator=function(d){return arguments.length?(o=d,c):o};function u(d){return function(f){var p,m;return arguments.length?([p,m]=f,o=d(p,m),c):[o(0),o(1)]}}return c.range=u(oi),c.rangeRound=u(Fd),c.unknown=function(d){return arguments.length?(l=d,c):l},function(d){return a=d,r=d(e),n=d(t),i=r===n?0:1/(n-r),c}}function zr(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function zb(){var e=Fr(Ps()(et));return e.copy=function(){return zr(e,zb())},Er.apply(e,arguments)}function Wb(){var e=Hd(Ps()).domain([1,10]);return e.copy=function(){return zr(e,Wb()).base(e.base())},Er.apply(e,arguments)}function qb(){var e=Kd(Ps());return e.copy=function(){return zr(e,qb()).constant(e.constant())},Er.apply(e,arguments)}function nf(){var e=Vd(Ps());return e.copy=function(){return zr(e,nf()).exponent(e.exponent())},Er.apply(e,arguments)}function d$(){return nf.apply(null,arguments).exponent(.5)}function Hb(){var e=[],t=et;function r(n){if(n!=null&&!isNaN(n=+n))return t((da(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Mr),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>J2(e,a/n))},r.copy=function(){return Hb(t).domain(e)},Er.apply(r,arguments)}function Os(){var e=0,t=.5,r=1,n=1,i,a,o,s,l,c=et,u,d=!1,f;function p(g){return isNaN(g=+g)?f:(g=.5+((g=+u(g))-a)*(n*g<n*a?s:l),c(d?Math.max(0,Math.min(1,g)):g))}p.domain=function(g){return arguments.length?([e,t,r]=g,i=u(e=+e),a=u(t=+t),o=u(r=+r),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),n=a<i?-1:1,p):[e,t,r]},p.clamp=function(g){return arguments.length?(d=!!g,p):d},p.interpolator=function(g){return arguments.length?(c=g,p):c};function m(g){return function(v){var b,x,w;return arguments.length?([b,x,w]=v,c=SR(g,[b,x,w]),p):[c(0),c(.5),c(1)]}}return p.range=m(oi),p.rangeRound=m(Fd),p.unknown=function(g){return arguments.length?(f=g,p):f},function(g){return u=g,i=g(e),a=g(t),o=g(r),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),n=a<i?-1:1,p}}function Kb(){var e=Fr(Os()(et));return e.copy=function(){return zr(e,Kb())},Er.apply(e,arguments)}function Vb(){var e=Hd(Os()).domain([.1,1,10]);return e.copy=function(){return zr(e,Vb()).base(e.base())},Er.apply(e,arguments)}function Gb(){var e=Kd(Os());return e.copy=function(){return zr(e,Gb()).constant(e.constant())},Er.apply(e,arguments)}function af(){var e=Vd(Os());return e.copy=function(){return zr(e,af()).exponent(e.exponent())},Er.apply(e,arguments)}function f$(){return af.apply(null,arguments).exponent(.5)}const Bi=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Ld,scaleDiverging:Kb,scaleDivergingLog:Vb,scaleDivergingPow:af,scaleDivergingSqrt:f$,scaleDivergingSymlog:Gb,scaleIdentity:Pb,scaleImplicit:Ou,scaleLinear:jb,scaleLog:kb,scaleOrdinal:Nd,scalePoint:Q2,scalePow:Gd,scaleQuantile:Tb,scaleQuantize:Rb,scaleRadial:Cb,scaleSequential:zb,scaleSequentialLog:Wb,scaleSequentialPow:nf,scaleSequentialQuantile:Hb,scaleSequentialSqrt:d$,scaleSequentialSymlog:qb,scaleSqrt:KR,scaleSymlog:Ab,scaleThreshold:Ib,scaleTime:c$,scaleUtc:u$,tickFormat:Eb},Symbol.toStringTag,{value:"Module"}));var Wr=e=>e.chartData,h$=O([Wr],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),of=(e,t,r,n)=>n?h$(e):Wr(e);function Gn(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(_t(t)&&_t(r))return!0}return!1}function gg(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function p$(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,i,a;if(_t(r))i=r;else if(typeof r=="function")return;if(_t(n))a=n;else if(typeof n=="function")return;var o=[i,a];if(Gn(o))return o}}function m$(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(Gn(n))return gg(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,o,s;if(i==="auto")t!=null&&(o=Math.min(...t));else if(z(i))o=i;else if(typeof i=="function")try{t!=null&&(o=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&lm.test(i)){var l=lm.exec(i);if(l==null||t==null)o=void 0;else{var c=+l[1];o=t[0]-c}}else o=t==null?void 0:t[0];if(a==="auto")t!=null&&(s=Math.max(...t));else if(z(a))s=a;else if(typeof a=="function")try{t!=null&&(s=a(t==null?void 0:t[1]))}catch{}else if(typeof a=="string"&&cm.test(a)){var u=cm.exec(a);if(u==null||t==null)s=void 0;else{var d=+u[1];s=t[1]+d}}else s=t==null?void 0:t[1];var f=[o,s];if(Gn(f))return t==null?f:gg(f,t,r)}}}var si=1e9,g$={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},lf,ye=!0,Dt="[DecimalError] ",cn=Dt+"Invalid argument: ",sf=Dt+"Exponent out of range: ",li=Math.floor,Zr=Math.pow,v$=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,yt,Re=1e7,me=7,Yb=9007199254740991,Ho=li(Yb/me),B={};B.absoluteValue=B.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};B.comparedTo=B.cmp=function(e){var t,r,n,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(n=a.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};B.decimalPlaces=B.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*me;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};B.dividedBy=B.div=function(e){return gr(this,new this.constructor(e))};B.dividedToIntegerBy=B.idiv=function(e){var t=this,r=t.constructor;return ue(gr(t,new r(e),0,1),r.precision)};B.equals=B.eq=function(e){return!this.cmp(e)};B.exponent=function(){return Ee(this)};B.greaterThan=B.gt=function(e){return this.cmp(e)>0};B.greaterThanOrEqualTo=B.gte=function(e){return this.cmp(e)>=0};B.isInteger=B.isint=function(){return this.e>this.d.length-2};B.isNegative=B.isneg=function(){return this.s<0};B.isPositive=B.ispos=function(){return this.s>0};B.isZero=function(){return this.s===0};B.lessThan=B.lt=function(e){return this.cmp(e)<0};B.lessThanOrEqualTo=B.lte=function(e){return this.cmp(e)<1};B.logarithm=B.log=function(e){var t,r=this,n=r.constructor,i=n.precision,a=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(yt))throw Error(Dt+"NaN");if(r.s<1)throw Error(Dt+(r.s?"NaN":"-Infinity"));return r.eq(yt)?new n(0):(ye=!1,t=gr(ta(r,a),ta(e,a),a),ye=!0,ue(t,i))};B.minus=B.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Zb(t,e):Jb(t,(e.s=-e.s,e))};B.modulo=B.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(Dt+"NaN");return r.s?(ye=!1,t=gr(r,e,0,1).times(e),ye=!0,r.minus(t)):ue(new n(r),i)};B.naturalExponential=B.exp=function(){return Xb(this)};B.naturalLogarithm=B.ln=function(){return ta(this)};B.negated=B.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};B.plus=B.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Jb(t,e):Zb(t,(e.s=-e.s,e))};B.precision=B.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(cn+e);if(t=Ee(i)+1,n=i.d.length-1,r=n*me+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};B.squareRoot=B.sqrt=function(){var e,t,r,n,i,a,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(Dt+"NaN")}for(e=Ee(s),ye=!1,i=Math.sqrt(+s),i==0||i==1/0?(t=er(s.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=li((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new l(t)):n=new l(i.toString()),r=l.precision,i=o=r+3;;)if(a=n,n=a.plus(gr(s,a,o+2)).times(.5),er(a.d).slice(0,o)===(t=er(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t=="4999"){if(ue(a,r+1,0),a.times(a).eq(s)){n=a;break}}else if(t!="9999")break;o+=4}return ye=!0,ue(n,r)};B.times=B.mul=function(e){var t,r,n,i,a,o,s,l,c,u=this,d=u.constructor,f=u.d,p=(e=new d(e)).d;if(!u.s||!e.s)return new d(0);for(e.s*=u.s,r=u.e+e.e,l=f.length,c=p.length,l<c&&(a=f,f=p,p=a,o=l,l=c,c=o),a=[],o=l+c,n=o;n--;)a.push(0);for(n=c;--n>=0;){for(t=0,i=l+n;i>n;)s=a[i]+p[n]*f[i-n-1]+t,a[i--]=s%Re|0,t=s/Re|0;a[i]=(a[i]+t)%Re|0}for(;!a[--o];)a.pop();return t?++r:a.shift(),e.d=a,e.e=r,ye?ue(e,d.precision):e};B.toDecimalPlaces=B.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(nr(e,0,si),t===void 0?t=n.rounding:nr(t,0,8),ue(r,e+Ee(r)+1,t))};B.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=hn(n,!0):(nr(e,0,si),t===void 0?t=i.rounding:nr(t,0,8),n=ue(new i(n),e+1,t),r=hn(n,!0,e+1)),r};B.toFixed=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?hn(i):(nr(e,0,si),t===void 0?t=a.rounding:nr(t,0,8),n=ue(new a(i),e+Ee(i)+1,t),r=hn(n.abs(),!1,e+Ee(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};B.toInteger=B.toint=function(){var e=this,t=e.constructor;return ue(new t(e),Ee(e)+1,t.rounding)};B.toNumber=function(){return+this};B.toPower=B.pow=function(e){var t,r,n,i,a,o,s=this,l=s.constructor,c=12,u=+(e=new l(e));if(!e.s)return new l(yt);if(s=new l(s),!s.s){if(e.s<1)throw Error(Dt+"Infinity");return s}if(s.eq(yt))return s;if(n=l.precision,e.eq(yt))return ue(s,n);if(t=e.e,r=e.d.length-1,o=t>=r,a=s.s,o){if((r=u<0?-u:u)<=Yb){for(i=new l(yt),t=Math.ceil(n/me+4),ye=!1;r%2&&(i=i.times(s),yg(i.d,t)),r=li(r/2),r!==0;)s=s.times(s),yg(s.d,t);return ye=!0,e.s<0?new l(yt).div(i):ue(i,n)}}else if(a<0)throw Error(Dt+"NaN");return a=a<0&&e.d[Math.max(t,r)]&1?-1:1,s.s=1,ye=!1,i=e.times(ta(s,n+c)),ye=!0,i=Xb(i),i.s=a,i};B.toPrecision=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?(r=Ee(i),n=hn(i,r<=a.toExpNeg||r>=a.toExpPos)):(nr(e,1,si),t===void 0?t=a.rounding:nr(t,0,8),i=ue(new a(i),e,t),r=Ee(i),n=hn(i,e<=r||r<=a.toExpNeg,e)),n};B.toSignificantDigits=B.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(nr(e,1,si),t===void 0?t=n.rounding:nr(t,0,8)),ue(new n(r),e,t)};B.toString=B.valueOf=B.val=B.toJSON=B[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Ee(e),r=e.constructor;return hn(e,t<=r.toExpNeg||t>=r.toExpPos)};function Jb(e,t){var r,n,i,a,o,s,l,c,u=e.constructor,d=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),ye?ue(t,d):t;if(l=e.d,c=t.d,o=e.e,i=t.e,l=l.slice(),a=o-i,a){for(a<0?(n=l,a=-a,s=c.length):(n=c,i=o,s=l.length),o=Math.ceil(d/me),s=o>s?o+1:s+1,a>s&&(a=s,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(s=l.length,a=c.length,s-a<0&&(a=s,n=c,c=l,l=n),r=0;a;)r=(l[--a]=l[a]+c[a]+r)/Re|0,l[a]%=Re;for(r&&(l.unshift(r),++i),s=l.length;l[--s]==0;)l.pop();return t.d=l,t.e=i,ye?ue(t,d):t}function nr(e,t,r){if(e!==~~e||e<t||e>r)throw Error(cn+e)}function er(e){var t,r,n,i=e.length-1,a="",o=e[0];if(i>0){for(a+=o,t=1;t<i;t++)n=e[t]+"",r=me-n.length,r&&(a+=Rr(r)),a+=n;o=e[t],n=o+"",r=me-n.length,r&&(a+=Rr(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var gr=(function(){function e(n,i){var a,o=0,s=n.length;for(n=n.slice();s--;)a=n[s]*i+o,n[s]=a%Re|0,o=a/Re|0;return o&&n.unshift(o),n}function t(n,i,a,o){var s,l;if(a!=o)l=a>o?1:-1;else for(s=l=0;s<a;s++)if(n[s]!=i[s]){l=n[s]>i[s]?1:-1;break}return l}function r(n,i,a){for(var o=0;a--;)n[a]-=o,o=n[a]<i[a]?1:0,n[a]=o*Re+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,o){var s,l,c,u,d,f,p,m,g,v,b,x,w,_,S,E,j,k,A=n.constructor,I=n.s==i.s?1:-1,C=n.d,$=i.d;if(!n.s)return new A(n);if(!i.s)throw Error(Dt+"Division by zero");for(l=n.e-i.e,j=$.length,S=C.length,p=new A(I),m=p.d=[],c=0;$[c]==(C[c]||0);)++c;if($[c]>(C[c]||0)&&--l,a==null?x=a=A.precision:o?x=a+(Ee(n)-Ee(i))+1:x=a,x<0)return new A(0);if(x=x/me+2|0,c=0,j==1)for(u=0,$=$[0],x++;(c<S||u)&&x--;c++)w=u*Re+(C[c]||0),m[c]=w/$|0,u=w%$|0;else{for(u=Re/($[0]+1)|0,u>1&&($=e($,u),C=e(C,u),j=$.length,S=C.length),_=j,g=C.slice(0,j),v=g.length;v<j;)g[v++]=0;k=$.slice(),k.unshift(0),E=$[0],$[1]>=Re/2&&++E;do u=0,s=t($,g,j,v),s<0?(b=g[0],j!=v&&(b=b*Re+(g[1]||0)),u=b/E|0,u>1?(u>=Re&&(u=Re-1),d=e($,u),f=d.length,v=g.length,s=t(d,g,f,v),s==1&&(u--,r(d,j<f?k:$,f))):(u==0&&(s=u=1),d=$.slice()),f=d.length,f<v&&d.unshift(0),r(g,d,v),s==-1&&(v=g.length,s=t($,g,j,v),s<1&&(u++,r(g,j<v?k:$,v))),v=g.length):s===0&&(u++,g=[0]),m[c++]=u,s&&g[0]?g[v++]=C[_]||0:(g=[C[_]],v=1);while((_++<S||g[0]!==void 0)&&x--)}return m[0]||m.shift(),p.e=l,ue(p,o?a+Ee(p)+1:a)}})();function Xb(e,t){var r,n,i,a,o,s,l=0,c=0,u=e.constructor,d=u.precision;if(Ee(e)>16)throw Error(sf+Ee(e));if(!e.s)return new u(yt);for(ye=!1,s=d,o=new u(.03125);e.abs().gte(.1);)e=e.times(o),c+=5;for(n=Math.log(Zr(2,c))/Math.LN10*2+5|0,s+=n,r=i=a=new u(yt),u.precision=s;;){if(i=ue(i.times(e),s),r=r.times(++l),o=a.plus(gr(i,r,s)),er(o.d).slice(0,s)===er(a.d).slice(0,s)){for(;c--;)a=ue(a.times(a),s);return u.precision=d,t==null?(ye=!0,ue(a,d)):a}a=o}}function Ee(e){for(var t=e.e*me,r=e.d[0];r>=10;r/=10)t++;return t}function bc(e,t,r){if(t>e.LN10.sd())throw ye=!0,r&&(e.precision=r),Error(Dt+"LN10 precision limit exceeded");return ue(new e(e.LN10),t)}function Rr(e){for(var t="";e--;)t+="0";return t}function ta(e,t){var r,n,i,a,o,s,l,c,u,d=1,f=10,p=e,m=p.d,g=p.constructor,v=g.precision;if(p.s<1)throw Error(Dt+(p.s?"NaN":"-Infinity"));if(p.eq(yt))return new g(0);if(t==null?(ye=!1,c=v):c=t,p.eq(10))return t==null&&(ye=!0),bc(g,c);if(c+=f,g.precision=c,r=er(m),n=r.charAt(0),a=Ee(p),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=er(p.d),n=r.charAt(0),d++;a=Ee(p),n>1?(p=new g("0."+r),a++):p=new g(n+"."+r.slice(1))}else return l=bc(g,c+2,v).times(a+""),p=ta(new g(n+"."+r.slice(1)),c-f).plus(l),g.precision=v,t==null?(ye=!0,ue(p,v)):p;for(s=o=p=gr(p.minus(yt),p.plus(yt),c),u=ue(p.times(p),c),i=3;;){if(o=ue(o.times(u),c),l=s.plus(gr(o,new g(i),c)),er(l.d).slice(0,c)===er(s.d).slice(0,c))return s=s.times(2),a!==0&&(s=s.plus(bc(g,c+2,v).times(a+""))),s=gr(s,new g(d),c),g.precision=v,t==null?(ye=!0,ue(s,v)):s;s=l,i+=2}}function vg(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=li(r/me),e.d=[],n=(r+1)%me,r<0&&(n+=me),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=me;n<i;)e.d.push(+t.slice(n,n+=me));t=t.slice(n),n=me-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),ye&&(e.e>Ho||e.e<-Ho))throw Error(sf+r)}else e.s=0,e.e=0,e.d=[0];return e}function ue(e,t,r){var n,i,a,o,s,l,c,u,d=e.d;for(o=1,a=d[0];a>=10;a/=10)o++;if(n=t-o,n<0)n+=me,i=t,c=d[u=0];else{if(u=Math.ceil((n+1)/me),a=d.length,u>=a)return e;for(c=a=d[u],o=1;a>=10;a/=10)o++;n%=me,i=n-me+o}if(r!==void 0&&(a=Zr(10,o-i-1),s=c/a%10|0,l=t<0||d[u+1]!==void 0||c%a,l=r<4?(s||l)&&(r==0||r==(e.s<0?3:2)):s>5||s==5&&(r==4||l||r==6&&(n>0?i>0?c/Zr(10,o-i):0:d[u-1])%10&1||r==(e.s<0?8:7))),t<1||!d[0])return l?(a=Ee(e),d.length=1,t=t-a-1,d[0]=Zr(10,(me-t%me)%me),e.e=li(-t/me)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(n==0?(d.length=u,a=1,u--):(d.length=u+1,a=Zr(10,me-n),d[u]=i>0?(c/Zr(10,o-i)%Zr(10,i)|0)*a:0),l)for(;;)if(u==0){(d[0]+=a)==Re&&(d[0]=1,++e.e);break}else{if(d[u]+=a,d[u]!=Re)break;d[u--]=0,a=1}for(n=d.length;d[--n]===0;)d.pop();if(ye&&(e.e>Ho||e.e<-Ho))throw Error(sf+Ee(e));return e}function Zb(e,t){var r,n,i,a,o,s,l,c,u,d,f=e.constructor,p=f.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new f(e),ye?ue(t,p):t;if(l=e.d,d=t.d,n=t.e,c=e.e,l=l.slice(),o=c-n,o){for(u=o<0,u?(r=l,o=-o,s=d.length):(r=d,n=c,s=l.length),i=Math.max(Math.ceil(p/me),s)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=l.length,s=d.length,u=i<s,u&&(s=i),i=0;i<s;i++)if(l[i]!=d[i]){u=l[i]<d[i];break}o=0}for(u&&(r=l,l=d,d=r,t.s=-t.s),s=l.length,i=d.length-s;i>0;--i)l[s++]=0;for(i=d.length;i>o;){if(l[--i]<d[i]){for(a=i;a&&l[--a]===0;)l[a]=Re-1;--l[a],l[i]+=Re}l[i]-=d[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(t.d=l,t.e=n,ye?ue(t,p):t):new f(0)}function hn(e,t,r){var n,i=Ee(e),a=er(e.d),o=a.length;return t?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+Rr(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Rr(-i-1)+a,r&&(n=r-o)>0&&(a+=Rr(n))):i>=o?(a+=Rr(i+1-o),r&&(n=r-i-1)>0&&(a=a+"."+Rr(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(a+="."),a+=Rr(n))),e.s<0?"-"+a:a}function yg(e,t){if(e.length>t)return e.length=t,!0}function Qb(e){var t,r,n;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(cn+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return vg(o,a.toString())}else if(typeof a!="string")throw Error(cn+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,v$.test(a))vg(o,a);else throw Error(cn+a)}if(i.prototype=B,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=Qb,i.config=i.set=y$,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function y$(e){if(!e||typeof e!="object")throw Error(Dt+"Object expected");var t,r,n,i=["precision",1,si,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(li(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(cn+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(cn+r+": "+n);return this}var lf=Qb(g$);yt=new lf(1);const se=lf;var b$=e=>e,ew={},tw=e=>e===ew,bg=e=>function t(){return arguments.length===0||arguments.length===1&&tw(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},rw=(e,t)=>e===1?t:bg(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var a=n.filter(o=>o!==ew).length;return a>=e?t(...n):rw(e-a,bg(function(){for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];var c=n.map(u=>tw(u)?s.shift():u);return t(...c,...s)}))}),ks=e=>rw(e.length,e),Tu=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},w$=ks((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),x$=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return b$;var i=r.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce((s,l)=>l(s),a(...arguments))}},Ru=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),nw=e=>{var t=null,r=null;return function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return t&&i.every((o,s)=>{var l;return o===((l=t)===null||l===void 0?void 0:l[s])})||(t=i,r=e(...i)),r}};function iw(e){var t;return e===0?t=1:t=Math.floor(new se(e).abs().log(10).toNumber())+1,t}function aw(e,t,r){for(var n=new se(e),i=0,a=[];n.lt(t)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}ks((e,t,r)=>{var n=+e,i=+t;return n+r*(i-n)});ks((e,t,r)=>{var n=t-+e;return n=n||1/0,(r-e)/n});ks((e,t,r)=>{var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});var ow=e=>{var[t,r]=e,[n,i]=[t,r];return t>r&&([n,i]=[r,t]),[n,i]},sw=(e,t,r)=>{if(e.lte(0))return new se(0);var n=iw(e.toNumber()),i=new se(10).pow(n),a=e.div(i),o=n!==1?.05:.1,s=new se(Math.ceil(a.div(o).toNumber())).add(r).mul(o),l=s.mul(i);return t?new se(l.toNumber()):new se(Math.ceil(l.toNumber()))},_$=(e,t,r)=>{var n=new se(1),i=new se(e);if(!i.isint()&&r){var a=Math.abs(e);a<1?(n=new se(10).pow(iw(e)-1),i=new se(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new se(Math.floor(e)))}else e===0?i=new se(Math.floor((t-1)/2)):r||(i=new se(Math.floor(e)));var o=Math.floor((t-1)/2),s=x$(w$(l=>i.add(new se(l-o).mul(n)).toNumber()),Tu);return s(0,t)},lw=function(t,r,n,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new se(0),tickMin:new se(0),tickMax:new se(0)};var o=sw(new se(r).sub(t).div(n-1),i,a),s;t<=0&&r>=0?s=new se(0):(s=new se(t).add(r).div(2),s=s.sub(new se(s).mod(o)));var l=Math.ceil(s.sub(t).div(o).toNumber()),c=Math.ceil(new se(r).sub(s).div(o).toNumber()),u=l+c+1;return u>n?lw(t,r,n,i,a+1):(u<n&&(c=r>0?c+(n-u):c,l=r>0?l:l+(n-u)),{step:o,tickMin:s.sub(new se(l).mul(o)),tickMax:s.add(new se(c).mul(o))})};function S$(e){var[t,r]=e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(n,2),[o,s]=ow([t,r]);if(o===-1/0||s===1/0){var l=s===1/0?[o,...Tu(0,n-1).map(()=>1/0)]:[...Tu(0,n-1).map(()=>-1/0),s];return t>r?Ru(l):l}if(o===s)return _$(o,n,i);var{step:c,tickMin:u,tickMax:d}=lw(o,s,a,i,0),f=aw(u,d.add(new se(.1).mul(c)),c);return t>r?Ru(f):f}function E$(e,t){var[r,n]=e,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,o]=ow([r,n]);if(a===-1/0||o===1/0)return[r,n];if(a===o)return[a];var s=Math.max(t,2),l=sw(new se(o).sub(a).div(s-1),i,0),c=[...aw(new se(a),new se(o),l),o];return i===!1&&(c=c.map(u=>Math.round(u))),r>n?Ru(c):c}var j$=nw(S$),P$=nw(E$),cw=e=>e.rootProps.maxBarSize,O$=e=>e.rootProps.barGap,uw=e=>e.rootProps.barCategoryGap,k$=e=>e.rootProps.barSize,As=e=>e.rootProps.stackOffset,cf=e=>e.options.chartName,uf=e=>e.rootProps.syncId,dw=e=>e.rootProps.syncMethod,df=e=>e.options.eventEmitter,ur={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},vt={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Cs=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},A$={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:ur.angleAxisId,includeHidden:!1,name:void 0,reversed:ur.reversed,scale:ur.scale,tick:ur.tick,tickCount:void 0,ticks:void 0,type:ur.type,unit:void 0},C$={allowDataOverflow:vt.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:vt.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:vt.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:vt.scale,tick:vt.tick,tickCount:vt.tickCount,ticks:void 0,type:vt.type,unit:void 0},T$={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:ur.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ur.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ur.scale,tick:ur.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},R$={allowDataOverflow:vt.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:vt.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:vt.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:vt.scale,tick:vt.tick,tickCount:vt.tickCount,ticks:void 0,type:"category",unit:void 0},ff=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?T$:A$,hf=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?R$:C$,Ts=e=>e.polarOptions,pf=O([_r,Sr,De],NC),fw=O([Ts,pf],(e,t)=>{if(e!=null)return Ht(e.innerRadius,t,0)}),hw=O([Ts,pf],(e,t)=>{if(e!=null)return Ht(e.outerRadius,t,t*.8)}),I$=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},pw=O([Ts],I$);O([ff,pw],Cs);var mw=O([pf,fw,hw],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});O([hf,mw],Cs);var gw=O([le,Ts,fw,hw,_r,Sr],(e,t,r,n,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:o,cy:s,startAngle:l,endAngle:c}=t;return{cx:Ht(o,i,i/2),cy:Ht(s,a,a/2),innerRadius:r,outerRadius:n,startAngle:l,endAngle:c,clockWise:!1}}}),je=(e,t)=>t,Rs=(e,t,r)=>r;function mf(e){return e==null?void 0:e.id}var Ae=e=>{var t=le(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},ci=e=>e.tooltip.settings.axisId,Ne=e=>{var t=Ae(e),r=ci(e);return ma(e,t,r)},vw=O([Ne],e=>e==null?void 0:e.dataKey);function yw(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=r,o=new Map;return e.forEach(s=>{var l,c=(l=s.data)!==null&&l!==void 0?l:n;if(!(c==null||c.length===0)){var u=mf(s);c.forEach((d,f)=>{var p=a==null||i?f:String(tt(d,a,null)),m=tt(d,s.dataKey,0),g;o.has(p)?g=o.get(p):g={},Object.assign(g,{[u]:m}),o.set(p,g)})}}),Array.from(o.values())}function Is(e){return e.stackId!=null&&e.dataKey!=null}function wg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ko(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wg(Object(r),!0).forEach(function(n){$$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $$(e,t,r){return(t=D$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D$(e){var t=M$(e,"string");return typeof t=="symbol"?t:t+""}function M$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Iu=[0,"auto"],mt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},bw=(e,t)=>e.cartesianAxis.xAxis[t],jr=(e,t)=>{var r=bw(e,t);return r??mt},gt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Iu,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:ua},ww=(e,t)=>e.cartesianAxis.yAxis[t],Pr=(e,t)=>{var r=ww(e,t);return r??gt},N$={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},gf=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??N$},dt=(e,t,r)=>{switch(t){case"xAxis":return jr(e,r);case"yAxis":return Pr(e,r);case"zAxis":return gf(e,r);case"angleAxis":return ff(e,r);case"radiusAxis":return hf(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},L$=(e,t,r)=>{switch(t){case"xAxis":return jr(e,r);case"yAxis":return Pr(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},ma=(e,t,r)=>{switch(t){case"xAxis":return jr(e,r);case"yAxis":return Pr(e,r);case"angleAxis":return ff(e,r);case"radiusAxis":return hf(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},xw=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function _w(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var vf=e=>e.graphicalItems.cartesianItems,B$=O([je,Rs],_w),Sw=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),ga=O([vf,dt,B$],Sw),Ew=O([ga],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Is)),jw=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),Pw=O([ga],jw),Ow=e=>e.map(t=>t.data).filter(Boolean).flat(1),U$=O([ga],Ow),kw=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=t;return e.length>0?e:r.slice(n,i+1)},yf=O([U$,of],kw),Aw=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:tt(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(i=>({value:tt(i,n)}))):e.map(n=>({value:n})),$s=O([yf,dt,ga],Aw);function Cw(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function wn(e){return e.filter(t=>rr(t)||t instanceof Date).map(Number).filter(t=>wt(t)===!1)}function F$(e,t,r){return!r||typeof t!="number"||wt(t)?[]:r.length?wn(r.flatMap(n=>{var i=tt(e,n.dataKey),a,o;if(Array.isArray(i)?[a,o]=i:a=o=i,!(!_t(a)||!_t(o)))return[t-a,t+o]})):[]}var z$=O([Ew,of,Ne],yw),Tw=(e,t,r)=>{var n={},i=t.reduce((a,o)=>(o.stackId==null||(a[o.stackId]==null&&(a[o.stackId]=[]),a[o.stackId].push(o)),a),n);return Object.fromEntries(Object.entries(i).map(a=>{var[o,s]=a,l=s.map(mf);return[o,{stackedData:QC(e,l,r),graphicalItems:s}]}))},$u=O([z$,Ew,As],Tw),Rw=(e,t,r)=>{var{dataStartIndex:n,dataEndIndex:i}=t;if(r!=="zAxis"){var a=iT(e,n,i);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},W$=O([$u,Wr,je],Rw),Iw=(e,t,r,n,i)=>r.length>0?e.flatMap(a=>r.flatMap(o=>{var s,l,c=(s=n[o.id])===null||s===void 0?void 0:s.filter(d=>Cw(i,d)),u=tt(a,(l=t.dataKey)!==null&&l!==void 0?l:o.dataKey);return{value:u,errorDomain:F$(a,u,c)}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(a=>({value:tt(a,t.dataKey),errorDomain:[]})):e.map(a=>({value:a,errorDomain:[]})),Ds=e=>e.errorBars,$w=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>Cw(r,n));O([Pw,Ds,je],$w);var q$=O([yf,dt,Pw,Ds,je],Iw);function H$(e){var{value:t}=e;if(rr(t)||t instanceof Date)return t}var xg=e=>{var t=e.flatMap(n=>[n.value,n.errorDomain]).flat(1),r=wn(t);if(r.length!==0)return[Math.min(...r),Math.max(...r)]},K$=(e,t,r)=>{var n=e.map(H$).filter(i=>i!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&Ky(n))?pb(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},bf=e=>{var t;if(e==null||!("domain"in e))return Iu;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=wn(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:Iu},Vo=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var a=i.flat(),o=Math.min(...a),s=Math.max(...a);return[o,s]}},Dw=e=>e.referenceElements.dots,ui=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),V$=O([Dw,je,Rs],ui),Mw=e=>e.referenceElements.areas,G$=O([Mw,je,Rs],ui),Nw=e=>e.referenceElements.lines,Y$=O([Nw,je,Rs],ui),Lw=(e,t)=>{var r=wn(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},J$=O(V$,je,Lw),Bw=(e,t)=>{var r=wn(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},X$=O([G$,je],Bw),Uw=(e,t)=>{var r=wn(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Z$=O(Y$,je,Uw),Q$=O(J$,Z$,X$,(e,t,r)=>Vo(e,r,t)),eD=O([dt],bf),Fw=(e,t,r,n,i,a,o)=>{var s=p$(t,e.allowDataOverflow);if(s!=null)return s;var l=a==="vertical"&&o==="xAxis"||a==="horizontal"&&o==="yAxis",c=l?Vo(r,i,xg(n)):Vo(i,xg(n));return m$(t,c,e.allowDataOverflow)},tD=O([dt,eD,W$,q$,Q$,le,je],Fw),rD=[0,1],zw=(e,t,r,n,i,a,o)=>{if(!((e==null||r==null||r.length===0)&&o===void 0)){var{dataKey:s,type:l}=e,c=vn(t,a);return c&&s==null?pb(0,r.length):l==="category"?K$(n,e,c):i==="expand"?rD:o}},wf=O([dt,le,yf,$s,As,je,tD],zw),Ww=(e,t,r,n,i)=>{if(e!=null){var{scale:a,type:o}=e;if(a==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":o==="category"?"band":"linear";if(typeof a=="string"){var s="scale".concat(sa(a));return s in Bi?s:"point"}}},va=O([dt,le,xw,cf,je],Ww);function nD(e){if(e!=null){if(e in Bi)return Bi[e]();var t="scale".concat(sa(e));if(t in Bi)return Bi[t]()}}function xf(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var i=nD(t);if(i!=null){var a=i.domain(r).range(n);return GC(a),a}}}var qw=(e,t,r)=>{var n=bf(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Gn(e))return j$(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Gn(e))return P$(e,t.tickCount,t.allowDecimals)}},_f=O([wf,ma,va],qw),Hw=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&Gn(t)&&Array.isArray(r)&&r.length>0){var i=t[0],a=r[0],o=t[1],s=r[r.length-1];return[Math.min(i,a),Math.max(o,s)]}return t},iD=O([dt,wf,_f,je],Hw),aD=O($s,dt,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(wn(e.map(s=>s.value))).sort((s,l)=>s-l);if(n.length<2)return 1/0;var i=n[n.length-1]-n[0];if(i===0)return 1/0;for(var a=0;a<n.length-1;a++){var o=n[a+1]-n[a];r=Math.min(r,o)}return r/i}}),Kw=O(aD,le,uw,De,(e,t,r,n)=>n,(e,t,r,n,i)=>{if(!_t(e))return 0;var a=t==="vertical"?n.height:n.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var o=Ht(r,e*a),s=e*a/2;return s-o-(s-o)/a*o}return 0}),oD=(e,t)=>{var r=jr(e,t);return r==null||typeof r.padding!="string"?0:Kw(e,"xAxis",t,r.padding)},sD=(e,t)=>{var r=Pr(e,t);return r==null||typeof r.padding!="string"?0:Kw(e,"yAxis",t,r.padding)},lD=O(jr,oD,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((r=i.left)!==null&&r!==void 0?r:0)+t,right:((n=i.right)!==null&&n!==void 0?n:0)+t}}),cD=O(Pr,sD,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((r=i.top)!==null&&r!==void 0?r:0)+t,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+t}}),uD=O([De,lD,xs,ws,(e,t,r)=>r],(e,t,r,n,i)=>{var{padding:a}=n;return i?[a.left,r.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),dD=O([De,le,cD,xs,ws,(e,t,r)=>r],(e,t,r,n,i,a)=>{var{padding:o}=i;return a?[n.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),ya=(e,t,r,n)=>{var i;switch(t){case"xAxis":return uD(e,r,n);case"yAxis":return dD(e,r,n);case"zAxis":return(i=gf(e,r))===null||i===void 0?void 0:i.range;case"angleAxis":return pw(e);case"radiusAxis":return mw(e,r);default:return}},Vw=O([dt,ya],Cs),di=O([dt,va,iD,Vw],xf);O([ga,Ds,je],$w);function Gw(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Ms=(e,t)=>t,Ns=(e,t,r)=>r,fD=O(ys,Ms,Ns,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(Gw)),hD=O(bs,Ms,Ns,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(Gw)),Yw=(e,t)=>({width:e.width,height:t.height}),pD=(e,t)=>{var r=typeof t.width=="number"?t.width:ua;return{width:r,height:e.height}},Jw=O(De,jr,Yw),mD=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},gD=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},vD=O(Sr,De,fD,Ms,Ns,(e,t,r,n,i)=>{var a={},o;return r.forEach(s=>{var l=Yw(t,s);o==null&&(o=mD(t,n,e));var c=n==="top"&&!i||n==="bottom"&&i;a[s.id]=o-Number(c)*l.height,o+=(c?-1:1)*l.height}),a}),yD=O(_r,De,hD,Ms,Ns,(e,t,r,n,i)=>{var a={},o;return r.forEach(s=>{var l=pD(t,s);o==null&&(o=gD(t,n,e));var c=n==="left"&&!i||n==="right"&&i;a[s.id]=o-Number(c)*l.width,o+=(c?-1:1)*l.width}),a}),bD=(e,t)=>{var r=jr(e,t);if(r!=null)return vD(e,r.orientation,r.mirror)},wD=O([De,jr,bD,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r==null?void 0:r[n];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),xD=(e,t)=>{var r=Pr(e,t);if(r!=null)return yD(e,r.orientation,r.mirror)},_D=O([De,Pr,xD,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r==null?void 0:r[n];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),Xw=O(De,Pr,(e,t)=>{var r=typeof t.width=="number"?t.width:ua;return{width:r,height:e.height}}),_g=(e,t,r)=>{switch(t){case"xAxis":return Jw(e,r).width;case"yAxis":return Xw(e,r).height;default:return}},Zw=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:a,dataKey:o}=r,s=vn(e,n),l=t.map(c=>c.value);if(o&&s&&a==="category"&&i&&Ky(l))return l}},Sf=O([le,$s,dt,je],Zw),Qw=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:a}=r,o=vn(e,n);if(o&&(i==="number"||a!=="auto"))return t.map(s=>s.value)}},Ef=O([le,$s,ma,je],Qw),Sg=O([le,L$,va,di,Sf,Ef,ya,_f,je],(e,t,r,n,i,a,o,s,l)=>{if(t==null)return null;var c=vn(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:a,duplicateDomain:i,isCategorical:c,niceTicks:s,range:o,realScaleType:r,scale:n}}),SD=(e,t,r,n,i,a,o,s,l)=>{if(!(t==null||n==null)){var c=vn(e,l),{type:u,ticks:d,tickCount:f}=t,p=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,m=u==="category"&&n.bandwidth?n.bandwidth()/p:0;m=l==="angleAxis"&&a!=null&&a.length>=2?st(a[0]-a[1])*2*m:m;var g=d||i;if(g){var v=g.map((b,x)=>{var w=o?o.indexOf(b):b;return{index:x,coordinate:n(w)+m,value:b,offset:m}});return v.filter(b=>!wt(b.coordinate))}return c&&s?s.map((b,x)=>({coordinate:n(b)+m,value:b,index:x,offset:m})):n.ticks?n.ticks(f).map(b=>({coordinate:n(b)+m,value:b,offset:m})):n.domain().map((b,x)=>({coordinate:n(b)+m,value:o?o[b]:b,index:x,offset:m}))}},ex=O([le,ma,va,di,_f,ya,Sf,Ef,je],SD),ED=(e,t,r,n,i,a,o)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var s=vn(e,o),{tickCount:l}=t,c=0;return c=o==="angleAxis"&&(n==null?void 0:n.length)>=2?st(n[0]-n[1])*2*c:c,s&&a?a.map((u,d)=>({coordinate:r(u)+c,value:u,index:d,offset:c})):r.ticks?r.ticks(l).map(u=>({coordinate:r(u)+c,value:u,offset:c})):r.domain().map((u,d)=>({coordinate:r(u)+c,value:i?i[u]:u,index:d,offset:c}))}},Yn=O([le,ma,di,ya,Sf,Ef,je],ED),Jn=O(dt,di,(e,t)=>{if(!(e==null||t==null))return Ko(Ko({},e),{},{scale:t})}),jD=O([dt,va,wf,Vw],xf);O((e,t,r)=>gf(e,r),jD,(e,t)=>{if(!(e==null||t==null))return Ko(Ko({},e),{},{scale:t})});var PD=O([le,ys,bs],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),tx=e=>e.options.defaultTooltipEventType,rx=e=>e.options.validateTooltipEventTypes;function nx(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function jf(e,t){var r=tx(e),n=rx(e);return nx(t,r,n)}function OD(e){return W(t=>jf(t,e))}var ix=(e,t)=>{var r,n=Number(t);if(!(wt(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},kD=e=>e.tooltip.settings,Dr={active:!1,index:null,dataKey:void 0,coordinate:void 0},AD={itemInteraction:{click:Dr,hover:Dr},axisInteraction:{click:Dr,hover:Dr},keyboardInteraction:Dr,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},ax=Et({name:"tooltip",initialState:AD,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var r=mr(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:CD,removeTooltipEntrySettings:TD,setTooltipSettingsState:RD,setActiveMouseOverItemIndex:ox,mouseLeaveItem:ID,mouseLeaveChart:sx,setActiveClickItemIndex:$D,setMouseOverAxisIndex:lx,setMouseClickAxisIndex:DD,setSyncInteraction:Du,setKeyboardInteraction:Mu}=ax.actions,MD=ax.reducer;function Eg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ja(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Eg(Object(r),!0).forEach(function(n){ND(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Eg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ND(e,t,r){return(t=LD(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LD(e){var t=BD(e,"string");return typeof t=="symbol"?t:t+""}function BD(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function UD(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function FD(e){return e.index!=null}var cx=(e,t,r,n)=>{if(t==null)return Dr;var i=UD(e,t,r);if(i==null)return Dr;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(FD(i)){if(a)return Ja(Ja({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return Ja(Ja({},Dr),{},{coordinate:i.coordinate})},Pf=(e,t)=>{var r=e==null?void 0:e.index;if(r==null)return null;var n=Number(r);if(!_t(n))return r;var i=0,a=1/0;return t.length>0&&(a=t.length-1),String(Math.max(i,Math.min(n,a)))},ux=(e,t,r,n,i,a,o,s)=>{if(!(a==null||s==null)){var l=o[0],c=l==null?void 0:s(l.positions,a);if(c!=null)return c;var u=i==null?void 0:i[Number(a)];if(u)switch(r){case"horizontal":return{x:u.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:u.coordinate}}}},dx=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return r==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(a=>{var o;return((o=a.settings)===null||o===void 0?void 0:o.dataKey)===i})},ba=e=>e.options.tooltipPayloadSearcher,fi=e=>e.tooltip;function jg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Pg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jg(Object(r),!0).forEach(function(n){zD(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zD(e,t,r){return(t=WD(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WD(e){var t=qD(e,"string");return typeof t=="symbol"?t:t+""}function qD(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function HD(e,t){return e??t}var fx=(e,t,r,n,i,a,o)=>{if(!(t==null||a==null)){var{chartData:s,computedData:l,dataStartIndex:c,dataEndIndex:u}=r,d=[];return e.reduce((f,p)=>{var m,{dataDefinedOnItem:g,settings:v}=p,b=HD(g,s),x=Array.isArray(b)?J0(b,c,u):b,w=(m=v==null?void 0:v.dataKey)!==null&&m!==void 0?m:n,_=v==null?void 0:v.nameKey,S;if(n&&Array.isArray(x)&&!Array.isArray(x[0])&&o==="axis"?S=LO(x,n,i):S=a(x,t,l,_),Array.isArray(S))S.forEach(j=>{var k=Pg(Pg({},v),{},{name:j.name,unit:j.unit,color:void 0,fill:void 0});f.push(um({tooltipEntrySettings:k,dataKey:j.dataKey,payload:j.payload,value:tt(j.payload,j.dataKey),name:j.name}))});else{var E;f.push(um({tooltipEntrySettings:v,dataKey:w,payload:S,value:tt(S,w),name:(E=tt(S,_))!==null&&E!==void 0?E:v==null?void 0:v.name}))}return f},d)}},Of=O([Ne,le,xw,cf,Ae],Ww),KD=O([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),VD=O([Ae,ci],_w),wa=O([KD,Ne,VD],Sw),GD=O([wa],e=>e.filter(Is)),YD=O([wa],Ow),hi=O([YD,Wr],kw),JD=O([GD,Wr,Ne],yw),kf=O([hi,Ne,wa],Aw),XD=O([Ne],bf),ZD=O([wa],e=>e.filter(Is)),QD=O([JD,ZD,As],Tw),eM=O([QD,Wr,Ae],Rw),tM=O([wa],jw),rM=O([hi,Ne,tM,Ds,Ae],Iw),nM=O([Dw,Ae,ci],ui),iM=O([nM,Ae],Lw),aM=O([Mw,Ae,ci],ui),oM=O([aM,Ae],Bw),sM=O([Nw,Ae,ci],ui),lM=O([sM,Ae],Uw),cM=O([iM,lM,oM],Vo),uM=O([Ne,XD,eM,rM,cM,le,Ae],Fw),hx=O([Ne,le,hi,kf,As,Ae,uM],zw),dM=O([hx,Ne,Of],qw),fM=O([Ne,hx,dM,Ae],Hw),px=e=>{var t=Ae(e),r=ci(e),n=!1;return ya(e,t,r,n)},mx=O([Ne,px],Cs),gx=O([Ne,Of,fM,mx],xf),hM=O([le,kf,Ne,Ae],Zw),pM=O([le,kf,Ne,Ae],Qw),mM=(e,t,r,n,i,a,o,s)=>{if(t){var{type:l}=t,c=vn(e,s);if(n){var u=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,d=l==="category"&&n.bandwidth?n.bandwidth()/u:0;return d=s==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?st(i[0]-i[1])*2*d:d,c&&o?o.map((f,p)=>({coordinate:n(f)+d,value:f,index:p,offset:d})):n.domain().map((f,p)=>({coordinate:n(f)+d,value:a?a[f]:f,index:p,offset:d}))}}},Or=O([le,Ne,Of,gx,px,hM,pM,Ae],mM),Af=O([tx,rx,kD],(e,t,r)=>nx(r.shared,e,t)),vx=e=>e.tooltip.settings.trigger,Cf=e=>e.tooltip.settings.defaultIndex,Ls=O([fi,Af,vx,Cf],cx),Xn=O([Ls,hi],Pf),yx=O([Or,Xn],ix),bx=O([Ls],e=>{if(e)return e.dataKey}),wx=O([fi,Af,vx,Cf],dx),gM=O([_r,Sr,le,De,Or,Cf,wx,ba],ux),vM=O([Ls,gM],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),yM=O([Ls],e=>e.active),bM=O([wx,Xn,Wr,vw,yx,ba,Af],fx);O([bM],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function Og(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function kg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Og(Object(r),!0).forEach(function(n){wM(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Og(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wM(e,t,r){return(t=xM(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xM(e){var t=_M(e,"string");return typeof t=="symbol"?t:t+""}function _M(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var SM=()=>W(Ne),EM=()=>{var e=SM(),t=W(Or),r=W(gx);return Cd(kg(kg({},e),{},{scale:r}),t)},jM=()=>W(cf),Tf=(e,t)=>t,xx=(e,t,r)=>r,Rf=(e,t,r,n)=>n,PM=O(Or,e=>fs(e,t=>t.coordinate)),If=O([fi,Tf,xx,Rf],cx),_x=O([If,hi],Pf),OM=(e,t,r)=>{if(t!=null){var n=fi(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},Sx=O([fi,Tf,xx,Rf],dx),Go=O([_r,Sr,le,De,Or,Rf,Sx,ba],ux),kM=O([If,Go],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),Ex=O(Or,_x,ix),AM=O([Sx,_x,Wr,vw,Ex,ba,Tf],fx),CM=O([If],e=>({isActive:e.active,activeIndex:e.index})),TM=(e,t,r,n,i,a,o,s)=>{if(!(!e||!t||!n||!i||!a)){var l=aT(e.chartX,e.chartY,t,r,s);if(l){var c=sT(l,t),u=KC(c,o,a,n,i),d=oT(t,a,u,l);return{activeIndex:String(u),activeCoordinate:d}}}};function Nu(){return Nu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nu.apply(null,arguments)}function Ag(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Xa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ag(Object(r),!0).forEach(function(n){RM(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ag(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RM(e,t,r){return(t=IM(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IM(e){var t=$M(e,"string");return typeof t=="symbol"?t:t+""}function $M(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function DM(e){var{coordinate:t,payload:r,index:n,offset:i,tooltipAxisBandSize:a,layout:o,cursor:s,tooltipEventType:l,chartName:c}=e,u=t,d=r,f=n;if(!s||!u||c!=="ScatterChart"&&l!=="axis")return null;var p,m;if(c==="ScatterChart")p=u,m=QT;else if(c==="BarChart")p=e2(o,u,i,a),m=ub;else if(o==="radial"){var{cx:g,cy:v,radius:b,startAngle:x,endAngle:w}=db(u);p={cx:g,cy:v,startAngle:x,endAngle:w,innerRadius:b,outerRadius:b},m=hb}else p={points:I2(o,u,i)},m=qT;var _=typeof s=="object"&&"className"in s?s.className:void 0,S=Xa(Xa(Xa(Xa({stroke:"#ccc",pointerEvents:"none"},i),p),ze(s,!1)),{},{payload:d,payloadIndex:f,className:ge("recharts-tooltip-cursor",_)});return y.isValidElement(s)?y.cloneElement(s,S):y.createElement(m,S)}function MM(e){var t=EM(),r=tb(),n=Id(),i=jM();return y.createElement(DM,Nu({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:n,tooltipAxisBandSize:t,chartName:i}))}var jx=y.createContext(null),NM=()=>y.useContext(jx),wc={exports:{}},Cg;function LM(){return Cg||(Cg=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function a(l,c,u,d,f){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new i(u,d||l,f),m=r?r+c:c;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],p]:l._events[m].push(p):(l._events[m]=p,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var c=[],u,d;if(this._eventsCount===0)return c;for(d in u=this._events)t.call(u,d)&&c.push(r?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},s.prototype.listeners=function(c){var u=r?r+c:c,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var f=0,p=d.length,m=new Array(p);f<p;f++)m[f]=d[f].fn;return m},s.prototype.listenerCount=function(c){var u=r?r+c:c,d=this._events[u];return d?d.fn?1:d.length:0},s.prototype.emit=function(c,u,d,f,p,m){var g=r?r+c:c;if(!this._events[g])return!1;var v=this._events[g],b=arguments.length,x,w;if(v.fn){switch(v.once&&this.removeListener(c,v.fn,void 0,!0),b){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,u),!0;case 3:return v.fn.call(v.context,u,d),!0;case 4:return v.fn.call(v.context,u,d,f),!0;case 5:return v.fn.call(v.context,u,d,f,p),!0;case 6:return v.fn.call(v.context,u,d,f,p,m),!0}for(w=1,x=new Array(b-1);w<b;w++)x[w-1]=arguments[w];v.fn.apply(v.context,x)}else{var _=v.length,S;for(w=0;w<_;w++)switch(v[w].once&&this.removeListener(c,v[w].fn,void 0,!0),b){case 1:v[w].fn.call(v[w].context);break;case 2:v[w].fn.call(v[w].context,u);break;case 3:v[w].fn.call(v[w].context,u,d);break;case 4:v[w].fn.call(v[w].context,u,d,f);break;default:if(!x)for(S=1,x=new Array(b-1);S<b;S++)x[S-1]=arguments[S];v[w].fn.apply(v[w].context,x)}}return!0},s.prototype.on=function(c,u,d){return a(this,c,u,d,!1)},s.prototype.once=function(c,u,d){return a(this,c,u,d,!0)},s.prototype.removeListener=function(c,u,d,f){var p=r?r+c:c;if(!this._events[p])return this;if(!u)return o(this,p),this;var m=this._events[p];if(m.fn)m.fn===u&&(!f||m.once)&&(!d||m.context===d)&&o(this,p);else{for(var g=0,v=[],b=m.length;g<b;g++)(m[g].fn!==u||f&&!m[g].once||d&&m[g].context!==d)&&v.push(m[g]);v.length?this._events[p]=v.length===1?v[0]:v:o(this,p)}return this},s.prototype.removeAllListeners=function(c){var u;return c?(u=r?r+c:c,this._events[u]&&o(this,u)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,e.exports=s})(wc)),wc.exports}var BM=LM();const UM=ir(BM);var ra=new UM,Lu="recharts.syncEvent.tooltip",Tg="recharts.syncEvent.brush";function FM(e,t){if(t){var r=Number.parseInt(t,10);if(!wt(r))return e==null?void 0:e[r]}}var zM={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},Px=Et({name:"options",initialState:zM,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),WM=Px.reducer,{createEventEmitter:qM}=Px.actions;function HM(e){return e.tooltip.syncInteraction}var KM={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},Ox=Et({name:"chartData",initialState:KM,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:Rg,setDataStartEndIndexes:VM,setComputedData:aW}=Ox.actions,GM=Ox.reducer,YM=["x","y"];function Ig(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Vr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ig(Object(r),!0).forEach(function(n){JM(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ig(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JM(e,t,r){return(t=XM(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XM(e){var t=ZM(e,"string");return typeof t=="symbol"?t:t+""}function ZM(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function QM(e,t){if(e==null)return{};var r,n,i=eN(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function eN(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var kx=()=>{};function tN(){var e=W(uf),t=W(df),r=$e(),n=W(dw),i=W(Or),a=Id(),o=Rd(),s=W(l=>l.rootProps.className);y.useEffect(()=>{if(e==null)return kx;var l=(c,u,d)=>{if(t!==d&&e===c){if(n==="index"){var f;if(o&&u!==null&&u!==void 0&&(f=u.payload)!==null&&f!==void 0&&f.coordinate){var p=u.payload.coordinate,{x:m,y:g}=p,v=QM(p,YM),b=Vr(Vr(Vr({},v),typeof m=="number"&&{x:Math.max(o.x,Math.min(m,o.x+o.width))}),typeof g=="number"&&{y:Math.max(o.y,Math.min(g,o.y+o.height))}),x=Vr(Vr({},u),{},{payload:Vr(Vr({},u.payload),{},{coordinate:b})});r(x)}else r(u);return}if(i!=null){var w;if(typeof n=="function"){var _={activeTooltipIndex:u.payload.index==null?void 0:Number(u.payload.index),isTooltipActive:u.payload.active,activeIndex:u.payload.index==null?void 0:Number(u.payload.index),activeLabel:u.payload.label,activeDataKey:u.payload.dataKey,activeCoordinate:u.payload.coordinate},S=n(i,_);w=i[S]}else n==="value"&&(w=i.find(U=>String(U.value)===u.payload.label));var{coordinate:E}=u.payload;if(w==null||u.payload.active===!1||E==null||o==null){r(Du({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:j,y:k}=E,A=Math.min(j,o.x+o.width),I=Math.min(k,o.y+o.height),C={x:a==="horizontal"?w.coordinate:A,y:a==="horizontal"?I:w.coordinate},$=Du({active:u.payload.active,coordinate:C,dataKey:u.payload.dataKey,index:String(w.index),label:u.payload.label});r($)}}};return ra.on(Lu,l),()=>{ra.off(Lu,l)}},[s,r,t,e,n,i,a,o])}function rN(){var e=W(uf),t=W(df),r=$e();y.useEffect(()=>{if(e==null)return kx;var n=(i,a,o)=>{t!==o&&e===i&&r(VM(a))};return ra.on(Tg,n),()=>{ra.off(Tg,n)}},[r,t,e])}function nN(){var e=$e();y.useEffect(()=>{e(qM())},[e]),tN(),rN()}function iN(e,t,r,n,i,a){var o=W(f=>OM(f,e,t)),s=W(df),l=W(uf),c=W(dw),u=W(HM),d=u==null?void 0:u.active;y.useEffect(()=>{if(!d&&l!=null&&s!=null){var f=Du({active:a,coordinate:r,dataKey:o,index:i,label:typeof n=="number"?String(n):n});ra.emit(Lu,l,f,s)}},[d,r,o,i,n,s,l,c,a])}function $g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Dg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$g(Object(r),!0).forEach(function(n){aN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$g(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aN(e,t,r){return(t=oN(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oN(e){var t=sN(e,"string");return typeof t=="symbol"?t:t+""}function sN(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lN(e){return e.dataKey}function cN(e,t){return y.isValidElement(e)?y.cloneElement(e,t):typeof e=="function"?y.createElement(e,t):y.createElement(CT,t)}var Mg=[],uN={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!ai.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function dN(e){var t=Lt(e,uN),{active:r,allowEscapeViewBox:n,animationDuration:i,animationEasing:a,content:o,filterNull:s,isAnimationActive:l,offset:c,payloadUniqBy:u,position:d,reverseDirection:f,useTranslate3d:p,wrapperStyle:m,cursor:g,shared:v,trigger:b,defaultIndex:x,portal:w,axisId:_}=t,S=$e(),E=typeof x=="number"?String(x):x;y.useEffect(()=>{S(RD({shared:v,trigger:b,axisId:_,active:r,defaultIndex:E}))},[S,v,b,_,r,E]);var j=Rd(),k=ab(),A=OD(v),{activeIndex:I,isActive:C}=W(ee=>CM(ee,A,b,E)),$=W(ee=>AM(ee,A,b,E)),U=W(ee=>Ex(ee,A,b,E)),T=W(ee=>kM(ee,A,b,E)),L=$,M=NM(),q=r??C,[J,X]=DA([L,q]),pe=A==="axis"?U:void 0;iN(A,b,T,pe,I,q);var ne=w??M;if(ne==null)return null;var F=L??Mg;q||(F=Mg),s&&F.length&&(F=sA(L.filter(ee=>ee.value!=null&&(ee.hide!==!0||t.includeHidden)),u,lN));var V=F.length>0,ae=y.createElement(NT,{allowEscapeViewBox:n,animationDuration:i,animationEasing:a,isAnimationActive:l,active:q,coordinate:T,hasPayload:V,offset:c,position:d,reverseDirection:f,useTranslate3d:p,viewBox:j,wrapperStyle:m,lastBoundingBox:J,innerRef:X,hasPortalFromProps:!!w},cN(o,Dg(Dg({},t),{},{payload:F,label:pe,active:q,coordinate:T,accessibilityLayer:k})));return y.createElement(y.Fragment,null,wy.createPortal(ae,ne),q&&y.createElement(MM,{cursor:g,tooltipEventType:A,coordinate:T,payload:L,index:I}))}var xc={},_c={},Sc={},Ng;function fN(){return Ng||(Ng=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:i,edges:a}={}){let o,s=null;const l=a!=null&&a.includes("leading"),c=a==null||a.includes("trailing"),u=()=>{s!==null&&(r.apply(o,s),o=void 0,s=null)},d=()=>{c&&u(),g()};let f=null;const p=()=>{f!=null&&clearTimeout(f),f=setTimeout(()=>{f=null,d()},n)},m=()=>{f!==null&&(clearTimeout(f),f=null)},g=()=>{m(),o=void 0,s=null},v=()=>{u()},b=function(...x){if(i!=null&&i.aborted)return;o=this,s=x;const w=f==null;p(),l&&w&&u()};return b.schedule=p,b.cancel=g,b.flush=v,i==null||i.addEventListener("abort",g,{once:!0}),b}e.debounce=t})(Sc)),Sc}var Lg;function hN(){return Lg||(Lg=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fN();function r(n,i=0,a={}){typeof a!="object"&&(a={});const{leading:o=!1,trailing:s=!0,maxWait:l}=a,c=Array(2);o&&(c[0]="leading"),s&&(c[1]="trailing");let u,d=null;const f=t.debounce(function(...g){u=n.apply(this,g),d=null},i,{edges:c}),p=function(...g){return l!=null&&(d===null&&(d=Date.now()),Date.now()-d>=l)?(u=n.apply(this,g),d=Date.now(),f.cancel(),f.schedule(),u):(f.apply(this,g),u)},m=()=>(f.flush(),u);return p.cancel=f.cancel,p.flush=m,p}e.debounce=r})(_c)),_c}var Bg;function pN(){return Bg||(Bg=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hN();function r(n,i=0,a={}){const{leading:o=!0,trailing:s=!0}=a;return t.debounce(n,i,{leading:o,maxWait:i,trailing:s})}e.throttle=r})(xc)),xc}var Ec,Ug;function mN(){return Ug||(Ug=1,Ec=pN().throttle),Ec}var gN=mN();const vN=ir(gN);var Wi=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]};function Fg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function jc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fg(Object(r),!0).forEach(function(n){yN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yN(e,t,r){return(t=bN(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bN(e){var t=wN(e,"string");return typeof t=="symbol"?t:t+""}function wN(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xN=y.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:i="100%",height:a="100%",minWidth:o=0,minHeight:s,maxHeight:l,children:c,debounce:u=0,id:d,className:f,onResize:p,style:m={}}=e,g=y.useRef(null),v=y.useRef();v.current=p,y.useImperativeHandle(t,()=>g.current);var[b,x]=y.useState({containerWidth:n.width,containerHeight:n.height}),w=y.useCallback((S,E)=>{x(j=>{var k=Math.round(S),A=Math.round(E);return j.containerWidth===k&&j.containerHeight===A?j:{containerWidth:k,containerHeight:A}})},[]);y.useEffect(()=>{var S=A=>{var I,{width:C,height:$}=A[0].contentRect;w(C,$),(I=v.current)===null||I===void 0||I.call(v,C,$)};u>0&&(S=vN(S,u,{trailing:!0,leading:!1}));var E=new ResizeObserver(S),{width:j,height:k}=g.current.getBoundingClientRect();return w(j,k),E.observe(g.current),()=>{E.disconnect()}},[w,u]);var _=y.useMemo(()=>{var{containerWidth:S,containerHeight:E}=b;if(S<0||E<0)return null;Wi(en(i)||en(a),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,a),Wi(!r||r>0,"The aspect(%s) must be greater than zero.",r);var j=en(i)?S:i,k=en(a)?E:a;return r&&r>0&&(j?k=j/r:k&&(j=k*r),l&&k>l&&(k=l)),Wi(j>0||k>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,j,k,i,a,o,s,r),y.Children.map(c,A=>y.cloneElement(A,{width:j,height:k,style:jc({width:j,height:k},A.props.style)}))},[r,c,a,l,s,o,b,i]);return y.createElement("div",{id:d?"".concat(d):void 0,className:ge("recharts-responsive-container",f),style:jc(jc({},m),{},{width:i,height:a,minWidth:o,minHeight:s,maxHeight:l}),ref:g},y.createElement("div",{style:{width:0,height:0,overflow:"visible"}},_))}),Ax=e=>null;Ax.displayName="Cell";function _N(e,t,r){return(t=SN(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SN(e){var t=EN(e,"string");return typeof t=="symbol"?t:t+""}function EN(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class jN{constructor(t){_N(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function zg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function PN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zg(Object(r),!0).forEach(function(n){ON(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ON(e,t,r){return(t=kN(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kN(e){var t=AN(e,"string");return typeof t=="symbol"?t:t+""}function AN(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var CN={cacheSize:2e3,enableCache:!0},Cx=PN({},CN),Wg=new jN(Cx.cacheSize),TN={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},qg="recharts_measurement_span";function RN(e,t){var r=t.fontSize||"",n=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",o=t.letterSpacing||"",s=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(a,"|").concat(o,"|").concat(s)}var Hg=(e,t)=>{try{var r=document.getElementById(qg);r||(r=document.createElement("span"),r.setAttribute("id",qg),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,TN,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},qi=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||ai.isSsr)return{width:0,height:0};if(!Cx.enableCache)return Hg(t,r);var n=RN(t,r),i=Wg.get(n);if(i)return i;var a=Hg(t,r);return Wg.set(n,a),a},Kg=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Vg=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,IN=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,$N=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Tx={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},DN=Object.keys(Tx),Ln="NaN";function MN(e,t){return e*Tx[t]}class ot{static parse(t){var r,[,n,i]=(r=$N.exec(t))!==null&&r!==void 0?r:[];return new ot(parseFloat(n),i??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,wt(t)&&(this.unit=""),r!==""&&!IN.test(r)&&(this.num=NaN,this.unit=""),DN.includes(r)&&(this.num=MN(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new ot(NaN,""):new ot(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new ot(NaN,""):new ot(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new ot(NaN,""):new ot(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new ot(NaN,""):new ot(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return wt(this.num)}}function Rx(e){if(e.includes(Ln))return Ln;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,i,a]=(r=Kg.exec(t))!==null&&r!==void 0?r:[],o=ot.parse(n??""),s=ot.parse(a??""),l=i==="*"?o.multiply(s):o.divide(s);if(l.isNaN())return Ln;t=t.replace(Kg,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var c,[,u,d,f]=(c=Vg.exec(t))!==null&&c!==void 0?c:[],p=ot.parse(u??""),m=ot.parse(f??""),g=d==="+"?p.add(m):p.subtract(m);if(g.isNaN())return Ln;t=t.replace(Vg,g.toString())}return t}var Gg=/\(([^()]*)\)/;function NN(e){for(var t=e,r;(r=Gg.exec(t))!=null;){var[,n]=r;t=t.replace(Gg,Rx(n))}return t}function LN(e){var t=e.replace(/\s+/g,"");return t=NN(t),t=Rx(t),t}function BN(e){try{return LN(e)}catch{return Ln}}function Pc(e){var t=BN(e.slice(5,-1));return t===Ln?"":t}var UN=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],FN=["dx","dy","angle","className","breakAll"];function Bu(){return Bu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bu.apply(null,arguments)}function Yg(e,t){if(e==null)return{};var r,n,i=zN(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function zN(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Ix=/[ \f\n\r\t\v\u2028\u2029]+/,$x=e=>{var{children:t,breakAll:r,style:n}=e;try{var i=[];Ie(t)||(r?i=t.toString().split(""):i=t.toString().split(Ix));var a=i.map(s=>({word:s,width:qi(s,n).width})),o=r?0:qi(" ",n).width;return{wordsWithComputedWidth:a,spaceWidth:o}}catch{return null}},WN=(e,t,r,n,i)=>{var{maxLines:a,children:o,style:s,breakAll:l}=e,c=z(a),u=o,d=function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return C.reduce(($,U)=>{var{word:T,width:L}=U,M=$[$.length-1];if(M&&(n==null||i||M.width+L+r<Number(n)))M.words.push(T),M.width+=L+r;else{var q={words:[T],width:L};$.push(q)}return $},[])},f=d(t),p=I=>I.reduce((C,$)=>C.width>$.width?C:$);if(!c||i)return f;var m=f.length>a||p(f).width>Number(n);if(!m)return f;for(var g="…",v=I=>{var C=u.slice(0,I),$=$x({breakAll:l,style:s,children:C+g}).wordsWithComputedWidth,U=d($),T=U.length>a||p(U).width>Number(n);return[T,U]},b=0,x=u.length-1,w=0,_;b<=x&&w<=u.length-1;){var S=Math.floor((b+x)/2),E=S-1,[j,k]=v(E),[A]=v(S);if(!j&&!A&&(b=S+1),j&&A&&(x=S-1),!j&&A){_=k;break}w++}return _||f},Jg=e=>{var t=Ie(e)?[]:e.toString().split(Ix);return[{words:t}]},qN=e=>{var{width:t,scaleToFit:r,children:n,style:i,breakAll:a,maxLines:o}=e;if((t||r)&&!ai.isSsr){var s,l,c=$x({breakAll:a,children:n,style:i});if(c){var{wordsWithComputedWidth:u,spaceWidth:d}=c;s=u,l=d}else return Jg(n);return WN({breakAll:a,children:n,maxLines:o,style:i},s,l,t,r)}return Jg(n)},Xg="#808080",$f=y.forwardRef((e,t)=>{var{x:r=0,y:n=0,lineHeight:i="1em",capHeight:a="0.71em",scaleToFit:o=!1,textAnchor:s="start",verticalAnchor:l="end",fill:c=Xg}=e,u=Yg(e,UN),d=y.useMemo(()=>qN({breakAll:u.breakAll,children:u.children,maxLines:u.maxLines,scaleToFit:o,style:u.style,width:u.width}),[u.breakAll,u.children,u.maxLines,o,u.style,u.width]),{dx:f,dy:p,angle:m,className:g,breakAll:v}=u,b=Yg(u,FN);if(!rr(r)||!rr(n)||d.length===0)return null;var x=r+(z(f)?f:0),w=n+(z(p)?p:0),_;switch(l){case"start":_=Pc("calc(".concat(a,")"));break;case"middle":_=Pc("calc(".concat((d.length-1)/2," * -").concat(i," + (").concat(a," / 2))"));break;default:_=Pc("calc(".concat(d.length-1," * -").concat(i,")"));break}var S=[];if(o){var E=d[0].width,{width:j}=u;S.push("scale(".concat(z(j)?j/E:1,")"))}return m&&S.push("rotate(".concat(m,", ").concat(x,", ").concat(w,")")),S.length&&(b.transform=S.join(" ")),y.createElement("text",Bu({},ze(b,!0),{ref:t,x,y:w,className:ge("recharts-text",g),textAnchor:s,fill:c.includes("url")?Xg:c}),d.map((k,A)=>{var I=k.words.join(v?"":" ");return y.createElement("tspan",{x,dy:A===0?_:i,key:"".concat(I,"-").concat(A)},I)}))});$f.displayName="Text";var HN=["labelRef"];function KN(e,t){if(e==null)return{};var r,n,i=VN(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function VN(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Zg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function xe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Zg(Object(r),!0).forEach(function(n){GN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GN(e,t,r){return(t=YN(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YN(e){var t=JN(e,"string");return typeof t=="symbol"?t:t+""}function JN(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dr(){return dr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dr.apply(null,arguments)}var Dx=y.createContext(null),XN=e=>{var{x:t,y:r,width:n,height:i,children:a}=e,o=y.useMemo(()=>({x:t,y:r,width:n,height:i}),[t,r,n,i]);return y.createElement(Dx.Provider,{value:o},a)},Mx=()=>{var e=y.useContext(Dx),t=Rd();return e||t},ZN=y.createContext(null),QN=()=>{var e=y.useContext(ZN),t=W(gw);return e||t},eL=e=>{var{value:t,formatter:r}=e,n=Ie(e.children)?t:e.children;return typeof r=="function"?r(n):n},Df=e=>e!=null&&typeof e=="function",tL=(e,t)=>{var r=st(t-e),n=Math.min(Math.abs(t-e),360);return r*n},rL=(e,t,r,n,i)=>{var{offset:a,className:o}=e,{cx:s,cy:l,innerRadius:c,outerRadius:u,startAngle:d,endAngle:f,clockWise:p}=i,m=(c+u)/2,g=tL(d,f),v=g>=0?1:-1,b,x;switch(t){case"insideStart":b=d+v*a,x=p;break;case"insideEnd":b=f-v*a,x=!p;break;case"end":b=f+v*a,x=p;break;default:throw new Error("Unsupported position ".concat(t))}x=g<=0?x:!x;var w=Fe(s,l,m,b),_=Fe(s,l,m,b+(x?1:-1)*359),S="M".concat(w.x,",").concat(w.y,`
    A`).concat(m,",").concat(m,",0,1,").concat(x?0:1,`,
    `).concat(_.x,",").concat(_.y),E=Ie(e.id)?Vi("recharts-radial-line-"):e.id;return y.createElement("text",dr({},n,{dominantBaseline:"central",className:ge("recharts-radial-bar-label",o)}),y.createElement("defs",null,y.createElement("path",{id:E,d:S})),y.createElement("textPath",{xlinkHref:"#".concat(E)},r))},nL=(e,t,r)=>{var{cx:n,cy:i,innerRadius:a,outerRadius:o,startAngle:s,endAngle:l}=e,c=(s+l)/2;if(r==="outside"){var{x:u,y:d}=Fe(n,i,o+t,c);return{x:u,y:d,textAnchor:u>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var f=(a+o)/2,{x:p,y:m}=Fe(n,i,f,c);return{x:p,y:m,textAnchor:"middle",verticalAnchor:"middle"}},Nx=e=>"cx"in e&&z(e.cx),iL=(e,t)=>{var{parentViewBox:r,offset:n,position:i}=e,a;r!=null&&!Nx(r)&&(a=r);var{x:o,y:s,width:l,height:c}=t,u=c>=0?1:-1,d=u*n,f=u>0?"end":"start",p=u>0?"start":"end",m=l>=0?1:-1,g=m*n,v=m>0?"end":"start",b=m>0?"start":"end";if(i==="top"){var x={x:o+l/2,y:s-u*n,textAnchor:"middle",verticalAnchor:f};return xe(xe({},x),a?{height:Math.max(s-a.y,0),width:l}:{})}if(i==="bottom"){var w={x:o+l/2,y:s+c+d,textAnchor:"middle",verticalAnchor:p};return xe(xe({},w),a?{height:Math.max(a.y+a.height-(s+c),0),width:l}:{})}if(i==="left"){var _={x:o-g,y:s+c/2,textAnchor:v,verticalAnchor:"middle"};return xe(xe({},_),a?{width:Math.max(_.x-a.x,0),height:c}:{})}if(i==="right"){var S={x:o+l+g,y:s+c/2,textAnchor:b,verticalAnchor:"middle"};return xe(xe({},S),a?{width:Math.max(a.x+a.width-S.x,0),height:c}:{})}var E=a?{width:l,height:c}:{};return i==="insideLeft"?xe({x:o+g,y:s+c/2,textAnchor:b,verticalAnchor:"middle"},E):i==="insideRight"?xe({x:o+l-g,y:s+c/2,textAnchor:v,verticalAnchor:"middle"},E):i==="insideTop"?xe({x:o+l/2,y:s+d,textAnchor:"middle",verticalAnchor:p},E):i==="insideBottom"?xe({x:o+l/2,y:s+c-d,textAnchor:"middle",verticalAnchor:f},E):i==="insideTopLeft"?xe({x:o+g,y:s+d,textAnchor:b,verticalAnchor:p},E):i==="insideTopRight"?xe({x:o+l-g,y:s+d,textAnchor:v,verticalAnchor:p},E):i==="insideBottomLeft"?xe({x:o+g,y:s+c-d,textAnchor:b,verticalAnchor:f},E):i==="insideBottomRight"?xe({x:o+l-g,y:s+c-d,textAnchor:v,verticalAnchor:f},E):i&&typeof i=="object"&&(z(i.x)||en(i.x))&&(z(i.y)||en(i.y))?xe({x:o+Ht(i.x,l),y:s+Ht(i.y,c),textAnchor:"end",verticalAnchor:"end"},E):xe({x:o+l/2,y:s+c/2,textAnchor:"middle",verticalAnchor:"middle"},E)},aL={offset:5};function Ir(e){var t=Lt(e,aL),{viewBox:r,position:n,value:i,children:a,content:o,className:s="",textBreakAll:l,labelRef:c}=t,u=QN(),d=Mx(),f=n==="center"?d:u??d,p=r||f;if(!p||Ie(i)&&Ie(a)&&!y.isValidElement(o)&&typeof o!="function")return null;var m=xe(xe({},t),{},{viewBox:p});if(y.isValidElement(o)){var{labelRef:g}=m,v=KN(m,HN);return y.cloneElement(o,v)}var b;if(typeof o=="function"){if(b=y.createElement(o,m),y.isValidElement(b))return b}else b=eL(t);var x=Nx(p),w=ze(t,!0);if(x&&(n==="insideStart"||n==="insideEnd"||n==="end"))return rL(t,n,b,w,p);var _=x?nL(p,t.offset,t.position):iL(t,p);return y.createElement($f,dr({ref:c,className:ge("recharts-label",s)},w,_,{breakAll:l}),b)}Ir.displayName="Label";var oL=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?y.createElement(Ir,dr({key:"label-implicit"},n)):rr(e)?y.createElement(Ir,dr({key:"label-implicit",value:e},n)):y.isValidElement(e)?e.type===Ir?y.cloneElement(e,xe({key:"label-implicit"},n)):y.createElement(Ir,dr({key:"label-implicit",content:e},n)):Df(e)?y.createElement(Ir,dr({key:"label-implicit",content:e},n)):e&&typeof e=="object"?y.createElement(Ir,dr({},e,{key:"label-implicit"},n)):null};function sL(e){var{label:t}=e,r=Mx();return oL(t,r)||null}var Oc={},kc={},Qg;function lL(){return Qg||(Qg=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(kc)),kc}var Ac={},ev;function cL(){return ev||(ev=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(Ac)),Ac}var tv;function uL(){return tv||(tv=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lL(),r=cL(),n=_d();function i(a){if(n.isArrayLike(a))return t.last(r.toArray(a))}e.last=i})(Oc)),Oc}var Cc,rv;function dL(){return rv||(rv=1,Cc=uL().last),Cc}var fL=dL();const hL=ir(fL);var pL=["valueAccessor"],mL=["dataKey","clockWise","id","textBreakAll"];function Yo(){return Yo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yo.apply(null,arguments)}function nv(e,t){if(e==null)return{};var r,n,i=gL(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function gL(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var vL=e=>Array.isArray(e.value)?hL(e.value):e.value,Lx=y.createContext(void 0),yL=Lx.Provider,Bx=y.createContext(void 0);Bx.Provider;function bL(){return y.useContext(Lx)}function wL(){return y.useContext(Bx)}function co(e){var{valueAccessor:t=vL}=e,r=nv(e,pL),{dataKey:n,clockWise:i,id:a,textBreakAll:o}=r,s=nv(r,mL),l=bL(),c=wL(),u=l||c;return!u||!u.length?null:y.createElement(Lr,{className:"recharts-label-list"},u.map((d,f)=>{var p,m=Ie(n)?t(d,f):tt(d&&d.payload,n),g=Ie(a)?{}:{id:"".concat(a,"-").concat(f)};return y.createElement(Ir,Yo({},ze(d,!0),s,g,{fill:(p=r.fill)!==null&&p!==void 0?p:d.fill,parentViewBox:d.parentViewBox,value:m,textBreakAll:o,viewBox:d.viewBox,key:"label-".concat(f),index:f}))}))}co.displayName="LabelList";function xL(e){var{label:t}=e;return t?t===!0?y.createElement(co,{key:"labelList-implicit"}):y.isValidElement(t)||Df(t)?y.createElement(co,{key:"labelList-implicit",content:t}):typeof t=="object"?y.createElement(co,Yo({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}var _L={radiusAxis:{},angleAxis:{}},Ux=Et({name:"polarAxis",initialState:_L,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:oW,removeRadiusAxis:sW,addAngleAxis:lW,removeAngleAxis:cW}=Ux.actions,SL=Ux.reducer,Tc={},iv;function EL(){return iv||(iv=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var i;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const a=r[Symbol.toStringTag];return a==null||!((i=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&i.writable)?!1:r.toString()===`[object ${a}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(Tc)),Tc}var Rc,av;function jL(){return av||(av=1,Rc=EL().isPlainObject),Rc}var PL=jL();const OL=ir(PL);function ov(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function sv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ov(Object(r),!0).forEach(function(n){kL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ov(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kL(e,t,r){return(t=AL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AL(e){var t=CL(e,"string");return typeof t=="symbol"?t:t+""}function CL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jo(){return Jo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jo.apply(null,arguments)}var lv=(e,t,r,n,i)=>{var a=r-n,o;return o="M ".concat(e,",").concat(t),o+="L ".concat(e+r,",").concat(t),o+="L ".concat(e+r-a/2,",").concat(t+i),o+="L ".concat(e+r-a/2-n,",").concat(t+i),o+="L ".concat(e,",").concat(t," Z"),o},TL={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},RL=e=>{var t=Lt(e,TL),{x:r,y:n,upperWidth:i,lowerWidth:a,height:o,className:s}=t,{animationEasing:l,animationDuration:c,animationBegin:u,isUpdateAnimationActive:d}=t,f=y.useRef(),[p,m]=y.useState(-1),g=y.useRef(i),v=y.useRef(a),b=y.useRef(o),x=y.useRef(r),w=y.useRef(n),_=Dd(e,"trapezoid-");if(y.useEffect(()=>{if(f.current&&f.current.getTotalLength)try{var T=f.current.getTotalLength();T&&m(T)}catch{}},[]),r!==+r||n!==+n||i!==+i||a!==+a||o!==+o||i===0&&a===0||o===0)return null;var S=ge("recharts-trapezoid",s);if(!d)return y.createElement("g",null,y.createElement("path",Jo({},ze(t,!0),{className:S,d:lv(r,n,i,a,o)})));var E=g.current,j=v.current,k=b.current,A=x.current,I=w.current,C="0px ".concat(p===-1?1:p,"px"),$="".concat(p,"px 0px"),U=ob(["strokeDasharray"],c,l);return y.createElement($d,{animationId:_,key:_,canBegin:p>0,duration:c,easing:l,isActive:d,begin:u},T=>{var L=Ze(E,i,T),M=Ze(j,a,T),q=Ze(k,o,T),J=Ze(A,r,T),X=Ze(I,n,T);f.current&&(g.current=L,v.current=M,b.current=q,x.current=J,w.current=X);var pe=T>0?{transition:U,strokeDasharray:$}:{strokeDasharray:C};return y.createElement("path",Jo({},ze(t,!0),{className:S,d:lv(J,X,L,M,q),ref:f,style:sv(sv({},pe),t.style)}))})},IL=["option","shapeType","propTransformer","activeClassName","isActive"];function $L(e,t){if(e==null)return{};var r,n,i=DL(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function DL(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function cv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Xo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cv(Object(r),!0).forEach(function(n){ML(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ML(e,t,r){return(t=NL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NL(e){var t=LL(e,"string");return typeof t=="symbol"?t:t+""}function LL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function BL(e,t){return Xo(Xo({},t),e)}function UL(e,t){return e==="symbols"}function uv(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return y.createElement(ub,r);case"trapezoid":return y.createElement(RL,r);case"sector":return y.createElement(hb,r);case"symbols":if(UL(t))return y.createElement(h0,r);break;default:return null}}function FL(e){return y.isValidElement(e)?e.props:e}function zL(e){var{option:t,shapeType:r,propTransformer:n=BL,activeClassName:i="recharts-active-shape",isActive:a}=e,o=$L(e,IL),s;if(y.isValidElement(t))s=y.cloneElement(t,Xo(Xo({},o),FL(t)));else if(typeof t=="function")s=t(o);else if(OL(t)&&typeof t!="boolean"){var l=n(t,o);s=y.createElement(uv,{shapeType:r,elementProps:l})}else{var c=o;s=y.createElement(uv,{shapeType:r,elementProps:c})}return a?y.createElement(Lr,{className:i},s):s}var Fx=(e,t)=>{var r=$e();return(n,i)=>a=>{e==null||e(n,i,a),r(ox({activeIndex:String(i),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}},zx=e=>{var t=$e();return(r,n)=>i=>{e==null||e(r,n,i),t(ID())}},Wx=(e,t)=>{var r=$e();return(n,i)=>a=>{e==null||e(n,i,a),r($D({activeIndex:String(i),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}};function WL(e){var{fn:t,args:r}=e,n=$e(),i=Nt();return y.useEffect(()=>{if(!i){var a=t(r);return n(CD(a)),()=>{n(TD(a))}}},[t,r,n,i]),null}var qL=()=>{};function HL(e){var{legendPayload:t}=e,r=$e(),n=Nt();return y.useEffect(()=>n?qL:(r(ST(t)),()=>{r(ET(t))}),[r,n,t]),null}var Ic,KL=()=>{var[e]=y.useState(()=>Vi("uid-"));return e},VL=(Ic=t_.useId)!==null&&Ic!==void 0?Ic:KL;function GL(e,t){var r=VL();return t||(e?"".concat(e,"-").concat(r):r)}var YL=y.createContext(void 0),JL=e=>{var{id:t,type:r,children:n}=e,i=GL("recharts-".concat(r),t);return y.createElement(YL.Provider,{value:i},n(i))},XL={cartesianItems:[],polarItems:[]},qx=Et({name:"graphicalItems",initialState:XL,reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:r,next:n}=t.payload,i=mr(e).cartesianItems.indexOf(r);i>-1&&(e.cartesianItems[i]=n)},removeCartesianGraphicalItem(e,t){var r=mr(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var r=mr(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)}}}),{addCartesianGraphicalItem:ZL,replaceCartesianGraphicalItem:QL,removeCartesianGraphicalItem:eB,addPolarGraphicalItem:uW,removePolarGraphicalItem:dW}=qx.actions,tB=qx.reducer;function rB(e){var t=$e(),r=y.useRef(null);return y.useEffect(()=>{r.current===null?t(ZL(e)):r.current!==e&&t(QL({prev:r.current,next:e})),r.current=e},[t,e]),y.useEffect(()=>()=>{r.current&&(t(eB(r.current)),r.current=null)},[t]),null}function dv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function fv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dv(Object(r),!0).forEach(function(n){nB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nB(e,t,r){return(t=iB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iB(e){var t=aB(e,"string");return typeof t=="symbol"?t:t+""}function aB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oB={xAxis:{},yAxis:{},zAxis:{}},Hx=Et({name:"cartesianAxis",initialState:oB,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload;e.yAxis[r]&&(e.yAxis[r]=fv(fv({},e.yAxis[r]),{},{width:n}))}}}),{addXAxis:sB,removeXAxis:lB,addYAxis:cB,removeYAxis:uB,addZAxis:fW,removeZAxis:hW,updateYAxisWidth:dB}=Hx.actions,fB=Hx.reducer,hB=O([De],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),pB=O([hB,_r,Sr],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),Kx=()=>W(pB),mB="Invariant failed";function gB(e,t){throw new Error(mB)}var vB=["x","y"];function Uu(){return Uu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Uu.apply(null,arguments)}function hv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Oi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hv(Object(r),!0).forEach(function(n){yB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yB(e,t,r){return(t=bB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bB(e){var t=wB(e,"string");return typeof t=="symbol"?t:t+""}function wB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xB(e,t){if(e==null)return{};var r,n,i=_B(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function _B(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function SB(e,t){var{x:r,y:n}=e,i=xB(e,vB),a="".concat(r),o=parseInt(a,10),s="".concat(n),l=parseInt(s,10),c="".concat(t.height||i.height),u=parseInt(c,10),d="".concat(t.width||i.width),f=parseInt(d,10);return Oi(Oi(Oi(Oi(Oi({},t),i),o?{x:o}:{}),l?{y:l}:{}),{},{height:u,width:f,name:t.name,radius:t.radius})}function Mf(e){return y.createElement(zL,Uu({shapeType:"rectangle",propTransformer:SB,activeClassName:"recharts-active-bar"},e))}var EB=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,i)=>{if(z(t))return t;var a=z(n)||Ie(n);return a?t(n,i):(a||gB(),r)}},jB={},Vx=Et({name:"errorBars",initialState:jB,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:i}=t.payload;e[r]&&(e[r]=e[r].map(a=>a.dataKey===n.dataKey&&a.direction===n.direction?i:a))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(i=>i.dataKey!==n.dataKey||i.direction!==n.direction))}}}),{addErrorBar:pW,replaceErrorBar:mW,removeErrorBar:gW}=Vx.actions,PB=Vx.reducer,OB=["children"];function kB(e,t){if(e==null)return{};var r,n,i=AB(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function AB(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var CB={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},TB=y.createContext(CB);function RB(e){var{children:t}=e,r=kB(e,OB);return y.createElement(TB.Provider,{value:r},t)}function Gx(e,t){var r,n,i=W(c=>jr(c,e)),a=W(c=>Pr(c,t)),o=(r=i==null?void 0:i.allowDataOverflow)!==null&&r!==void 0?r:mt.allowDataOverflow,s=(n=a==null?void 0:a.allowDataOverflow)!==null&&n!==void 0?n:gt.allowDataOverflow,l=o||s;return{needClip:l,needClipX:o,needClipY:s}}function IB(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,i=Kx(),{needClipX:a,needClipY:o,needClip:s}=Gx(t,r);if(!s)return null;var{x:l,y:c,width:u,height:d}=i;return y.createElement("clipPath",{id:"clipPath-".concat(n)},y.createElement("rect",{x:a?l:l-u/2,y:o?c:c-d/2,width:a?u:u*2,height:o?d:d*2}))}var $B=["onMouseEnter","onMouseLeave","onClick"],DB=["value","background","tooltipPosition"],MB=["id"],NB=["onMouseEnter","onClick","onMouseLeave"];function Br(){return Br=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Br.apply(null,arguments)}function pv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Qe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pv(Object(r),!0).forEach(function(n){LB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LB(e,t,r){return(t=BB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BB(e){var t=UB(e,"string");return typeof t=="symbol"?t:t+""}function UB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zo(e,t){if(e==null)return{};var r,n,i=FB(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function FB(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var zB=e=>{var{dataKey:t,name:r,fill:n,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:n,value:Q0(r,t),payload:e}]};function WB(e){var{dataKey:t,stroke:r,strokeWidth:n,fill:i,name:a,hide:o,unit:s}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:i,dataKey:t,nameKey:void 0,name:Q0(a,t),hide:o,type:e.tooltipType,color:e.fill,unit:s}}}function qB(e){var t=W(Xn),{data:r,dataKey:n,background:i,allOtherBarProps:a}=e,{onMouseEnter:o,onMouseLeave:s,onClick:l}=a,c=Zo(a,$B),u=Fx(o,n),d=zx(s),f=Wx(l,n);if(!i||r==null)return null;var p=ze(i,!1);return y.createElement(y.Fragment,null,r.map((m,g)=>{var{value:v,background:b,tooltipPosition:x}=m,w=Zo(m,DB);if(!b)return null;var _=u(m,g),S=d(m,g),E=f(m,g),j=Qe(Qe(Qe(Qe(Qe({option:i,isActive:String(g)===t},w),{},{fill:"#eee"},b),p),yd(c,m,g)),{},{onMouseEnter:_,onMouseLeave:S,onClick:E,dataKey:n,index:g,className:"recharts-bar-background-rectangle"});return y.createElement(Mf,Br({key:"background-bar-".concat(j.index)},j))}))}function HB(e){var{showLabels:t,children:r,rects:n}=e,i=n==null?void 0:n.map(a=>{var o={x:a.x,y:a.y,width:a.width,height:a.height};return Qe(Qe({},o),{},{value:a.value,payload:a.payload,parentViewBox:a.parentViewBox,viewBox:o,fill:a.fill})});return y.createElement(yL,{value:t?i:void 0},r)}function KB(e){var{shape:t,activeBar:r,baseProps:n,entry:i,index:a,dataKey:o}=e,s=W(Xn),l=W(bx),c=r&&String(a)===s&&(l==null||o===l),u=c?r:t;return y.createElement(Mf,Br({},n,i,{isActive:c,option:u,index:a,dataKey:o}))}function VB(e){var{shape:t,baseProps:r,entry:n,index:i,dataKey:a}=e;return y.createElement(Mf,Br({},r,n,{isActive:!1,option:t,index:i,dataKey:a}))}function GB(e){var{data:t,props:r}=e,n=ii(r),{id:i}=n,a=Zo(n,MB),{shape:o,dataKey:s,activeBar:l}=r,{onMouseEnter:c,onClick:u,onMouseLeave:d}=r,f=Zo(r,NB),p=Fx(c,s),m=zx(d),g=Wx(u,s);return t?y.createElement(y.Fragment,null,t.map((v,b)=>y.createElement(Lr,Br({className:"recharts-bar-rectangle"},yd(f,v,b),{onMouseEnter:p(v,b),onMouseLeave:m(v,b),onClick:g(v,b),key:"rectangle-".concat(v==null?void 0:v.x,"-").concat(v==null?void 0:v.y,"-").concat(v==null?void 0:v.value,"-").concat(b)}),l?y.createElement(KB,{shape:o,activeBar:l,baseProps:a,entry:v,index:b,dataKey:s}):y.createElement(VB,{shape:o,baseProps:a,entry:v,index:b,dataKey:s})))):null}function YB(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:i,isAnimationActive:a,animationBegin:o,animationDuration:s,animationEasing:l,onAnimationEnd:c,onAnimationStart:u}=t,d=r.current,f=Dd(t,"recharts-bar-"),[p,m]=y.useState(!1),g=!p,v=y.useCallback(()=>{typeof c=="function"&&c(),m(!1)},[c]),b=y.useCallback(()=>{typeof u=="function"&&u(),m(!0)},[u]);return y.createElement(HB,{showLabels:g,rects:n},y.createElement($d,{animationId:f,begin:o,duration:s,isActive:a,easing:l,onAnimationEnd:v,onAnimationStart:b,key:f},x=>{var w=x===1?n:n==null?void 0:n.map((_,S)=>{var E=d&&d[S];if(E)return Qe(Qe({},_),{},{x:Ze(E.x,_.x,x),y:Ze(E.y,_.y,x),width:Ze(E.width,_.width,x),height:Ze(E.height,_.height,x)});if(i==="horizontal"){var j=Ze(0,_.height,x);return Qe(Qe({},_),{},{y:_.y+_.height-j,height:j})}var k=Ze(0,_.width,x);return Qe(Qe({},_),{},{width:k})});return x>0&&(r.current=w??null),w==null?null:y.createElement(Lr,null,y.createElement(GB,{props:t,data:w}))}),y.createElement(xL,{label:t.label}),t.children)}function JB(e){var t=y.useRef(null);return y.createElement(YB,{previousRectanglesRef:t,props:e})}var Yx=0,XB=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:tt(e,t)}};class ZB extends y.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:i,xAxisId:a,yAxisId:o,needClip:s,background:l,id:c}=this.props;if(t||r==null)return null;var u=ge("recharts-bar",i),d=c;return y.createElement(Lr,{className:u,id:c},s&&y.createElement("defs",null,y.createElement(IB,{clipPathId:d,xAxisId:a,yAxisId:o})),y.createElement(Lr,{className:"recharts-bar-rectangles",clipPath:s?"url(#clipPath-".concat(d,")"):void 0},y.createElement(qB,{data:r,dataKey:n,background:l,allOtherBarProps:this.props}),y.createElement(JB,this.props)))}}var QB={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!ai.isSsr,legendType:"rect",minPointSize:Yx,xAxisId:0,yAxisId:0};function e4(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:a,activeBar:o,animationBegin:s,animationDuration:l,animationEasing:c,isAnimationActive:u}=e,{needClip:d}=Gx(t,r),f=Id(),p=Nt(),m=qO(e.children,Ax),g=W(x=>k4(x,t,r,p,e.id,m));if(f!=="vertical"&&f!=="horizontal")return null;var v,b=g==null?void 0:g[0];return b==null||b.height==null||b.width==null?v=0:v=f==="vertical"?b.height/2:b.width/2,y.createElement(RB,{xAxisId:t,yAxisId:r,data:g,dataPointFormatter:XB,errorBarOffset:v},y.createElement(ZB,Br({},e,{layout:f,needClip:d,data:g,xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:a,activeBar:o,animationBegin:s,animationDuration:l,animationEasing:c,isAnimationActive:u})))}function t4(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:i,bandSize:a,xAxis:o,yAxis:s,xAxisTicks:l,yAxisTicks:c,stackedData:u,displayedData:d,offset:f,cells:p,parentViewBox:m}=e,g=t==="horizontal"?s:o,v=u?g.scale.domain():null,b=tT({numericAxis:g});return d.map((x,w)=>{var _,S,E,j,k,A;u?_=YC(u[w],v):(_=tt(x,r),Array.isArray(_)||(_=[b,_]));var I=EB(n,Yx)(_[1],w);if(t==="horizontal"){var C,[$,U]=[s.scale(_[0]),s.scale(_[1])];S=sm({axis:o,ticks:l,bandSize:a,offset:i.offset,entry:x,index:w}),E=(C=U??$)!==null&&C!==void 0?C:void 0,j=i.size;var T=$-U;if(k=wt(T)?0:T,A={x:S,y:f.top,width:j,height:f.height},Math.abs(I)>0&&Math.abs(k)<Math.abs(I)){var L=st(k||I)*(Math.abs(I)-Math.abs(k));E-=L,k+=L}}else{var[M,q]=[o.scale(_[0]),o.scale(_[1])];if(S=M,E=sm({axis:s,ticks:c,bandSize:a,offset:i.offset,entry:x,index:w}),j=q-M,k=i.size,A={x:f.left,y:E,width:f.width,height:k},Math.abs(I)>0&&Math.abs(j)<Math.abs(I)){var J=st(j||I)*(Math.abs(I)-Math.abs(j));j+=J}}if(S==null||E==null||j==null||k==null)return null;var X=Qe(Qe({},x),{},{x:S,y:E,width:j,height:k,value:u?_:_[1],payload:x,background:A,tooltipPosition:{x:S+j/2,y:E+k/2},parentViewBox:m},p&&p[w]&&p[w].props);return X}).filter(Boolean)}function r4(e){var t=Lt(e,QB),r=Nt();return y.createElement(JL,{id:t.id,type:"bar"},n=>y.createElement(y.Fragment,null,y.createElement(HL,{legendPayload:zB(t)}),y.createElement(WL,{fn:WB,args:t}),y.createElement(rB,{type:"bar",id:n,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:eT(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),y.createElement(e4,Br({},t,{id:n}))))}var Fu=y.memo(r4);Fu.displayName="Bar";function mv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Za(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mv(Object(r),!0).forEach(function(n){n4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function n4(e,t,r){return(t=i4(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i4(e){var t=a4(e,"string");return typeof t=="symbol"?t:t+""}function a4(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var o4=(e,t)=>t,s4=(e,t,r)=>r,l4=(e,t,r,n)=>n,c4=(e,t,r,n,i)=>i,xa=O([vf,c4],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),u4=O([xa],e=>e==null?void 0:e.maxBarSize),d4=(e,t,r,n,i,a)=>a,gv=(e,t,r)=>{var n=r??e;if(!Ie(n))return Ht(n,t,0)},f4=O([le,vf,o4,s4,l4],(e,t,r,n,i)=>t.filter(a=>e==="horizontal"?a.xAxisId===r:a.yAxisId===n).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),h4=(e,t,r,n)=>{var i=le(e);return i==="horizontal"?$u(e,"yAxis",r,n):$u(e,"xAxis",t,n)},p4=(e,t,r)=>{var n=le(e);return n==="horizontal"?_g(e,"xAxis",t):_g(e,"yAxis",r)},m4=(e,t,r)=>{var n={},i=e.filter(Is),a=e.filter(c=>c.stackId==null),o=i.reduce((c,u)=>(c[u.stackId]||(c[u.stackId]=[]),c[u.stackId].push(u),c),n),s=Object.entries(o).map(c=>{var[u,d]=c,f=d.map(m=>m.dataKey),p=gv(t,r,d[0].barSize);return{stackId:u,dataKeys:f,barSize:p}}),l=a.map(c=>{var u=[c.dataKey].filter(f=>f!=null),d=gv(t,r,c.barSize);return{stackId:void 0,dataKeys:u,barSize:d}});return[...s,...l]},g4=O([f4,k$,p4],m4),v4=(e,t,r,n,i)=>{var a,o,s=xa(e,t,r,n,i);if(s!=null){var l=le(e),c=cw(e),{maxBarSize:u}=s,d=Ie(u)?c:u,f,p;return l==="horizontal"?(f=Jn(e,"xAxis",t,n),p=Yn(e,"xAxis",t,n)):(f=Jn(e,"yAxis",r,n),p=Yn(e,"yAxis",r,n)),(a=(o=Cd(f,p,!0))!==null&&o!==void 0?o:d)!==null&&a!==void 0?a:0}},Jx=(e,t,r,n)=>{var i=le(e),a,o;return i==="horizontal"?(a=Jn(e,"xAxis",t,n),o=Yn(e,"xAxis",t,n)):(a=Jn(e,"yAxis",r,n),o=Yn(e,"yAxis",r,n)),Cd(a,o)};function y4(e,t,r,n,i){var a=n.length;if(!(a<1)){var o=Ht(e,r,0,!0),s,l=[];if(_t(n[0].barSize)){var c=!1,u=r/a,d=n.reduce((b,x)=>b+(x.barSize||0),0);d+=(a-1)*o,d>=r&&(d-=(a-1)*o,o=0),d>=r&&u>0&&(c=!0,u*=.9,d=a*u);var f=(r-d)/2>>0,p={offset:f-o,size:0};s=n.reduce((b,x)=>{var w,_={stackId:x.stackId,dataKeys:x.dataKeys,position:{offset:p.offset+p.size+o,size:c?u:(w=x.barSize)!==null&&w!==void 0?w:0}},S=[...b,_];return p=S[S.length-1].position,S},l)}else{var m=Ht(t,r,0,!0);r-2*m-(a-1)*o<=0&&(o=0);var g=(r-2*m-(a-1)*o)/a;g>1&&(g>>=0);var v=_t(i)?Math.min(g,i):g;s=n.reduce((b,x,w)=>[...b,{stackId:x.stackId,dataKeys:x.dataKeys,position:{offset:m+(g+o)*w+(g-v)/2,size:v}}],l)}return s}}var b4=(e,t,r,n,i,a,o)=>{var s=Ie(o)?t:o,l=y4(r,n,i!==a?i:a,e,s);return i!==a&&l!=null&&(l=l.map(c=>Za(Za({},c),{},{position:Za(Za({},c.position),{},{offset:c.position.offset-i/2})}))),l},w4=O([g4,cw,O$,uw,v4,Jx,u4],b4),x4=(e,t,r,n)=>Jn(e,"xAxis",t,n),_4=(e,t,r,n)=>Jn(e,"yAxis",r,n),S4=(e,t,r,n)=>Yn(e,"xAxis",t,n),E4=(e,t,r,n)=>Yn(e,"yAxis",r,n),j4=O([w4,xa],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),P4=(e,t)=>{var r=mf(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var i=e[n];if(i){var{stackedData:a}=i;if(a)return a.find(o=>o.key===r)}}}},O4=O([h4,xa],P4),k4=O([De,Td,x4,_4,S4,E4,j4,le,of,Jx,O4,xa,d4],(e,t,r,n,i,a,o,s,l,c,u,d,f)=>{var{chartData:p,dataStartIndex:m,dataEndIndex:g}=l;if(!(d==null||o==null||t==null||s!=="horizontal"&&s!=="vertical"||r==null||n==null||i==null||a==null||c==null)){var{data:v}=d,b;if(v!=null&&v.length>0?b=v:b=p==null?void 0:p.slice(m,g+1),b!=null)return t4({layout:s,barSettings:d,pos:o,parentViewBox:t,bandSize:c,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:a,stackedData:u,displayedData:b,offset:e,cells:f})}}),A4=e=>{var{chartData:t}=e,r=$e(),n=Nt();return y.useEffect(()=>n?()=>{}:(r(Rg(t)),()=>{r(Rg(void 0))}),[t,r,n]),null},vv={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},Xx=Et({name:"brush",initialState:vv,reducers:{setBrushSettings(e,t){return t.payload==null?vv:t.payload}}}),{setBrushSettings:vW}=Xx.actions,C4=Xx.reducer;function T4(e,t,r){return(t=R4(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R4(e){var t=I4(e,"string");return typeof t=="symbol"?t:t+""}function I4(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Nf{static create(t){return new Nf(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(t)+a}default:return this.scale(t)}if(r){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],i=r[r.length-1];return n<=i?t>=n&&t<=i:t>=i&&t<=n}}T4(Nf,"EPS",1e-4);function $4(e){return(e%180+180)%180}var D4=function(t){var{width:r,height:n}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=$4(i),o=a*Math.PI/180,s=Math.atan(n/r),l=o>s&&o<Math.PI-s?n/Math.sin(o):r/Math.cos(o);return Math.abs(l)},M4={dots:[],areas:[],lines:[]},Zx=Et({name:"referenceElements",initialState:M4,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=mr(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=mr(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=mr(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:yW,removeDot:bW,addArea:wW,removeArea:xW,addLine:_W,removeLine:SW}=Zx.actions,N4=Zx.reducer,L4=y.createContext(void 0),B4=e=>{var{children:t}=e,[r]=y.useState("".concat(Vi("recharts"),"-clip")),n=Kx();if(n==null)return null;var{x:i,y:a,width:o,height:s}=n;return y.createElement(L4.Provider,{value:r},y.createElement("defs",null,y.createElement("clipPath",{id:r},y.createElement("rect",{x:i,y:a,height:s,width:o}))),t)};function Zn(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function Qx(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],i=0;i<e.length;i+=t)n.push(e[i]);return n}function U4(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return D4(n,r)}function F4(e,t,r){var n=r==="width",{x:i,y:a,width:o,height:s}=e;return t===1?{start:n?i:a,end:n?i+o:a+s}:{start:n?i+o:a+s,end:n?i:a}}function Qo(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var a=r();return e*(t-e*a/2-n)>=0&&e*(t+e*a/2-i)<=0}function z4(e,t){return Qx(e,t+1)}function W4(e,t,r,n,i){for(var a=(n||[]).slice(),{start:o,end:s}=t,l=0,c=1,u=o,d=function(){var m=n==null?void 0:n[l];if(m===void 0)return{v:Qx(n,c)};var g=l,v,b=()=>(v===void 0&&(v=r(m,g)),v),x=m.coordinate,w=l===0||Qo(e,x,b,u,s);w||(l=0,u=o,c+=1),w&&(u=x+e*(b()/2+i),l+=c)},f;c<=a.length;)if(f=d(),f)return f.v;return[]}function yv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ke(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yv(Object(r),!0).forEach(function(n){q4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function q4(e,t,r){return(t=H4(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function H4(e){var t=K4(e,"string");return typeof t=="symbol"?t:t+""}function K4(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function V4(e,t,r,n,i){for(var a=(n||[]).slice(),o=a.length,{start:s}=t,{end:l}=t,c=function(f){var p=a[f],m,g=()=>(m===void 0&&(m=r(p,f)),m);if(f===o-1){var v=e*(p.coordinate+e*g()/2-l);a[f]=p=Ke(Ke({},p),{},{tickCoord:v>0?p.coordinate-v*e:p.coordinate})}else a[f]=p=Ke(Ke({},p),{},{tickCoord:p.coordinate});var b=Qo(e,p.tickCoord,g,s,l);b&&(l=p.tickCoord-e*(g()/2+i),a[f]=Ke(Ke({},p),{},{isShow:!0}))},u=o-1;u>=0;u--)c(u);return a}function G4(e,t,r,n,i,a){var o=(n||[]).slice(),s=o.length,{start:l,end:c}=t;if(a){var u=n[s-1],d=r(u,s-1),f=e*(u.coordinate+e*d/2-c);o[s-1]=u=Ke(Ke({},u),{},{tickCoord:f>0?u.coordinate-f*e:u.coordinate});var p=Qo(e,u.tickCoord,()=>d,l,c);p&&(c=u.tickCoord-e*(d/2+i),o[s-1]=Ke(Ke({},u),{},{isShow:!0}))}for(var m=a?s-1:s,g=function(x){var w=o[x],_,S=()=>(_===void 0&&(_=r(w,x)),_);if(x===0){var E=e*(w.coordinate-e*S()/2-l);o[x]=w=Ke(Ke({},w),{},{tickCoord:E<0?w.coordinate-E*e:w.coordinate})}else o[x]=w=Ke(Ke({},w),{},{tickCoord:w.coordinate});var j=Qo(e,w.tickCoord,S,l,c);j&&(l=w.tickCoord+e*(S()/2+i),o[x]=Ke(Ke({},w),{},{isShow:!0}))},v=0;v<m;v++)g(v);return o}function Lf(e,t,r){var{tick:n,ticks:i,viewBox:a,minTickGap:o,orientation:s,interval:l,tickFormatter:c,unit:u,angle:d}=e;if(!i||!i.length||!n)return[];if(z(l)||ai.isSsr){var f;return(f=z4(i,z(l)?l:0))!==null&&f!==void 0?f:[]}var p=[],m=s==="top"||s==="bottom"?"width":"height",g=u&&m==="width"?qi(u,{fontSize:t,letterSpacing:r}):{width:0,height:0},v=(w,_)=>{var S=typeof c=="function"?c(w.value,_):w.value;return m==="width"?U4(qi(S,{fontSize:t,letterSpacing:r}),g,d):qi(S,{fontSize:t,letterSpacing:r})[m]},b=i.length>=2?st(i[1].coordinate-i[0].coordinate):1,x=F4(a,b,m);return l==="equidistantPreserveStart"?W4(b,x,v,i,o):(l==="preserveStart"||l==="preserveStartEnd"?p=G4(b,x,v,i,o,l==="preserveStartEnd"):p=V4(b,x,v,i,o),p.filter(w=>w.isShow))}var Y4=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:a=0}=e,o=0;if(t){t.forEach(u=>{if(u){var d=u.getBoundingClientRect();d.width>o&&(o=d.width)}});var s=r?r.getBoundingClientRect().width:0,l=i+a,c=o+l+s+(r?n:0);return Math.round(c)}return 0},J4=["axisLine","width","height","className","hide","ticks"],X4=["viewBox"],Z4=["viewBox"];function zu(e,t){if(e==null)return{};var r,n,i=Q4(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Q4(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function pn(){return pn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pn.apply(null,arguments)}function bv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Oe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bv(Object(r),!0).forEach(function(n){e5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function e5(e,t,r){return(t=t5(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t5(e){var t=r5(e,"string");return typeof t=="symbol"?t:t+""}function r5(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bf={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function n5(e){var{x:t,y:r,width:n,height:i,orientation:a,mirror:o,axisLine:s,otherSvgProps:l}=e;if(!s)return null;var c=Oe(Oe(Oe({},l),ze(s,!1)),{},{fill:"none"});if(a==="top"||a==="bottom"){var u=+(a==="top"&&!o||a==="bottom"&&o);c=Oe(Oe({},c),{},{x1:t,y1:r+u*i,x2:t+n,y2:r+u*i})}else{var d=+(a==="left"&&!o||a==="right"&&o);c=Oe(Oe({},c),{},{x1:t+d*n,y1:r,x2:t+d*n,y2:r+i})}return y.createElement("line",pn({},c,{className:ge("recharts-cartesian-axis-line",zn(s,"className"))}))}function i5(e,t,r,n,i,a,o,s,l){var c,u,d,f,p,m,g=s?-1:1,v=e.tickSize||o,b=z(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":c=u=e.coordinate,f=r+ +!s*i,d=f-g*v,m=d-g*l,p=b;break;case"left":d=f=e.coordinate,u=t+ +!s*n,c=u-g*v,p=c-g*l,m=b;break;case"right":d=f=e.coordinate,u=t+ +s*n,c=u+g*v,p=c+g*l,m=b;break;default:c=u=e.coordinate,f=r+ +s*i,d=f+g*v,m=d+g*l,p=b;break}return{line:{x1:c,y1:d,x2:u,y2:f},tick:{x:p,y:m}}}function a5(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function o5(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function s5(e){var{option:t,tickProps:r,value:n}=e,i,a=ge(r.className,"recharts-cartesian-axis-tick-value");if(y.isValidElement(t))i=y.cloneElement(t,Oe(Oe({},r),{},{className:a}));else if(typeof t=="function")i=t(Oe(Oe({},r),{},{className:a}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=ge(o,t==null?void 0:t.className)),i=y.createElement($f,pn({},r,{className:o}),n)}return i}function l5(e){var{ticks:t=[],tick:r,tickLine:n,stroke:i,tickFormatter:a,unit:o,padding:s,tickTextProps:l,orientation:c,mirror:u,x:d,y:f,width:p,height:m,tickSize:g,tickMargin:v,fontSize:b,letterSpacing:x,getTicksConfig:w,events:_}=e,S=Lf(Oe(Oe({},w),{},{ticks:t}),b,x),E=a5(c,u),j=o5(c,u),k=ii(w),A=ze(r,!1),I=Oe(Oe({},k),{},{fill:"none"},ze(n,!1)),C=S.map(($,U)=>{var{line:T,tick:L}=i5($,d,f,p,m,c,g,u,v),M=Oe(Oe(Oe(Oe({textAnchor:E,verticalAnchor:j},k),{},{stroke:"none",fill:i},A),L),{},{index:U,payload:$,visibleTicksCount:S.length,tickFormatter:a,padding:s},l);return y.createElement(Lr,pn({className:"recharts-cartesian-axis-tick",key:"tick-".concat($.value,"-").concat($.coordinate,"-").concat($.tickCoord)},yd(_,$,U)),n&&y.createElement("line",pn({},I,T,{className:ge("recharts-cartesian-axis-tick-line",zn(n,"className"))})),r&&y.createElement(s5,{option:r,tickProps:M,value:"".concat(typeof a=="function"?a($.value,U):$.value).concat(o||"")}))});return C.length>0?y.createElement("g",{className:"recharts-cartesian-axis-ticks"},C):null}var c5=y.forwardRef((e,t)=>{var{axisLine:r,width:n,height:i,className:a,hide:o,ticks:s}=e,l=zu(e,J4),[c,u]=y.useState(""),[d,f]=y.useState(""),p=y.useRef([]);y.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var g;return Y4({ticks:p.current,label:(g=e.labelRef)===null||g===void 0?void 0:g.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var m=y.useCallback(g=>{if(g){var v=g.getElementsByClassName("recharts-cartesian-axis-tick-value");p.current=Array.from(v);var b=v[0];if(b){var x=window.getComputedStyle(b),w=x.fontSize,_=x.letterSpacing;(w!==c||_!==d)&&(u(w),f(_))}}},[c,d]);return o||n!=null&&n<=0||i!=null&&i<=0?null:y.createElement(Lr,{className:ge("recharts-cartesian-axis",a),ref:m},y.createElement(n5,{x:e.x,y:e.y,width:n,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:ii(e)}),y.createElement(l5,{ticks:s,tick:e.tick,tickLine:e.tickLine,stroke:e.stroke,tickFormatter:e.tickFormatter,unit:e.unit,padding:e.padding,tickTextProps:e.tickTextProps,orientation:e.orientation,mirror:e.mirror,x:e.x,y:e.y,width:e.width,height:e.height,tickSize:e.tickSize,tickMargin:e.tickMargin,fontSize:c,letterSpacing:d,getTicksConfig:e,events:l}),y.createElement(XN,{x:e.x,y:e.y,width:e.width,height:e.height},y.createElement(sL,{label:e.label}),e.children))}),u5=y.memo(c5,(e,t)=>{var{viewBox:r}=e,n=zu(e,X4),{viewBox:i}=t,a=zu(t,Z4);return Zn(r,i)&&Zn(n,a)}),Uf=y.forwardRef((e,t)=>{var r=Lt(e,Bf);return y.createElement(u5,pn({},r,{ref:t}))});Uf.displayName="CartesianAxis";var d5=["x1","y1","x2","y2","key"],f5=["offset"],h5=["xAxisId","yAxisId"],p5=["xAxisId","yAxisId"];function wv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ge(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wv(Object(r),!0).forEach(function(n){m5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function m5(e,t,r){return(t=g5(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g5(e){var t=v5(e,"string");return typeof t=="symbol"?t:t+""}function v5(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nn(){return nn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nn.apply(null,arguments)}function es(e,t){if(e==null)return{};var r,n,i=y5(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function y5(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var b5=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:i,width:a,height:o,ry:s}=e;return y.createElement("rect",{x:n,y:i,ry:s,width:a,height:o,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function e1(e,t){var r;if(y.isValidElement(e))r=y.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var{x1:n,y1:i,x2:a,y2:o,key:s}=t,l=es(t,d5),c=ii(l),{offset:u}=c,d=es(c,f5);r=y.createElement("line",nn({},d,{x1:n,y1:i,x2:a,y2:o,fill:"none",key:s}))}return r}function w5(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=e,s=es(e,h5),l=i.map((c,u)=>{var d=Ge(Ge({},s),{},{x1:t,y1:c,x2:t+r,y2:c,key:"line-".concat(u),index:u});return e1(n,d)});return y.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function x5(e){var{y:t,height:r,vertical:n=!0,verticalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=e,s=es(e,p5),l=i.map((c,u)=>{var d=Ge(Ge({},s),{},{x1:c,y1:t,x2:c,y2:t+r,key:"line-".concat(u),index:u});return e1(n,d)});return y.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function _5(e){var{horizontalFill:t,fillOpacity:r,x:n,y:i,width:a,height:o,horizontalPoints:s,horizontal:l=!0}=e;if(!l||!t||!t.length)return null;var c=s.map(d=>Math.round(d+i-i)).sort((d,f)=>d-f);i!==c[0]&&c.unshift(0);var u=c.map((d,f)=>{var p=!c[f+1],m=p?i+o-d:c[f+1]-d;if(m<=0)return null;var g=f%t.length;return y.createElement("rect",{key:"react-".concat(f),y:d,x:n,height:m,width:a,stroke:"none",fill:t[g],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return y.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},u)}function S5(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:i,y:a,width:o,height:s,verticalPoints:l}=e;if(!t||!r||!r.length)return null;var c=l.map(d=>Math.round(d+i-i)).sort((d,f)=>d-f);i!==c[0]&&c.unshift(0);var u=c.map((d,f)=>{var p=!c[f+1],m=p?i+o-d:c[f+1]-d;if(m<=0)return null;var g=f%r.length;return y.createElement("rect",{key:"react-".concat(f),x:d,y:a,width:m,height:s,stroke:"none",fill:r[g],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return y.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},u)}var E5=(e,t)=>{var{xAxis:r,width:n,height:i,offset:a}=e;return X0(Lf(Ge(Ge(Ge({},Bf),r),{},{ticks:Z0(r),viewBox:{x:0,y:0,width:n,height:i}})),a.left,a.left+a.width,t)},j5=(e,t)=>{var{yAxis:r,width:n,height:i,offset:a}=e;return X0(Lf(Ge(Ge(Ge({},Bf),r),{},{ticks:Z0(r),viewBox:{x:0,y:0,width:n,height:i}})),a.top,a.top+a.height,t)},P5={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function t1(e){var t=rb(),r=nb(),n=tb(),i=Ge(Ge({},Lt(e,P5)),{},{x:z(e.x)?e.x:n.left,y:z(e.y)?e.y:n.top,width:z(e.width)?e.width:n.width,height:z(e.height)?e.height:n.height}),{xAxisId:a,yAxisId:o,x:s,y:l,width:c,height:u,syncWithTicks:d,horizontalValues:f,verticalValues:p}=i,m=Nt(),g=W(A=>Sg(A,"xAxis",a,m)),v=W(A=>Sg(A,"yAxis",o,m));if(!z(c)||c<=0||!z(u)||u<=0||!z(s)||s!==+s||!z(l)||l!==+l)return null;var b=i.verticalCoordinatesGenerator||E5,x=i.horizontalCoordinatesGenerator||j5,{horizontalPoints:w,verticalPoints:_}=i;if((!w||!w.length)&&typeof x=="function"){var S=f&&f.length,E=x({yAxis:v?Ge(Ge({},v),{},{ticks:S?f:v.ticks}):void 0,width:t,height:r,offset:n},S?!0:d);Wi(Array.isArray(E),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof E,"]")),Array.isArray(E)&&(w=E)}if((!_||!_.length)&&typeof b=="function"){var j=p&&p.length,k=b({xAxis:g?Ge(Ge({},g),{},{ticks:j?p:g.ticks}):void 0,width:t,height:r,offset:n},j?!0:d);Wi(Array.isArray(k),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof k,"]")),Array.isArray(k)&&(_=k)}return y.createElement("g",{className:"recharts-cartesian-grid"},y.createElement(b5,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),y.createElement(_5,nn({},i,{horizontalPoints:w})),y.createElement(S5,nn({},i,{verticalPoints:_})),y.createElement(w5,nn({},i,{offset:n,horizontalPoints:w,xAxis:g,yAxis:v})),y.createElement(x5,nn({},i,{offset:n,verticalPoints:_,xAxis:g,yAxis:v})))}t1.displayName="CartesianGrid";var O5=["dangerouslySetInnerHTML","ticks"],k5=["id"],A5=["domain"],C5=["domain"];function Wu(){return Wu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wu.apply(null,arguments)}function ts(e,t){if(e==null)return{};var r,n,i=T5(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function T5(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function R5(e){var t=$e();return y.useEffect(()=>(t(sB(e)),()=>{t(lB(e))}),[e,t]),null}var I5=e=>{var{xAxisId:t,className:r}=e,n=W(Td),i=Nt(),a="xAxis",o=W(v=>di(v,a,t,i)),s=W(v=>ex(v,a,t,i)),l=W(v=>Jw(v,t)),c=W(v=>wD(v,t)),u=W(v=>bw(v,t));if(l==null||c==null||u==null)return null;var{dangerouslySetInnerHTML:d,ticks:f}=e,p=ts(e,O5),{id:m}=u,g=ts(u,k5);return y.createElement(Uf,Wu({},p,g,{scale:o,x:c.x,y:c.y,width:l.width,height:l.height,className:ge("recharts-".concat(a," ").concat(a),r),viewBox:n,ticks:s}))},$5={allowDataOverflow:mt.allowDataOverflow,allowDecimals:mt.allowDecimals,allowDuplicatedCategory:mt.allowDuplicatedCategory,height:mt.height,hide:!1,mirror:mt.mirror,orientation:mt.orientation,padding:mt.padding,reversed:mt.reversed,scale:mt.scale,tickCount:mt.tickCount,type:mt.type,xAxisId:0},D5=e=>{var t,r,n,i,a,o=Lt(e,$5);return y.createElement(y.Fragment,null,y.createElement(R5,{interval:(t=o.interval)!==null&&t!==void 0?t:"preserveEnd",id:o.xAxisId,scale:o.scale,type:o.type,padding:o.padding,allowDataOverflow:o.allowDataOverflow,domain:o.domain,dataKey:o.dataKey,allowDuplicatedCategory:o.allowDuplicatedCategory,allowDecimals:o.allowDecimals,tickCount:o.tickCount,includeHidden:(r=o.includeHidden)!==null&&r!==void 0?r:!1,reversed:o.reversed,ticks:o.ticks,height:o.height,orientation:o.orientation,mirror:o.mirror,hide:o.hide,unit:o.unit,name:o.name,angle:(n=o.angle)!==null&&n!==void 0?n:0,minTickGap:(i=o.minTickGap)!==null&&i!==void 0?i:5,tick:(a=o.tick)!==null&&a!==void 0?a:!0,tickFormatter:o.tickFormatter}),y.createElement(I5,o))},M5=(e,t)=>{var{domain:r}=e,n=ts(e,A5),{domain:i}=t,a=ts(t,C5);return Zn(n,a)?Array.isArray(r)&&r.length===2&&Array.isArray(i)&&i.length===2?r[0]===i[0]&&r[1]===i[1]:Zn({domain:r},{domain:i}):!1},r1=y.memo(D5,M5);r1.displayName="XAxis";var N5=["dangerouslySetInnerHTML","ticks"],L5=["id"],B5=["domain"],U5=["domain"];function qu(){return qu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qu.apply(null,arguments)}function rs(e,t){if(e==null)return{};var r,n,i=F5(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function F5(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function z5(e){var t=$e();return y.useEffect(()=>(t(cB(e)),()=>{t(uB(e))}),[e,t]),null}var W5=e=>{var{yAxisId:t,className:r,width:n,label:i}=e,a=y.useRef(null),o=y.useRef(null),s=W(Td),l=Nt(),c=$e(),u="yAxis",d=W(S=>di(S,u,t,l)),f=W(S=>Xw(S,t)),p=W(S=>_D(S,t)),m=W(S=>ex(S,u,t,l)),g=W(S=>ww(S,t));if(y.useLayoutEffect(()=>{if(!(n!=="auto"||!f||Df(i)||y.isValidElement(i)||g==null)){var S=a.current;if(S){var E=S.getCalculatedWidth();Math.round(f.width)!==Math.round(E)&&c(dB({id:t,width:E}))}}},[m,f,c,i,t,n,g]),f==null||p==null||g==null)return null;var{dangerouslySetInnerHTML:v,ticks:b}=e,x=rs(e,N5),{id:w}=g,_=rs(g,L5);return y.createElement(Uf,qu({},x,_,{ref:a,labelRef:o,scale:d,x:p.x,y:p.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:f.width,height:f.height,className:ge("recharts-".concat(u," ").concat(u),r),viewBox:s,ticks:m}))},q5={allowDataOverflow:gt.allowDataOverflow,allowDecimals:gt.allowDecimals,allowDuplicatedCategory:gt.allowDuplicatedCategory,hide:!1,mirror:gt.mirror,orientation:gt.orientation,padding:gt.padding,reversed:gt.reversed,scale:gt.scale,tickCount:gt.tickCount,type:gt.type,width:gt.width,yAxisId:0},H5=e=>{var t,r,n,i,a,o=Lt(e,q5);return y.createElement(y.Fragment,null,y.createElement(z5,{interval:(t=o.interval)!==null&&t!==void 0?t:"preserveEnd",id:o.yAxisId,scale:o.scale,type:o.type,domain:o.domain,allowDataOverflow:o.allowDataOverflow,dataKey:o.dataKey,allowDuplicatedCategory:o.allowDuplicatedCategory,allowDecimals:o.allowDecimals,tickCount:o.tickCount,padding:o.padding,includeHidden:(r=o.includeHidden)!==null&&r!==void 0?r:!1,reversed:o.reversed,ticks:o.ticks,width:o.width,orientation:o.orientation,mirror:o.mirror,hide:o.hide,unit:o.unit,name:o.name,angle:(n=o.angle)!==null&&n!==void 0?n:0,minTickGap:(i=o.minTickGap)!==null&&i!==void 0?i:5,tick:(a=o.tick)!==null&&a!==void 0?a:!0,tickFormatter:o.tickFormatter}),y.createElement(W5,o))},K5=(e,t)=>{var{domain:r}=e,n=rs(e,B5),{domain:i}=t,a=rs(t,U5);return Zn(n,a)?Array.isArray(r)&&r.length===2&&Array.isArray(i)&&i.length===2?r[0]===i[0]&&r[1]===i[1]:Zn({domain:r},{domain:i}):!1},n1=y.memo(H5,K5);n1.displayName="YAxis";var $c={exports:{}},Dc={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xv;function V5(){if(xv)return Dc;xv=1;var e=Qu();function t(l,c){return l===c&&(l!==0||1/l===1/c)||l!==l&&c!==c}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,i=e.useRef,a=e.useEffect,o=e.useMemo,s=e.useDebugValue;return Dc.useSyncExternalStoreWithSelector=function(l,c,u,d,f){var p=i(null);if(p.current===null){var m={hasValue:!1,value:null};p.current=m}else m=p.current;p=o(function(){function v(S){if(!b){if(b=!0,x=S,S=d(S),f!==void 0&&m.hasValue){var E=m.value;if(f(E,S))return w=E}return w=S}if(E=w,r(x,S))return E;var j=d(S);return f!==void 0&&f(E,j)?(x=S,E):(x=S,w=j)}var b=!1,x,w,_=u===void 0?null:u;return[function(){return v(c())},_===null?void 0:function(){return v(_())}]},[c,u,d,f]);var g=n(l,p[0],p[1]);return a(function(){m.hasValue=!0,m.value=g},[g]),s(g),g},Dc}var _v;function G5(){return _v||(_v=1,$c.exports=V5()),$c.exports}G5();function Y5(e){e()}function J5(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Y5(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=t={callback:r,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!n||e===null||(n=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var Sv={notify(){},get:()=>[]};function X5(e,t){let r,n=Sv,i=0,a=!1;function o(g){u();const v=n.subscribe(g);let b=!1;return()=>{b||(b=!0,v(),d())}}function s(){n.notify()}function l(){m.onStateChange&&m.onStateChange()}function c(){return a}function u(){i++,r||(r=e.subscribe(l),n=J5())}function d(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=Sv)}function f(){a||(a=!0,u())}function p(){a&&(a=!1,d())}const m={addNestedSub:o,notifyNestedSubs:s,handleChangeWrapper:l,isSubscribed:c,trySubscribe:f,tryUnsubscribe:p,getListeners:()=>n};return m}var Z5=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Q5=Z5(),eU=()=>typeof navigator<"u"&&navigator.product==="ReactNative",tU=eU(),rU=()=>Q5||tU?y.useLayoutEffect:y.useEffect,nU=rU(),Mc=Symbol.for("react-redux-context"),Nc=typeof globalThis<"u"?globalThis:{};function iU(){if(!y.createContext)return{};const e=Nc[Mc]??(Nc[Mc]=new Map);let t=e.get(y.createContext);return t||(t=y.createContext(null),e.set(y.createContext,t)),t}var aU=iU();function oU(e){const{children:t,context:r,serverState:n,store:i}=e,a=y.useMemo(()=>{const l=X5(i);return{store:i,subscription:l,getServerState:n?()=>n:void 0}},[i,n]),o=y.useMemo(()=>i.getState(),[i]);nU(()=>{const{subscription:l}=a;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),o!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[a,o]);const s=r||aU;return y.createElement(s.Provider,{value:a},t)}var sU=oU,lU=(e,t)=>t,Ff=O([lU,le,gw,Ae,mx,Or,PM,De],TM),zf=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},i1=$t("mouseClick"),a1=ca();a1.startListening({actionCreator:i1,effect:(e,t)=>{var r=e.payload,n=Ff(t.getState(),zf(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(DD({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var Hu=$t("mouseMove"),o1=ca();o1.startListening({actionCreator:Hu,effect:(e,t)=>{var r=e.payload,n=t.getState(),i=jf(n,n.tooltip.settings.shared),a=Ff(n,zf(r));i==="axis"&&((a==null?void 0:a.activeIndex)!=null?t.dispatch(lx({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):t.dispatch(sx()))}});var Ev={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},s1=Et({name:"rootProps",initialState:Ev,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:Ev.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),cU=s1.reducer,{updateOptions:uU}=s1.actions,l1=Et({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:EW}=l1.actions,dU=l1.reducer,c1=$t("keyDown"),u1=$t("focus"),Wf=ca();Wf.startListening({actionCreator:c1,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var o=Number(Pf(i,hi(r))),s=Or(r);if(a==="Enter"){var l=Go(r,"axis","hover",String(i.index));t.dispatch(Mu({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:l}));return}var c=PD(r),u=c==="left-to-right"?1:-1,d=a==="ArrowRight"?1:-1,f=o+d*u;if(!(s==null||f>=s.length||f<0)){var p=Go(r,"axis","hover",String(f));t.dispatch(Mu({active:!0,activeIndex:f.toString(),activeDataKey:void 0,activeCoordinate:p}))}}}}});Wf.startListening({actionCreator:u1,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var a="0",o=Go(r,"axis","hover",String(a));t.dispatch(Mu({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:o}))}}}});var Ct=$t("externalEvent"),d1=ca();d1.startListening({actionCreator:Ct,effect:(e,t)=>{if(e.payload.handler!=null){var r=t.getState(),n={activeCoordinate:vM(r),activeDataKey:bx(r),activeIndex:Xn(r),activeLabel:yx(r),activeTooltipIndex:Xn(r),isTooltipActive:yM(r)};e.payload.handler(n,e.payload.reactEvent)}}});var fU=O([fi],e=>e.tooltipItemPayloads),hU=O([fU,ba,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var i=e.find(s=>s.settings.dataKey===n);if(i!=null){var{positions:a}=i;if(a!=null){var o=t(a,r);return o}}}),f1=$t("touchMove"),h1=ca();h1.startListening({actionCreator:f1,effect:(e,t)=>{var r=e.payload,n=t.getState(),i=jf(n,n.tooltip.settings.shared);if(i==="axis"){var a=Ff(n,zf({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(a==null?void 0:a.activeIndex)!=null&&t.dispatch(lx({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var o,s=r.touches[0],l=document.elementFromPoint(s.clientX,s.clientY);if(!l||!l.getAttribute)return;var c=l.getAttribute(cT),u=(o=l.getAttribute(uT))!==null&&o!==void 0?o:void 0,d=hU(t.getState(),c,u);t.dispatch(ox({activeDataKey:u,activeIndex:c,activeCoordinate:d}))}}});var pU=O0({brush:C4,cartesianAxis:fB,chartData:GM,errorBars:PB,graphicalItems:tB,layout:RC,legend:jT,options:WM,polarAxis:SL,polarOptions:dU,referenceElements:N4,rootProps:cU,tooltip:MD}),mU=function(t){return nC({reducer:pU,preloadedState:t,middleware:r=>r({serializableCheck:!1}).concat([a1.middleware,o1.middleware,Wf.middleware,d1.middleware,h1.middleware]),devTools:ai.devToolsEnabled})};function gU(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,i=Nt(),a=y.useRef(null);if(i)return r;a.current==null&&(a.current=mU(t));var o=Ed;return y.createElement(sU,{context:o,store:a.current},r)}function vU(e){var{layout:t,width:r,height:n,margin:i}=e,a=$e(),o=Nt();return y.useEffect(()=>{o||(a(AC(t)),a(CC({width:r,height:n})),a(kC(i)))},[a,o,t,r,n,i]),null}function yU(e){var t=$e();return y.useEffect(()=>{t(uU(e))},[t,e]),null}var bU=["children"];function wU(e,t){if(e==null)return{};var r,n,i=xU(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function xU(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ns(){return ns=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ns.apply(null,arguments)}var _U={width:"100%",height:"100%"},SU=y.forwardRef((e,t)=>{var r=rb(),n=nb(),i=ab();if(!Ro(r)||!Ro(n))return null;var{children:a,otherAttributes:o,title:s,desc:l}=e,c,u;return typeof o.tabIndex=="number"?c=o.tabIndex:c=i?0:void 0,typeof o.role=="string"?u=o.role:u=i?"application":void 0,y.createElement(Yy,ns({},o,{title:s,desc:l,role:u,tabIndex:c,width:r,height:n,style:_U,ref:t}),a)}),EU=e=>{var{children:t}=e,r=W(xs);if(!r)return null;var{width:n,height:i,y:a,x:o}=r;return y.createElement(Yy,{width:n,height:i,x:o,y:a},t)},jv=y.forwardRef((e,t)=>{var{children:r}=e,n=wU(e,bU),i=Nt();return i?y.createElement(EU,null,r):y.createElement(SU,ns({ref:t},n),r)});function jU(){var e=$e(),[t,r]=y.useState(null),n=W(lT);return y.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;_t(a)&&a!==n&&e(TC(a))}},[t,e,n]),r}function Pv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function PU(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Pv(Object(r),!0).forEach(function(n){OU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OU(e,t,r){return(t=kU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kU(e){var t=AU(e,"string");return typeof t=="symbol"?t:t+""}function AU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var CU=y.forwardRef((e,t)=>{var{children:r,className:n,height:i,onClick:a,onContextMenu:o,onDoubleClick:s,onMouseDown:l,onMouseEnter:c,onMouseLeave:u,onMouseMove:d,onMouseUp:f,onTouchEnd:p,onTouchMove:m,onTouchStart:g,style:v,width:b}=e,x=$e(),[w,_]=y.useState(null),[S,E]=y.useState(null);nN();var j=jU(),k=y.useCallback(F=>{j(F),typeof t=="function"&&t(F),_(F),E(F)},[j,t,_,E]),A=y.useCallback(F=>{x(i1(F)),x(Ct({handler:a,reactEvent:F}))},[x,a]),I=y.useCallback(F=>{x(Hu(F)),x(Ct({handler:c,reactEvent:F}))},[x,c]),C=y.useCallback(F=>{x(sx()),x(Ct({handler:u,reactEvent:F}))},[x,u]),$=y.useCallback(F=>{x(Hu(F)),x(Ct({handler:d,reactEvent:F}))},[x,d]),U=y.useCallback(()=>{x(u1())},[x]),T=y.useCallback(F=>{x(c1(F.key))},[x]),L=y.useCallback(F=>{x(Ct({handler:o,reactEvent:F}))},[x,o]),M=y.useCallback(F=>{x(Ct({handler:s,reactEvent:F}))},[x,s]),q=y.useCallback(F=>{x(Ct({handler:l,reactEvent:F}))},[x,l]),J=y.useCallback(F=>{x(Ct({handler:f,reactEvent:F}))},[x,f]),X=y.useCallback(F=>{x(Ct({handler:g,reactEvent:F}))},[x,g]),pe=y.useCallback(F=>{x(f1(F)),x(Ct({handler:m,reactEvent:F}))},[x,m]),ne=y.useCallback(F=>{x(Ct({handler:p,reactEvent:F}))},[x,p]);return y.createElement(jx.Provider,{value:w},y.createElement(ZO.Provider,{value:S},y.createElement("div",{className:ge("recharts-wrapper",n),style:PU({position:"relative",cursor:"default",width:b,height:i},v),onClick:A,onContextMenu:L,onDoubleClick:M,onFocus:U,onKeyDown:T,onMouseDown:q,onMouseEnter:I,onMouseLeave:C,onMouseMove:$,onMouseUp:J,onTouchEnd:ne,onTouchMove:pe,onTouchStart:X,ref:k},r)))}),TU=["children","className","width","height","style","compact","title","desc"];function RU(e,t){if(e==null)return{};var r,n,i=IU(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function IU(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var $U=y.forwardRef((e,t)=>{var{children:r,className:n,width:i,height:a,style:o,compact:s,title:l,desc:c}=e,u=RU(e,TU),d=ii(u);return s?y.createElement(jv,{otherAttributes:d,title:l,desc:c},r):y.createElement(CU,{className:n,style:o,width:i,height:a,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},y.createElement(jv,{otherAttributes:d,title:l,desc:c,ref:t},y.createElement(B4,null,r)))}),DU=["width","height"];function Ku(){return Ku=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ku.apply(null,arguments)}function MU(e,t){if(e==null)return{};var r,n,i=NU(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function NU(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var LU={top:5,right:5,bottom:5,left:5},BU={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:LU,reverseStackOrder:!1,syncMethod:"index"},UU=y.forwardRef(function(t,r){var n,i=Lt(t.categoricalChartProps,BU),{width:a,height:o}=i,s=MU(i,DU);if(!Ro(a)||!Ro(o))return null;var{chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,categoricalChartProps:f}=t,p={chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,eventEmitter:void 0};return y.createElement(gU,{preloadedState:{options:p},reduxStoreName:(n=f.id)!==null&&n!==void 0?n:l},y.createElement(A4,{chartData:f.data}),y.createElement(vU,{width:a,height:o,layout:i.layout,margin:i.margin}),y.createElement(yU,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),y.createElement($U,Ku({},s,{width:a,height:o,ref:r})))}),FU=["axis","item"],zU=y.forwardRef((e,t)=>y.createElement(UU,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:FU,tooltipPayloadSearcher:FM,categoricalChartProps:e,ref:t}));function WU(){var A;const[e,t]=y.useState(null),[r,n]=y.useState(null),[i,a]=y.useState(!1),[o,s]=y.useState(!1),[l,c]=y.useState(null),u=Vt(),{t:d}=_e();y.useEffect(()=>{(async()=>{const{data:C,error:$}=await Je.auth.getUser();$&&console.error("❌ Error obteniendo usuario:",$),C!=null&&C.user?n(C.user):n(null)})()},[]);const f=async()=>{if(u)try{const I=await fetch(`http://127.0.0.1:8001/dashboard_summary?client_id=${u}`),C=await I.json();I.ok?t(C):console.error("❌ Error en respuesta de dashboard_summary:",C)}catch(I){console.error("❌ Error de red al obtener dashboard:",I)}};if(y.useEffect(()=>{f()},[u]),y.useEffect(()=>{if(!u)return;(async()=>{try{const $=await(await fetch(`http://127.0.0.1:8001/should_show_welcome?client_id=${u}`)).json();$.show?(console.log("🟢 Showing WelcomeModal:",$.reason),a(!0),await fetch("http://127.0.0.1:8001/accept_terms",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:u})})):console.log(`⏳ WelcomeModal skipped. Days remaining: ${$.days_remaining||0}`)}catch(C){console.error("❌ Error checking WelcomeModal:",C)}})()},[u]),!r||!e)return h.jsx("div",{style:{color:"white",padding:"2rem"},children:d("loading")});const{plan:p,usage:m,history_preview:g,assistant_config:v,upgrade_suggestion:b,subscription_start:x,subscription_end:w,cancellation_status:_}=e,S=I=>I.toLowerCase().replace(/\s+/g,"_"),E=((A=p==null?void 0:p.plan_features)==null?void 0:A.map(I=>S(I)))||[],j=[{name:d("messages"),used:m.messages_used||0,max:p.is_unlimited?m.messages_used:p.max_messages},{name:d("documents"),used:m.documents_uploaded||0,max:p.max_documents}],k=async()=>{if(_!=null&&_.reactivate_available)try{s(!0);const I=await fetch("http://127.0.0.1:8001/reactivate-subscription",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:u})}),C=await I.json();I.ok?(at({title:"✅ Subscription reactivated",description:C.message||"Your plan has been restored."}),await f(),setTimeout(()=>window.location.reload(),1500)):at({title:"Error",description:C.detail||"Failed to reactivate."})}catch(I){at({title:"Error",description:I.message})}finally{s(!1),c(null)}};return h.jsxs("div",{style:{backgroundColor:i?"rgba(15,28,46,0.7)":"#0f1c2e",minHeight:"100vh",padding:"2rem",fontFamily:"system-ui, sans-serif",color:"white",overflow:"hidden"},children:[i&&h.jsx(jO,{onClose:()=>a(!1)}),h.jsxs("h1",{style:{fontSize:"1.8rem",fontWeight:"bold",color:"#f5a623",marginBottom:"0.5rem"},children:["👋 ",d("welcome"),", ",r.email]}),h.jsxs("p",{style:{color:"#ededed",marginBottom:"2rem"},children:[d("assistant_intro")," ",h.jsx("strong",{style:{color:"#a3d9b1"},children:(v==null?void 0:v.assistant_name)||d("your_assistant")}),"."]}),h.jsxs("div",{style:Qa,children:[h.jsx("h2",{style:eo,children:d("your_plan")}),h.jsx("p",{children:h.jsx("strong",{children:p.name})}),h.jsxs("p",{children:[d("messages"),": ",p.is_unlimited?"∞":p.max_messages]}),h.jsxs("p",{children:[d("documents"),": ",p.max_documents]}),x&&w&&h.jsxs("p",{style:{marginTop:"0.5rem",color:"#ededed"},children:[d("subscription_period"),":"," ",h.jsxs("strong",{children:[x," – ",w]})]}),(_==null?void 0:_.is_pending)&&h.jsxs("div",{style:{backgroundColor:"#fff7e6",border:"1px solid #f5a623",color:"#a35d00",padding:"12px",borderRadius:"8px",marginTop:"1rem",textAlign:"center"},children:[h.jsx("p",{children:_.message}),_.reactivate_available&&h.jsxs(h.Fragment,{children:[h.jsx("button",{onClick:()=>c({planName:p.name,endDate:w}),disabled:o,style:{marginTop:"10px",backgroundColor:"#4a90e2",color:"white",border:"none",borderRadius:"6px",padding:"8px 16px",cursor:o?"wait":"pointer"},children:o?"Reactivating...":_.reactivate_label}),l&&h.jsx(qU,{planName:l.planName,endDate:l.endDate,onCancel:()=>c(null),onConfirm:k,loading:o})]})]})]}),h.jsxs("div",{style:Qa,children:[h.jsx("h2",{style:eo,children:d("usage_summary")}),h.jsxs("p",{children:[d("messages_used"),":"," ",h.jsx("strong",{style:{color:"#a3d9b1"},children:m.messages_used})," /"," ",p.is_unlimited?"∞":p.max_messages,b&&h.jsxs(h.Fragment,{children:[" ","— ",d("almost_limit")," 🚀"," ",b.action==="upgrade"&&h.jsxs(h.Fragment,{children:[d("upgrade_to")," ",h.jsx("strong",{children:b.to})]}),b.action==="contact_support"&&h.jsxs(h.Fragment,{children:[" contacting ",h.jsx("strong",{children:b.email})]})]})]}),h.jsxs("p",{children:[d("documents_uploaded"),":"," ",h.jsx("strong",{style:{color:"#a3d9b1"},children:m.documents_uploaded})," ","/ ",p.max_documents]}),h.jsx("div",{style:{width:"100%",height:250,marginTop:"1rem"},children:h.jsx(xN,{children:h.jsxs(zU,{data:j,children:[h.jsx(t1,{strokeDasharray:"3 3",stroke:"#274472"}),h.jsx(r1,{dataKey:"name",stroke:"#ededed"}),h.jsx(n1,{stroke:"#ededed"}),h.jsx(dN,{contentStyle:{backgroundColor:"#1b2a41",border:"1px solid #274472",color:"#ededed"}}),h.jsx(Fu,{dataKey:"used",fill:"#a3d9b1",name:d("used")}),h.jsx(Fu,{dataKey:"max",fill:"#4a90e2",name:d("max")})]})})})]}),h.jsxs("div",{style:Qa,children:[h.jsx("h2",{style:eo,children:d("active_features")}),h.jsx("ul",{children:E.length>0?E.map(I=>h.jsxs("li",{style:{marginBottom:"0.5rem"},children:["✅ ",d(I)]},I)):h.jsx("li",{children:d("no_features")})})]}),h.jsxs("div",{style:Qa,children:[h.jsx("h2",{style:eo,children:d("recent_activity")}),g&&g.length>0?h.jsx("ul",{children:g.map((I,C)=>h.jsxs("li",{style:{marginBottom:"0.5rem"},children:[I.question?I.question.slice(0,120):"(no content)"," (",new Date(I.timestamp).toLocaleDateString(),")"]},C))}):h.jsx("p",{children:d("no_history")})]})]})}function qU({planName:e,endDate:t,onCancel:r,onConfirm:n,loading:i}){const a=o=>o?new Date(o).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"}):"";return h.jsx("div",{style:HU,children:h.jsxs("div",{style:KU,children:[h.jsx("div",{style:VU,children:h.jsx("img",{src:"/logo-evolvian.svg",alt:"Evolvian Logo",style:{width:"80px",height:"auto",opacity:.95}})}),h.jsxs("div",{style:GU,children:[h.jsxs("h3",{style:{fontSize:"1.3rem",marginBottom:"12px"},children:["Reactivate ",e," Plan"]}),h.jsxs("p",{style:{marginBottom:"12px"},children:["You’re about to reactivate your ",h.jsx("strong",{children:e})," plan."," ",t?`Your subscription will resume immediately, keeping your billing date (${a(t)}).`:"Your subscription will resume immediately."]}),h.jsxs("p",{style:ZU,children:["By clicking “Accept”, you agree to our"," ",h.jsx("a",{href:"/terms",target:"_blank",rel:"noopener noreferrer",children:"Terms and Conditions"})," ","and"," ",h.jsx("a",{href:"/PrivacyPolicy",target:"_blank",rel:"noopener noreferrer",children:"Privacy Policy"}),"."]}),h.jsxs("div",{style:YU,children:[h.jsx("button",{style:XU,onClick:r,children:"Cancel"}),h.jsx("button",{style:JU,onClick:n,disabled:i,children:i?"Reactivating...":"Accept"})]})]})]})})}const Qa={backgroundColor:"#1b2a41",border:"1px solid #274472",borderRadius:"1rem",padding:"1.5rem",marginBottom:"2rem",boxShadow:"0 4px 10px rgba(0,0,0,0.2)"},eo={fontSize:"1.3rem",color:"#4a90e2",marginBottom:"1rem",fontWeight:"bold"},HU={position:"fixed",inset:0,background:"rgba(15, 28, 46, 0.6)",backdropFilter:"blur(6px)",WebkitBackdropFilter:"blur(6px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999,animation:"fadeIn 0.3s ease-in-out"},KU={background:"#1b2a41",border:"2px solid #274472",borderRadius:"18px",display:"flex",maxWidth:"720px",width:"95%",color:"#fff",boxShadow:"0 8px 28px rgba(0,0,0,0.35)",overflow:"hidden"},VU={background:"#0f1c2e",display:"flex",alignItems:"center",justifyContent:"center",padding:"32px",minWidth:"160px"},GU={flex:1,padding:"32px 40px",display:"flex",flexDirection:"column",justifyContent:"center"},YU={display:"flex",justifyContent:"flex-end",gap:"10px",marginTop:"20px"},JU={background:"#2eb39a",color:"#fff",padding:"10px 24px",borderRadius:"8px",fontWeight:600,border:"none",cursor:"pointer",transition:"background 0.2s ease"},XU={background:"#4b5563",color:"#fff",padding:"10px 24px",borderRadius:"8px",fontWeight:500,border:"none",cursor:"pointer",transition:"background 0.2s ease"},ZU={fontSize:"0.85rem",marginTop:"10px",opacity:.9};function QU(){const[e,t]=y.useState(null),[r,n]=y.useState(""),[i,a]=y.useState([]),[o,s]=y.useState(!1),l=Vt(),{t:c}=_e(),u=async()=>{if(l)try{const m=await(await fetch(`http://127.0.0.1:8001/list_files?client_id=${l}`)).json();a(m.files||[])}catch(p){console.error("❌ Error al listar archivos:",p),a([])}};y.useEffect(()=>{l&&u()},[l]);const d=async p=>{if(p.preventDefault(),!l||l==="undefined"||l.trim()===""){n(`❌ ${c("invalid_client_id")}`);return}if(!e){n(`⚠️ ${c("please_select_file")}`);return}const m=new FormData;m.append("client_id",l),m.append("file",e);try{const g=await fetch("http://127.0.0.1:8001/upload_document",{method:"POST",body:m});if(g.status===403){const b=await g.json(),x=(b==null?void 0:b.detail)||"";s(!0),n(x==="limit_reached"?`🚫 ${c("limit_reached_error")}`:`🚫 ${x||c("unknown_upload_error")}`);return}if(!g.ok){const b=await g.json();throw new Error(b.detail||c("unknown_upload_error"))}const v=await g.json();console.log("📥 Respuesta backend:",v),n(`✅ ${v.message||c("file_uploaded_success")}`),t(null),u()}catch(g){console.error("❌ Error al subir archivo:",g),n(`❌ ${g.message}`)}},f=async p=>{if(window.confirm(`⚠️ ${c("confirm_delete_file")} ${p}?`))try{const m=await fetch(`http://127.0.0.1:8001/delete_file?storage_path=${encodeURIComponent(p)}`,{method:"DELETE"});if(!m.ok){const v=await m.json();throw new Error(v.detail||c("unknown_delete_error"))}const g=await m.json();console.log("🗑️ Respuesta backend:",g),n(`✅ ${g.message||c("file_deleted_success")}`),u()}catch(m){console.error("❌ Error al borrar archivo:",m),n(`❌ ${m.message}`)}};return h.jsx("div",{style:{backgroundColor:"#0f1c2e",minHeight:"100vh",padding:"2rem",fontFamily:"system-ui, sans-serif",color:"white",display:"flex",justifyContent:"center",alignItems:"flex-start"},children:h.jsxs("div",{style:{backgroundColor:"#1b2a41",padding:"2rem",borderRadius:"16px",maxWidth:"600px",width:"100%",boxShadow:"0 10px 30px rgba(0,0,0,0.2)",border:"1px solid #274472"},children:[h.jsxs("h1",{style:{fontSize:"1.8rem",marginBottom:"1rem",color:"#f5a623"},children:["📤 ",c("upload_document")]}),h.jsxs("form",{onSubmit:d,children:[h.jsxs("div",{style:{marginBottom:"1.2rem"},children:[h.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",color:"#ededed"},children:["📎 ",c("select_file_label")]}),h.jsx("input",{type:"file",accept:".pdf,.txt",onChange:p=>t(p.target.files[0]),disabled:o,style:{width:"100%",padding:"0.4rem",backgroundColor:"#0f1c2e",border:"1px solid #4a90e2",color:"white",borderRadius:"8px",cursor:o?"not-allowed":"pointer"}})]}),h.jsx("button",{type:"submit",disabled:o,style:{backgroundColor:o?"#777":"#4a90e2",padding:"0.7rem 1.2rem",color:"white",borderRadius:"8px",fontWeight:"bold",border:"none",cursor:o?"not-allowed":"pointer",transition:"background 0.3s ease"},children:c("upload_file")})]}),r&&h.jsx("p",{style:{marginTop:"1rem",fontWeight:"500",color:"#a3d9b1"},children:r}),i.length>0&&h.jsxs("div",{style:{marginTop:"2rem"},children:[h.jsxs("h3",{style:{color:"#f5a623",marginBottom:"0.75rem"},children:["📂 ",c("uploaded_files")]}),h.jsx("ul",{style:{listStyleType:"none",paddingLeft:0},children:i.map((p,m)=>h.jsxs("li",{style:{marginBottom:"0.8rem",color:"#ededed",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[h.jsxs("span",{children:["📄 ",p.name," – ",p.size_kb," KB"]}),h.jsxs("button",{onClick:()=>f(p.storage_path),style:{backgroundColor:"#e74c3c",padding:"0.4rem 0.8rem",color:"white",borderRadius:"6px",border:"none",cursor:"pointer",fontWeight:"bold"},children:["🗑️ ",c("delete")]})]},m))})]})]})})}function p1(e,t){return function(){return e.apply(t,arguments)}}const{toString:e3}=Object.prototype,{getPrototypeOf:qf}=Object,{iterator:Bs,toStringTag:m1}=Symbol,Us=(e=>t=>{const r=e3.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Yt=e=>(e=e.toLowerCase(),t=>Us(t)===e),Fs=e=>t=>typeof t===e,{isArray:pi}=Array,Qn=Fs("undefined");function _a(e){return e!==null&&!Qn(e)&&e.constructor!==null&&!Qn(e.constructor)&&ct(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const g1=Yt("ArrayBuffer");function t3(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&g1(e.buffer),t}const r3=Fs("string"),ct=Fs("function"),v1=Fs("number"),Sa=e=>e!==null&&typeof e=="object",n3=e=>e===!0||e===!1,uo=e=>{if(Us(e)!=="object")return!1;const t=qf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(m1 in e)&&!(Bs in e)},i3=e=>{if(!Sa(e)||_a(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},a3=Yt("Date"),o3=Yt("File"),s3=Yt("Blob"),l3=Yt("FileList"),c3=e=>Sa(e)&&ct(e.pipe),u3=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||ct(e.append)&&((t=Us(e))==="formdata"||t==="object"&&ct(e.toString)&&e.toString()==="[object FormData]"))},d3=Yt("URLSearchParams"),[f3,h3,p3,m3]=["ReadableStream","Request","Response","Headers"].map(Yt),g3=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ea(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,i;if(typeof e!="object"&&(e=[e]),pi(e))for(n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else{if(_a(e))return;const a=r?Object.getOwnPropertyNames(e):Object.keys(e),o=a.length;let s;for(n=0;n<o;n++)s=a[n],t.call(null,e[s],s,e)}}function y1(e,t){if(_a(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,i;for(;n-- >0;)if(i=r[n],t===i.toLowerCase())return i;return null}const an=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,b1=e=>!Qn(e)&&e!==an;function Vu(){const{caseless:e,skipUndefined:t}=b1(this)&&this||{},r={},n=(i,a)=>{const o=e&&y1(r,a)||a;uo(r[o])&&uo(i)?r[o]=Vu(r[o],i):uo(i)?r[o]=Vu({},i):pi(i)?r[o]=i.slice():(!t||!Qn(i))&&(r[o]=i)};for(let i=0,a=arguments.length;i<a;i++)arguments[i]&&Ea(arguments[i],n);return r}const v3=(e,t,r,{allOwnKeys:n}={})=>(Ea(t,(i,a)=>{r&&ct(i)?e[a]=p1(i,r):e[a]=i},{allOwnKeys:n}),e),y3=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),b3=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},w3=(e,t,r,n)=>{let i,a,o;const s={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),a=i.length;a-- >0;)o=i[a],(!n||n(o,e,t))&&!s[o]&&(t[o]=e[o],s[o]=!0);e=r!==!1&&qf(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},x3=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},_3=e=>{if(!e)return null;if(pi(e))return e;let t=e.length;if(!v1(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},S3=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&qf(Uint8Array)),E3=(e,t)=>{const n=(e&&e[Bs]).call(e);let i;for(;(i=n.next())&&!i.done;){const a=i.value;t.call(e,a[0],a[1])}},j3=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},P3=Yt("HTMLFormElement"),O3=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),Ov=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),k3=Yt("RegExp"),w1=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};Ea(r,(i,a)=>{let o;(o=t(i,a,e))!==!1&&(n[a]=o||i)}),Object.defineProperties(e,n)},A3=e=>{w1(e,(t,r)=>{if(ct(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(ct(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},C3=(e,t)=>{const r={},n=i=>{i.forEach(a=>{r[a]=!0})};return pi(e)?n(e):n(String(e).split(t)),r},T3=()=>{},R3=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function I3(e){return!!(e&&ct(e.append)&&e[m1]==="FormData"&&e[Bs])}const $3=e=>{const t=new Array(10),r=(n,i)=>{if(Sa(n)){if(t.indexOf(n)>=0)return;if(_a(n))return n;if(!("toJSON"in n)){t[i]=n;const a=pi(n)?[]:{};return Ea(n,(o,s)=>{const l=r(o,i+1);!Qn(l)&&(a[s]=l)}),t[i]=void 0,a}}return n};return r(e,0)},D3=Yt("AsyncFunction"),M3=e=>e&&(Sa(e)||ct(e))&&ct(e.then)&&ct(e.catch),x1=((e,t)=>e?setImmediate:t?((r,n)=>(an.addEventListener("message",({source:i,data:a})=>{i===an&&a===r&&n.length&&n.shift()()},!1),i=>{n.push(i),an.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",ct(an.postMessage)),N3=typeof queueMicrotask<"u"?queueMicrotask.bind(an):typeof process<"u"&&process.nextTick||x1,L3=e=>e!=null&&ct(e[Bs]),P={isArray:pi,isArrayBuffer:g1,isBuffer:_a,isFormData:u3,isArrayBufferView:t3,isString:r3,isNumber:v1,isBoolean:n3,isObject:Sa,isPlainObject:uo,isEmptyObject:i3,isReadableStream:f3,isRequest:h3,isResponse:p3,isHeaders:m3,isUndefined:Qn,isDate:a3,isFile:o3,isBlob:s3,isRegExp:k3,isFunction:ct,isStream:c3,isURLSearchParams:d3,isTypedArray:S3,isFileList:l3,forEach:Ea,merge:Vu,extend:v3,trim:g3,stripBOM:y3,inherits:b3,toFlatObject:w3,kindOf:Us,kindOfTest:Yt,endsWith:x3,toArray:_3,forEachEntry:E3,matchAll:j3,isHTMLForm:P3,hasOwnProperty:Ov,hasOwnProp:Ov,reduceDescriptors:w1,freezeMethods:A3,toObjectSet:C3,toCamelCase:O3,noop:T3,toFiniteNumber:R3,findKey:y1,global:an,isContextDefined:b1,isSpecCompliantForm:I3,toJSONObject:$3,isAsyncFn:D3,isThenable:M3,setImmediate:x1,asap:N3,isIterable:L3};function K(e,t,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}P.inherits(K,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:P.toJSONObject(this.config),code:this.code,status:this.status}}});const _1=K.prototype,S1={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{S1[e]={value:e}});Object.defineProperties(K,S1);Object.defineProperty(_1,"isAxiosError",{value:!0});K.from=(e,t,r,n,i,a)=>{const o=Object.create(_1);P.toFlatObject(e,o,function(u){return u!==Error.prototype},c=>c!=="isAxiosError");const s=e&&e.message?e.message:"Error",l=t==null&&e?e.code:t;return K.call(o,s,l,r,n,i),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",a&&Object.assign(o,a),o};const B3=null;function Gu(e){return P.isPlainObject(e)||P.isArray(e)}function E1(e){return P.endsWith(e,"[]")?e.slice(0,-2):e}function kv(e,t,r){return e?e.concat(t).map(function(i,a){return i=E1(i),!r&&a?"["+i+"]":i}).join(r?".":""):t}function U3(e){return P.isArray(e)&&!e.some(Gu)}const F3=P.toFlatObject(P,{},null,function(t){return/^is[A-Z]/.test(t)});function zs(e,t,r){if(!P.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=P.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,v){return!P.isUndefined(v[g])});const n=r.metaTokens,i=r.visitor||u,a=r.dots,o=r.indexes,l=(r.Blob||typeof Blob<"u"&&Blob)&&P.isSpecCompliantForm(t);if(!P.isFunction(i))throw new TypeError("visitor must be a function");function c(m){if(m===null)return"";if(P.isDate(m))return m.toISOString();if(P.isBoolean(m))return m.toString();if(!l&&P.isBlob(m))throw new K("Blob is not supported. Use a Buffer instead.");return P.isArrayBuffer(m)||P.isTypedArray(m)?l&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function u(m,g,v){let b=m;if(m&&!v&&typeof m=="object"){if(P.endsWith(g,"{}"))g=n?g:g.slice(0,-2),m=JSON.stringify(m);else if(P.isArray(m)&&U3(m)||(P.isFileList(m)||P.endsWith(g,"[]"))&&(b=P.toArray(m)))return g=E1(g),b.forEach(function(w,_){!(P.isUndefined(w)||w===null)&&t.append(o===!0?kv([g],_,a):o===null?g:g+"[]",c(w))}),!1}return Gu(m)?!0:(t.append(kv(v,g,a),c(m)),!1)}const d=[],f=Object.assign(F3,{defaultVisitor:u,convertValue:c,isVisitable:Gu});function p(m,g){if(!P.isUndefined(m)){if(d.indexOf(m)!==-1)throw Error("Circular reference detected in "+g.join("."));d.push(m),P.forEach(m,function(b,x){(!(P.isUndefined(b)||b===null)&&i.call(t,b,P.isString(x)?x.trim():x,g,f))===!0&&p(b,g?g.concat(x):[x])}),d.pop()}}if(!P.isObject(e))throw new TypeError("data must be an object");return p(e),t}function Av(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function Hf(e,t){this._pairs=[],e&&zs(e,this,t)}const j1=Hf.prototype;j1.append=function(t,r){this._pairs.push([t,r])};j1.toString=function(t){const r=t?function(n){return t.call(this,n,Av)}:Av;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function z3(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function P1(e,t,r){if(!t)return e;const n=r&&r.encode||z3;P.isFunction(r)&&(r={serialize:r});const i=r&&r.serialize;let a;if(i?a=i(t,r):a=P.isURLSearchParams(t)?t.toString():new Hf(t,r).toString(n),a){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class Cv{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){P.forEach(this.handlers,function(n){n!==null&&t(n)})}}const O1={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},W3=typeof URLSearchParams<"u"?URLSearchParams:Hf,q3=typeof FormData<"u"?FormData:null,H3=typeof Blob<"u"?Blob:null,K3={isBrowser:!0,classes:{URLSearchParams:W3,FormData:q3,Blob:H3},protocols:["http","https","file","blob","url","data"]},Kf=typeof window<"u"&&typeof document<"u",Yu=typeof navigator=="object"&&navigator||void 0,V3=Kf&&(!Yu||["ReactNative","NativeScript","NS"].indexOf(Yu.product)<0),G3=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Y3=Kf&&window.location.href||"http://localhost",J3=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Kf,hasStandardBrowserEnv:V3,hasStandardBrowserWebWorkerEnv:G3,navigator:Yu,origin:Y3},Symbol.toStringTag,{value:"Module"})),Ye={...J3,...K3};function X3(e,t){return zs(e,new Ye.classes.URLSearchParams,{visitor:function(r,n,i,a){return Ye.isNode&&P.isBuffer(r)?(this.append(n,r.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...t})}function Z3(e){return P.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Q3(e){const t={},r=Object.keys(e);let n;const i=r.length;let a;for(n=0;n<i;n++)a=r[n],t[a]=e[a];return t}function k1(e){function t(r,n,i,a){let o=r[a++];if(o==="__proto__")return!0;const s=Number.isFinite(+o),l=a>=r.length;return o=!o&&P.isArray(i)?i.length:o,l?(P.hasOwnProp(i,o)?i[o]=[i[o],n]:i[o]=n,!s):((!i[o]||!P.isObject(i[o]))&&(i[o]=[]),t(r,n,i[o],a)&&P.isArray(i[o])&&(i[o]=Q3(i[o])),!s)}if(P.isFormData(e)&&P.isFunction(e.entries)){const r={};return P.forEachEntry(e,(n,i)=>{t(Z3(n),i,r,0)}),r}return null}function eF(e,t,r){if(P.isString(e))try{return(t||JSON.parse)(e),P.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const ja={transitional:O1,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,a=P.isObject(t);if(a&&P.isHTMLForm(t)&&(t=new FormData(t)),P.isFormData(t))return i?JSON.stringify(k1(t)):t;if(P.isArrayBuffer(t)||P.isBuffer(t)||P.isStream(t)||P.isFile(t)||P.isBlob(t)||P.isReadableStream(t))return t;if(P.isArrayBufferView(t))return t.buffer;if(P.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let s;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return X3(t,this.formSerializer).toString();if((s=P.isFileList(t))||n.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return zs(s?{"files[]":t}:t,l&&new l,this.formSerializer)}}return a||i?(r.setContentType("application/json",!1),eF(t)):t}],transformResponse:[function(t){const r=this.transitional||ja.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(P.isResponse(t)||P.isReadableStream(t))return t;if(t&&P.isString(t)&&(n&&!this.responseType||i)){const o=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(t,this.parseReviver)}catch(s){if(o)throw s.name==="SyntaxError"?K.from(s,K.ERR_BAD_RESPONSE,this,null,this.response):s}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ye.classes.FormData,Blob:Ye.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};P.forEach(["delete","get","head","post","put","patch"],e=>{ja.headers[e]={}});const tF=P.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),rF=e=>{const t={};let r,n,i;return e&&e.split(`
`).forEach(function(o){i=o.indexOf(":"),r=o.substring(0,i).trim().toLowerCase(),n=o.substring(i+1).trim(),!(!r||t[r]&&tF[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},Tv=Symbol("internals");function ki(e){return e&&String(e).trim().toLowerCase()}function fo(e){return e===!1||e==null?e:P.isArray(e)?e.map(fo):String(e)}function nF(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const iF=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Lc(e,t,r,n,i){if(P.isFunction(n))return n.call(this,t,r);if(i&&(t=r),!!P.isString(t)){if(P.isString(n))return t.indexOf(n)!==-1;if(P.isRegExp(n))return n.test(t)}}function aF(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function oF(e,t){const r=P.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(i,a,o){return this[n].call(this,t,i,a,o)},configurable:!0})})}let ut=class{constructor(t){t&&this.set(t)}set(t,r,n){const i=this;function a(s,l,c){const u=ki(l);if(!u)throw new Error("header name must be a non-empty string");const d=P.findKey(i,u);(!d||i[d]===void 0||c===!0||c===void 0&&i[d]!==!1)&&(i[d||l]=fo(s))}const o=(s,l)=>P.forEach(s,(c,u)=>a(c,u,l));if(P.isPlainObject(t)||t instanceof this.constructor)o(t,r);else if(P.isString(t)&&(t=t.trim())&&!iF(t))o(rF(t),r);else if(P.isObject(t)&&P.isIterable(t)){let s={},l,c;for(const u of t){if(!P.isArray(u))throw TypeError("Object iterator must return a key-value pair");s[c=u[0]]=(l=s[c])?P.isArray(l)?[...l,u[1]]:[l,u[1]]:u[1]}o(s,r)}else t!=null&&a(r,t,n);return this}get(t,r){if(t=ki(t),t){const n=P.findKey(this,t);if(n){const i=this[n];if(!r)return i;if(r===!0)return nF(i);if(P.isFunction(r))return r.call(this,i,n);if(P.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=ki(t),t){const n=P.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||Lc(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let i=!1;function a(o){if(o=ki(o),o){const s=P.findKey(n,o);s&&(!r||Lc(n,n[s],s,r))&&(delete n[s],i=!0)}}return P.isArray(t)?t.forEach(a):a(t),i}clear(t){const r=Object.keys(this);let n=r.length,i=!1;for(;n--;){const a=r[n];(!t||Lc(this,this[a],a,t,!0))&&(delete this[a],i=!0)}return i}normalize(t){const r=this,n={};return P.forEach(this,(i,a)=>{const o=P.findKey(n,a);if(o){r[o]=fo(i),delete r[a];return}const s=t?aF(a):String(a).trim();s!==a&&delete r[a],r[s]=fo(i),n[s]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return P.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=t&&P.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(i=>n.set(i)),n}static accessor(t){const n=(this[Tv]=this[Tv]={accessors:{}}).accessors,i=this.prototype;function a(o){const s=ki(o);n[s]||(oF(i,o),n[s]=!0)}return P.isArray(t)?t.forEach(a):a(t),this}};ut.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);P.reduceDescriptors(ut.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});P.freezeMethods(ut);function Bc(e,t){const r=this||ja,n=t||r,i=ut.from(n.headers);let a=n.data;return P.forEach(e,function(s){a=s.call(r,a,i.normalize(),t?t.status:void 0)}),i.normalize(),a}function A1(e){return!!(e&&e.__CANCEL__)}function mi(e,t,r){K.call(this,e??"canceled",K.ERR_CANCELED,t,r),this.name="CanceledError"}P.inherits(mi,K,{__CANCEL__:!0});function C1(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new K("Request failed with status code "+r.status,[K.ERR_BAD_REQUEST,K.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function sF(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function lF(e,t){e=e||10;const r=new Array(e),n=new Array(e);let i=0,a=0,o;return t=t!==void 0?t:1e3,function(l){const c=Date.now(),u=n[a];o||(o=c),r[i]=l,n[i]=c;let d=a,f=0;for(;d!==i;)f+=r[d++],d=d%e;if(i=(i+1)%e,i===a&&(a=(a+1)%e),c-o<t)return;const p=u&&c-u;return p?Math.round(f*1e3/p):void 0}}function cF(e,t){let r=0,n=1e3/t,i,a;const o=(c,u=Date.now())=>{r=u,i=null,a&&(clearTimeout(a),a=null),e(...c)};return[(...c)=>{const u=Date.now(),d=u-r;d>=n?o(c,u):(i=c,a||(a=setTimeout(()=>{a=null,o(i)},n-d)))},()=>i&&o(i)]}const is=(e,t,r=3)=>{let n=0;const i=lF(50,250);return cF(a=>{const o=a.loaded,s=a.lengthComputable?a.total:void 0,l=o-n,c=i(l),u=o<=s;n=o;const d={loaded:o,total:s,progress:s?o/s:void 0,bytes:l,rate:c||void 0,estimated:c&&s&&u?(s-o)/c:void 0,event:a,lengthComputable:s!=null,[t?"download":"upload"]:!0};e(d)},r)},Rv=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},Iv=e=>(...t)=>P.asap(()=>e(...t)),uF=Ye.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Ye.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Ye.origin),Ye.navigator&&/(msie|trident)/i.test(Ye.navigator.userAgent)):()=>!0,dF=Ye.hasStandardBrowserEnv?{write(e,t,r,n,i,a){const o=[e+"="+encodeURIComponent(t)];P.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),P.isString(n)&&o.push("path="+n),P.isString(i)&&o.push("domain="+i),a===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function fF(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function hF(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function T1(e,t,r){let n=!fF(t);return e&&(n||r==!1)?hF(e,t):t}const $v=e=>e instanceof ut?{...e}:e;function mn(e,t){t=t||{};const r={};function n(c,u,d,f){return P.isPlainObject(c)&&P.isPlainObject(u)?P.merge.call({caseless:f},c,u):P.isPlainObject(u)?P.merge({},u):P.isArray(u)?u.slice():u}function i(c,u,d,f){if(P.isUndefined(u)){if(!P.isUndefined(c))return n(void 0,c,d,f)}else return n(c,u,d,f)}function a(c,u){if(!P.isUndefined(u))return n(void 0,u)}function o(c,u){if(P.isUndefined(u)){if(!P.isUndefined(c))return n(void 0,c)}else return n(void 0,u)}function s(c,u,d){if(d in t)return n(c,u);if(d in e)return n(void 0,c)}const l={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:s,headers:(c,u,d)=>i($v(c),$v(u),d,!0)};return P.forEach(Object.keys({...e,...t}),function(u){const d=l[u]||i,f=d(e[u],t[u],u);P.isUndefined(f)&&d!==s||(r[u]=f)}),r}const R1=e=>{const t=mn({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:a,headers:o,auth:s}=t;if(t.headers=o=ut.from(o),t.url=P1(T1(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),s&&o.set("Authorization","Basic "+btoa((s.username||"")+":"+(s.password?unescape(encodeURIComponent(s.password)):""))),P.isFormData(r)){if(Ye.hasStandardBrowserEnv||Ye.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(P.isFunction(r.getHeaders)){const l=r.getHeaders(),c=["content-type","content-length"];Object.entries(l).forEach(([u,d])=>{c.includes(u.toLowerCase())&&o.set(u,d)})}}if(Ye.hasStandardBrowserEnv&&(n&&P.isFunction(n)&&(n=n(t)),n||n!==!1&&uF(t.url))){const l=i&&a&&dF.read(a);l&&o.set(i,l)}return t},pF=typeof XMLHttpRequest<"u",mF=pF&&function(e){return new Promise(function(r,n){const i=R1(e);let a=i.data;const o=ut.from(i.headers).normalize();let{responseType:s,onUploadProgress:l,onDownloadProgress:c}=i,u,d,f,p,m;function g(){p&&p(),m&&m(),i.cancelToken&&i.cancelToken.unsubscribe(u),i.signal&&i.signal.removeEventListener("abort",u)}let v=new XMLHttpRequest;v.open(i.method.toUpperCase(),i.url,!0),v.timeout=i.timeout;function b(){if(!v)return;const w=ut.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),S={data:!s||s==="text"||s==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:w,config:e,request:v};C1(function(j){r(j),g()},function(j){n(j),g()},S),v=null}"onloadend"in v?v.onloadend=b:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(b)},v.onabort=function(){v&&(n(new K("Request aborted",K.ECONNABORTED,e,v)),v=null)},v.onerror=function(_){const S=_&&_.message?_.message:"Network Error",E=new K(S,K.ERR_NETWORK,e,v);E.event=_||null,n(E),v=null},v.ontimeout=function(){let _=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const S=i.transitional||O1;i.timeoutErrorMessage&&(_=i.timeoutErrorMessage),n(new K(_,S.clarifyTimeoutError?K.ETIMEDOUT:K.ECONNABORTED,e,v)),v=null},a===void 0&&o.setContentType(null),"setRequestHeader"in v&&P.forEach(o.toJSON(),function(_,S){v.setRequestHeader(S,_)}),P.isUndefined(i.withCredentials)||(v.withCredentials=!!i.withCredentials),s&&s!=="json"&&(v.responseType=i.responseType),c&&([f,m]=is(c,!0),v.addEventListener("progress",f)),l&&v.upload&&([d,p]=is(l),v.upload.addEventListener("progress",d),v.upload.addEventListener("loadend",p)),(i.cancelToken||i.signal)&&(u=w=>{v&&(n(!w||w.type?new mi(null,e,v):w),v.abort(),v=null)},i.cancelToken&&i.cancelToken.subscribe(u),i.signal&&(i.signal.aborted?u():i.signal.addEventListener("abort",u)));const x=sF(i.url);if(x&&Ye.protocols.indexOf(x)===-1){n(new K("Unsupported protocol "+x+":",K.ERR_BAD_REQUEST,e));return}v.send(a||null)})},gF=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,i;const a=function(c){if(!i){i=!0,s();const u=c instanceof Error?c:this.reason;n.abort(u instanceof K?u:new mi(u instanceof Error?u.message:u))}};let o=t&&setTimeout(()=>{o=null,a(new K(`timeout ${t} of ms exceeded`,K.ETIMEDOUT))},t);const s=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(c=>{c.unsubscribe?c.unsubscribe(a):c.removeEventListener("abort",a)}),e=null)};e.forEach(c=>c.addEventListener("abort",a));const{signal:l}=n;return l.unsubscribe=()=>P.asap(s),l}},vF=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,i;for(;n<r;)i=n+t,yield e.slice(n,i),n=i},yF=async function*(e,t){for await(const r of bF(e))yield*vF(r,t)},bF=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},Dv=(e,t,r,n)=>{const i=yF(e,t);let a=0,o,s=l=>{o||(o=!0,n&&n(l))};return new ReadableStream({async pull(l){try{const{done:c,value:u}=await i.next();if(c){s(),l.close();return}let d=u.byteLength;if(r){let f=a+=d;r(f)}l.enqueue(new Uint8Array(u))}catch(c){throw s(c),c}},cancel(l){return s(l),i.return()}},{highWaterMark:2})},Mv=64*1024,{isFunction:to}=P,wF=(({Request:e,Response:t})=>({Request:e,Response:t}))(P.global),{ReadableStream:Nv,TextEncoder:Lv}=P.global,Bv=(e,...t)=>{try{return!!e(...t)}catch{return!1}},xF=e=>{e=P.merge.call({skipUndefined:!0},wF,e);const{fetch:t,Request:r,Response:n}=e,i=t?to(t):typeof fetch=="function",a=to(r),o=to(n);if(!i)return!1;const s=i&&to(Nv),l=i&&(typeof Lv=="function"?(m=>g=>m.encode(g))(new Lv):async m=>new Uint8Array(await new r(m).arrayBuffer())),c=a&&s&&Bv(()=>{let m=!1;const g=new r(Ye.origin,{body:new Nv,method:"POST",get duplex(){return m=!0,"half"}}).headers.has("Content-Type");return m&&!g}),u=o&&s&&Bv(()=>P.isReadableStream(new n("").body)),d={stream:u&&(m=>m.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(m=>{!d[m]&&(d[m]=(g,v)=>{let b=g&&g[m];if(b)return b.call(g);throw new K(`Response type '${m}' is not supported`,K.ERR_NOT_SUPPORT,v)})});const f=async m=>{if(m==null)return 0;if(P.isBlob(m))return m.size;if(P.isSpecCompliantForm(m))return(await new r(Ye.origin,{method:"POST",body:m}).arrayBuffer()).byteLength;if(P.isArrayBufferView(m)||P.isArrayBuffer(m))return m.byteLength;if(P.isURLSearchParams(m)&&(m=m+""),P.isString(m))return(await l(m)).byteLength},p=async(m,g)=>{const v=P.toFiniteNumber(m.getContentLength());return v??f(g)};return async m=>{let{url:g,method:v,data:b,signal:x,cancelToken:w,timeout:_,onDownloadProgress:S,onUploadProgress:E,responseType:j,headers:k,withCredentials:A="same-origin",fetchOptions:I}=R1(m),C=t||fetch;j=j?(j+"").toLowerCase():"text";let $=gF([x,w&&w.toAbortSignal()],_),U=null;const T=$&&$.unsubscribe&&(()=>{$.unsubscribe()});let L;try{if(E&&c&&v!=="get"&&v!=="head"&&(L=await p(k,b))!==0){let ne=new r(g,{method:"POST",body:b,duplex:"half"}),F;if(P.isFormData(b)&&(F=ne.headers.get("content-type"))&&k.setContentType(F),ne.body){const[V,ae]=Rv(L,is(Iv(E)));b=Dv(ne.body,Mv,V,ae)}}P.isString(A)||(A=A?"include":"omit");const M=a&&"credentials"in r.prototype,q={...I,signal:$,method:v.toUpperCase(),headers:k.normalize().toJSON(),body:b,duplex:"half",credentials:M?A:void 0};U=a&&new r(g,q);let J=await(a?C(U,I):C(g,q));const X=u&&(j==="stream"||j==="response");if(u&&(S||X&&T)){const ne={};["status","statusText","headers"].forEach(ee=>{ne[ee]=J[ee]});const F=P.toFiniteNumber(J.headers.get("content-length")),[V,ae]=S&&Rv(F,is(Iv(S),!0))||[];J=new n(Dv(J.body,Mv,V,()=>{ae&&ae(),T&&T()}),ne)}j=j||"text";let pe=await d[P.findKey(d,j)||"text"](J,m);return!X&&T&&T(),await new Promise((ne,F)=>{C1(ne,F,{data:pe,headers:ut.from(J.headers),status:J.status,statusText:J.statusText,config:m,request:U})})}catch(M){throw T&&T(),M&&M.name==="TypeError"&&/Load failed|fetch/i.test(M.message)?Object.assign(new K("Network Error",K.ERR_NETWORK,m,U),{cause:M.cause||M}):K.from(M,M&&M.code,m,U)}}},_F=new Map,I1=e=>{let t=e?e.env:{};const{fetch:r,Request:n,Response:i}=t,a=[n,i,r];let o=a.length,s=o,l,c,u=_F;for(;s--;)l=a[s],c=u.get(l),c===void 0&&u.set(l,c=s?new Map:xF(t)),u=c;return c};I1();const Ju={http:B3,xhr:mF,fetch:{get:I1}};P.forEach(Ju,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Uv=e=>`- ${e}`,SF=e=>P.isFunction(e)||e===null||e===!1,$1={getAdapter:(e,t)=>{e=P.isArray(e)?e:[e];const{length:r}=e;let n,i;const a={};for(let o=0;o<r;o++){n=e[o];let s;if(i=n,!SF(n)&&(i=Ju[(s=String(n)).toLowerCase()],i===void 0))throw new K(`Unknown adapter '${s}'`);if(i&&(P.isFunction(i)||(i=i.get(t))))break;a[s||"#"+o]=i}if(!i){const o=Object.entries(a).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let s=r?o.length>1?`since :
`+o.map(Uv).join(`
`):" "+Uv(o[0]):"as no adapter specified";throw new K("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return i},adapters:Ju};function Uc(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new mi(null,e)}function Fv(e){return Uc(e),e.headers=ut.from(e.headers),e.data=Bc.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),$1.getAdapter(e.adapter||ja.adapter,e)(e).then(function(n){return Uc(e),n.data=Bc.call(e,e.transformResponse,n),n.headers=ut.from(n.headers),n},function(n){return A1(n)||(Uc(e),n&&n.response&&(n.response.data=Bc.call(e,e.transformResponse,n.response),n.response.headers=ut.from(n.response.headers))),Promise.reject(n)})}const D1="1.12.2",Ws={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Ws[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const zv={};Ws.transitional=function(t,r,n){function i(a,o){return"[Axios v"+D1+"] Transitional option '"+a+"'"+o+(n?". "+n:"")}return(a,o,s)=>{if(t===!1)throw new K(i(o," has been removed"+(r?" in "+r:"")),K.ERR_DEPRECATED);return r&&!zv[o]&&(zv[o]=!0,console.warn(i(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(a,o,s):!0}};Ws.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function EF(e,t,r){if(typeof e!="object")throw new K("options must be an object",K.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let i=n.length;for(;i-- >0;){const a=n[i],o=t[a];if(o){const s=e[a],l=s===void 0||o(s,a,e);if(l!==!0)throw new K("option "+a+" must be "+l,K.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new K("Unknown option "+a,K.ERR_BAD_OPTION)}}const ho={assertOptions:EF,validators:Ws},Xt=ho.validators;let un=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Cv,response:new Cv}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const a=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?a&&!String(n.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+a):n.stack=a}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=mn(this.defaults,r);const{transitional:n,paramsSerializer:i,headers:a}=r;n!==void 0&&ho.assertOptions(n,{silentJSONParsing:Xt.transitional(Xt.boolean),forcedJSONParsing:Xt.transitional(Xt.boolean),clarifyTimeoutError:Xt.transitional(Xt.boolean)},!1),i!=null&&(P.isFunction(i)?r.paramsSerializer={serialize:i}:ho.assertOptions(i,{encode:Xt.function,serialize:Xt.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),ho.assertOptions(r,{baseUrl:Xt.spelling("baseURL"),withXsrfToken:Xt.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=a&&P.merge(a.common,a[r.method]);a&&P.forEach(["delete","get","head","post","put","patch","common"],m=>{delete a[m]}),r.headers=ut.concat(o,a);const s=[];let l=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(r)===!1||(l=l&&g.synchronous,s.unshift(g.fulfilled,g.rejected))});const c=[];this.interceptors.response.forEach(function(g){c.push(g.fulfilled,g.rejected)});let u,d=0,f;if(!l){const m=[Fv.bind(this),void 0];for(m.unshift(...s),m.push(...c),f=m.length,u=Promise.resolve(r);d<f;)u=u.then(m[d++],m[d++]);return u}f=s.length;let p=r;for(;d<f;){const m=s[d++],g=s[d++];try{p=m(p)}catch(v){g.call(this,v);break}}try{u=Fv.call(this,p)}catch(m){return Promise.reject(m)}for(d=0,f=c.length;d<f;)u=u.then(c[d++],c[d++]);return u}getUri(t){t=mn(this.defaults,t);const r=T1(t.baseURL,t.url,t.allowAbsoluteUrls);return P1(r,t.params,t.paramsSerializer)}};P.forEach(["delete","get","head","options"],function(t){un.prototype[t]=function(r,n){return this.request(mn(n||{},{method:t,url:r,data:(n||{}).data}))}});P.forEach(["post","put","patch"],function(t){function r(n){return function(a,o,s){return this.request(mn(s||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:a,data:o}))}}un.prototype[t]=r(),un.prototype[t+"Form"]=r(!0)});let jF=class M1{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(a){r=a});const n=this;this.promise.then(i=>{if(!n._listeners)return;let a=n._listeners.length;for(;a-- >0;)n._listeners[a](i);n._listeners=null}),this.promise.then=i=>{let a;const o=new Promise(s=>{n.subscribe(s),a=s}).then(i);return o.cancel=function(){n.unsubscribe(a)},o},t(function(a,o,s){n.reason||(n.reason=new mi(a,o,s),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new M1(function(i){t=i}),cancel:t}}};function PF(e){return function(r){return e.apply(null,r)}}function OF(e){return P.isObject(e)&&e.isAxiosError===!0}const Xu={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Xu).forEach(([e,t])=>{Xu[t]=e});function N1(e){const t=new un(e),r=p1(un.prototype.request,t);return P.extend(r,un.prototype,t,{allOwnKeys:!0}),P.extend(r,t,null,{allOwnKeys:!0}),r.create=function(i){return N1(mn(e,i))},r}const we=N1(ja);we.Axios=un;we.CanceledError=mi;we.CancelToken=jF;we.isCancel=A1;we.VERSION=D1;we.toFormData=zs;we.AxiosError=K;we.Cancel=we.CanceledError;we.all=function(t){return Promise.all(t)};we.spread=PF;we.isAxiosError=OF;we.mergeConfig=mn;we.AxiosHeaders=ut;we.formToJSON=e=>k1(P.isHTMLForm(e)?new FormData(e):e);we.getAdapter=$1.getAdapter;we.HttpStatusCode=Xu;we.default=we;const{Axios:OW,AxiosError:kW,CanceledError:AW,isCancel:CW,CancelToken:TW,VERSION:RW,all:IW,Cancel:$W,isAxiosError:DW,spread:MW,toFormData:NW,AxiosHeaders:LW,HttpStatusCode:BW,formToJSON:UW,getAdapter:FW,mergeConfig:zW}=we;function kF(){const[e,t]=y.useState([]),[r,n]=y.useState(null),[i,a]=y.useState(!0),o=Vt(),{t:s}=_e();y.useEffect(()=>{(async()=>{var d;if(o){a(!0);try{const f=await we.get(`http://127.0.0.1:8001/history?client_id=${o}`);console.log("📦 Historial recibido:",f.data);let p=[];const m=f.data;Array.isArray(m==null?void 0:m.history)?p=m.history:Array.isArray((d=m==null?void 0:m.history)==null?void 0:d.history)?p=m.history.history:Array.isArray(m==null?void 0:m.data)?p=m.data:console.warn("⚠️ Estructura de historial desconocida:",m),t(p),console.log("✅ Historial normalizado:",p)}catch(f){console.error("❌ Error cargando historial:",f),t([])}finally{a(!1)}}})()},[o]);const l=e.reduce((u,d)=>{const f=d.session_id||"default";return u[f]||(u[f]=[]),u[f].push(d),u},{}),c=u=>{n(r===u?null:u)};return y.useEffect(()=>{const u=Object.keys(l);u.length>0&&!r&&n(u[u.length-1])},[e]),h.jsx("div",{style:{backgroundColor:"#0f1c2e",minHeight:"100vh",padding:"2rem",color:"white",display:"flex",justifyContent:"center",alignItems:"flex-start",fontFamily:"system-ui, sans-serif"},children:h.jsxs("div",{style:{maxWidth:"900px",width:"100%",backgroundColor:"#1b2a41",padding:"2rem",borderRadius:"16px",boxShadow:"0 10px 30px rgba(0,0,0,0.2)",border:"1px solid #274472"},children:[h.jsx("h2",{style:{fontSize:"1.8rem",fontWeight:"bold",color:"#f5a623",marginBottom:"1.5rem"},children:s("message_history")||"Message History"}),i?h.jsx("p",{style:{color:"#ededed"},children:s("loading_history")||"Loading history..."}):Object.keys(l).length===0?h.jsx("p",{style:{color:"#ededed"},children:s("no_messages_yet")||"No messages yet."}):h.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:Object.entries(l).map(([u,d])=>{const f=d[0],p=d[d.length-1],m=new Date(p.created_at).toLocaleString(),g=f.channel||"chat";return h.jsxs("div",{style:{backgroundColor:"#ededed",color:"#1b2a41",borderRadius:"12px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",border:"1px solid #a3d9b1",overflow:"hidden"},children:[h.jsxs("div",{onClick:()=>c(u),style:{cursor:"pointer",padding:"1rem 1.2rem",backgroundColor:"#a3d9b1",display:"flex",justifyContent:"space-between",alignItems:"center",transition:"background 0.2s ease"},onMouseEnter:v=>v.currentTarget.style.background="#b8e3c4",onMouseLeave:v=>v.currentTarget.style.background="#a3d9b1",children:[h.jsxs("div",{children:[h.jsx("strong",{style:{color:"#0f1c2e"},children:u==="default"?"Main session":`Session: ${u.slice(0,8)}...`}),h.jsxs("div",{style:{fontSize:"0.85rem",color:"#274472"},children:["Channel: ",g," | Messages: ",d.length]})]}),h.jsx("div",{style:{color:"#274472",fontSize:"0.85rem"},children:r===u?"▲ Collapse":"▼ Expand"})]}),r===u&&h.jsxs("div",{style:{padding:"1rem",backgroundColor:"#f9fafb",borderTop:"1px solid #a3d9b1"},children:[d.sort((v,b)=>new Date(v.created_at)-new Date(b.created_at)).map((v,b)=>h.jsxs("div",{style:{marginBottom:"0.8rem",backgroundColor:v.role==="user"?"#ffffff":"#e6eefc",borderLeft:`4px solid ${v.role==="user"?"#a3d9b1":"#4a90e2"}`,padding:"0.8rem 1rem",borderRadius:"8px"},children:[h.jsxs("div",{style:{fontSize:"0.8rem",color:"#64748b",marginBottom:"4px"},children:[new Date(v.created_at).toLocaleString()," | ",v.role]}),h.jsx("div",{style:{color:"#1b2a41",whiteSpace:"pre-wrap",fontSize:"0.95rem"},children:v.content||"(empty message)"})]},`${v.created_at}-${b}`)),h.jsxs("div",{style:{fontSize:"0.75rem",color:"#4a90e2",marginTop:"0.5rem",textAlign:"right"},children:["Last message: ",m]})]})]},u)})})]})})}const Ai=e=>/^\+\d{11,15}$/.test(e),Ci=e=>/^\d{10,20}$/.test(e),Ti=e=>/^EA[A-Za-z0-9]{16,}$/.test(e);function AF(){const{t:e}=_e(),[t,r]=y.useState("meta"),[n,i]=y.useState(""),[a,o]=y.useState(""),[s,l]=y.useState(""),[c,u]=y.useState({phone:!1,waPhoneId:!1,waToken:!1}),[d,f]=y.useState(null),[p,m]=y.useState({message:"",type:""}),[g,v]=y.useState(!1),b=Vt();y.useEffect(()=>{const _=async()=>{const{data:{session:E}}=await Je.auth.getSession();f(E)},S=async()=>{try{const E=await we.get("http://127.0.0.1:8001/get_whatsapp_config",{params:{client_id:b}}),{phone:j,wa_phone_id:k,wa_token:A,provider:I}=E.data||{};j&&i(j),k&&o(k),A&&l(A),r(I==="meta"||I==="twilio"?I:"meta"),j&&(I==="twilio"||k&&A)&&v(!0)}catch(E){console.log("ℹ️ No config found or failed to fetch:",E)}};_(),S()},[b]);const x=async()=>{if(!d||!Ai(n)||t==="meta"&&(!Ci(a)||!Ti(s)))return;const _={auth_user_id:d.user.id,email:d.user.email,phone:n,provider:t,wa_phone_id:t==="meta"?a:null,wa_token:t==="meta"?s:null};try{await we.post("http://127.0.0.1:8001/link_whatsapp",_),m({message:e("wa_success"),type:"success"}),v(!0)}catch(S){console.error(S),m({message:e("wa_error_linking"),type:"error"})}},w=(_,S)=>c[_]&&h.jsxs("p",{style:IF,children:[_==="phone"&&!Ai(S)&&e("wa_error_phone"),_==="waPhoneId"&&!Ci(S)&&e("wa_error_phone_id"),_==="waToken"&&!Ti(S)&&e("wa_error_token")]});return h.jsx("div",{style:CF,children:h.jsxs("div",{style:TF,children:[h.jsx("div",{style:$F,children:h.jsxs("h2",{style:RF,children:["💬 ",e("wa_setup_title")]})}),h.jsxs("div",{style:no,children:[h.jsx("label",{style:Wv,children:e("wa_choose_provider")}),h.jsxs("select",{value:t,onChange:_=>r(_.target.value),disabled:g,style:{...ro,backgroundColor:g?"#1b2a41":"#0f1c2e",color:g?"#aaa":"white",cursor:g?"not-allowed":"pointer",fontWeight:"bold",border:"1px solid #4a90e2",appearance:"none",backgroundImage:`url("data:image/svg+xml;utf8,<svg fill='white' height='24' viewBox='0 0 24 24' width='24' xmlns='http://www.w3.org/2000/svg'><path d='M7 10l5 5 5-5z'/></svg>")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 0.75rem center",paddingRight:"2rem",marginBottom:"1.5rem"},children:[h.jsx("option",{value:"meta",children:e("wa_provider_meta")}),h.jsx("option",{value:"twilio",children:e("wa_provider_twilio")})]})]}),h.jsxs("div",{style:no,children:[h.jsx("label",{style:Wv,children:e("wa_label_phone")}),h.jsx("input",{type:"text",placeholder:"+52XXXXXXXXXXXX",value:n,onChange:_=>i(_.target.value),onBlur:()=>u(_=>({..._,phone:!0})),disabled:g,style:ro}),w("phone",n)]}),t==="meta"&&h.jsxs(h.Fragment,{children:[h.jsxs("div",{style:no,children:[h.jsx("input",{type:"text",placeholder:e("wa_placeholder_phone_id"),value:a,onChange:_=>o(_.target.value),onBlur:()=>u(_=>({..._,waPhoneId:!0})),disabled:g,style:ro}),w("waPhoneId",a)]}),h.jsxs("div",{style:no,children:[h.jsx("input",{type:"text",placeholder:e("wa_placeholder_token"),value:s,onChange:_=>l(_.target.value),onBlur:()=>u(_=>({..._,waToken:!0})),disabled:g,style:ro}),w("waToken",s)]})]}),!g&&h.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[h.jsxs("button",{onClick:x,disabled:!Ai(n)||t==="meta"&&(!Ci(a)||!Ti(s)),style:{...qv,opacity:Ai(n)&&(t==="twilio"||Ci(a)&&Ti(s))?1:.5,cursor:Ai(n)&&(t==="twilio"||Ci(a)&&Ti(s))?"pointer":"not-allowed"},children:["📲 ",e("wa_button_link")]}),h.jsxs("button",{onClick:()=>window.history.back(),style:{...qv,backgroundColor:"#ededed",color:"#1b2a41"},children:["⬅️ ",e("wa_button_back")]})]}),p.message&&h.jsx("p",{style:{marginTop:"1rem",fontWeight:"bold",color:p.type==="error"?"#f87171":"#a3d9b1"},children:p.message})]})})}const CF={padding:"2rem",fontFamily:"system-ui, sans-serif",backgroundColor:"#0f1c2e",color:"white",minHeight:"100vh",display:"flex",justifyContent:"center"},TF={backgroundColor:"#1b2a41",padding:"2rem",borderRadius:"16px",maxWidth:"600px",width:"100%",boxShadow:"0 10px 30px rgba(0,0,0,0.2)",border:"1px solid #274472"},RF={fontSize:"1.8rem",fontWeight:"bold",color:"#f5a623",margin:0},Wv={fontWeight:600,fontSize:"0.95rem",color:"#ededed",marginBottom:"0.25rem"},ro={width:"100%",padding:"0.6rem",borderRadius:"8px",border:"1px solid #4a90e2",marginBottom:"0.5rem",backgroundColor:"#0f1c2e",color:"white"},IF={fontSize:"0.8rem",color:"#f87171",marginTop:"-0.5rem",marginBottom:"1rem"},no={marginBottom:"1.5rem"},qv={backgroundColor:"#4a90e2",color:"white",padding:"0.7rem 1.2rem",borderRadius:"8px",fontWeight:"bold",border:"none",cursor:"pointer"},$F={display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"};function DF(){return h.jsxs("div",{style:{padding:"2rem"},children:[h.jsx("h2",{style:{color:"#274472"},children:"🧰 Servicios Disponibles"}),h.jsxs("ul",{style:{marginTop:"1rem",fontSize:"1.1rem"},children:[h.jsx("li",{children:"🧠 Chat Assistant"}),h.jsx("li",{children:"✉️ Email"}),h.jsx("li",{children:"💬 WhatsApp"})]}),h.jsx("p",{style:{marginTop:"1rem",color:"#666"},children:"Usa el menú lateral para configurar cada servicio."})]})}const MF="http://127.0.0.1:8001";function L1(){const[e,t]=y.useState(null),[r,n]=y.useState(null),[i,a]=y.useState(null),[o,s]=y.useState(!0),l=Mt(),c=St(),u=["/","/login","/register","/confirm","/forgot-password","/reset-password","/verify-mfa","/welcome","/chat-widget","/widget","/widget-preview"];return y.useEffect(()=>{(async()=>{let f=0,p=null;for(console.log("%c🔄 Buscando sesión activa...","color: #4a90e2; font-weight: bold");!p&&f<5&&(p=(await Je.auth.getSession()).data.session,!p);)await new Promise(g=>setTimeout(g,300)),f++;if(!p||!p.user){console.warn("%c⛔ No hay sesión. Redirigiendo a /verify-mfa","color: #e74c3c; font-weight: bold"),t(null),n(null),a(null),s(!1),["/login","/register","/forgot-password","/reset-password"].includes(c.pathname)||l("/verify-mfa",{replace:!0});return}console.log(`%c✅ Sesión activa como: ${p.user.email}`,"color: #2ecc71; font-weight: bold");try{const m=await fetch(`${MF}/initialize_user`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({auth_user_id:p.user.id,email:p.user.email})});let g={};try{g=await m.json()}catch(b){console.error("%c❌ Error parsing JSON:","color: #e74c3c",b),g={}}if(!m.ok){console.error("%c❌ Error en /initialize_user:","color: #e74c3c; font-weight: bold",g),s(!1);return}console.log("%c📡 Datos de /initialize_user:","color: #3498db; font-weight: bold",g),t(p),n(g.client_id),a(g.public_client_id),localStorage.setItem("client_id",g.client_id),localStorage.setItem("public_client_id",g.public_client_id),localStorage.setItem("user_id",p.user.id),s(!1);const v=sessionStorage.getItem("alreadyRedirected");u.includes(c.pathname)?g.is_new_user&&!v?(console.log("%c📥 Usuario nuevo → Redirigiendo a /welcome","color: #f5a623; font-weight: bold"),sessionStorage.setItem("alreadyRedirected","true"),l("/welcome",{replace:!0})):!v&&c.pathname==="/login"?(console.log("%c🏠 Usuario existente. Redirigiendo a /dashboard","color: #f5a623; font-weight: bold"),l("/dashboard",{replace:!0})):console.log("%c🛑 Ruta pública correcta, no redirigir:","color: #3498db",c.pathname):console.log("%c🛑 Ruta privada detectada. No redirigir.","color: #3498db")}catch(m){console.error("%c❌ Error de red al llamar a /initialize_user:","color: #e74c3c; font-weight: bold",m),s(!1)}})()},[l,c.pathname]),{session:e,clientId:r,publicClientId:i,loading:o}}function NF(){const{t:e}=_e(),t=Vt(),[r,n]=y.useState(!1),[i,a]=y.useState("free"),[o,s]=y.useState({assistant_name:"Assistant",show_logo:!0,show_powered_by:!0,header_color:"#fff9f0",header_text_color:"#1b2a41",background_color:"#ffffff",user_message_color:"#a3d9b1",bot_message_color:"#f7f7f7",button_color:"#f5a623",button_text_color:"#ffffff",footer_text_color:"#999999",font_family:"Inter, sans-serif",widget_border_radius:16,widget_height:520}),l=["premium","white_label"].includes(i);y.useEffect(()=>{async function f(){var p;try{const m=await fetch(`http://127.0.0.1:8001/client_settings?client_id=${t}`);if(!m.ok)throw new Error("Error al obtener configuración");const g=await m.json();g.font_family&&(g.font_family=g.font_family.replace(/['"]/g,"").trim()),a(((p=g==null?void 0:g.plan)==null?void 0:p.id)||"free"),s(v=>({...v,...g}))}catch(m){console.error("❌ Error cargando settings:",m)}}t&&f()},[t]),y.useEffect(()=>{if(!o.font_family)return;const f=["Inter","Roboto","Poppins","Open Sans"],p=o.font_family.split(",")[0].replace(/['"]/g,"").trim();if(f.includes(p)){if(!document.getElementById(`font-${p}`)){const m=document.createElement("link");m.id=`font-${p}`,m.rel="stylesheet",m.href=`https://fonts.googleapis.com/css2?family=${p.replace(/ /g,"+")}:wght@400;500;600;700&display=swap`,document.head.appendChild(m)}document.fonts.ready.then(()=>{const m=`${p}, sans-serif`;s(g=>({...g,font_family:m}))})}},[o.font_family]);const c=(f,p)=>{f==="font_family"&&(p=p.replace(/['"]/g,"").trim()),s(m=>({...m,[f]:p}))},u=async()=>{if(!l){alert("⚠️ Only Premium and White Label users can save customization.");return}try{n(!0);const f={...o,font_family:o.font_family.replace(/['"]/g,"").trim()},p=await fetch("http://127.0.0.1:8001/client_settings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:t,...f})});if(!p.ok)throw new Error(await p.text());alert("✅ Widget settings saved successfully!")}catch(f){alert("❌ Error saving settings: "+f.message)}finally{n(!1)}},d=()=>{const f=window.location.hostname.includes("localhost")?"http://localhost:4223/settings":"https://app.evolvianai.com/settings";window.open(f,"_blank")};return h.jsxs("div",{style:LF,children:[h.jsx("h2",{style:BF,children:"🎨 Customize Your Chat Widget"}),h.jsx("p",{style:UF,children:"Adjust your assistant’s design to perfectly match your brand."}),h.jsxs("div",{style:FF,children:[h.jsxs("div",{style:zF,children:[h.jsxs("div",{style:qF,children:[h.jsxs("label",{style:kt,children:["Assistant Name:",h.jsx("input",{type:"text",value:o.assistant_name,onChange:f=>c("assistant_name",f.target.value),style:HF})]}),h.jsxs("label",{style:kt,children:["Header Color:",h.jsx("input",{type:"color",value:o.header_color,onChange:f=>c("header_color",f.target.value),style:Gr})]}),h.jsxs("label",{style:kt,children:["Header Text Color:",h.jsx("input",{type:"color",value:o.header_text_color,onChange:f=>c("header_text_color",f.target.value),style:Gr})]}),h.jsxs("label",{style:kt,children:["Background Color:",h.jsx("input",{type:"color",value:o.background_color,onChange:f=>c("background_color",f.target.value),style:Gr})]}),h.jsxs("label",{style:kt,children:["User Message Color:",h.jsx("input",{type:"color",value:o.user_message_color,onChange:f=>c("user_message_color",f.target.value),style:Gr})]}),h.jsxs("label",{style:kt,children:["Bot Message Color:",h.jsx("input",{type:"color",value:o.bot_message_color,onChange:f=>c("bot_message_color",f.target.value),style:Gr})]}),h.jsxs("label",{style:kt,children:["Button Color:",h.jsx("input",{type:"color",value:o.button_color,onChange:f=>c("button_color",f.target.value),style:Gr})]}),h.jsxs("label",{style:kt,children:["Button Text Color:",h.jsx("input",{type:"color",value:o.button_text_color,onChange:f=>c("button_text_color",f.target.value),style:Gr})]}),h.jsxs("label",{style:kt,children:["Font Family:",h.jsxs("select",{value:o.font_family,onChange:f=>c("font_family",f.target.value),style:KF,children:[h.jsx("option",{value:"Inter, sans-serif",children:"Inter"}),h.jsx("option",{value:"Roboto, sans-serif",children:"Roboto"}),h.jsx("option",{value:"Poppins, sans-serif",children:"Poppins"}),h.jsx("option",{value:"Open Sans, sans-serif",children:"Open Sans"})]})]}),h.jsxs("label",{style:kt,children:["Border Radius:",h.jsx("input",{type:"range",min:"0",max:"30",value:o.widget_border_radius,onChange:f=>c("widget_border_radius",Number(f.target.value)),style:{width:"100%"}}),h.jsxs("span",{children:[o.widget_border_radius,"px"]})]}),h.jsxs("label",{style:kt,children:["Show Logo:",h.jsx("input",{type:"checkbox",checked:o.show_logo,onChange:f=>c("show_logo",f.target.checked),style:{marginLeft:"8px"}})]}),h.jsxs("label",{style:kt,children:["Show “Powered by Evolvian”:",h.jsx("input",{type:"checkbox",checked:o.show_powered_by,onChange:f=>c("show_powered_by",f.target.checked),style:{marginLeft:"8px"}})]})]}),h.jsx("button",{onClick:u,disabled:r||!l,style:l?B1:VF,children:r?"Saving...":l?"💾 Save Changes":"🔒 Premium Feature"}),!l&&h.jsxs("div",{style:GF,children:["⚠️ Customization is available only for"," ",h.jsx("strong",{children:"Premium and White Label"})," plans.",h.jsx("br",{}),h.jsx("button",{style:YF,onClick:d,children:"🚀 Upgrade to Premium"})]})]}),h.jsx("div",{style:WF,children:h.jsxs("div",{style:{...JF,borderRadius:`${o.widget_border_radius}px`,backgroundColor:o.background_color,fontFamily:o.font_family,height:`${o.widget_height}px`},children:[h.jsxs("div",{style:{...XF,backgroundColor:o.header_color,color:o.header_text_color},children:[o.show_logo&&h.jsx("img",{src:"https://evolvian-assistant.onrender.com/static/logo-evolvian.svg",alt:"Logo",style:{height:"22px",marginRight:"0.6rem"}}),h.jsx("strong",{children:o.assistant_name})]}),h.jsxs("div",{style:ZF,children:[h.jsx("div",{style:{...ez,backgroundColor:o.bot_message_color},children:"Hello! How can I help you today?"}),h.jsx("div",{style:{...QF,backgroundColor:o.user_message_color},children:"Show me your pricing plans."})]}),h.jsxs("div",{style:tz,children:[h.jsx("textarea",{placeholder:"Type a message...",style:rz,rows:2,disabled:!0}),h.jsx("button",{style:{...nz,backgroundColor:o.button_color,color:o.button_text_color},children:"Send"})]}),o.show_powered_by&&h.jsxs("div",{style:{...iz,color:o.footer_text_color},children:["Powered by ",h.jsx("strong",{children:"Evolvian"})," — evolvianai.com"]})]})})]})]})}const LF={color:"white",padding:"2rem 3rem",backgroundColor:"#0f1c2e",fontFamily:"system-ui, sans-serif",minHeight:"100vh"},BF={fontSize:"1.8rem",color:"#f5a623",marginBottom:"0.5rem"},UF={color:"#ededed",marginBottom:"2rem"},FF={display:"grid",gridTemplateColumns:"1fr 420px",gap:"2rem",alignItems:"flex-start"},zF={backgroundColor:"#1b2a41",padding:"1.5rem",border:"1px solid #274472",borderRadius:"12px"},WF={backgroundColor:"#1b2a41",padding:"1rem",border:"1px solid #274472",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center"},qF={display:"grid",gap:"1rem"},kt={display:"flex",flexDirection:"column",fontSize:"0.9rem"},Gr={marginTop:"0.3rem",height:"30px",borderRadius:"8px",border:"none"},HF={marginTop:"0.3rem",padding:"0.4rem",borderRadius:"8px",border:"1px solid #4a90e2",backgroundColor:"#0f1c2e",color:"white"},KF={marginTop:"0.3rem",padding:"0.4rem",borderRadius:"8px",border:"1px solid #4a90e2",backgroundColor:"#0f1c2e",color:"white"},B1={marginTop:"1.5rem",backgroundColor:"#2eb39a",border:"none",color:"white",padding:"0.8rem 1.2rem",borderRadius:"8px",fontWeight:"bold",cursor:"pointer",width:"100%"},VF={...B1,backgroundColor:"#555",cursor:"not-allowed",opacity:.7},GF={backgroundColor:"#1b2a41",border:"1px dashed #f5a623",color:"#f5a623",padding:"1rem",borderRadius:"10px",marginTop:"1rem",textAlign:"center",fontSize:"0.9rem",fontWeight:"600"},YF={marginTop:"0.6rem",backgroundColor:"#f5a623",color:"#1b2a41",border:"none",borderRadius:"6px",padding:"0.4rem 0.8rem",cursor:"pointer",fontWeight:"bold"},JF={width:"360px",display:"flex",flexDirection:"column",overflow:"hidden",border:"1px solid #f0f0f0"},XF={flexShrink:0,height:"56px",borderBottom:"1px solid #f0f0f0",display:"flex",alignItems:"center",padding:"0 1rem"},ZF={flex:1,overflowY:"auto",padding:"1rem",display:"flex",flexDirection:"column",gap:"0.75rem"},QF={alignSelf:"flex-end",padding:"0.75rem 1rem",borderRadius:"18px",maxWidth:"75%",wordBreak:"break-word",color:"#1b2a41"},ez={alignSelf:"flex-start",padding:"0.75rem 1rem",borderRadius:"18px",maxWidth:"75%",wordBreak:"break-word",color:"#1b2a41"},tz={flexShrink:0,borderTop:"1px solid #f0f0f0",display:"flex",gap:"0.5rem",padding:"0.8rem"},rz={flex:1,resize:"none",borderRadius:"10px",padding:"0.6rem 0.75rem",border:"1px solid #ddd",fontSize:"0.95rem",outline:"none",color:"#1b2a41",backgroundColor:"#fff"},nz={border:"none",padding:"0.6rem 1rem",borderRadius:"10px",fontWeight:"600",fontSize:"0.95rem",cursor:"pointer"},iz={textAlign:"center",fontSize:"0.75rem",padding:"0.6rem",borderTop:"1px solid #f0f0f0"};function az(){const{publicClientId:e,loading:t}=L1(),{t:r}=_e(),[n,i]=y.useState("install"),a=c=>{navigator.clipboard.writeText(c),alert(`📋 ${r("copied_to_clipboard")}`)},o=window.location.hostname.includes("localhost")?"http://localhost:5180/static":"https://evolvian-assistant.onrender.com/static",s=`<script
  type="module"
  src="${o}/embed-floating.js"
  data-public-client-id="${e}"
><\/script>`,l=`<iframe
  src="${o}/widget.html?public_client_id=${e||"TU_ID_PUBLICO"}"
  style="width:360px;height:520px;border:none;border-radius:12px;"
  allow="clipboard-write; microphone"
  title="Evolvian AI Chat Widget"
></iframe>`;return t?h.jsx("div",{style:Kv,children:h.jsxs("div",{style:{color:"#ededed"},children:["🔄 ",r("loading_setup")]})}):h.jsx("div",{style:Kv,children:h.jsxs("div",{style:{maxWidth:"1400px",margin:"0 auto"},children:[h.jsxs("div",{style:oz,children:[h.jsx("button",{onClick:()=>i("install"),style:{...Hv,backgroundColor:n==="install"?"#4a90e2":"transparent"},children:"⚙️ Installation"}),h.jsx("button",{onClick:()=>i("customize"),style:{...Hv,backgroundColor:n==="customize"?"#f5a623":"transparent"},children:"🎨 Customize Widget"})]}),n==="install"?h.jsxs(h.Fragment,{children:[h.jsxs("h2",{style:sz,children:["🧠 ",r("setup_evolvian_web")]}),h.jsx("p",{style:lz,children:r("setup_description")}),h.jsxs("div",{style:cz,children:[h.jsxs("div",{children:[h.jsxs("strong",{children:[r("your_public_id"),":"]})," ",h.jsx("span",{style:{color:"#a3d9b1"},children:e||r("not_available")})]}),h.jsx("button",{onClick:()=>a(e),disabled:!e,style:uz(e),children:r("copy_id")})]}),h.jsxs("div",{style:dz,children:[h.jsxs("div",{style:Vv,children:[h.jsxs("h3",{style:Gv,children:["🔹 ",r("option1_title")]}),h.jsxs("p",{style:Yv,children:["💡 ",r("option1_hint")]}),h.jsxs("ol",{style:Jv,children:[h.jsxs("li",{children:["1️⃣ ",r("copy_script")]}),h.jsxs("li",{children:["2️⃣ ",r("paste_before_body")]}),h.jsxs("li",{children:["3️⃣ ",r("save_and_reload")]})]}),h.jsx("pre",{style:io,children:s}),h.jsx("button",{onClick:()=>a(s),style:Xv,children:r("copy_script_button")})]}),h.jsxs("div",{style:Vv,children:[h.jsxs("h3",{style:Gv,children:["🔹 ",r("option2_title")]}),h.jsxs("p",{style:Yv,children:["💡 ",r("option2_hint")]}),h.jsxs("ol",{style:Jv,children:[h.jsxs("li",{children:["1️⃣ ",r("copy_code")]}),h.jsxs("li",{children:["2️⃣ ",r("paste_where_visible")]}),h.jsxs("li",{children:["3️⃣ ",r("adjust_size_if_needed")]})]}),h.jsx("pre",{style:io,children:l}),h.jsx("button",{onClick:()=>a(l),style:Xv,children:r("copy_iframe")})]})]}),h.jsxs("div",{style:fz,children:[h.jsx("h2",{style:hz,children:"📖 Step-by-Step Installation Guide"}),h.jsxs("div",{style:Ri,children:[h.jsxs("div",{style:Ii,children:[h.jsx("h3",{style:Di,children:"Step 1 — Get Your Public Client ID"}),h.jsxs("p",{style:Dn,children:["Go to your ",h.jsx("strong",{children:"Evolvian Dashboard → Settings"}),". Copy your ",h.jsx("code",{children:"public_client_id"}),". You’ll use it in both widget and iframe integrations."]})]}),h.jsx("div",{style:$i,children:h.jsx("img",{src:"/assets/step1.gif",alt:"Step 1: Copy public client ID",style:Mi})})]}),h.jsxs("div",{style:Ri,children:[h.jsxs("div",{style:Ii,children:[h.jsx("h3",{style:Di,children:"Step 2 — Add the Script to Your Site"}),h.jsxs("p",{style:Dn,children:["Insert the script snippet just before the closing"," ",h.jsx("code",{children:"</body>"})," tag on your website."]}),h.jsx("p",{style:Dn,children:"This will automatically display the Evolvian floating chat button in the bottom-right corner of your page."}),h.jsx("pre",{style:io,children:s})]}),h.jsx("div",{style:$i,children:h.jsx("img",{src:"/assets/step2.gif",alt:"Step 2: Insert script before body tag",style:Mi})})]}),h.jsxs("div",{style:Ri,children:[h.jsxs("div",{style:Ii,children:[h.jsx("h3",{style:Di,children:"Step 3 — (Alternative) Use Iframe Mode"}),h.jsx("p",{style:Dn,children:"If you prefer a fixed chat window (e.g., on a “Contact” page), use the iframe version instead. You can control its position and design freely within your layout."}),h.jsx("pre",{style:io,children:l})]}),h.jsx("div",{style:$i,children:h.jsx("img",{src:"/assets/step3.gif",alt:"Step 3: Embed iframe version",style:Mi})})]}),h.jsxs("div",{style:Ri,children:[h.jsxs("div",{style:Ii,children:[h.jsx("h3",{style:Di,children:"Step 4 — Test and Verify"}),h.jsx("p",{style:Dn,children:"Once embedded, verify that:"}),h.jsxs("ul",{style:Zv,children:[h.jsx("li",{children:"✅ The chat icon appears correctly."}),h.jsx("li",{children:"✅ It opens your assistant window."}),h.jsx("li",{children:"✅ Messages work and appear in your dashboard."})]})]}),h.jsx("div",{style:$i,children:h.jsx("img",{src:"/assets/step4.gif",alt:"Step 4: Test and verify chat widget",style:Mi})})]}),h.jsxs("div",{style:Ri,children:[h.jsxs("div",{style:Ii,children:[h.jsx("h3",{style:Di,children:"Step 5 — Troubleshooting"}),h.jsx("p",{style:Dn,children:"If the widget doesn’t appear, check:"}),h.jsxs("ul",{style:Zv,children:[h.jsxs("li",{children:["🔧 Correct ",h.jsx("strong",{children:"public_client_id"}),"."]}),h.jsx("li",{children:"🌐 Your site allows external scripts (no CSP block)."}),h.jsx("li",{children:"📦 Saved & reloaded after insertion."}),h.jsxs("li",{children:["🚀 Contact"," ",h.jsx("a",{href:"mailto:support@evolvianai.com",style:{color:"#4a90e2"},children:"support@evolvianai.com"})," ","if it still fails."]})]})]}),h.jsx("div",{style:$i,children:h.jsx("img",{src:"/assets/step5.gif",alt:"Step 5: Troubleshooting tips",style:Mi})})]})]})]}):h.jsx(NF,{})]})})}const oz={display:"flex",justifyContent:"center",gap:"1rem",marginBottom:"2rem"},Hv={border:"1px solid #274472",borderRadius:"8px",color:"white",padding:"0.6rem 1.2rem",cursor:"pointer",fontWeight:"bold",transition:"all 0.2s ease"},Kv={padding:"2rem 3rem",fontFamily:"system-ui, sans-serif",backgroundColor:"#0f1c2e",color:"#ffffff",minHeight:"100vh"},sz={fontSize:"2rem",color:"#f5a623",fontWeight:"bold",marginBottom:"1rem"},lz={color:"#ffffff",maxWidth:"800px",marginBottom:"2rem"},cz={backgroundColor:"#1b2a41",padding:"1rem",borderRadius:"12px",marginBottom:"2rem",display:"flex",alignItems:"center",justifyContent:"space-between",maxWidth:"600px",border:"1px solid #274472"},uz=e=>({backgroundColor:"#4a90e2",color:"white",border:"none",borderRadius:"8px",padding:"0.5rem 1rem",fontWeight:"bold",cursor:e?"pointer":"not-allowed",opacity:e?1:.5}),dz={display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(400px, 1fr))",gap:"2rem",marginTop:"2rem"},Vv={display:"flex",flexDirection:"column",justifyContent:"space-between",backgroundColor:"#1b2a41",border:"1px solid #274472",padding:"1.5rem",borderRadius:"12px",minHeight:"460px",boxShadow:"0 4px 10px rgba(0,0,0,0.25)"},Gv={color:"#f5a623",fontSize:"1.2rem",marginBottom:"0.75rem",fontWeight:"600"},Yv={fontSize:"0.85rem",color:"#a3d9b1",marginBottom:"1rem"},Jv={fontSize:"0.85rem",marginBottom:"1rem"},io={background:"#ededed",color:"#274472",padding:"1rem",borderRadius:"8px",fontSize:"0.75rem",overflowX:"auto",marginBottom:"0.5rem"},Xv={backgroundColor:"#f5a623",color:"#1b2a41",border:"none",borderRadius:"8px",padding:"0.5rem 1rem",fontWeight:"bold",fontSize:"0.85rem",cursor:"pointer",transition:"0.2s ease all"},fz={marginTop:"3rem",backgroundColor:"rgba(27,42,65,0.6)",border:"1px solid #274472",borderRadius:"16px",padding:"2rem",backdropFilter:"blur(8px)"},hz={color:"#a3d9b1",fontSize:"1.6rem",fontWeight:"bold",marginBottom:"1.5rem",textAlign:"center"},Ri={display:"grid",gridTemplateColumns:"1fr 350px",gap:"1.5rem",alignItems:"center",marginBottom:"2rem"},Ii={backgroundColor:"#1b2a41",border:"1px solid #274472",borderRadius:"12px",padding:"1.5rem",boxShadow:"0 4px 12px rgba(0,0,0,0.25)"},$i={textAlign:"center"},Di={color:"#f5a623",fontSize:"1.1rem",fontWeight:"bold",marginBottom:"0.5rem"},Dn={color:"#ededed",fontSize:"0.95rem",marginBottom:"0.8rem",lineHeight:"1.5"},Zv={color:"#ededed",fontSize:"0.9rem",lineHeight:"1.6",marginLeft:"1.2rem"},Mi={maxWidth:"100%",borderRadius:"12px",border:"1px solid #274472",boxShadow:"0 4px 10px rgba(0,0,0,0.25)"};function pz(){const[e,t]=y.useState(""),[r,n]=y.useState(!1),i=Vt(),{t:a}=_e();y.useEffect(()=>{(async()=>{if(!i)return;const{data:l}=await Je.from("clients").select("email_forward").eq("id",i).single();l!=null&&l.email_forward&&t(l.email_forward)})()},[i]);const o=async()=>{if(!i||!e)return;const{error:s}=await Je.from("clients").update({email_forward:e}).eq("id",i);s||n(!0)};return h.jsx("div",{style:mz,children:h.jsxs("div",{style:gz,children:[h.jsxs("h2",{style:vz,children:["✉️ ",a("setup_email_assistant")]}),h.jsx("p",{style:Qv,children:a("email_instructions_intro")}),h.jsx("code",{style:yz,children:"contacto@tudominio.com → evolvian@correo.evolvian.app"}),h.jsx("p",{style:Qv,children:a("save_email_instruction")}),h.jsx("input",{type:"email",placeholder:a("email_placeholder"),value:e,onChange:s=>{t(s.target.value),n(!1)},style:bz}),h.jsx("button",{onClick:o,style:wz,children:a("save_address")}),r&&h.jsxs("p",{style:{color:"#a3d9b1",fontSize:"0.95rem"},children:["✅ ",a("address_saved")]}),h.jsxs("div",{style:{marginTop:"2rem",fontSize:"0.9rem",color:"#ededed"},children:[h.jsx("p",{children:h.jsx("strong",{children:a("how_it_works")})}),h.jsxs("ul",{style:xz,children:[h.jsxs("li",{children:["1️⃣ ",a("step1")]}),h.jsxs("li",{children:["2️⃣ ",a("step2")]}),h.jsxs("li",{children:["3️⃣ ",a("step3")]})]})]})]})})}const mz={backgroundColor:"#0f1c2e",minHeight:"100vh",padding:"2rem",fontFamily:"system-ui, sans-serif",color:"white",display:"flex",justifyContent:"center"},gz={backgroundColor:"#1b2a41",padding:"2rem",borderRadius:"16px",maxWidth:"600px",width:"100%",boxShadow:"0 10px 30px rgba(0,0,0,0.2)",border:"1px solid #274472"},vz={fontSize:"1.8rem",fontWeight:"bold",color:"#f5a623",marginBottom:"1.5rem"},Qv={marginBottom:"1rem"},yz={backgroundColor:"#ededed",color:"#274472",padding:"0.6rem 1rem",borderRadius:"8px",display:"block",marginBottom:"1.5rem"},bz={width:"100%",padding:"0.6rem",borderRadius:"8px",border:"1px solid #4a90e2",marginBottom:"1rem",backgroundColor:"#0f1c2e",color:"white"},wz={backgroundColor:"#4a90e2",color:"white",padding:"0.7rem 1.2rem",borderRadius:"8px",fontWeight:"bold",border:"none",cursor:"pointer",marginBottom:"1rem"},xz={marginTop:"0.5rem",paddingLeft:"1.2rem",lineHeight:"1.7"};function _z({children:e,...t}){return h.jsx("button",{className:"w-full py-2.5 bg-[#2eb39a] hover:bg-[#26a488] text-white font-semibold rounded-lg transition",...t,children:e})}function ey({children:e}){return h.jsx("div",{className:"w-full max-w-md bg-[#1b2a41] border border-[#274472] rounded-2xl p-8 shadow-lg text-white",children:e})}function Sz(){const{t:e}=_e(),t=Vt(),[r,n]=y.useState(!1),[i,a]=y.useState([]),o=St(),s=Mt();y.useEffect(()=>{const c=new URLSearchParams(o.search);c.get("connected_calendar")==="true"&&(at({title:e("calendar_connected_title"),description:e("calendar_connected_description")}),c.delete("connected_calendar"),s({pathname:o.pathname,search:c.toString()},{replace:!0}))},[o,s]),y.useEffect(()=>{t&&fetch(`/api/calendar/status?client_id=${t}`).then(c=>c.json()).then(c=>{if(c.connected){n(!0);const u=(c.available_slots||[]).filter(d=>typeof d=="string"||typeof d=="number");a(u)}}).catch(()=>{at({title:e("calendar_error_title"),description:e("calendar_error_description"),variant:"destructive"})})},[t]);const l=()=>{const u=`http://127.0.0.1:8001/api/auth/google_calendar/init?client_id=${t}`;console.log("🔗 Redirigiendo a:",u),window.location.href=u};return h.jsxs("div",{className:"p-6 max-w-4xl mx-auto",children:[h.jsx("h1",{className:"text-2xl font-bold mb-4",children:e("calendar_title")}),h.jsxs(ey,{children:[h.jsx("p",{className:"mb-4",children:e("calendar_description")}),h.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[h.jsx(_z,{onClick:l,disabled:!t||r,children:e(r?"calendar_account_connected":"calendar_connect_button")}),r&&h.jsx("span",{className:"text-sm text-green-600 font-medium",children:e("calendar_active_connection")})]})]}),r&&h.jsx("div",{className:"mt-8",children:h.jsxs(ey,{children:[h.jsx("h2",{className:"text-xl font-semibold mb-2",children:e("calendar_next_slots_title")}),i.length===0?h.jsx("p",{className:"text-sm text-gray-500",children:e("calendar_no_slots")}):h.jsx("ul",{className:"list-disc ml-5",children:i.map((c,u)=>{const d=new Date(c),f=!isNaN(d.getTime());return h.jsx("li",{className:"text-sm",children:f?d.toLocaleString():"⛔ Fecha inválida"},u)})})]})})]})}function Ez({activeTab:e,formData:t,refetchSettings:r}){var C,$,U;const{t:n}=_e(),i=Vt(),a=St(),o=Mt(),[s,l]=y.useState(null),[c,u]=y.useState(""),[d,f]=y.useState(!1),[p,m]=y.useState(null);y.useEffect(()=>{(async()=>{var M;const{data:L}=await Je.auth.getUser();(M=L==null?void 0:L.user)!=null&&M.email&&u(L.user.email)})()},[]);const g=[{id:"free",name:"Free",price:"$0/mo",desc:"Test Evolvian with no cost.",features:["100 messages / month","1 document","Basic dashboard","Evolvian Chat Support"]},{id:"starter",name:"Starter",price:"$19/mo",desc:"Perfect for small businesses.",features:["1,000 messages / month","1 document","Email Support","Evolvian Chat Support"]},{id:"premium",name:"Premium",price:"$49/mo",desc:"Best for growth and automation.",features:["5,000 messages / month","3 documents","Custom Prompt","Evolvian Chat Support"],badge:"Most Popular"},{id:"white_label",name:"Enterprise",price:"Custom",desc:"Designed for enterprises & agencies.",features:["Unlimited messages & documents","Dedicated support & onboarding"],contact:"support@evolvianai.com"}],v={free:1,starter:2,premium:3,white_label:4},b=(($=(C=t==null?void 0:t.plan)==null?void 0:C.id)==null?void 0:$.toLowerCase())||"free",x=((U=t==null?void 0:t.plan)==null?void 0:U.name)||"Current Plan",w=!!(t!=null&&t.cancellation_requested_at);t!=null&&t.scheduled_plan_id;const _=t==null?void 0:t.subscription_end,S=T=>T?new Date(T).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"}):"";if(y.useEffect(()=>{new URLSearchParams(a.search).get("session_id")&&(at({title:n("subscription_activated_title"),description:n("subscription_activated_desc")}),r==null||r(),o("/dashboard"))},[a]),e!=="plan")return null;const E=async T=>{if(w)return at({title:"Plan change blocked",description:"You cannot change plans while a downgrade is pending."});try{if(!c){at({title:"Missing email",description:"Please sign in again."});return}l(T);const L=await fetch("http://127.0.0.1:8001/create-checkout-session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({plan_id:T,client_id:i,email:c})}),M=await L.json();if(L.ok&&M.url)window.location.href=M.url;else throw new Error(M.error||"Checkout session failed")}catch(L){at({title:"Upgrade failed",description:L.message})}finally{l(null)}},j=async T=>{if(w)return at({title:"Downgrade already scheduled",description:"You already have a pending downgrade request."});try{l(T);const L=await fetch("http://127.0.0.1:8001/change-plan",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:i,new_plan_id:T})}),M=await L.json();if(L.ok)at({title:"Plan updated",description:M.message||"Plan change scheduled."}),await(r==null?void 0:r()),setTimeout(()=>window.location.href="/dashboard",1e3);else throw new Error((M==null?void 0:M.error)||"Plan change failed")}catch(L){at({title:"Downgrade failed",description:L.message})}finally{l(null)}},k=async()=>{if(confirm(`Do you want to reactivate your ${x}?`))try{f(!0);const T=await fetch("http://127.0.0.1:8001/reactivate-subscription",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:i})}),L=await T.json();if(T.ok)at({title:"Subscription reactivated",description:`Your ${x} has been restored.`}),setTimeout(()=>window.location.href="/dashboard",1e3);else throw new Error((L==null?void 0:L.error)||"Error reactivating subscription")}catch(T){at({title:"Error",description:T.message})}finally{f(!1)}},A=T=>{const L=v[b],M=v[T];return M>L?"upgrade":M<L?"downgrade":"current"},I=({type:T,plan:L,onConfirm:M,onCancel:q})=>{const J=g.find(ne=>ne.id===b),X=g.find(ne=>ne.id===L.id),pe=T==="upgrade"?X.features.filter(ne=>!J.features.includes(ne)):J.features.filter(ne=>!X.features.includes(ne));return h.jsx("div",{className:"confirm-overlay",children:h.jsxs("div",{className:"confirm-window",children:[h.jsx("div",{className:"confirm-left",children:h.jsx("img",{src:"/logo-evolvian.svg",alt:"Evolvian Logo",className:"confirm-logo"})}),h.jsxs("div",{className:"confirm-right",children:[h.jsxs("h3",{children:[T==="upgrade"?"Upgrade Plan":"Downgrade Plan"," — ",J.name," → ",X.name]}),h.jsx("p",{children:T==="upgrade"?"You’re about to upgrade your plan. Your new plan will start immediately after confirmation.":`Your downgrade will take effect at the end of your current billing cycle ${_?`(${S(_)})`:""}.`}),pe.length>0&&h.jsxs(h.Fragment,{children:[h.jsx("h4",{children:T==="upgrade"?"You’ll gain:":"You’ll lose access to:"}),h.jsx("ul",{className:"feature-list",children:pe.map((ne,F)=>h.jsxs("li",{children:[T==="upgrade"?"✅ ":"❌ ",ne]},F))})]}),h.jsxs("p",{className:"terms-text",children:["By clicking “Accept”, you agree to our"," ",h.jsx("a",{href:"/terms",target:"_blank",rel:"noopener noreferrer",children:"Terms and Conditions"})," ","and"," ",h.jsx("a",{href:"/PrivacyPolicy",target:"_blank",rel:"noopener noreferrer",children:"Privacy Policy"}),"."]}),h.jsxs("div",{className:"confirm-actions",children:[h.jsx("button",{className:"btn cancel",onClick:q,children:"Cancel"}),h.jsx("button",{className:"btn confirm",onClick:()=>{M(),m(null)},children:"Accept"})]})]})]})})};return h.jsxs("section",{className:"plans-section",children:[h.jsx("h2",{className:"plans-title",children:"Choose the plan that fits your business"}),w&&h.jsxs("div",{className:"cancel-banner",children:["⚠️ Your ",h.jsx("strong",{children:x})," will be cancelled on"," ",h.jsx("strong",{children:S(_)}),".",h.jsx("button",{onClick:k,disabled:d,className:"reactivate-btn",children:d?"Reactivating...":`🔄 Reactivate ${x}`})]}),h.jsx("div",{className:"plan-grid",children:g.map(T=>{const L=A(T.id);return h.jsxs("div",{className:`plan-card ${T.badge?"highlighted":""} ${b===T.id?"current":""}`,children:[h.jsxs("div",{className:"plan-header",children:[h.jsxs("h3",{children:[T.name," ",T.badge&&h.jsx("span",{className:"badge",children:T.badge})]}),h.jsx("span",{className:"price",children:T.price})]}),h.jsx("p",{className:"plan-desc",children:T.desc}),h.jsx("ul",{children:T.features.map((M,q)=>h.jsxs("li",{children:["✅ ",M]},q))}),T.id==="white_label"?h.jsxs("div",{className:"plan-footer",children:[h.jsx("p",{className:"contact-text",children:"Contact for Whitelabel plan"}),h.jsx("a",{href:`mailto:${T.contact}`,className:"contact-link",children:T.contact})]}):L==="current"?h.jsx("button",{className:"btn current",children:"✅ Current Plan"}):L==="upgrade"?h.jsx("button",{onClick:()=>m({type:"upgrade",plan:T}),disabled:s===T.id||w,className:"btn upgrade",children:s===T.id?"Processing...":"Upgrade"}):h.jsx("button",{onClick:()=>m({type:"downgrade",plan:T}),disabled:s===T.id||w,className:"btn downgrade",children:s===T.id?"Processing...":"Downgrade"})]},T.id)})}),p&&h.jsx(I,{type:p.type,plan:p.plan,onCancel:()=>m(null),onConfirm:()=>p.type==="upgrade"?E(p.plan.id):j(p.plan.id)})]})}const ty={chat_widget:["free","starter","premium"],email_support:["starter","premium"],whatsapp_integration:["premium"],custom_greeting:["starter","premium"],white_labeling:["white_label"]},ry=["free","starter","premium","white_label"];function jz({activeTab:e,plan:t}){const{t:r}=_e();if(console.log("📢 Render FeatureList"),console.log("🧾 activeTab:",e),console.log("📦 plan prop:",t),e!=="features")return null;const n=typeof(t==null?void 0:t.id)=="string"?t.id.toLowerCase():"free",i=(o,s)=>{const l=ty[o];if(!l)return!1;const c=ry.indexOf(s);return l.some(u=>ry.indexOf(u)<=c)},a=o=>{const s=ty[o];return!s||s.length===0?"—":s.includes("free")?r("free"):s.includes("starter")?r("starter"):s.includes("premium")?r("premium"):s[0]};return h.jsxs("div",{style:{marginTop:"2rem",backgroundColor:"white",border:"1px solid #4a90e2",borderRadius:"16px",padding:"1.5rem",boxShadow:"0 4px 10px rgba(0,0,0,0.08)"},children:[h.jsxs("h4",{style:{fontSize:"1.1rem",fontWeight:"bold",color:"#274472",marginBottom:"1rem"},children:["🧩 ",r("included_features")]}),h.jsx("ul",{style:{listStyle:"none",padding:0,margin:0,fontSize:"0.95rem"},children:[{key:"chat_widget",label:r("chat_widget"),icon:"💬"}].map(o=>{const s=i(o.key,n);return h.jsxs("li",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"0.5rem",color:s?"#4a90e2":"#999"},children:[h.jsx("span",{children:o.icon}),h.jsx("span",{children:o.label}),h.jsx("span",{style:{marginLeft:"auto",backgroundColor:s?"#a3d9b1":"#f5a623",color:"#1b2a41",fontSize:"0.7rem",padding:"2px 6px",borderRadius:"999px",fontWeight:"bold"},children:s?r("included_in_plan"):`${r("available_from")} ${a(o.key)}`})]},o.key)})})]})}function Pz({activeTab:e,custom_prompt:t,hasPromptFeature:r,onChange:n,maxLength:i,defaultPrompt:a,temperature:o}){const{t:s}=_e();if(e!=="prompt")return null;const l=t||a,c=l.length>i;return h.jsxs("div",{style:{marginTop:"2rem",display:"flex",flexDirection:"column",gap:"1.5rem"},children:[h.jsxs("div",{children:[h.jsx("label",{children:s("custom_prompt")}),h.jsx("textarea",{name:"custom_prompt",value:l,onChange:n,readOnly:!r,rows:6,style:{width:"100%",padding:"8px",borderRadius:"6px",border:c?"2px solid #e53935":"1px solid #ccc",marginTop:"4px",fontFamily:"inherit"}}),h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"4px"},children:[!r&&h.jsx("p",{style:{color:"#888",fontSize:"0.85rem"},children:s("custom_prompt_locked")}),h.jsxs("p",{style:{fontSize:"0.85rem",color:c?"#e53935":"#666"},children:[l.length," / ",i," ",s("characters")]})]})]}),h.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:[h.jsxs("label",{htmlFor:"temperature",style:{fontWeight:"bold"},children:["🌡️ ",s("temperature_label")||"Model temperature (0.0 - 1.0)"]}),h.jsx("input",{type:"number",step:"0.1",min:"0",max:"1",name:"temperature",id:"temperature",value:o,onChange:n,readOnly:!r,style:{padding:"0.5rem",border:"1px solid #ccc",borderRadius:"4px",width:"100%",backgroundColor:r?"white":"#f5f5f5",color:r?"#000":"#999"}}),!r&&h.jsx("small",{style:{color:"#888"},children:s("upgrade_to_edit_temperature")||"Upgrade your plan to customize temperature."})]})]})}function Oz(){var v,b;const e=Vt(),{t}=_e(),[r,n]=y.useState("plan"),[i,a]=y.useState({assistant_name:"",language:"es",temperature:.7,plan:null,show_powered_by:!0,custom_prompt:"",require_email:!1,require_phone:!1,require_terms:!1}),[o,s]=y.useState({message:"",type:""}),[l,c]=y.useState(!0),u=t("default_prompt")||"Eres un asistente de IA diseñado para ayudar con preguntas sobre los documentos cargados por el cliente.",d=2e3,f=y.useCallback(async()=>{if(e){try{console.log("📡 Fetching settings for:",e);const x=await fetch(`http://127.0.0.1:8001/client_settings?client_id=${e}`),w=await x.json();if(console.log("📦 Response from /client_settings:",w),x.ok&&w){const _=w.plan||{id:"free",plan_features:[]};a(S=>({...S,...w,plan:{..._,plan_features:_.plan_features??[]}})),console.log("🧾 Plan actualizado en estado:",_==null?void 0:_.id)}else console.error("❌ Error al obtener configuración:",w)}catch(x){console.error("❌ Error de red en fetchSettings:",x)}c(!1)}},[e]);y.useEffect(()=>{f()},[f]);const p=x=>{const{name:w,type:_,checked:S,value:E}=x.target;a(j=>({...j,[w]:_==="checkbox"?S:E}))},m=async x=>{if(x.preventDefault(),(i.custom_prompt||u).length>d){s({message:`❌ ${t("prompt_too_long")}`,type:"error"});return}const w={client_id:e,assistant_name:i.assistant_name,language:i.language,temperature:i.temperature,custom_prompt:i.custom_prompt,require_email:i.require_email,require_phone:i.require_phone,require_terms:i.require_terms};try{console.log("📤 Enviando payload:",w);const _=await fetch("http://127.0.0.1:8001/client_settings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(w)}),S=await _.json();console.log("📨 Respuesta POST /client_settings:",S),_.ok?s({message:`✅ ${t("settings_saved")}`,type:"success"}):s({message:`❌ ${S.error||t("error_saving")}`,type:"error"})}catch(_){console.error("❌ Error en handleSubmit:",_),s({message:"❌ Error al guardar configuración.",type:"error"})}},g=((b=(v=i.plan)==null?void 0:v.plan_features)==null?void 0:b.some(x=>{var w,_;return typeof x=="string"?x==="custom_prompt_editing":((_=(w=x==null?void 0:x.feature)==null?void 0:w.toLowerCase())==null?void 0:_.replace(/\s+/g,"_"))==="custom_prompt_editing"}))??!1;return l?h.jsx("p",{children:t("loading_settings")}):(console.log("📌 Renderizando ClientSettings con tab:",r),h.jsxs("div",{style:{padding:"2rem",maxWidth:"700px",margin:"0 auto"},children:[h.jsxs("h2",{children:["⚙️ ",t("client_settings")]}),h.jsxs("div",{style:{display:"flex",gap:"1rem",marginBottom:"2rem",flexWrap:"wrap"},children:[h.jsxs("button",{onClick:()=>n("plan"),style:Fc(r==="plan"),children:["🧾 ",t("your_current_plan")]}),h.jsxs("button",{onClick:()=>n("features"),style:Fc(r==="features"),children:["🧩 ",t("included_features")]}),h.jsxs("button",{onClick:()=>n("prompt"),style:Fc(r==="prompt"),children:["🎨 ",t("custom_prompt")]})]}),r==="plan"&&h.jsx(Ez,{activeTab:r,formData:i,refetchSettings:f}),r==="features"&&h.jsx(jz,{activeTab:r,plan:i.plan}),r==="prompt"&&h.jsxs("form",{onSubmit:m,style:{display:"flex",flexDirection:"column",gap:"2rem"},children:[h.jsx(Pz,{activeTab:r,custom_prompt:i.custom_prompt,temperature:i.temperature,hasPromptFeature:g,onChange:p,maxLength:d,defaultPrompt:u}),h.jsx("button",{type:"submit",style:{backgroundColor:"#4a90e2",color:"white",padding:"10px 16px",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"bold",width:"fit-content"},children:t("save_settings")})]}),o.message&&h.jsx("p",{style:{marginTop:"1.5rem",fontWeight:"bold",color:o.type==="error"?"#e53935":"#2e7d32"},children:o.message})]}))}const Fc=e=>({padding:"6px 12px",backgroundColor:e?"#a3d9b1":"#ededed",color:"#274472",borderRadius:"999px",border:"none",cursor:"pointer",fontWeight:"500",fontSize:"0.9rem"});function kz(){const{lang:e,changeLanguage:t}=_e();return h.jsxs("div",{style:Az,children:[h.jsx("button",{onClick:()=>t("en"),disabled:e==="en",style:{...ny,backgroundColor:e==="en"?"#4a90e2":"#ededed",color:e==="en"?"white":"#274472"},children:"English"}),h.jsx("button",{onClick:()=>t("es"),disabled:e==="es",style:{...ny,backgroundColor:e==="es"?"#4a90e2":"#ededed",color:e==="es"?"white":"#274472"},children:"Español"})]})}const Az={display:"flex",justifyContent:"center",gap:"0.5rem",marginTop:"1rem"},ny={padding:"0.4rem 0.8rem",borderRadius:"8px",border:"none",fontWeight:"bold",cursor:"pointer"};function Cz(){const e=Mt(),t=Vt(),{t:r}=_e(),[n,i]=y.useState([]),[a,o]=y.useState(null);y.useEffect(()=>{(async()=>{var u,d;if(t)try{const f=await fetch(`http://127.0.0.1:8001/client_settings?client_id=${t}`),p=await f.json();if(f.ok){const m=v=>v.toLowerCase().replace(/\s+/g,"_"),g=((d=(u=p.plan)==null?void 0:u.plan_features)==null?void 0:d.map(v=>m(v.feature)))||[];i(g)}}catch(f){console.error("❌ Error al conectar con el backend:",f)}})()},[t]);const s=async()=>{await Je.auth.signOut(),localStorage.clear(),e("/login",{replace:!0}),window.location.reload()},l=c=>n.includes(c);return h.jsx("aside",{style:Tz,children:h.jsxs("div",{children:[h.jsxs("div",{style:Rz,children:[h.jsx("img",{src:"/logo-evolvian.svg",alt:"Evolvian Logo",style:{width:"60px",margin:"0 auto"}}),h.jsx(kz,{})]}),h.jsxs("nav",{style:Iz,children:[h.jsx(ao,{label:`📊 ${r("dashboard")}`,to:"/dashboard",hovered:a,setHovered:o,id:"dashboard"}),h.jsx(ao,{label:`📤 ${r("upload")}`,to:"/upload",hovered:a,setHovered:o,id:"upload"}),h.jsx(ao,{label:`📚 ${r("history")}`,to:"/history",hovered:a,setHovered:o,id:"history"}),[{label:`🧠 ${r("chat_assistant")}`,path:"/services/chat",feature:"chat_widget"}].map(({label:c,path:u,feature:d})=>{const f=l(d),p=u;return h.jsxs("div",{style:Zu,children:[h.jsx(Nr,{to:f?u:"#",style:{...U1,backgroundColor:a===p?"#4a90e2":"transparent",color:f?"white":"#999",pointerEvents:f?"auto":"none"},onMouseEnter:()=>o(p),onMouseLeave:()=>o(null),title:f?"":r("premium_only"),children:c}),!f&&h.jsx("span",{style:{...$z,marginLeft:"8px"},children:"Premium"})]},d)}),h.jsx(ao,{label:`⚙️ ${r("settings")}`,to:"/settings",hovered:a,setHovered:o,id:"settings"}),h.jsx("div",{style:{...Zu,marginTop:"1.5rem"},children:h.jsx("button",{onClick:s,style:Dz,children:r("logout")})})]})]})})}function ao({to:e,label:t,hovered:r,setHovered:n,id:i}){return h.jsx("div",{style:Zu,children:h.jsx(Nr,{to:e,onMouseEnter:()=>n(i),onMouseLeave:()=>n(null),style:{...U1,backgroundColor:r===i?"#4a90e2":"transparent"},children:t})})}const Tz={width:"240px",background:"#274472",color:"white",padding:"2rem 1.5rem",minHeight:"100vh",display:"flex",flexDirection:"column"},Rz={textAlign:"center",marginBottom:"2rem"},Iz={display:"flex",flexDirection:"column"},Zu={padding:"0.4rem 0.6rem",borderBottom:"1px solid rgba(255, 255, 255, 0.1)"},U1={color:"white",textDecoration:"none",fontWeight:"500",fontSize:"1rem",transition:"all 0.2s ease",display:"block",borderRadius:"6px"},$z={backgroundColor:"#f5a623",color:"#1b2a41",fontSize:"0.7rem",padding:"2px 6px",borderRadius:"999px",fontWeight:"bold",verticalAlign:"middle"},Dz={backgroundColor:"#f5a623",color:"white",border:"none",borderRadius:"8px",padding:"0.5rem 1rem",cursor:"pointer",fontWeight:"bold",width:"100%"},Mz="evolvian-internal";function Nz(){const[e,t]=y.useState(!1),r=Mz;return h.jsxs(h.Fragment,{children:[h.jsx("button",{onClick:()=>t(!e),style:{position:"fixed",bottom:e?"540px":"24px",right:"24px",zIndex:1e4,borderRadius:"50%",width:"64px",height:"64px",border:"none",cursor:"pointer",overflow:"hidden",padding:0},children:e?h.jsx("span",{style:{fontSize:"32px",color:"white",background:"#4a90e2",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:"×"}):h.jsx("img",{src:"/e1.png",alt:"Evolvian Logo",style:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"50%"}})}),e&&h.jsx("div",{style:Lz.container,children:h.jsx(as,{clientId:r})})]})}const Lz={container:{position:"fixed",bottom:"24px",right:"24px",width:"360px",height:"500px",backgroundColor:"#ffffff",borderRadius:"16px",boxShadow:"0 6px 24px rgba(0,0,0,0.2)",zIndex:9999,overflow:"hidden"}};function sr({children:e}){return h.jsxs("div",{style:Bz,children:[h.jsx("header",{style:Uz,children:"Evolvian™"}),h.jsxs("div",{style:Fz,children:[h.jsx(Cz,{}),h.jsx("main",{style:zz,children:e})]}),h.jsxs("footer",{style:Wz,children:[h.jsx("div",{children:"Evolvian™ is a pending trademark application filed with the USPTO. All rights reserved."}),h.jsxs("div",{style:{marginTop:"0.5rem"},children:["Version v1.0 —"," ",h.jsx("a",{href:"https://evolvianai.com",target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"underline",color:"#a3d9b1"},children:"Visit Public Site"})," ","|"," ",h.jsx("a",{href:"/terms",style:{textDecoration:"underline",color:"#a3d9b1"},children:"Terms & Conditions"})," ","|"," ",h.jsx("a",{href:"/PrivacyPolicy",style:{textDecoration:"underline",color:"#a3d9b1"},children:"Privacy Policy"})]})]}),h.jsx(Nz,{})]})}const Bz={display:"flex",flexDirection:"column",minHeight:"100vh",backgroundColor:"#0f1c2e",color:"white"},Uz={padding:"1rem",fontSize:"1.5rem",fontWeight:"bold",color:"#f5a623",backgroundColor:"#1b2a41",textAlign:"center"},Fz={display:"flex",flex:1},zz={flex:1,padding:"2rem",overflowY:"auto"},Wz={textAlign:"center",padding:"1rem",fontSize:"0.875rem",backgroundColor:"#1b2a41",color:"#ededed"};function qz({children:e}){const[t,r]=y.useState(!0),[n,i]=y.useState(!1),[a,o]=y.useState(!1);return y.useEffect(()=>{(async()=>{const{data:{session:l}}=await Je.auth.getSession();l||o(!0),i(!!l),r(!1)})()},[]),t?h.jsx("p",{className:"p-6",children:"🔐 Verificando sesión..."}):a?(alert("⚠️ Debes iniciar sesión para acceder a esta sección."),h.jsx(hy,{to:"/login",replace:!0})):e}function lr({children:e}){const{session:t,clientId:r,loading:n}=L1();return n?h.jsx("div",{style:{padding:"2rem",color:"white"},children:"🔄 Cargando sesión..."}):!t||!r?h.jsx("div",{style:{padding:"2rem",color:"white"},children:"⛔ Sesión no válida. Por favor inicia sesión."}):h.jsx(qz,{children:e})}function Hz(){const[e]=by(),t=e.get("public_client_id"),[r,n]=y.useState(null),[i,a]=y.useState(!0);return y.useEffect(()=>{if(!t){console.warn("⚠️ No se encontró public_client_id en la URL");return}(async()=>{try{const l=await(await fetch(`http://127.0.0.1:8001/client_settings?public_client_id=${t}`)).json();console.log(`⚙️ Settings cargados desde backend (crudo):
`,JSON.stringify(l,null,2));const c=(l==null?void 0:l.settings)||l;console.log("📌 Usando configuración extraída:",c),n(c)}catch(s){console.error("❌ Error al obtener settings:",s)}finally{a(!1)}})()},[t]),t?i?h.jsx("p",{children:"🔄 Cargando configuración del cliente..."}):r?h.jsx("div",{style:{height:"100vh",padding:"1rem",fontFamily:"sans-serif"},children:h.jsx(as,{clientId:t,requireEmail:r.require_email,requirePhone:r.require_phone,requireTerms:r.require_terms})}):h.jsx("p",{children:"⚠️ No se pudo cargar la configuración del asistente."}):h.jsxs("p",{children:["❌ No hay public_client_id en la URL. Usa ",h.jsx("code",{children:"?public_client_id=..."})]})}function Kz(){return h.jsx("div",{style:Z.container,children:h.jsxs("div",{style:Z.card,children:[h.jsx("h1",{style:Z.title,children:"Terms and Conditions"}),h.jsx("p",{style:Z.paragraph,children:"These Terms and Conditions (“Terms”) govern your access to and use of the Evolvian™ Software-as-a-Service platform (“Service” or “Platform”). By creating an account, subscribing to a plan, or using the Service, you agree to be legally bound by these Terms. If you do not agree, please discontinue use immediately."}),h.jsx("h2",{style:Z.subtitle,children:"1. Eligibility and Use of Service"}),h.jsx("p",{style:Z.paragraph,children:"You must be at least 18 years old to use the Service. You represent and warrant that you have the authority to enter into these Terms on behalf of yourself or your organization. You agree to use the Platform only for lawful purposes and in compliance with all applicable laws and regulations."}),h.jsx("h2",{style:Z.subtitle,children:"2. Account Registration and Security"}),h.jsx("p",{style:Z.paragraph,children:"You are responsible for maintaining the confidentiality of your login credentials and for all activity that occurs under your account. You must immediately notify Evolvian of any unauthorized use or security breach. Evolvian is not liable for any losses caused by unauthorized access to your account."}),h.jsx("h2",{style:Z.subtitle,children:"3. Data Ownership and Confidentiality"}),h.jsx("p",{style:Z.paragraph,children:"You retain full ownership and rights to all documents, data, and materials you upload (“Client Data”). Evolvian does not claim ownership over your content. Client Data is stored securely and used solely to provide the Service. Evolvian does not use or share Client Data to train any public AI models. Access to Client Data is strictly limited to authorized personnel only when necessary for support, maintenance, or legal compliance."}),h.jsx("h2",{style:Z.subtitle,children:"4. Data Protection and Compliance"}),h.jsx("p",{style:Z.paragraph,children:"Evolvian applies industry-standard security measures and aligns with major international data protection frameworks, including the General Data Protection Regulation (GDPR) and the California Consumer Privacy Act (CCPA), to the extent applicable. You are responsible for ensuring your own compliance with privacy regulations that apply to your users or customers."}),h.jsx("h2",{style:Z.subtitle,children:"5. Intellectual Property"}),h.jsx("p",{style:Z.paragraph,children:"Evolvian and its licensors retain all rights, title, and interest in the Service, including software, algorithms, interfaces, designs, trademarks, and documentation. No rights are granted to you except as expressly stated herein. You may not copy, modify, reverse engineer, decompile, or distribute any part of the Service."}),h.jsx("h2",{style:Z.subtitle,children:"6. Acceptable Use and Restrictions"}),h.jsx("p",{style:Z.paragraph,children:"You agree not to misuse the Service. Prohibited activities include but are not limited to: uploading harmful or illegal content, attempting to disrupt or hack the platform, violating intellectual property rights, exceeding plan limits, using automated systems or bots to access the Service, or using the Service to generate or disseminate harmful, misleading, or discriminatory content. Excessive or automated API usage beyond your plan limits may result in throttling, suspension, or additional fees. Evolvian reserves the right to suspend or terminate any account violating these provisions."}),h.jsx("h2",{style:Z.subtitle,children:"7. Service Plans, Billing, and Termination"}),h.jsx("p",{style:Z.paragraph,children:"Subscription fees are charged according to your selected plan. Evolvian may modify pricing or plan limits with reasonable notice. You may cancel your subscription at any time; however, fees paid are non-refundable except as required by law. Evolvian reserves the right to suspend or terminate access for non-payment or breach of these Terms."}),h.jsx("h2",{style:Z.subtitle,children:"8. Service Availability, Backups, and Updates"}),h.jsx("p",{style:Z.paragraph,children:"While Evolvian strives for continuous Service availability, temporary interruptions may occur for maintenance, upgrades, or unforeseen circumstances. Evolvian performs regular system backups but is not responsible for data loss caused by client-side actions, third-party integrations, or force majeure events. The Service may be updated, enhanced, or modified at Evolvian’s discretion without prior notice."}),h.jsx("h2",{style:Z.subtitle,children:"9. AI-Generated Content Disclaimer"}),h.jsx("p",{style:Z.paragraph,children:"Evolvian provides AI-powered functionalities that may generate automated outputs (“AI Outputs”). You acknowledge that such outputs are generated algorithmically and may not always be accurate, complete, or appropriate. Evolvian makes no representations or warranties regarding the accuracy, legality, or fitness for any particular purpose of AI Outputs. You are solely responsible for reviewing, validating, and using any AI-generated content. Evolvian is not liable for any damages or consequences arising from reliance on AI Outputs."}),h.jsx("h2",{style:Z.subtitle,children:"10. White Label and Branding"}),h.jsx("p",{style:Z.paragraph,children:"White-label clients may use their own branding when authorized under their subscription plan. However, Evolvian retains full ownership of the underlying software, infrastructure, and technology. Any use of the Evolvian brand, trademarks, or related assets must comply with Evolvian’s written brand guidelines or prior approval."}),h.jsx("h2",{style:Z.subtitle,children:"11. Disclaimer of Warranties"}),h.jsx("p",{style:Z.paragraph,children:"The Service is provided “as is” and “as available.” Evolvian makes no warranties, express or implied, regarding accuracy, reliability, uptime, merchantability, or fitness for any particular purpose. You assume all responsibility for your use of the Service and any outputs generated by AI systems."}),h.jsx("h2",{style:Z.subtitle,children:"12. Limitation of Liability"}),h.jsx("p",{style:Z.paragraph,children:"To the maximum extent permitted by law, Evolvian and its affiliates shall not be liable for any indirect, incidental, special, consequential, or punitive damages, including lost profits, business interruption, or data loss, arising out of or related to your use of the Service, even if advised of the possibility of such damages. In all cases, Evolvian’s total aggregate liability shall not exceed the amount you paid in the 12 months preceding the event giving rise to the claim."}),h.jsx("h2",{style:Z.subtitle,children:"13. Indemnification"}),h.jsx("p",{style:Z.paragraph,children:"You agree to defend, indemnify, and hold harmless Evolvian, its affiliates, officers, and employees from any claims, damages, losses, or expenses arising from your use of the Service, violation of these Terms, or infringement of any third-party rights."}),h.jsx("h2",{style:Z.subtitle,children:"14. Export Compliance and Legal Use"}),h.jsx("p",{style:Z.paragraph,children:"You represent that you are not located in, under the control of, or a resident of any country or entity subject to international sanctions or export restrictions. You agree not to use the Service in violation of any applicable export or trade control laws."}),h.jsx("h2",{style:Z.subtitle,children:"15. Modifications to Terms"}),h.jsx("p",{style:Z.paragraph,children:"Evolvian may revise these Terms at any time. Updates take effect upon posting on our website or within the application. Continued use of the Service after modifications constitutes acceptance of the updated Terms."}),h.jsx("h2",{style:Z.subtitle,children:"16. Governing Law and International Jurisdiction"}),h.jsx("p",{style:Z.paragraph,children:"These Terms are governed by and construed in accordance with the laws of the State of Montana, United States, without regard to conflict-of-law principles. International users agree that any disputes shall be resolved exclusively in the courts of Montana, U.S.A."}),h.jsx("h2",{style:Z.subtitle,children:"17. Contact Information"}),h.jsxs("p",{style:Z.paragraph,children:["For legal inquiries, please contact us at"," ",h.jsx("a",{href:"mailto:support@evolvian.com",style:Z.link,children:"support@evolvian.com"}),"."]}),h.jsxs("p",{style:{...Z.paragraph,marginTop:"2rem",fontSize:"0.9rem",color:"#ccc"},children:["© ",new Date().getFullYear()," Evolvian™. All rights reserved."]})]})})}const Z={container:{minHeight:"100vh",backgroundColor:"#0f1c2e",display:"flex",justifyContent:"center",alignItems:"center",padding:"2rem"},card:{backgroundColor:"#1b2a41",borderRadius:"1rem",padding:"2.5rem",maxWidth:"750px",width:"100%",border:"1px solid #274472",color:"#ededed",maxHeight:"90vh",overflowY:"auto"},title:{color:"#a3d9b1",fontSize:"2rem",marginBottom:"1.5rem"},subtitle:{color:"#f5a623",fontSize:"1.2rem",marginTop:"1.5rem",marginBottom:"0.5rem"},paragraph:{fontSize:"1rem",lineHeight:"1.6",marginBottom:"1rem"},link:{color:"#4a90e2",textDecoration:"underline"}};function Vz(){return h.jsx("div",{style:Q.container,children:h.jsxs("div",{style:Q.card,children:[h.jsx("h1",{style:Q.title,children:"Privacy Policy"}),h.jsxs("p",{style:Q.paragraph,children:["This Privacy Policy explains how Evolvian™ (“we,” “us,” or “our”) collects, uses, and protects information when you access and use our Software-as-a-Service platform (“Service” or “Platform”) available at"," ",h.jsx("a",{href:"https://evolvianai.net",style:Q.link,children:"https://evolvianai.net"}),". By using the Service, you agree to the terms of this Privacy Policy."]}),h.jsx("h2",{style:Q.subtitle,children:"1. Information We Collect"}),h.jsx("p",{style:Q.paragraph,children:"We collect information that is necessary to provide and improve our Service, including:"}),h.jsxs("ul",{style:Q.list,children:[h.jsxs("li",{children:[h.jsx("strong",{children:"Account Information:"})," name, email address, password, and authentication details when you register or sign in (via Google or email)."]}),h.jsxs("li",{children:[h.jsx("strong",{children:"Client Data:"})," documents, text files, and other materials you upload to your account. These are stored securely and used only to power your private AI assistant."]}),h.jsxs("li",{children:[h.jsx("strong",{children:"Usage Data:"})," interactions with the app, plan usage (messages, uploads), browser type, IP address, and time zone."]}),h.jsxs("li",{children:[h.jsx("strong",{children:"Billing Data:"})," payment information processed securely through our provider Stripe. We do not store credit card numbers."]}),h.jsxs("li",{children:[h.jsx("strong",{children:"Support Data:"})," messages or inquiries you send to our support team."]})]}),h.jsx("h2",{style:Q.subtitle,children:"2. How We Use Your Information"}),h.jsx("p",{style:Q.paragraph,children:"Evolvian uses collected data solely to operate and improve the Service. Specifically, we use it to:"}),h.jsxs("ul",{style:Q.list,children:[h.jsx("li",{children:"Authenticate users and manage accounts."}),h.jsx("li",{children:"Process payments and subscriptions."}),h.jsx("li",{children:"Provide personalized AI assistant experiences using your uploaded data."}),h.jsx("li",{children:"Monitor usage and enforce plan limits."}),h.jsx("li",{children:"Communicate with you regarding updates, support, or important notices."}),h.jsx("li",{children:"Comply with legal obligations or requests from authorities."})]}),h.jsx("h2",{style:Q.subtitle,children:"3. Data Ownership and Security"}),h.jsx("p",{style:Q.paragraph,children:"You retain full ownership of all content and documents you upload (“Client Data”). Evolvian does not claim ownership or rights to reuse your data for model training or external purposes."}),h.jsx("p",{style:Q.paragraph,children:"We employ industry-standard security measures including encryption, access control, and network monitoring to protect data integrity and confidentiality. Only authorized personnel can access your data when strictly necessary for support or legal compliance."}),h.jsx("h2",{style:Q.subtitle,children:"4. Data Processing and Storage"}),h.jsx("p",{style:Q.paragraph,children:"Client Data is stored securely on servers within the United States. We may process limited technical data in other regions for performance and redundancy purposes, always under the same protection standards."}),h.jsx("p",{style:Q.paragraph,children:"Evolvian does not train or fine-tune any public AI models with Client Data. Data used to generate embeddings or context retrieval remains isolated within your private tenant environment."}),h.jsx("h2",{style:Q.subtitle,children:"5. Payment Processing"}),h.jsxs("p",{style:Q.paragraph,children:["Payments and billing information are handled exclusively by"," ",h.jsx("a",{href:"https://stripe.com",target:"_blank",rel:"noopener noreferrer",style:Q.link,children:"Stripe"}),". Evolvian does not store or access your full payment card details. Stripe’s own privacy policy governs how your billing information is processed."]}),h.jsx("h2",{style:Q.subtitle,children:"6. Cookies and Analytics"}),h.jsx("p",{style:Q.paragraph,children:"Evolvian may use cookies and similar technologies to maintain sessions, remember preferences, and measure performance. We also use third-party analytics tools such as Google Analytics to understand aggregate usage patterns. These tools collect anonymized data and do not access your private documents or assistant content."}),h.jsx("h2",{style:Q.subtitle,children:"7. Data Retention and Deletion"}),h.jsxs("p",{style:Q.paragraph,children:["We retain Client Data only for as long as necessary to provide the Service or comply with legal obligations. You may request deletion of your account and associated data at any time by contacting"," ",h.jsx("a",{href:"mailto:support@evolvian.com",style:Q.link,children:"support@evolvian.com"}),". Upon account deletion, all stored Client Data will be permanently removed from active systems and scheduled for deletion from backups within a reasonable timeframe."]}),h.jsx("h2",{style:Q.subtitle,children:"8. Data Sharing and Third Parties"}),h.jsx("p",{style:Q.paragraph,children:"We do not sell or rent your personal or client data. We may share limited data with third-party providers only when necessary to:"}),h.jsxs("ul",{style:Q.list,children:[h.jsx("li",{children:"Operate infrastructure (cloud storage, hosting, analytics)."}),h.jsx("li",{children:"Process payments and subscriptions via Stripe."}),h.jsx("li",{children:"Comply with law enforcement or regulatory requests."})]}),h.jsx("h2",{style:Q.subtitle,children:"9. User Rights (GDPR & CCPA)"}),h.jsxs("p",{style:Q.paragraph,children:["Depending on your location, you may have rights to access, correct, delete, or restrict processing of your personal data. To exercise these rights, contact"," ",h.jsx("a",{href:"mailto:support@evolvian.com",style:Q.link,children:"support@evolvian.com"}),". We will respond within applicable legal timeframes."]}),h.jsx("h2",{style:Q.subtitle,children:"10. Children’s Privacy"}),h.jsx("p",{style:Q.paragraph,children:"The Service is intended for users aged 18 and older. We do not knowingly collect personal information from minors. If we discover such data, we will delete it promptly."}),h.jsx("h2",{style:Q.subtitle,children:"11. Changes to This Policy"}),h.jsxs("p",{style:Q.paragraph,children:["Evolvian may update this Privacy Policy from time to time. Updates take effect upon posting within the Platform or at"," ",h.jsx("a",{href:"https://evolvianai.net/privacy",style:Q.link,children:"https://evolvianai.net/privacy"}),". Continued use of the Service after updates constitutes acceptance of the revised Policy."]}),h.jsx("h2",{style:Q.subtitle,children:"12. Contact Us"}),h.jsxs("p",{style:Q.paragraph,children:["For privacy-related inquiries, data deletion requests, or compliance matters, please contact our Data Protection Officer at"," ",h.jsx("a",{href:"mailto:support@evolvian.com",style:Q.link,children:"support@evolvian.com"}),"."]}),h.jsxs("p",{style:{...Q.paragraph,marginTop:"2rem",fontSize:"0.9rem",color:"#ccc"},children:["© ",new Date().getFullYear()," Evolvian™. All rights reserved."]})]})})}const Q={container:{minHeight:"100vh",backgroundColor:"#0f1c2e",display:"flex",justifyContent:"center",alignItems:"center",padding:"2rem"},card:{backgroundColor:"#1b2a41",borderRadius:"1rem",padding:"2.5rem",maxWidth:"750px",width:"100%",border:"1px solid #274472",color:"#ededed"},title:{color:"#a3d9b1",fontSize:"2rem",marginBottom:"1.5rem"},subtitle:{color:"#f5a623",fontSize:"1.2rem",marginTop:"1.5rem",marginBottom:"0.5rem"},paragraph:{fontSize:"1rem",lineHeight:"1.6",marginBottom:"1rem"},list:{marginLeft:"1.5rem",marginBottom:"1rem",lineHeight:"1.6"},link:{color:"#4a90e2",textDecoration:"underline"}};function Gz(){const e=St();return["/","/login","/register","/confirm","/forgot-password","/reset-password","/verify-mfa","/welcome","/chat-widget","/widget","/widget-preview","/terms","/PrivacyPolicy"].includes(e.pathname),h.jsxs(V_,{children:[h.jsx(ve,{path:"/",element:h.jsx(hy,{to:"/login"})}),h.jsx(ve,{path:"/login",element:h.jsx(Vj,{})}),h.jsx(ve,{path:"/register",element:h.jsx(CP,{})}),h.jsx(ve,{path:"/confirm",element:h.jsx(LP,{})}),h.jsx(ve,{path:"/forgot-password",element:h.jsx(WP,{})}),h.jsx(ve,{path:"/reset-password",element:h.jsx(QP,{})}),h.jsx(ve,{path:"/verify-mfa",element:h.jsx(lO,{})}),h.jsx(ve,{path:"/welcome",element:h.jsx(gO,{})}),h.jsx(ve,{path:"/terms",element:h.jsx(Kz,{})}),h.jsx(ve,{path:"/PrivacyPolicy",element:h.jsx(Vz,{})}),h.jsx(ve,{path:"/chat-widget",element:h.jsx(yO,{})}),h.jsx(ve,{path:"/widget",element:h.jsx(bO,{})}),h.jsx(ve,{path:"/widget-preview",element:h.jsx(Hz,{})}),h.jsx(ve,{path:"/dashboard",element:h.jsx(lr,{children:h.jsx(sr,{children:h.jsx(WU,{})})})}),h.jsx(ve,{path:"/upload",element:h.jsx(lr,{children:h.jsx(sr,{children:h.jsx(QU,{})})})}),h.jsx(ve,{path:"/history",element:h.jsx(lr,{children:h.jsx(sr,{children:h.jsx(kF,{})})})}),h.jsx(ve,{path:"/services",element:h.jsx(lr,{children:h.jsx(sr,{children:h.jsx(DF,{})})})}),h.jsx(ve,{path:"/services/chat",element:h.jsx(lr,{children:h.jsx(sr,{children:h.jsx(az,{})})})}),h.jsx(ve,{path:"/services/email",element:h.jsx(lr,{children:h.jsx(sr,{children:h.jsx(pz,{})})})}),h.jsx(ve,{path:"/services/whatsapp",element:h.jsx(lr,{children:h.jsx(sr,{children:h.jsx(AF,{})})})}),h.jsx(ve,{path:"/services/calendar",element:h.jsx(lr,{children:h.jsx(sr,{children:h.jsx(Sz,{})})})}),h.jsx(ve,{path:"/settings",element:h.jsx(lr,{children:h.jsx(sr,{children:h.jsx(Oz,{})})})}),h.jsx(ve,{path:"*",element:h.jsx(vO,{})})]})}r_.createRoot(document.getElementById("root")).render(h.jsx(D.StrictMode,{children:h.jsxs(n_,{children:[" ",h.jsx(vS,{children:h.jsxs(h.Fragment,{children:[h.jsx(Gz,{}),h.jsx(AP,{position:"top-right",richColors:!0})," "]})})]})}));
